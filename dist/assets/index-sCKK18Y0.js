function tA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nA(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var og={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function rA(){if(yj)return Ic;yj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:e,type:r,key:u,ref:i!==void 0?i:null,props:l}}return Ic.Fragment=t,Ic.jsx=n,Ic.jsxs=n,Ic}var wj;function sA(){return wj||(wj=1,og.exports=rA()),og.exports}var s=sA(),lg={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj;function aA(){if(jj)return pt;jj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(L,V,B){this.props=L,this.context=V,this.refs=N,this.updater=B||w}S.prototype.isReactComponent={},S.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function _(){}_.prototype=S.prototype;function R(L,V,B){this.props=L,this.context=V,this.refs=N,this.updater=B||w}var E=R.prototype=new _;E.constructor=R,j(E,S.prototype),E.isPureReactComponent=!0;var M=Array.isArray,C={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function O(L,V,B,H,I,z){return B=z.ref,{$$typeof:e,type:L,key:V,ref:B!==void 0?B:null,props:z}}function P(L,V){return O(L.type,V,void 0,void 0,void 0,L.props)}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function F(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(B){return V[B]})}var ie=/\/+/g;function Q(L,V){return typeof L=="object"&&L!==null&&L.key!=null?F(""+L.key):V.toString(36)}function U(){}function oe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(U,U):(L.status="pending",L.then(function(V){L.status==="pending"&&(L.status="fulfilled",L.value=V)},function(V){L.status==="pending"&&(L.status="rejected",L.reason=V)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function le(L,V,B,H,I){var z=typeof L;(z==="undefined"||z==="boolean")&&(L=null);var q=!1;if(L===null)q=!0;else switch(z){case"bigint":case"string":case"number":q=!0;break;case"object":switch(L.$$typeof){case e:case t:q=!0;break;case g:return q=L._init,le(q(L._payload),V,B,H,I)}}if(q)return I=I(L),q=H===""?"."+Q(L,0):H,M(I)?(B="",q!=null&&(B=q.replace(ie,"$&/")+"/"),le(I,V,B,"",function(ge){return ge})):I!=null&&(k(I)&&(I=P(I,B+(I.key==null||L&&L.key===I.key?"":(""+I.key).replace(ie,"$&/")+"/")+q)),V.push(I)),1;q=0;var K=H===""?".":H+":";if(M(L))for(var se=0;se<L.length;se++)H=L[se],z=K+Q(H,se),q+=le(H,V,B,z,I);else if(se=b(L),typeof se=="function")for(L=se.call(L),se=0;!(H=L.next()).done;)H=H.value,z=K+Q(H,se++),q+=le(H,V,B,z,I);else if(z==="object"){if(typeof L.then=="function")return le(oe(L),V,B,H,I);throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return q}function $(L,V,B){if(L==null)return L;var H=[],I=0;return le(L,H,"","",function(z){return V.call(B,z,I++)}),H}function G(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(B){(L._status===0||L._status===-1)&&(L._status=1,L._result=B)},function(B){(L._status===0||L._status===-1)&&(L._status=2,L._result=B)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var W=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function J(){}return pt.Children={map:$,forEach:function(L,V,B){$(L,function(){V.apply(this,arguments)},B)},count:function(L){var V=0;return $(L,function(){V++}),V},toArray:function(L){return $(L,function(V){return V})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},pt.Component=S,pt.Fragment=n,pt.Profiler=i,pt.PureComponent=R,pt.StrictMode=r,pt.Suspense=f,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,pt.act=function(){throw Error("act(...) is not supported in production builds of React.")},pt.cache=function(L){return function(){return L.apply(null,arguments)}},pt.cloneElement=function(L,V,B){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var H=j({},L.props),I=L.key,z=void 0;if(V!=null)for(q in V.ref!==void 0&&(z=void 0),V.key!==void 0&&(I=""+V.key),V)!D.call(V,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&V.ref===void 0||(H[q]=V[q]);var q=arguments.length-2;if(q===1)H.children=B;else if(1<q){for(var K=Array(q),se=0;se<q;se++)K[se]=arguments[se+2];H.children=K}return O(L.type,I,void 0,void 0,z,H)},pt.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},pt.createElement=function(L,V,B){var H,I={},z=null;if(V!=null)for(H in V.key!==void 0&&(z=""+V.key),V)D.call(V,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(I[H]=V[H]);var q=arguments.length-2;if(q===1)I.children=B;else if(1<q){for(var K=Array(q),se=0;se<q;se++)K[se]=arguments[se+2];I.children=K}if(L&&L.defaultProps)for(H in q=L.defaultProps,q)I[H]===void 0&&(I[H]=q[H]);return O(L,z,void 0,void 0,null,I)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(L){return{$$typeof:d,render:L}},pt.isValidElement=k,pt.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:G}},pt.memo=function(L,V){return{$$typeof:p,type:L,compare:V===void 0?null:V}},pt.startTransition=function(L){var V=C.T,B={};C.T=B;try{var H=L(),I=C.S;I!==null&&I(B,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(J,W)}catch(z){W(z)}finally{C.T=V}},pt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},pt.use=function(L){return C.H.use(L)},pt.useActionState=function(L,V,B){return C.H.useActionState(L,V,B)},pt.useCallback=function(L,V){return C.H.useCallback(L,V)},pt.useContext=function(L){return C.H.useContext(L)},pt.useDebugValue=function(){},pt.useDeferredValue=function(L,V){return C.H.useDeferredValue(L,V)},pt.useEffect=function(L,V){return C.H.useEffect(L,V)},pt.useId=function(){return C.H.useId()},pt.useImperativeHandle=function(L,V,B){return C.H.useImperativeHandle(L,V,B)},pt.useInsertionEffect=function(L,V){return C.H.useInsertionEffect(L,V)},pt.useLayoutEffect=function(L,V){return C.H.useLayoutEffect(L,V)},pt.useMemo=function(L,V){return C.H.useMemo(L,V)},pt.useOptimistic=function(L,V){return C.H.useOptimistic(L,V)},pt.useReducer=function(L,V,B){return C.H.useReducer(L,V,B)},pt.useRef=function(L){return C.H.useRef(L)},pt.useState=function(L){return C.H.useState(L)},pt.useSyncExternalStore=function(L,V,B){return C.H.useSyncExternalStore(L,V,B)},pt.useTransition=function(){return C.H.useTransition()},pt.version="19.0.0",pt}var Nj;function cx(){return Nj||(Nj=1,lg.exports=aA()),lg.exports}var h=cx();const we=fh(h),ru=tA({__proto__:null,default:we},[h]);var cg={exports:{}},$c={},ug={exports:{}},dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj;function iA(){return Sj||(Sj=1,function(e){function t($,G){var W=$.length;$.push(G);e:for(;0<W;){var J=W-1>>>1,L=$[J];if(0<i(L,G))$[J]=G,$[W]=L,W=J;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],W=$.pop();if(W!==G){$[0]=W;e:for(var J=0,L=$.length,V=L>>>1;J<V;){var B=2*(J+1)-1,H=$[B],I=B+1,z=$[I];if(0>i(H,W))I<L&&0>i(z,H)?($[J]=z,$[I]=W,J=I):($[J]=H,$[B]=W,J=B);else if(I<L&&0>i(z,W))$[J]=z,$[I]=W,J=I;else break e}}return G}function i($,G){var W=$.sortIndex-G.sortIndex;return W!==0?W:$.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,v=null,b=3,w=!1,j=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function E($){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=$)r(p),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(p)}}function M($){if(N=!1,E($),!j)if(n(f)!==null)j=!0,oe();else{var G=n(p);G!==null&&le(M,G.startTime-$)}}var C=!1,D=-1,O=5,P=-1;function k(){return!(e.unstable_now()-P<O)}function F(){if(C){var $=e.unstable_now();P=$;var G=!0;try{e:{j=!1,N&&(N=!1,_(D),D=-1),w=!0;var W=b;try{t:{for(E($),v=n(f);v!==null&&!(v.expirationTime>$&&k());){var J=v.callback;if(typeof J=="function"){v.callback=null,b=v.priorityLevel;var L=J(v.expirationTime<=$);if($=e.unstable_now(),typeof L=="function"){v.callback=L,E($),G=!0;break t}v===n(f)&&r(f),E($)}else r(f);v=n(f)}if(v!==null)G=!0;else{var V=n(p);V!==null&&le(M,V.startTime-$),G=!1}}break e}finally{v=null,b=W,w=!1}G=void 0}}finally{G?ie():C=!1}}}var ie;if(typeof R=="function")ie=function(){R(F)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,U=Q.port2;Q.port1.onmessage=F,ie=function(){U.postMessage(null)}}else ie=function(){S(F,0)};function oe(){C||(C=!0,ie())}function le($,G){D=S(function(){$(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,oe())},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var W=b;b=G;try{return $()}finally{b=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=b;b=$;try{return G()}finally{b=W}},e.unstable_scheduleCallback=function($,G,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,$={id:g++,callback:G,priorityLevel:$,startTime:W,expirationTime:L,sortIndex:-1},W>J?($.sortIndex=W,t(p,$),n(f)===null&&$===n(p)&&(N?(_(D),D=-1):N=!0,le(M,W-J))):($.sortIndex=L,t(f,$),j||w||(j=!0,oe())),$},e.unstable_shouldYield=k,e.unstable_wrapCallback=function($){var G=b;return function(){var W=b;b=G;try{return $.apply(this,arguments)}finally{b=W}}}}(dg)),dg}var _j;function oA(){return _j||(_j=1,ug.exports=iA()),ug.exports}var fg={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function lA(){if(Ej)return lr;Ej=1;var e=cx();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:p,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},lr.flushSync=function(f){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=g,r.d.f()}},lr.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},lr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},lr.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,v=d(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},lr.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},lr.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=d(g,p.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},lr.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},lr.requestFormReset=function(f){r.d.r(f)},lr.unstable_batchedUpdates=function(f,p){return f(p)},lr.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},lr.useFormStatus=function(){return u.H.useHostTransitionStatus()},lr.version="19.0.0",lr}var Cj;function sS(){if(Cj)return fg.exports;Cj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fg.exports=lA(),fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function cA(){if(Rj)return $c;Rj=1;var e=oA(),t=cx(),n=sS();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=C&&a[C]||a["@@iterator"],typeof a=="function"?a:null)}var O=Symbol.for("react.client.reference");function P(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===O?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f:return"Fragment";case d:return"Portal";case g:return"Profiler";case p:return"StrictMode";case N:return"Suspense";case S:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case w:return(a.displayName||"Context")+".Provider";case b:return(a._context.displayName||"Context")+".Consumer";case j:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return o=a.displayName||null,o!==null?o:P(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return P(a(o))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,ie,Q;function U(a){if(ie===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||"",Q=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+a+Q}var oe=!1;function le(a,o){if(!a||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(me){var de=me}Reflect.construct(a,[],je)}else{try{je.call()}catch(me){de=me}a.call(je.prototype)}}else{try{throw Error()}catch(me){de=me}(je=a())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=m.DetermineComponentFrameRoot(),T=y[0],A=y[1];if(T&&A){var Y=T.split(`
`),ee=A.split(`
`);for(x=m=0;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;if(m===Y.length||x===ee.length)for(m=Y.length-1,x=ee.length-1;1<=m&&0<=x&&Y[m]!==ee[x];)x--;for(;1<=m&&0<=x;m--,x--)if(Y[m]!==ee[x]){if(m!==1||x!==1)do if(m--,x--,0>x||Y[m]!==ee[x]){var pe=`
`+Y[m].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=m&&0<=x);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?U(c):""}function $(a){switch(a.tag){case 26:case 27:case 5:return U(a.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return a=le(a.type,!1),a;case 11:return a=le(a.type.render,!1),a;case 1:return a=le(a.type,!0),a;default:return""}}function G(a){try{var o="";do o+=$(a),a=a.return;while(a);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function W(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function J(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function L(a){if(W(a)!==a)throw Error(r(188))}function V(a){var o=a.alternate;if(!o){if(o=W(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var x=c.return;if(x===null)break;var y=x.alternate;if(y===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===c)return L(x),a;if(y===m)return L(x),o;y=y.sibling}throw Error(r(188))}if(c.return!==m.return)c=x,m=y;else{for(var T=!1,A=x.child;A;){if(A===c){T=!0,c=x,m=y;break}if(A===m){T=!0,m=x,c=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===c){T=!0,c=y,m=x;break}if(A===m){T=!0,m=y,c=x;break}A=A.sibling}if(!T)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function B(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=B(a),o!==null)return o;a=a.sibling}return null}var H=Array.isArray,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},q=[],K=-1;function se(a){return{current:a}}function ge(a){0>K||(a.current=q[K],q[K]=null,K--)}function fe(a,o){K++,q[K]=a.current,a.current=o}var Se=se(null),Ae=se(null),it=se(null),rt=se(null);function Dt(a,o){switch(fe(it,o),fe(Ae,a),fe(Se,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?Xw(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=Xw(a),o=Kw(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ge(Se),fe(Se,o)}function ue(){ge(Se),ge(Ae),ge(it)}function ye(a){a.memoizedState!==null&&fe(rt,a);var o=Se.current,c=Kw(o,a.type);o!==c&&(fe(Ae,a),fe(Se,c))}function ve(a){Ae.current===a&&(ge(Se),ge(Ae)),rt.current===a&&(ge(rt),Ac._currentValue=z)}var Ne=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Ie=e.unstable_cancelCallback,$e=e.unstable_shouldYield,lt=e.unstable_requestPaint,dt=e.unstable_now,on=e.unstable_getCurrentPriorityLevel,_t=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,st=e.unstable_NormalPriority,mn=e.unstable_LowPriority,$n=e.unstable_IdlePriority,wn=e.log,Un=e.unstable_setDisableYieldValue,pn=null,Pt=null;function Tn(a){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(pn,a,void 0,(a.current.flags&128)===128)}catch{}}function zn(a){if(typeof wn=="function"&&Un(a),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(pn,a)}catch{}}var jn=Math.clz32?Math.clz32:na,Ar=Math.log,Mn=Math.LN2;function na(a){return a>>>=0,a===0?32:31-(Ar(a)/Mn|0)|0}var Gr=128,tn=4194304;function ft(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function te(a,o){var c=a.pendingLanes;if(c===0)return 0;var m=0,x=a.suspendedLanes,y=a.pingedLanes,T=a.warmLanes;a=a.finishedLanes!==0;var A=c&134217727;return A!==0?(c=A&~x,c!==0?m=ft(c):(y&=A,y!==0?m=ft(y):a||(T=A&~T,T!==0&&(m=ft(T))))):(A=c&~x,A!==0?m=ft(A):y!==0?m=ft(y):a||(T=c&~T,T!==0&&(m=ft(T)))),m===0?0:o!==0&&o!==m&&(o&x)===0&&(x=m&-m,T=o&-o,x>=T||x===32&&(T&4194176)!==0)?o:m}function xe(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function _e(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var a=Gr;return Gr<<=1,(Gr&4194176)===0&&(Gr=128),a}function Ve(){var a=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),a}function ht(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Ge(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function xt(a,o,c,m,x,y){var T=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var A=a.entanglements,Y=a.expirationTimes,ee=a.hiddenUpdates;for(c=T&~c;0<c;){var pe=31-jn(c),je=1<<pe;A[pe]=0,Y[pe]=-1;var de=ee[pe];if(de!==null)for(ee[pe]=null,pe=0;pe<de.length;pe++){var me=de[pe];me!==null&&(me.lane&=-536870913)}c&=~je}m!==0&&mt(a,m,0),y!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=y&~(T&~o))}function mt(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-jn(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&4194218}function yt(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-jn(c),x=1<<m;x&o|a[m]&o&&(a[m]|=o),c&=~x}}function zt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ht(){var a=I.p;return a!==0?a:(a=window.event,a===void 0?32:mj(a.type))}function sn(a,o){var c=I.p;try{return I.p=a,o()}finally{I.p=c}}var On=Math.random().toString(36).slice(2),gn="__reactFiber$"+On,An="__reactProps$"+On,he="__reactContainer$"+On,Ee="__reactEvents$"+On,ke="__reactListeners$"+On,kt="__reactHandles$"+On,vn="__reactResources$"+On,Jn="__reactMarker$"+On;function Nr(a){delete a[gn],delete a[An],delete a[Ee],delete a[ke],delete a[kt]}function Hn(a){var o=a[gn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[he]||c[gn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=Jw(a);a!==null;){if(c=a[gn])return c;a=Jw(a)}return o}a=c,c=a.parentNode}return null}function Ft(a){if(a=a[gn]||a[he]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function La(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ra(a){var o=a[vn];return o||(o=a[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Dn(a){a[Jn]=!0}var Gb=new Set,Xb={};function Ei(a,o){go(a,o),go(a+"Capture",o)}function go(a,o){for(Xb[a]=o,a=0;a<o.length;a++)Gb.add(o[a])}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kb={},Qb={};function XT(a){return Ne.call(Qb,a)?!0:Ne.call(Kb,a)?!1:GT.test(a)?Qb[a]=!0:(Kb[a]=!0,!1)}function Ku(a,o,c){if(XT(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Qu(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function aa(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function Xr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Zb(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function KT(a){var o=Zb(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),m=""+a[o];if(!a.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,y=c.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,y.call(this,T)}}),Object.defineProperty(a,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Zu(a){a._valueTracker||(a._valueTracker=KT(a))}function Jb(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=Zb(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function Ju(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var QT=/[\n"\\]/g;function Kr(a){return a.replace(QT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function am(a,o,c,m,x,y,T,A){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),o!=null?T==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Xr(o)):a.value!==""+Xr(o)&&(a.value=""+Xr(o)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),o!=null?im(a,T,Xr(o)):c!=null?im(a,T,Xr(c)):m!=null&&a.removeAttribute("value"),x==null&&y!=null&&(a.defaultChecked=!!y),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+Xr(A):a.removeAttribute("name")}function ey(a,o,c,m,x,y,T,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;c=c!=null?""+Xr(c):"",o=o!=null?""+Xr(o):c,A||o===a.value||(a.value=o),a.defaultValue=o}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=A?a.checked:!!m,a.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T)}function im(a,o,c){o==="number"&&Ju(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function vo(a,o,c,m){if(a=a.options,o){o={};for(var x=0;x<c.length;x++)o["$"+c[x]]=!0;for(c=0;c<a.length;c++)x=o.hasOwnProperty("$"+a[c].value),a[c].selected!==x&&(a[c].selected=x),x&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Xr(c),o=null,x=0;x<a.length;x++){if(a[x].value===c){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}o!==null||a[x].disabled||(o=a[x])}o!==null&&(o.selected=!0)}}function ty(a,o,c){if(o!=null&&(o=""+Xr(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Xr(c):""}function ny(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(H(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=Xr(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m)}function xo(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var ZT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ry(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||ZT.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function sy(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&c[x]!==m&&ry(a,x,m)}else for(var y in o)o.hasOwnProperty(y)&&ry(a,y,o[y])}function om(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ed(a){return eM.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var lm=null;function cm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bo=null,yo=null;function ay(a){var o=Ft(a);if(o&&(a=o.stateNode)){var c=a[An]||null;e:switch(a=o.stateNode,o.type){case"input":if(am(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Kr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var x=m[An]||null;if(!x)throw Error(r(90));am(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&Jb(m)}break e;case"textarea":ty(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&vo(a,!!c.multiple,o,!1)}}}var um=!1;function iy(a,o,c){if(um)return a(o,c);um=!0;try{var m=a(o);return m}finally{if(um=!1,(bo!==null||yo!==null)&&(Id(),bo&&(o=bo,a=yo,yo=bo=null,ay(o),a)))for(o=0;o<a.length;o++)ay(a[o])}}function Wl(a,o){var c=a.stateNode;if(c===null)return null;var m=c[An]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var dm=!1;if(sa)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){dm=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{dm=!1}var Ia=null,fm=null,td=null;function oy(){if(td)return td;var a,o=fm,c=o.length,m,x="value"in Ia?Ia.value:Ia.textContent,y=x.length;for(a=0;a<c&&o[a]===x[a];a++);var T=c-a;for(m=1;m<=T&&o[c-m]===x[y-m];m++);return td=x.slice(a,1<m?1-m:void 0)}function nd(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function rd(){return!0}function ly(){return!1}function Sr(a){function o(c,m,x,y,T){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(c=a[A],this[A]=c?c(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?rd:ly,this.isPropagationStopped=ly,this}return F(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),o}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=Sr(Ci),Gl=F({},Ci,{view:0,detail:0}),tM=Sr(Gl),hm,mm,Xl,ad=F({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xl&&(Xl&&a.type==="mousemove"?(hm=a.screenX-Xl.screenX,mm=a.screenY-Xl.screenY):mm=hm=0,Xl=a),hm)},movementY:function(a){return"movementY"in a?a.movementY:mm}}),cy=Sr(ad),nM=F({},ad,{dataTransfer:0}),rM=Sr(nM),sM=F({},Gl,{relatedTarget:0}),pm=Sr(sM),aM=F({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),iM=Sr(aM),oM=F({},Ci,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),lM=Sr(oM),cM=F({},Ci,{data:0}),uy=Sr(cM),uM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hM(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=fM[a])?!!o[a]:!1}function gm(){return hM}var mM=F({},Gl,{key:function(a){if(a.key){var o=uM[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=nd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?dM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(a){return a.type==="keypress"?nd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?nd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),pM=Sr(mM),gM=F({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=Sr(gM),vM=F({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),xM=Sr(vM),bM=F({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),yM=Sr(bM),wM=F({},ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jM=Sr(wM),NM=F({},Ci,{newState:0,oldState:0}),SM=Sr(NM),_M=[9,13,27,32],vm=sa&&"CompositionEvent"in window,Kl=null;sa&&"documentMode"in document&&(Kl=document.documentMode);var EM=sa&&"TextEvent"in window&&!Kl,fy=sa&&(!vm||Kl&&8<Kl&&11>=Kl),hy=" ",my=!1;function py(a,o){switch(a){case"keyup":return _M.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var wo=!1;function CM(a,o){switch(a){case"compositionend":return gy(o);case"keypress":return o.which!==32?null:(my=!0,hy);case"textInput":return a=o.data,a===hy&&my?null:a;default:return null}}function RM(a,o){if(wo)return a==="compositionend"||!vm&&py(a,o)?(a=oy(),td=fm=Ia=null,wo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return fy&&o.locale!=="ko"?null:o.data;default:return null}}var TM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!TM[a.type]:o==="textarea"}function xy(a,o,c,m){bo?yo?yo.push(m):yo=[m]:bo=m,o=Vd(o,"onChange"),0<o.length&&(c=new sd("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Ql=null,Zl=null;function MM(a){Hw(a,0)}function id(a){var o=La(a);if(Jb(o))return a}function by(a,o){if(a==="change")return o}var yy=!1;if(sa){var xm;if(sa){var bm="oninput"in document;if(!bm){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),bm=typeof wy.oninput=="function"}xm=bm}else xm=!1;yy=xm&&(!document.documentMode||9<document.documentMode)}function jy(){Ql&&(Ql.detachEvent("onpropertychange",Ny),Zl=Ql=null)}function Ny(a){if(a.propertyName==="value"&&id(Zl)){var o=[];xy(o,Zl,a,cm(a)),iy(MM,o)}}function OM(a,o,c){a==="focusin"?(jy(),Ql=o,Zl=c,Ql.attachEvent("onpropertychange",Ny)):a==="focusout"&&jy()}function AM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return id(Zl)}function DM(a,o){if(a==="click")return id(o)}function PM(a,o){if(a==="input"||a==="change")return id(o)}function kM(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Dr=typeof Object.is=="function"?Object.is:kM;function Jl(a,o){if(Dr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!Ne.call(o,x)||!Dr(a[x],o[x]))return!1}return!0}function Sy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function _y(a,o){var c=Sy(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Sy(c)}}function Ey(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Ey(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Cy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ju(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Ju(a.document)}return o}function ym(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function LM(a,o){var c=Cy(o);o=a.focusedElem;var m=a.selectionRange;if(c!==o&&o&&o.ownerDocument&&Ey(o.ownerDocument.documentElement,o)){if(m!==null&&ym(o)){if(a=m.start,c=m.end,c===void 0&&(c=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(c,o.value.length);else if(c=(a=o.ownerDocument||document)&&a.defaultView||window,c.getSelection){c=c.getSelection();var x=o.textContent.length,y=Math.min(m.start,x);m=m.end===void 0?y:Math.min(m.end,x),!c.extend&&y>m&&(x=m,m=y,y=x),x=_y(o,y);var T=_y(o,m);x&&T&&(c.rangeCount!==1||c.anchorNode!==x.node||c.anchorOffset!==x.offset||c.focusNode!==T.node||c.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),c.removeAllRanges(),y>m?(c.addRange(a),c.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),c.addRange(a)))}}for(a=[],c=o;c=c.parentNode;)c.nodeType===1&&a.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)c=a[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var IM=sa&&"documentMode"in document&&11>=document.documentMode,jo=null,wm=null,ec=null,jm=!1;function Ry(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jm||jo==null||jo!==Ju(m)||(m=jo,"selectionStart"in m&&ym(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ec&&Jl(ec,m)||(ec=m,m=Vd(wm,"onSelect"),0<m.length&&(o=new sd("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=jo)))}function Ri(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var No={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Nm={},Ty={};sa&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ti(a){if(Nm[a])return Nm[a];if(!No[a])return a;var o=No[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ty)return Nm[a]=o[c];return a}var My=Ti("animationend"),Oy=Ti("animationiteration"),Ay=Ti("animationstart"),$M=Ti("transitionrun"),UM=Ti("transitionstart"),zM=Ti("transitioncancel"),Dy=Ti("transitionend"),Py=new Map,ky="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ms(a,o){Py.set(a,o),Ei(o,[a])}var Qr=[],So=0,Sm=0;function od(){for(var a=So,o=Sm=So=0;o<a;){var c=Qr[o];Qr[o++]=null;var m=Qr[o];Qr[o++]=null;var x=Qr[o];Qr[o++]=null;var y=Qr[o];if(Qr[o++]=null,m!==null&&x!==null){var T=m.pending;T===null?x.next=x:(x.next=T.next,T.next=x),m.pending=x}y!==0&&Ly(c,x,y)}}function ld(a,o,c,m){Qr[So++]=a,Qr[So++]=o,Qr[So++]=c,Qr[So++]=m,Sm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function _m(a,o,c,m){return ld(a,o,c,m),cd(a)}function $a(a,o){return ld(a,null,null,o),cd(a)}function Ly(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var x=!1,y=a.return;y!==null;)y.childLanes|=c,m=y.alternate,m!==null&&(m.childLanes|=c),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(x=!0)),a=y,y=y.return;x&&o!==null&&a.tag===3&&(y=a.stateNode,x=31-jn(c),y=y.hiddenUpdates,a=y[x],a===null?y[x]=[o]:a.push(o),o.lane=c|536870912)}function cd(a){if(50<_c)throw _c=0,Op=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var _o={},Iy=new WeakMap;function Zr(a,o){if(typeof a=="object"&&a!==null){var c=Iy.get(a);return c!==void 0?c:(o={value:a,source:o,stack:G(o)},Iy.set(a,o),o)}return{value:a,source:o,stack:G(o)}}var Eo=[],Co=0,ud=null,dd=0,Jr=[],es=0,Mi=null,ia=1,oa="";function Oi(a,o){Eo[Co++]=dd,Eo[Co++]=ud,ud=a,dd=o}function $y(a,o,c){Jr[es++]=ia,Jr[es++]=oa,Jr[es++]=Mi,Mi=a;var m=ia;a=oa;var x=32-jn(m)-1;m&=~(1<<x),c+=1;var y=32-jn(o)+x;if(30<y){var T=x-x%5;y=(m&(1<<T)-1).toString(32),m>>=T,x-=T,ia=1<<32-jn(o)+x|c<<x|m,oa=y+a}else ia=1<<y|c<<x|m,oa=a}function Em(a){a.return!==null&&(Oi(a,1),$y(a,1,0))}function Cm(a){for(;a===ud;)ud=Eo[--Co],Eo[Co]=null,dd=Eo[--Co],Eo[Co]=null;for(;a===Mi;)Mi=Jr[--es],Jr[es]=null,oa=Jr[--es],Jr[es]=null,ia=Jr[--es],Jr[es]=null}var fr=null,er=null,qt=!1,ps=null,Ms=!1,Rm=Error(r(519));function Ai(a){var o=Error(r(418,""));throw rc(Zr(o,a)),Rm}function Uy(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[gn]=a,o[An]=m,c){case"dialog":Tt("cancel",o),Tt("close",o);break;case"iframe":case"object":case"embed":Tt("load",o);break;case"video":case"audio":for(c=0;c<Cc.length;c++)Tt(Cc[c],o);break;case"source":Tt("error",o);break;case"img":case"image":case"link":Tt("error",o),Tt("load",o);break;case"details":Tt("toggle",o);break;case"input":Tt("invalid",o),ey(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Zu(o);break;case"select":Tt("invalid",o);break;case"textarea":Tt("invalid",o),ny(o,m.value,m.defaultValue,m.children),Zu(o)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||Gw(o.textContent,c)?(m.popover!=null&&(Tt("beforetoggle",o),Tt("toggle",o)),m.onScroll!=null&&Tt("scroll",o),m.onScrollEnd!=null&&Tt("scrollend",o),m.onClick!=null&&(o.onclick=Bd),o=!0):o=!1,o||Ai(a)}function zy(a){for(fr=a.return;fr;)switch(fr.tag){case 3:case 27:Ms=!0;return;case 5:case 13:Ms=!1;return;default:fr=fr.return}}function tc(a){if(a!==fr)return!1;if(!qt)return zy(a),qt=!0,!1;var o=!1,c;if((c=a.tag!==3&&a.tag!==27)&&((c=a.tag===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Gp(a.type,a.memoizedProps)),c=!c),c&&(o=!0),o&&er&&Ai(a),zy(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(o===0){er=vs(a.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;a=a.nextSibling}er=null}}else er=fr?vs(a.stateNode.nextSibling):null;return!0}function nc(){er=fr=null,qt=!1}function rc(a){ps===null?ps=[a]:ps.push(a)}var sc=Error(r(460)),Fy=Error(r(474)),Tm={then:function(){}};function Vy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fd(){}function By(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(fd,fd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===sc?Error(r(483)):a;default:if(typeof o.status=="string")o.then(fd,fd);else{if(a=ln,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===sc?Error(r(483)):a}throw ac=o,sc}}var ac=null;function Hy(){if(ac===null)throw Error(r(459));var a=ac;return ac=null,a}var Ro=null,ic=0;function hd(a){var o=ic;return ic+=1,Ro===null&&(Ro=[]),By(Ro,a,o)}function oc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function md(a,o){throw o.$$typeof===l?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function qy(a){var o=a._init;return o(a._payload)}function Wy(a){function o(ae,Z){if(a){var ce=ae.deletions;ce===null?(ae.deletions=[Z],ae.flags|=16):ce.push(Z)}}function c(ae,Z){if(!a)return null;for(;Z!==null;)o(ae,Z),Z=Z.sibling;return null}function m(ae){for(var Z=new Map;ae!==null;)ae.key!==null?Z.set(ae.key,ae):Z.set(ae.index,ae),ae=ae.sibling;return Z}function x(ae,Z){return ae=Ka(ae,Z),ae.index=0,ae.sibling=null,ae}function y(ae,Z,ce){return ae.index=ce,a?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<Z?(ae.flags|=33554434,Z):ce):(ae.flags|=33554434,Z)):(ae.flags|=1048576,Z)}function T(ae){return a&&ae.alternate===null&&(ae.flags|=33554434),ae}function A(ae,Z,ce,be){return Z===null||Z.tag!==6?(Z=Np(ce,ae.mode,be),Z.return=ae,Z):(Z=x(Z,ce),Z.return=ae,Z)}function Y(ae,Z,ce,be){var Ue=ce.type;return Ue===f?pe(ae,Z,ce.props.children,be,ce.key):Z!==null&&(Z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&qy(Ue)===Z.type)?(Z=x(Z,ce.props),oc(Z,ce),Z.return=ae,Z):(Z=Ad(ce.type,ce.key,ce.props,null,ae.mode,be),oc(Z,ce),Z.return=ae,Z)}function ee(ae,Z,ce,be){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=Sp(ce,ae.mode,be),Z.return=ae,Z):(Z=x(Z,ce.children||[]),Z.return=ae,Z)}function pe(ae,Z,ce,be,Ue){return Z===null||Z.tag!==7?(Z=Vi(ce,ae.mode,be,Ue),Z.return=ae,Z):(Z=x(Z,ce),Z.return=ae,Z)}function je(ae,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Np(""+Z,ae.mode,ce),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case u:return ce=Ad(Z.type,Z.key,Z.props,null,ae.mode,ce),oc(ce,Z),ce.return=ae,ce;case d:return Z=Sp(Z,ae.mode,ce),Z.return=ae,Z;case R:var be=Z._init;return Z=be(Z._payload),je(ae,Z,ce)}if(H(Z)||D(Z))return Z=Vi(Z,ae.mode,ce,null),Z.return=ae,Z;if(typeof Z.then=="function")return je(ae,hd(Z),ce);if(Z.$$typeof===w)return je(ae,Td(ae,Z),ce);md(ae,Z)}return null}function de(ae,Z,ce,be){var Ue=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ue!==null?null:A(ae,Z,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:return ce.key===Ue?Y(ae,Z,ce,be):null;case d:return ce.key===Ue?ee(ae,Z,ce,be):null;case R:return Ue=ce._init,ce=Ue(ce._payload),de(ae,Z,ce,be)}if(H(ce)||D(ce))return Ue!==null?null:pe(ae,Z,ce,be,null);if(typeof ce.then=="function")return de(ae,Z,hd(ce),be);if(ce.$$typeof===w)return de(ae,Z,Td(ae,ce),be);md(ae,ce)}return null}function me(ae,Z,ce,be,Ue){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ae=ae.get(ce)||null,A(Z,ae,""+be,Ue);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case u:return ae=ae.get(be.key===null?ce:be.key)||null,Y(Z,ae,be,Ue);case d:return ae=ae.get(be.key===null?ce:be.key)||null,ee(Z,ae,be,Ue);case R:var wt=be._init;return be=wt(be._payload),me(ae,Z,ce,be,Ue)}if(H(be)||D(be))return ae=ae.get(ce)||null,pe(Z,ae,be,Ue,null);if(typeof be.then=="function")return me(ae,Z,ce,hd(be),Ue);if(be.$$typeof===w)return me(ae,Z,ce,Td(Z,be),Ue);md(Z,be)}return null}function Be(ae,Z,ce,be){for(var Ue=null,wt=null,He=Z,Ze=Z=0,Yn=null;He!==null&&Ze<ce.length;Ze++){He.index>Ze?(Yn=He,He=null):Yn=He.sibling;var Wt=de(ae,He,ce[Ze],be);if(Wt===null){He===null&&(He=Yn);break}a&&He&&Wt.alternate===null&&o(ae,He),Z=y(Wt,Z,Ze),wt===null?Ue=Wt:wt.sibling=Wt,wt=Wt,He=Yn}if(Ze===ce.length)return c(ae,He),qt&&Oi(ae,Ze),Ue;if(He===null){for(;Ze<ce.length;Ze++)He=je(ae,ce[Ze],be),He!==null&&(Z=y(He,Z,Ze),wt===null?Ue=He:wt.sibling=He,wt=He);return qt&&Oi(ae,Ze),Ue}for(He=m(He);Ze<ce.length;Ze++)Yn=me(He,ae,Ze,ce[Ze],be),Yn!==null&&(a&&Yn.alternate!==null&&He.delete(Yn.key===null?Ze:Yn.key),Z=y(Yn,Z,Ze),wt===null?Ue=Yn:wt.sibling=Yn,wt=Yn);return a&&He.forEach(function(ri){return o(ae,ri)}),qt&&Oi(ae,Ze),Ue}function ot(ae,Z,ce,be){if(ce==null)throw Error(r(151));for(var Ue=null,wt=null,He=Z,Ze=Z=0,Yn=null,Wt=ce.next();He!==null&&!Wt.done;Ze++,Wt=ce.next()){He.index>Ze?(Yn=He,He=null):Yn=He.sibling;var ri=de(ae,He,Wt.value,be);if(ri===null){He===null&&(He=Yn);break}a&&He&&ri.alternate===null&&o(ae,He),Z=y(ri,Z,Ze),wt===null?Ue=ri:wt.sibling=ri,wt=ri,He=Yn}if(Wt.done)return c(ae,He),qt&&Oi(ae,Ze),Ue;if(He===null){for(;!Wt.done;Ze++,Wt=ce.next())Wt=je(ae,Wt.value,be),Wt!==null&&(Z=y(Wt,Z,Ze),wt===null?Ue=Wt:wt.sibling=Wt,wt=Wt);return qt&&Oi(ae,Ze),Ue}for(He=m(He);!Wt.done;Ze++,Wt=ce.next())Wt=me(He,ae,Ze,Wt.value,be),Wt!==null&&(a&&Wt.alternate!==null&&He.delete(Wt.key===null?Ze:Wt.key),Z=y(Wt,Z,Ze),wt===null?Ue=Wt:wt.sibling=Wt,wt=Wt);return a&&He.forEach(function(eA){return o(ae,eA)}),qt&&Oi(ae,Ze),Ue}function _n(ae,Z,ce,be){if(typeof ce=="object"&&ce!==null&&ce.type===f&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:e:{for(var Ue=ce.key;Z!==null;){if(Z.key===Ue){if(Ue=ce.type,Ue===f){if(Z.tag===7){c(ae,Z.sibling),be=x(Z,ce.props.children),be.return=ae,ae=be;break e}}else if(Z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===R&&qy(Ue)===Z.type){c(ae,Z.sibling),be=x(Z,ce.props),oc(be,ce),be.return=ae,ae=be;break e}c(ae,Z);break}else o(ae,Z);Z=Z.sibling}ce.type===f?(be=Vi(ce.props.children,ae.mode,be,ce.key),be.return=ae,ae=be):(be=Ad(ce.type,ce.key,ce.props,null,ae.mode,be),oc(be,ce),be.return=ae,ae=be)}return T(ae);case d:e:{for(Ue=ce.key;Z!==null;){if(Z.key===Ue)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){c(ae,Z.sibling),be=x(Z,ce.children||[]),be.return=ae,ae=be;break e}else{c(ae,Z);break}else o(ae,Z);Z=Z.sibling}be=Sp(ce,ae.mode,be),be.return=ae,ae=be}return T(ae);case R:return Ue=ce._init,ce=Ue(ce._payload),_n(ae,Z,ce,be)}if(H(ce))return Be(ae,Z,ce,be);if(D(ce)){if(Ue=D(ce),typeof Ue!="function")throw Error(r(150));return ce=Ue.call(ce),ot(ae,Z,ce,be)}if(typeof ce.then=="function")return _n(ae,Z,hd(ce),be);if(ce.$$typeof===w)return _n(ae,Z,Td(ae,ce),be);md(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Z!==null&&Z.tag===6?(c(ae,Z.sibling),be=x(Z,ce),be.return=ae,ae=be):(c(ae,Z),be=Np(ce,ae.mode,be),be.return=ae,ae=be),T(ae)):c(ae,Z)}return function(ae,Z,ce,be){try{ic=0;var Ue=_n(ae,Z,ce,be);return Ro=null,Ue}catch(He){if(He===sc)throw He;var wt=ss(29,He,null,ae.mode);return wt.lanes=be,wt.return=ae,wt}finally{}}}var Di=Wy(!0),Yy=Wy(!1),To=se(null),pd=se(0);function Gy(a,o){a=xa,fe(pd,a),fe(To,o),xa=a|o.baseLanes}function Mm(){fe(pd,xa),fe(To,To.current)}function Om(){xa=pd.current,ge(To),ge(pd)}var ts=se(null),Os=null;function Ua(a){var o=a.alternate;fe(Fn,Fn.current&1),fe(ts,a),Os===null&&(o===null||To.current!==null||o.memoizedState!==null)&&(Os=a)}function Xy(a){if(a.tag===22){if(fe(Fn,Fn.current),fe(ts,a),Os===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Os=a)}}else za()}function za(){fe(Fn,Fn.current),fe(ts,ts.current)}function la(a){ge(ts),Os===a&&(Os=null),ge(Fn)}var Fn=se(0);function gd(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var FM=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},VM=e.unstable_scheduleCallback,BM=e.unstable_NormalPriority,Vn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new FM,data:new Map,refCount:0}}function lc(a){a.refCount--,a.refCount===0&&VM(BM,function(){a.controller.abort()})}var cc=null,Dm=0,Mo=0,Oo=null;function HM(a,o){if(cc===null){var c=cc=[];Dm=0,Mo=Up(),Oo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Dm++,o.then(Ky,Ky),o}function Ky(){if(--Dm===0&&cc!==null){Oo!==null&&(Oo.status="fulfilled");var a=cc;cc=null,Mo=0,Oo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function qM(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<c.length;x++)(0,c[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),m}var Qy=k.S;k.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&HM(a,o),Qy!==null&&Qy(a,o)};var Pi=se(null);function Pm(){var a=Pi.current;return a!==null?a:ln.pooledCache}function vd(a,o){o===null?fe(Pi,Pi.current):fe(Pi,o.pool)}function Zy(){var a=Pm();return a===null?null:{parent:Vn._currentValue,pool:a}}var Fa=0,bt=null,nn=null,Pn=null,xd=!1,Ao=!1,ki=!1,bd=0,uc=0,Do=null,WM=0;function Rn(){throw Error(r(321))}function km(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Dr(a[c],o[c]))return!1;return!0}function Lm(a,o,c,m,x,y){return Fa=y,bt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,k.H=a===null||a.memoizedState===null?Li:Va,ki=!1,y=c(m,x),ki=!1,Ao&&(y=e0(o,c,m,x)),Jy(a),y}function Jy(a){k.H=As;var o=nn!==null&&nn.next!==null;if(Fa=0,Pn=nn=bt=null,xd=!1,uc=0,Do=null,o)throw Error(r(300));a===null||qn||(a=a.dependencies,a!==null&&Rd(a)&&(qn=!0))}function e0(a,o,c,m){bt=a;var x=0;do{if(Ao&&(Do=null),uc=0,Ao=!1,25<=x)throw Error(r(301));if(x+=1,Pn=nn=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=Ii,y=o(c,m)}while(Ao);return y}function YM(){var a=k.H,o=a.useState()[0];return o=typeof o.then=="function"?dc(o):o,a=a.useState()[0],(nn!==null?nn.memoizedState:null)!==a&&(bt.flags|=1024),o}function Im(){var a=bd!==0;return bd=0,a}function $m(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function Um(a){if(xd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}xd=!1}Fa=0,Pn=nn=bt=null,Ao=!1,uc=bd=0,Do=null}function _r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?bt.memoizedState=Pn=a:Pn=Pn.next=a,Pn}function kn(){if(nn===null){var a=bt.alternate;a=a!==null?a.memoizedState:null}else a=nn.next;var o=Pn===null?bt.memoizedState:Pn.next;if(o!==null)Pn=o,nn=a;else{if(a===null)throw bt.alternate===null?Error(r(467)):Error(r(310));nn=a,a={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},Pn===null?bt.memoizedState=Pn=a:Pn=Pn.next=a}return Pn}var yd;yd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function dc(a){var o=uc;return uc+=1,Do===null&&(Do=[]),a=By(Do,a,o),o=bt,(Pn===null?o.memoizedState:Pn.next)===null&&(o=o.alternate,k.H=o===null||o.memoizedState===null?Li:Va),a}function wd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return dc(a);if(a.$$typeof===w)return or(a)}throw Error(r(438,String(a)))}function zm(a){var o=null,c=bt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=bt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=yd(),bt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=M;return o.index++,c}function ca(a,o){return typeof o=="function"?o(a):o}function jd(a){var o=kn();return Fm(o,nn,a)}function Fm(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var x=a.baseQueue,y=m.pending;if(y!==null){if(x!==null){var T=x.next;x.next=y.next,y.next=T}o.baseQueue=x=y,m.pending=null}if(y=a.baseState,x===null)a.memoizedState=y;else{o=x.next;var A=T=null,Y=null,ee=o,pe=!1;do{var je=ee.lane&-536870913;if(je!==ee.lane?(Lt&je)===je:(Fa&je)===je){var de=ee.revertLane;if(de===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),je===Mo&&(pe=!0);else if((Fa&de)===de){ee=ee.next,de===Mo&&(pe=!0);continue}else je={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(A=Y=je,T=y):Y=Y.next=je,bt.lanes|=de,Qa|=de;je=ee.action,ki&&c(y,je),y=ee.hasEagerState?ee.eagerState:c(y,je)}else de={lane:je,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(A=Y=de,T=y):Y=Y.next=de,bt.lanes|=je,Qa|=je;ee=ee.next}while(ee!==null&&ee!==o);if(Y===null?T=y:Y.next=A,!Dr(y,a.memoizedState)&&(qn=!0,pe&&(c=Oo,c!==null)))throw c;a.memoizedState=y,a.baseState=T,a.baseQueue=Y,m.lastRenderedState=y}return x===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Vm(a){var o=kn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,x=c.pending,y=o.memoizedState;if(x!==null){c.pending=null;var T=x=x.next;do y=a(y,T.action),T=T.next;while(T!==x);Dr(y,o.memoizedState)||(qn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,m]}function t0(a,o,c){var m=bt,x=kn(),y=qt;if(y){if(c===void 0)throw Error(r(407));c=c()}else c=o();var T=!Dr((nn||x).memoizedState,c);if(T&&(x.memoizedState=c,qn=!0),x=x.queue,qm(s0.bind(null,m,x,a),[a]),x.getSnapshot!==o||T||Pn!==null&&Pn.memoizedState.tag&1){if(m.flags|=2048,Po(9,r0.bind(null,m,x,c,o),{destroy:void 0},null),ln===null)throw Error(r(349));y||(Fa&60)!==0||n0(m,o,c)}return c}function n0(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=bt.updateQueue,o===null?(o=yd(),bt.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function r0(a,o,c,m){o.value=c,o.getSnapshot=m,a0(o)&&i0(a)}function s0(a,o,c){return c(function(){a0(o)&&i0(a)})}function a0(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Dr(a,c)}catch{return!0}}function i0(a){var o=$a(a,2);o!==null&&hr(o,a,2)}function Bm(a){var o=_r();if(typeof a=="function"){var c=a;if(a=c(),ki){zn(!0);try{c()}finally{zn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:a},o}function o0(a,o,c,m){return a.baseState=c,Fm(a,nn,typeof m=="function"?m:ca)}function GM(a,o,c,m,x){if(_d(a))throw Error(r(485));if(a=o.action,a!==null){var y={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};k.T!==null?c(!0):y.isTransition=!1,m(y),c=o.pending,c===null?(y.next=o.pending=y,l0(o,y)):(y.next=c.next,o.pending=c.next=y)}}function l0(a,o){var c=o.action,m=o.payload,x=a.state;if(o.isTransition){var y=k.T,T={};k.T=T;try{var A=c(x,m),Y=k.S;Y!==null&&Y(T,A),c0(a,o,A)}catch(ee){Hm(a,o,ee)}finally{k.T=y}}else try{y=c(x,m),c0(a,o,y)}catch(ee){Hm(a,o,ee)}}function c0(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){u0(a,o,m)},function(m){return Hm(a,o,m)}):u0(a,o,c)}function u0(a,o,c){o.status="fulfilled",o.value=c,d0(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,l0(a,c)))}function Hm(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,d0(o),o=o.next;while(o!==m)}a.action=null}function d0(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function f0(a,o){return o}function h0(a,o){if(qt){var c=ln.formState;if(c!==null){e:{var m=bt;if(qt){if(er){t:{for(var x=er,y=Ms;x.nodeType!==8;){if(!y){x=null;break t}if(x=vs(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){er=vs(x.nextSibling),m=x.data==="F!";break e}}Ai(m)}m=!1}m&&(o=c[0])}}return c=_r(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:o},c.queue=m,c=O0.bind(null,bt,m),m.dispatch=c,m=Bm(!1),y=Km.bind(null,bt,!1,m.queue),m=_r(),x={state:o,dispatch:null,action:a,pending:null},m.queue=x,c=GM.bind(null,bt,x,y,c),x.dispatch=c,m.memoizedState=a,[o,c,!1]}function m0(a){var o=kn();return p0(o,nn,a)}function p0(a,o,c){o=Fm(a,o,f0)[0],a=jd(ca)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?dc(o):o;var m=kn(),x=m.queue,y=x.dispatch;return c!==m.memoizedState&&(bt.flags|=2048,Po(9,XM.bind(null,x,c),{destroy:void 0},null)),[o,y,a]}function XM(a,o){a.action=o}function g0(a){var o=kn(),c=nn;if(c!==null)return p0(o,c,a);kn(),o=o.memoizedState,c=kn();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function Po(a,o,c,m){return a={tag:a,create:o,inst:c,deps:m,next:null},o=bt.updateQueue,o===null&&(o=yd(),bt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function v0(){return kn().memoizedState}function Nd(a,o,c,m){var x=_r();bt.flags|=a,x.memoizedState=Po(1|o,c,{destroy:void 0},m===void 0?null:m)}function Sd(a,o,c,m){var x=kn();m=m===void 0?null:m;var y=x.memoizedState.inst;nn!==null&&m!==null&&km(m,nn.memoizedState.deps)?x.memoizedState=Po(o,c,y,m):(bt.flags|=a,x.memoizedState=Po(1|o,c,y,m))}function x0(a,o){Nd(8390656,8,a,o)}function qm(a,o){Sd(2048,8,a,o)}function b0(a,o){return Sd(4,2,a,o)}function y0(a,o){return Sd(4,4,a,o)}function w0(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function j0(a,o,c){c=c!=null?c.concat([a]):null,Sd(4,4,w0.bind(null,o,a),c)}function Wm(){}function N0(a,o){var c=kn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&km(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function S0(a,o){var c=kn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&km(o,m[1]))return m[0];if(m=a(),ki){zn(!0);try{a()}finally{zn(!1)}}return c.memoizedState=[m,o],m}function Ym(a,o,c){return c===void 0||(Fa&1073741824)!==0?a.memoizedState=o:(a.memoizedState=c,a=Ew(),bt.lanes|=a,Qa|=a,c)}function _0(a,o,c,m){return Dr(c,o)?c:To.current!==null?(a=Ym(a,c,m),Dr(a,o)||(qn=!0),a):(Fa&42)===0?(qn=!0,a.memoizedState=c):(a=Ew(),bt.lanes|=a,Qa|=a,o)}function E0(a,o,c,m,x){var y=I.p;I.p=y!==0&&8>y?y:8;var T=k.T,A={};k.T=A,Km(a,!1,o,c);try{var Y=x(),ee=k.S;if(ee!==null&&ee(A,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var pe=qM(Y,m);fc(a,o,pe,Ir(a))}else fc(a,o,m,Ir(a))}catch(je){fc(a,o,{then:function(){},status:"rejected",reason:je},Ir())}finally{I.p=y,k.T=T}}function KM(){}function Gm(a,o,c,m){if(a.tag!==5)throw Error(r(476));var x=C0(a).queue;E0(a,x,o,z,c===null?KM:function(){return R0(a),c(m)})}function C0(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:z},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function R0(a){var o=C0(a).next.queue;fc(a,o,{},Ir())}function Xm(){return or(Ac)}function T0(){return kn().memoizedState}function M0(){return kn().memoizedState}function QM(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=Ir();a=qa(c);var m=Wa(o,a,c);m!==null&&(hr(m,o,c),pc(m,o,c)),o={cache:Am()},a.payload=o;return}o=o.return}}function ZM(a,o,c){var m=Ir();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},_d(a)?A0(o,c):(c=_m(a,o,c,m),c!==null&&(hr(c,a,m),D0(c,o,m)))}function O0(a,o,c){var m=Ir();fc(a,o,c,m)}function fc(a,o,c,m){var x={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(_d(a))A0(o,x);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,A=y(T,c);if(x.hasEagerState=!0,x.eagerState=A,Dr(A,T))return ld(a,o,x,0),ln===null&&od(),!1}catch{}finally{}if(c=_m(a,o,x,m),c!==null)return hr(c,a,m),D0(c,o,m),!0}return!1}function Km(a,o,c,m){if(m={lane:2,revertLane:Up(),action:m,hasEagerState:!1,eagerState:null,next:null},_d(a)){if(o)throw Error(r(479))}else o=_m(a,c,m,2),o!==null&&hr(o,a,2)}function _d(a){var o=a.alternate;return a===bt||o!==null&&o===bt}function A0(a,o){Ao=xd=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function D0(a,o,c){if((c&4194176)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,yt(a,c)}}var As={readContext:or,use:wd,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn};As.useCacheRefresh=Rn,As.useMemoCache=Rn,As.useHostTransitionStatus=Rn,As.useFormState=Rn,As.useActionState=Rn,As.useOptimistic=Rn;var Li={readContext:or,use:wd,useCallback:function(a,o){return _r().memoizedState=[a,o===void 0?null:o],a},useContext:or,useEffect:x0,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Nd(4194308,4,w0.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Nd(4194308,4,a,o)},useInsertionEffect:function(a,o){Nd(4,2,a,o)},useMemo:function(a,o){var c=_r();o=o===void 0?null:o;var m=a();if(ki){zn(!0);try{a()}finally{zn(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=_r();if(c!==void 0){var x=c(o);if(ki){zn(!0);try{c(o)}finally{zn(!1)}}}else x=o;return m.memoizedState=m.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},m.queue=a,a=a.dispatch=ZM.bind(null,bt,a),[m.memoizedState,a]},useRef:function(a){var o=_r();return a={current:a},o.memoizedState=a},useState:function(a){a=Bm(a);var o=a.queue,c=O0.bind(null,bt,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:Wm,useDeferredValue:function(a,o){var c=_r();return Ym(c,a,o)},useTransition:function(){var a=Bm(!1);return a=E0.bind(null,bt,a.queue,!0,!1),_r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=bt,x=_r();if(qt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),ln===null)throw Error(r(349));(Lt&60)!==0||n0(m,o,c)}x.memoizedState=c;var y={value:c,getSnapshot:o};return x.queue=y,x0(s0.bind(null,m,y,a),[a]),m.flags|=2048,Po(9,r0.bind(null,m,y,c,o),{destroy:void 0},null),c},useId:function(){var a=_r(),o=ln.identifierPrefix;if(qt){var c=oa,m=ia;c=(m&~(1<<32-jn(m)-1)).toString(32)+c,o=":"+o+"R"+c,c=bd++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=WM++,o=":"+o+"r"+c.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return _r().memoizedState=QM.bind(null,bt)}};Li.useMemoCache=zm,Li.useHostTransitionStatus=Xm,Li.useFormState=h0,Li.useActionState=h0,Li.useOptimistic=function(a){var o=_r();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Km.bind(null,bt,!0,c),c.dispatch=o,[a,o]};var Va={readContext:or,use:wd,useCallback:N0,useContext:or,useEffect:qm,useImperativeHandle:j0,useInsertionEffect:b0,useLayoutEffect:y0,useMemo:S0,useReducer:jd,useRef:v0,useState:function(){return jd(ca)},useDebugValue:Wm,useDeferredValue:function(a,o){var c=kn();return _0(c,nn.memoizedState,a,o)},useTransition:function(){var a=jd(ca)[0],o=kn().memoizedState;return[typeof a=="boolean"?a:dc(a),o]},useSyncExternalStore:t0,useId:T0};Va.useCacheRefresh=M0,Va.useMemoCache=zm,Va.useHostTransitionStatus=Xm,Va.useFormState=m0,Va.useActionState=m0,Va.useOptimistic=function(a,o){var c=kn();return o0(c,nn,a,o)};var Ii={readContext:or,use:wd,useCallback:N0,useContext:or,useEffect:qm,useImperativeHandle:j0,useInsertionEffect:b0,useLayoutEffect:y0,useMemo:S0,useReducer:Vm,useRef:v0,useState:function(){return Vm(ca)},useDebugValue:Wm,useDeferredValue:function(a,o){var c=kn();return nn===null?Ym(c,a,o):_0(c,nn.memoizedState,a,o)},useTransition:function(){var a=Vm(ca)[0],o=kn().memoizedState;return[typeof a=="boolean"?a:dc(a),o]},useSyncExternalStore:t0,useId:T0};Ii.useCacheRefresh=M0,Ii.useMemoCache=zm,Ii.useHostTransitionStatus=Xm,Ii.useFormState=g0,Ii.useActionState=g0,Ii.useOptimistic=function(a,o){var c=kn();return nn!==null?o0(c,nn,a,o):(c.baseState=a,[a,c.queue.dispatch])};function Qm(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:F({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Zm={isMounted:function(a){return(a=a._reactInternals)?W(a)===a:!1},enqueueSetState:function(a,o,c){a=a._reactInternals;var m=Ir(),x=qa(m);x.payload=o,c!=null&&(x.callback=c),o=Wa(a,x,m),o!==null&&(hr(o,a,m),pc(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=Ir(),x=qa(m);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Wa(a,x,m),o!==null&&(hr(o,a,m),pc(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Ir(),m=qa(c);m.tag=2,o!=null&&(m.callback=o),o=Wa(a,m,c),o!==null&&(hr(o,a,c),pc(o,a,c))}};function P0(a,o,c,m,x,y,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,y,T):o.prototype&&o.prototype.isPureReactComponent?!Jl(c,m)||!Jl(x,y):!0}function k0(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&Zm.enqueueReplaceState(o,o.state,null)}function $i(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=F({},c));for(var x in a)c[x]===void 0&&(c[x]=a[x])}return c}var Ed=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function L0(a){Ed(a)}function I0(a){console.error(a)}function $0(a){Ed(a)}function Cd(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function U0(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Jm(a,o,c){return c=qa(c),c.tag=3,c.payload={element:null},c.callback=function(){Cd(a,o)},c}function z0(a){return a=qa(a),a.tag=3,a}function F0(a,o,c,m){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var y=m.value;a.payload=function(){return x(y)},a.callback=function(){U0(o,c,m)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){U0(o,c,m),typeof x!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var A=m.stack;this.componentDidCatch(m.value,{componentStack:A!==null?A:""})})}function JM(a,o,c,m,x){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&mc(o,c,x,!0),c=ts.current,c!==null){switch(c.tag){case 13:return Os===null?Pp():c.alternate===null&&Sn===0&&(Sn=3),c.flags&=-257,c.flags|=65536,c.lanes=x,m===Tm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Lp(a,m,x)),!1;case 22:return c.flags|=65536,m===Tm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Lp(a,m,x)),!1}throw Error(r(435,c.tag))}return Lp(a,m,x),Pp(),!1}if(qt)return o=ts.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==Rm&&(a=Error(r(422),{cause:m}),rc(Zr(a,c)))):(m!==Rm&&(o=Error(r(423),{cause:m}),rc(Zr(o,c))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,m=Zr(m,c),x=Jm(a.stateNode,m,x),mp(a,x),Sn!==4&&(Sn=2)),!1;var y=Error(r(520),{cause:m});if(y=Zr(y,c),Nc===null?Nc=[y]:Nc.push(y),Sn!==4&&(Sn=2),o===null)return!0;m=Zr(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=x&-x,c.lanes|=a,a=Jm(c.stateNode,m,a),mp(c,a),!1;case 1:if(o=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Za===null||!Za.has(y))))return c.flags|=65536,x&=-x,c.lanes|=x,x=z0(x),F0(x,a,c,m),mp(c,x),!1}c=c.return}while(c!==null);return!1}var V0=Error(r(461)),qn=!1;function tr(a,o,c,m){o.child=a===null?Yy(o,null,c,m):Di(o,a.child,c,m)}function B0(a,o,c,m,x){c=c.render;var y=o.ref;if("ref"in m){var T={};for(var A in m)A!=="ref"&&(T[A]=m[A])}else T=m;return zi(o),m=Lm(a,o,c,T,y,x),A=Im(),a!==null&&!qn?($m(a,o,x),ua(a,o,x)):(qt&&A&&Em(o),o.flags|=1,tr(a,o,m,x),o.child)}function H0(a,o,c,m,x){if(a===null){var y=c.type;return typeof y=="function"&&!jp(y)&&y.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=y,q0(a,o,y,m,x)):(a=Ad(c.type,null,m,o,o.mode,x),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!lp(a,x)){var T=y.memoizedProps;if(c=c.compare,c=c!==null?c:Jl,c(T,m)&&a.ref===o.ref)return ua(a,o,x)}return o.flags|=1,a=Ka(y,m),a.ref=o.ref,a.return=o,o.child=a}function q0(a,o,c,m,x){if(a!==null){var y=a.memoizedProps;if(Jl(y,m)&&a.ref===o.ref)if(qn=!1,o.pendingProps=m=y,lp(a,x))(a.flags&131072)!==0&&(qn=!0);else return o.lanes=a.lanes,ua(a,o,x)}return ep(a,o,c,m,x)}function W0(a,o,c){var m=o.pendingProps,x=m.children,y=(o.stateNode._pendingVisibility&2)!==0,T=a!==null?a.memoizedState:null;if(hc(a,o),m.mode==="hidden"||y){if((o.flags&128)!==0){if(m=T!==null?T.baseLanes|c:c,a!==null){for(x=o.child=a.child,y=0;x!==null;)y=y|x.lanes|x.childLanes,x=x.sibling;o.childLanes=y&~m}else o.childLanes=0,o.child=null;return Y0(a,o,m,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&vd(o,T!==null?T.cachePool:null),T!==null?Gy(o,T):Mm(),Xy(o);else return o.lanes=o.childLanes=536870912,Y0(a,o,T!==null?T.baseLanes|c:c,c)}else T!==null?(vd(o,T.cachePool),Gy(o,T),za(),o.memoizedState=null):(a!==null&&vd(o,null),Mm(),za());return tr(a,o,x,c),o.child}function Y0(a,o,c,m){var x=Pm();return x=x===null?null:{parent:Vn._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&vd(o,null),Mm(),Xy(o),a!==null&&mc(a,o,m,!0),null}function hc(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=2097664)}}function ep(a,o,c,m,x){return zi(o),c=Lm(a,o,c,m,void 0,x),m=Im(),a!==null&&!qn?($m(a,o,x),ua(a,o,x)):(qt&&m&&Em(o),o.flags|=1,tr(a,o,c,x),o.child)}function G0(a,o,c,m,x,y){return zi(o),o.updateQueue=null,c=e0(o,m,c,x),Jy(a),m=Im(),a!==null&&!qn?($m(a,o,y),ua(a,o,y)):(qt&&m&&Em(o),o.flags|=1,tr(a,o,c,y),o.child)}function X0(a,o,c,m,x){if(zi(o),o.stateNode===null){var y=_o,T=c.contextType;typeof T=="object"&&T!==null&&(y=or(T)),y=new c(m,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Zm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=m,y.state=o.memoizedState,y.refs={},fp(o),T=c.contextType,y.context=typeof T=="object"&&T!==null?or(T):_o,y.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Qm(o,c,T,m),y.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Zm.enqueueReplaceState(y,y.state,null),vc(o,m,y,x),gc(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){y=o.stateNode;var A=o.memoizedProps,Y=$i(c,A);y.props=Y;var ee=y.context,pe=c.contextType;T=_o,typeof pe=="object"&&pe!==null&&(T=or(pe));var je=c.getDerivedStateFromProps;pe=typeof je=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=o.pendingProps!==A,pe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||ee!==T)&&k0(o,y,m,T),Ha=!1;var de=o.memoizedState;y.state=de,vc(o,m,y,x),gc(),ee=o.memoizedState,A||de!==ee||Ha?(typeof je=="function"&&(Qm(o,c,je,m),ee=o.memoizedState),(Y=Ha||P0(o,c,Y,m,de,ee,T))?(pe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ee),y.props=m,y.state=ee,y.context=T,m=Y):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{y=o.stateNode,hp(a,o),T=o.memoizedProps,pe=$i(c,T),y.props=pe,je=o.pendingProps,de=y.context,ee=c.contextType,Y=_o,typeof ee=="object"&&ee!==null&&(Y=or(ee)),A=c.getDerivedStateFromProps,(ee=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==je||de!==Y)&&k0(o,y,m,Y),Ha=!1,de=o.memoizedState,y.state=de,vc(o,m,y,x),gc();var me=o.memoizedState;T!==je||de!==me||Ha||a!==null&&a.dependencies!==null&&Rd(a.dependencies)?(typeof A=="function"&&(Qm(o,c,A,m),me=o.memoizedState),(pe=Ha||P0(o,c,pe,m,de,me,Y)||a!==null&&a.dependencies!==null&&Rd(a.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(m,me,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(m,me,Y)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=me),y.props=m,y.state=me,y.context=Y,m=pe):(typeof y.componentDidUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),m=!1)}return y=m,hc(a,o),m=(o.flags&128)!==0,y||m?(y=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&m?(o.child=Di(o,a.child,null,x),o.child=Di(o,null,c,x)):tr(a,o,c,x),o.memoizedState=y.state,a=o.child):a=ua(a,o,x),a}function K0(a,o,c,m){return nc(),o.flags|=256,tr(a,o,c,m),o.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(a){return{baseLanes:a,cachePool:Zy()}}function rp(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=as),a}function Q0(a,o,c){var m=o.pendingProps,x=!1,y=(o.flags&128)!==0,T;if((T=y)||(T=a!==null&&a.memoizedState===null?!1:(Fn.current&2)!==0),T&&(x=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,a===null){if(qt){if(x?Ua(o):za(),qt){var A=er,Y;if(Y=A){e:{for(Y=A,A=Ms;Y.nodeType!==8;){if(!A){A=null;break e}if(Y=vs(Y.nextSibling),Y===null){A=null;break e}}A=Y}A!==null?(o.memoizedState={dehydrated:A,treeContext:Mi!==null?{id:ia,overflow:oa}:null,retryLane:536870912},Y=ss(18,null,null,0),Y.stateNode=A,Y.return=o,o.child=Y,fr=o,er=null,Y=!0):Y=!1}Y||Ai(o)}if(A=o.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?o.lanes=16:o.lanes=536870912,null;la(o)}return A=m.children,m=m.fallback,x?(za(),x=o.mode,A=ap({mode:"hidden",children:A},x),m=Vi(m,x,c,null),A.return=o,m.return=o,A.sibling=m,o.child=A,x=o.child,x.memoizedState=np(c),x.childLanes=rp(a,T,c),o.memoizedState=tp,m):(Ua(o),sp(o,A))}if(Y=a.memoizedState,Y!==null&&(A=Y.dehydrated,A!==null)){if(y)o.flags&256?(Ua(o),o.flags&=-257,o=ip(a,o,c)):o.memoizedState!==null?(za(),o.child=a.child,o.flags|=128,o=null):(za(),x=m.fallback,A=o.mode,m=ap({mode:"visible",children:m.children},A),x=Vi(x,A,c,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,Di(o,a.child,null,c),m=o.child,m.memoizedState=np(c),m.childLanes=rp(a,T,c),o.memoizedState=tp,o=x);else if(Ua(o),A.data==="$!"){if(T=A.nextSibling&&A.nextSibling.dataset,T)var ee=T.dgst;T=ee,m=Error(r(419)),m.stack="",m.digest=T,rc({value:m,source:null,stack:null}),o=ip(a,o,c)}else if(qn||mc(a,o,c,!1),T=(c&a.childLanes)!==0,qn||T){if(T=ln,T!==null){if(m=c&-c,(m&42)!==0)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=(m&(T.suspendedLanes|c))!==0?0:m,m!==0&&m!==Y.retryLane)throw Y.retryLane=m,$a(a,m),hr(T,a,m),V0}A.data==="$?"||Pp(),o=ip(a,o,c)}else A.data==="$?"?(o.flags|=128,o.child=a.child,o=mO.bind(null,a),A._reactRetry=o,o=null):(a=Y.treeContext,er=vs(A.nextSibling),fr=o,qt=!0,ps=null,Ms=!1,a!==null&&(Jr[es++]=ia,Jr[es++]=oa,Jr[es++]=Mi,ia=a.id,oa=a.overflow,Mi=o),o=sp(o,m.children),o.flags|=4096);return o}return x?(za(),x=m.fallback,A=o.mode,Y=a.child,ee=Y.sibling,m=Ka(Y,{mode:"hidden",children:m.children}),m.subtreeFlags=Y.subtreeFlags&31457280,ee!==null?x=Ka(ee,x):(x=Vi(x,A,c,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,A=a.child.memoizedState,A===null?A=np(c):(Y=A.cachePool,Y!==null?(ee=Vn._currentValue,Y=Y.parent!==ee?{parent:ee,pool:ee}:Y):Y=Zy(),A={baseLanes:A.baseLanes|c,cachePool:Y}),x.memoizedState=A,x.childLanes=rp(a,T,c),o.memoizedState=tp,m):(Ua(o),c=a.child,a=c.sibling,c=Ka(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(T=o.deletions,T===null?(o.deletions=[a],o.flags|=16):T.push(a)),o.child=c,o.memoizedState=null,c)}function sp(a,o){return o=ap({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function ap(a,o){return Nw(a,o,0,null)}function ip(a,o,c){return Di(o,a.child,null,c),a=sp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Z0(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),up(a.return,o,c)}function op(a,o,c,m,x){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=m,y.tail=c,y.tailMode=x)}function J0(a,o,c){var m=o.pendingProps,x=m.revealOrder,y=m.tail;if(tr(a,o,m.children,c),m=Fn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Z0(a,c,o);else if(a.tag===19)Z0(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(fe(Fn,m),x){case"forwards":for(c=o.child,x=null;c!==null;)a=c.alternate,a!==null&&gd(a)===null&&(x=c),c=c.sibling;c=x,c===null?(x=o.child,o.child=null):(x=c.sibling,c.sibling=null),op(o,!1,x,c,y);break;case"backwards":for(c=null,x=o.child,o.child=null;x!==null;){if(a=x.alternate,a!==null&&gd(a)===null){o.child=x;break}a=x.sibling,x.sibling=c,c=x,x=a}op(o,!0,c,null,y);break;case"together":op(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ua(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Qa|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(mc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Ka(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Ka(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function lp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Rd(a)))}function eO(a,o,c){switch(o.tag){case 3:Dt(o,o.stateNode.containerInfo),Ba(o,Vn,a.memoizedState.cache),nc();break;case 27:case 5:ye(o);break;case 4:Dt(o,o.stateNode.containerInfo);break;case 10:Ba(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ua(o),o.flags|=128,null):(c&o.child.childLanes)!==0?Q0(a,o,c):(Ua(o),a=ua(a,o,c),a!==null?a.sibling:null);Ua(o);break;case 19:var x=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(mc(a,o,c,!1),m=(c&o.childLanes)!==0),x){if(m)return J0(a,o,c);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),fe(Fn,Fn.current),m)break;return null;case 22:case 23:return o.lanes=0,W0(a,o,c);case 24:Ba(o,Vn,a.memoizedState.cache)}return ua(a,o,c)}function ew(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)qn=!0;else{if(!lp(a,c)&&(o.flags&128)===0)return qn=!1,eO(a,o,c);qn=(a.flags&131072)!==0}else qn=!1,qt&&(o.flags&1048576)!==0&&$y(o,dd,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var m=o.elementType,x=m._init;if(m=x(m._payload),o.type=m,typeof m=="function")jp(m)?(a=$i(m,a),o.tag=1,o=X0(null,o,m,a,c)):(o.tag=0,o=ep(null,o,m,a,c));else{if(m!=null){if(x=m.$$typeof,x===j){o.tag=11,o=B0(null,o,m,a,c);break e}else if(x===_){o.tag=14,o=H0(null,o,m,a,c);break e}}throw o=P(m)||m,Error(r(306,o,""))}}return o;case 0:return ep(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,x=$i(m,o.pendingProps),X0(a,o,m,x,c);case 3:e:{if(Dt(o,o.stateNode.containerInfo),a===null)throw Error(r(387));var y=o.pendingProps;x=o.memoizedState,m=x.element,hp(a,o),vc(o,y,null,c);var T=o.memoizedState;if(y=T.cache,Ba(o,Vn,y),y!==x.cache&&dp(o,[Vn],c,!0),gc(),y=T.element,x.isDehydrated)if(x={element:y,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=K0(a,o,y,c);break e}else if(y!==m){m=Zr(Error(r(424)),o),rc(m),o=K0(a,o,y,c);break e}else for(er=vs(o.stateNode.containerInfo.firstChild),fr=o,qt=!0,ps=null,Ms=!0,c=Yy(o,null,y,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(nc(),y===m){o=ua(a,o,c);break e}tr(a,o,y,c)}o=o.child}return o;case 26:return hc(a,o),a===null?(c=rj(o.type,null,o.pendingProps,null))?o.memoizedState=c:qt||(c=o.type,a=o.pendingProps,m=Hd(it.current).createElement(c),m[gn]=o,m[An]=a,nr(m,c,a),Dn(m),o.stateNode=m):o.memoizedState=rj(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ye(o),a===null&&qt&&(m=o.stateNode=ej(o.type,o.pendingProps,it.current),fr=o,Ms=!0,er=vs(m.firstChild)),m=o.pendingProps.children,a!==null||qt?tr(a,o,m,c):o.child=Di(o,null,m,c),hc(a,o),o.child;case 5:return a===null&&qt&&((x=m=er)&&(m=MO(m,o.type,o.pendingProps,Ms),m!==null?(o.stateNode=m,fr=o,er=vs(m.firstChild),Ms=!1,x=!0):x=!1),x||Ai(o)),ye(o),x=o.type,y=o.pendingProps,T=a!==null?a.memoizedProps:null,m=y.children,Gp(x,y)?m=null:T!==null&&Gp(x,T)&&(o.flags|=32),o.memoizedState!==null&&(x=Lm(a,o,YM,null,null,c),Ac._currentValue=x),hc(a,o),tr(a,o,m,c),o.child;case 6:return a===null&&qt&&((a=c=er)&&(c=OO(c,o.pendingProps,Ms),c!==null?(o.stateNode=c,fr=o,er=null,a=!0):a=!1),a||Ai(o)),null;case 13:return Q0(a,o,c);case 4:return Dt(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Di(o,null,m,c):tr(a,o,m,c),o.child;case 11:return B0(a,o,o.type,o.pendingProps,c);case 7:return tr(a,o,o.pendingProps,c),o.child;case 8:return tr(a,o,o.pendingProps.children,c),o.child;case 12:return tr(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Ba(o,o.type,m.value),tr(a,o,m.children,c),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,zi(o),x=or(x),m=m(x),o.flags|=1,tr(a,o,m,c),o.child;case 14:return H0(a,o,o.type,o.pendingProps,c);case 15:return q0(a,o,o.type,o.pendingProps,c);case 19:return J0(a,o,c);case 22:return W0(a,o,c);case 24:return zi(o),m=or(Vn),a===null?(x=Pm(),x===null&&(x=ln,y=Am(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=c),x=y),o.memoizedState={parent:m,cache:x},fp(o),Ba(o,Vn,x)):((a.lanes&c)!==0&&(hp(a,o),vc(o,null,null,c),gc()),x=a.memoizedState,y=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),Ba(o,Vn,m)):(m=y.cache,Ba(o,Vn,m),m!==x.cache&&dp(o,[Vn],c,!0))),tr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var cp=se(null),Ui=null,da=null;function Ba(a,o,c){fe(cp,o._currentValue),o._currentValue=c}function fa(a){a._currentValue=cp.current,ge(cp)}function up(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function dp(a,o,c,m){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var y=x.dependencies;if(y!==null){var T=x.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=x;for(var Y=0;Y<o.length;Y++)if(A.context===o[Y]){y.lanes|=c,A=y.alternate,A!==null&&(A.lanes|=c),up(y.return,c,a),m||(T=null);break e}y=A.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(r(341));T.lanes|=c,y=T.alternate,y!==null&&(y.lanes|=c),up(T,c,a),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===a){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function mc(a,o,c,m){a=null;for(var x=o,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=x.type;Dr(x.pendingProps.value,T.value)||(a!==null?a.push(A):a=[A])}}else if(x===rt.current){if(T=x.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(Ac):a=[Ac])}x=x.return}a!==null&&dp(o,a,c,m),o.flags|=262144}function Rd(a){for(a=a.firstContext;a!==null;){if(!Dr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function zi(a){Ui=a,da=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function or(a){return tw(Ui,a)}function Td(a,o){return Ui===null&&zi(a),tw(a,o)}function tw(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},da===null){if(a===null)throw Error(r(308));da=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else da=da.next=o;return c}var Ha=!1;function fp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function qa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Wa(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(bn&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=cd(a),Ly(a,null,c),o}return ld(a,m,o,c),cd(a)}function pc(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,yt(a,c)}}function mp(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?x=y=T:y=y.next=T,c=c.next}while(c!==null);y===null?x=y=o:y=y.next=o}else x=y=o;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var pp=!1;function gc(){if(pp){var a=Oo;if(a!==null)throw a}}function vc(a,o,c,m){pp=!1;var x=a.updateQueue;Ha=!1;var y=x.firstBaseUpdate,T=x.lastBaseUpdate,A=x.shared.pending;if(A!==null){x.shared.pending=null;var Y=A,ee=Y.next;Y.next=null,T===null?y=ee:T.next=ee,T=Y;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,A=pe.lastBaseUpdate,A!==T&&(A===null?pe.firstBaseUpdate=ee:A.next=ee,pe.lastBaseUpdate=Y))}if(y!==null){var je=x.baseState;T=0,pe=ee=Y=null,A=y;do{var de=A.lane&-536870913,me=de!==A.lane;if(me?(Lt&de)===de:(m&de)===de){de!==0&&de===Mo&&(pp=!0),pe!==null&&(pe=pe.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Be=a,ot=A;de=o;var _n=c;switch(ot.tag){case 1:if(Be=ot.payload,typeof Be=="function"){je=Be.call(_n,je,de);break e}je=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ot.payload,de=typeof Be=="function"?Be.call(_n,je,de):Be,de==null)break e;je=F({},je,de);break e;case 2:Ha=!0}}de=A.callback,de!==null&&(a.flags|=64,me&&(a.flags|=8192),me=x.callbacks,me===null?x.callbacks=[de]:me.push(de))}else me={lane:de,tag:A.tag,payload:A.payload,callback:A.callback,next:null},pe===null?(ee=pe=me,Y=je):pe=pe.next=me,T|=de;if(A=A.next,A===null){if(A=x.shared.pending,A===null)break;me=A,A=me.next,me.next=null,x.lastBaseUpdate=me,x.shared.pending=null}}while(!0);pe===null&&(Y=je),x.baseState=Y,x.firstBaseUpdate=ee,x.lastBaseUpdate=pe,y===null&&(x.shared.lanes=0),Qa|=T,a.lanes=T,a.memoizedState=je}}function nw(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function rw(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)nw(c[a],o)}function xc(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var x=m.next;c=x;do{if((c.tag&a)===a){m=void 0;var y=c.create,T=c.inst;m=y(),T.destroy=m}c=c.next}while(c!==x)}}catch(A){an(o,o.return,A)}}function Ya(a,o,c){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var y=x.next;m=y;do{if((m.tag&a)===a){var T=m.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,x=o;var Y=c;try{A()}catch(ee){an(x,Y,ee)}}}m=m.next}while(m!==y)}}catch(ee){an(o,o.return,ee)}}function sw(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{rw(o,c)}catch(m){an(a,a.return,m)}}}function aw(a,o,c){c.props=$i(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){an(a,o,m)}}function Fi(a,o){try{var c=a.ref;if(c!==null){var m=a.stateNode;switch(a.tag){case 26:case 27:case 5:var x=m;break;default:x=m}typeof c=="function"?a.refCleanup=c(x):c.current=x}}catch(y){an(a,o,y)}}function Pr(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(x){an(a,o,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){an(a,o,x)}else c.current=null}function iw(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(x){an(a,a.return,x)}}function ow(a,o,c){try{var m=a.stateNode;_O(m,a.type,c,o),m[An]=o}catch(x){an(a,a.return,x)}}function lw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function gp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||lw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vp(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(a,o):c.insertBefore(a,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(a,c)):(o=c,o.appendChild(a)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Bd));else if(m!==4&&m!==27&&(a=a.child,a!==null))for(vp(a,o,c),a=a.sibling;a!==null;)vp(a,o,c),a=a.sibling}function Md(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&m!==27&&(a=a.child,a!==null))for(Md(a,o,c),a=a.sibling;a!==null;)Md(a,o,c),a=a.sibling}var ha=!1,Nn=!1,xp=!1,cw=typeof WeakSet=="function"?WeakSet:Set,Wn=null,uw=!1;function tO(a,o){if(a=a.containerInfo,Wp=Kd,a=Cy(a),ym(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,y=m.focusNode;m=m.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var T=0,A=-1,Y=-1,ee=0,pe=0,je=a,de=null;t:for(;;){for(var me;je!==c||x!==0&&je.nodeType!==3||(A=T+x),je!==y||m!==0&&je.nodeType!==3||(Y=T+m),je.nodeType===3&&(T+=je.nodeValue.length),(me=je.firstChild)!==null;)de=je,je=me;for(;;){if(je===a)break t;if(de===c&&++ee===x&&(A=T),de===y&&++pe===m&&(Y=T),(me=je.nextSibling)!==null)break;je=de,de=je.parentNode}je=me}c=A===-1||Y===-1?null:{start:A,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Yp={focusedElem:a,selectionRange:c},Kd=!1,Wn=o;Wn!==null;)if(o=Wn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Wn=a;else for(;Wn!==null;){switch(o=Wn,y=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,c=o,x=y.memoizedProps,y=y.memoizedState,m=c.stateNode;try{var Be=$i(c.type,x,c.elementType===c.type);a=m.getSnapshotBeforeUpdate(Be,y),m.__reactInternalSnapshotBeforeUpdate=a}catch(ot){an(c,c.return,ot)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Qp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Qp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Wn=a;break}Wn=o.return}return Be=uw,uw=!1,Be}function dw(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:pa(a,c),m&4&&xc(5,c);break;case 1:if(pa(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(A){an(c,c.return,A)}else{var x=$i(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(x,o,a.__reactInternalSnapshotBeforeUpdate)}catch(A){an(c,c.return,A)}}m&64&&sw(c),m&512&&Fi(c,c.return);break;case 3:if(pa(a,c),m&64&&(m=c.updateQueue,m!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{rw(m,a)}catch(A){an(c,c.return,A)}}break;case 26:pa(a,c),m&512&&Fi(c,c.return);break;case 27:case 5:pa(a,c),o===null&&m&4&&iw(c),m&512&&Fi(c,c.return);break;case 12:pa(a,c);break;case 13:pa(a,c),m&4&&mw(a,c);break;case 22:if(x=c.memoizedState!==null||ha,!x){o=o!==null&&o.memoizedState!==null||Nn;var y=ha,T=Nn;ha=x,(Nn=o)&&!T?Ga(a,c,(c.subtreeFlags&8772)!==0):pa(a,c),ha=y,Nn=T}m&512&&(c.memoizedProps.mode==="manual"?Fi(c,c.return):Pr(c,c.return));break;default:pa(a,c)}}function fw(a){var o=a.alternate;o!==null&&(a.alternate=null,fw(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Nr(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ln=null,kr=!1;function ma(a,o,c){for(c=c.child;c!==null;)hw(a,o,c),c=c.sibling}function hw(a,o,c){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(pn,c)}catch{}switch(c.tag){case 26:Nn||Pr(c,o),ma(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Nn||Pr(c,o);var m=Ln,x=kr;for(Ln=c.stateNode,ma(a,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);Nr(c),Ln=m,kr=x;break;case 5:Nn||Pr(c,o);case 6:x=Ln;var y=kr;if(Ln=null,ma(a,o,c),Ln=x,kr=y,Ln!==null)if(kr)try{a=Ln,m=c.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)}catch(T){an(c,o,T)}else try{Ln.removeChild(c.stateNode)}catch(T){an(c,o,T)}break;case 18:Ln!==null&&(kr?(o=Ln,c=c.stateNode,o.nodeType===8?Kp(o.parentNode,c):o.nodeType===1&&Kp(o,c),Lc(o)):Kp(Ln,c.stateNode));break;case 4:m=Ln,x=kr,Ln=c.stateNode.containerInfo,kr=!0,ma(a,o,c),Ln=m,kr=x;break;case 0:case 11:case 14:case 15:Nn||Ya(2,c,o),Nn||Ya(4,c,o),ma(a,o,c);break;case 1:Nn||(Pr(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&aw(c,o,m)),ma(a,o,c);break;case 21:ma(a,o,c);break;case 22:Nn||Pr(c,o),Nn=(m=Nn)||c.memoizedState!==null,ma(a,o,c),Nn=m;break;default:ma(a,o,c)}}function mw(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Lc(a)}catch(c){an(o,o.return,c)}}function nO(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new cw),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new cw),o;default:throw Error(r(435,a.tag))}}function bp(a,o){var c=nO(a);o.forEach(function(m){var x=pO.bind(null,a,m);c.has(m)||(c.add(m),m.then(x,x))})}function ns(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m],y=a,T=o,A=T;e:for(;A!==null;){switch(A.tag){case 27:case 5:Ln=A.stateNode,kr=!1;break e;case 3:Ln=A.stateNode.containerInfo,kr=!0;break e;case 4:Ln=A.stateNode.containerInfo,kr=!0;break e}A=A.return}if(Ln===null)throw Error(r(160));hw(y,T,x),Ln=null,kr=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)pw(o,a),o=o.sibling}var gs=null;function pw(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ns(o,a),rs(a),m&4&&(Ya(3,a,a.return),xc(3,a),Ya(5,a,a.return));break;case 1:ns(o,a),rs(a),m&512&&(Nn||c===null||Pr(c,c.return)),m&64&&ha&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var x=gs;if(ns(o,a),rs(a),m&512&&(Nn||c===null||Pr(c,c.return)),m&4){var y=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":y=x.getElementsByTagName("title")[0],(!y||y[Jn]||y[gn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(m),x.head.insertBefore(y,x.querySelector("head > title"))),nr(y,m,c),y[gn]=a,Dn(y),m=y;break e;case"link":var T=ij("link","href",x).get(m+(c.href||""));if(T){for(var A=0;A<T.length;A++)if(y=T[A],y.getAttribute("href")===(c.href==null?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(A,1);break t}}y=x.createElement(m),nr(y,m,c),x.head.appendChild(y);break;case"meta":if(T=ij("meta","content",x).get(m+(c.content||""))){for(A=0;A<T.length;A++)if(y=T[A],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(A,1);break t}}y=x.createElement(m),nr(y,m,c),x.head.appendChild(y);break;default:throw Error(r(468,m))}y[gn]=a,Dn(y),m=y}a.stateNode=m}else oj(x,a.type,a.stateNode);else a.stateNode=aj(x,m,a.memoizedProps);else y!==m?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,m===null?oj(x,a.type,a.stateNode):aj(x,m,a.memoizedProps)):m===null&&a.stateNode!==null&&ow(a,a.memoizedProps,c.memoizedProps)}break;case 27:if(m&4&&a.alternate===null){x=a.stateNode,y=a.memoizedProps;try{for(var Y=x.firstChild;Y;){var ee=Y.nextSibling,pe=Y.nodeName;Y[Jn]||pe==="HEAD"||pe==="BODY"||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||x.removeChild(Y),Y=ee}for(var je=a.type,de=x.attributes;de.length;)x.removeAttributeNode(de[0]);nr(x,je,y),x[gn]=a,x[An]=y}catch(Be){an(a,a.return,Be)}}case 5:if(ns(o,a),rs(a),m&512&&(Nn||c===null||Pr(c,c.return)),a.flags&32){x=a.stateNode;try{xo(x,"")}catch(Be){an(a,a.return,Be)}}m&4&&a.stateNode!=null&&(x=a.memoizedProps,ow(a,x,c!==null?c.memoizedProps:x)),m&1024&&(xp=!0);break;case 6:if(ns(o,a),rs(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(Be){an(a,a.return,Be)}}break;case 3:if(Yd=null,x=gs,gs=qd(o.containerInfo),ns(o,a),gs=x,rs(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Lc(o.containerInfo)}catch(Be){an(a,a.return,Be)}xp&&(xp=!1,gw(a));break;case 4:m=gs,gs=qd(a.stateNode.containerInfo),ns(o,a),rs(a),gs=m;break;case 12:ns(o,a),rs(a);break;case 13:ns(o,a),rs(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Rp=dt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,bp(a,m)));break;case 22:if(m&512&&(Nn||c===null||Pr(c,c.return)),Y=a.memoizedState!==null,ee=c!==null&&c.memoizedState!==null,pe=ha,je=Nn,ha=pe||Y,Nn=je||ee,ns(o,a),Nn=je,ha=pe,rs(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,m&8192&&(o._visibility=Y?o._visibility&-2:o._visibility|1,Y&&(o=ha||Nn,c===null||ee||o||ko(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(c=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){ee=c=o;try{if(x=ee.stateNode,Y)y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=ee.stateNode,A=ee.memoizedProps.style;var me=A!=null&&A.hasOwnProperty("display")?A.display:null;T.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Be){an(ee,ee.return,Be)}}}else if(o.tag===6){if(c===null){ee=o;try{ee.stateNode.nodeValue=Y?"":ee.memoizedProps}catch(Be){an(ee,ee.return,Be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,bp(a,c))));break;case 19:ns(o,a),rs(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,bp(a,m)));break;case 21:break;default:ns(o,a),rs(a)}}function rs(a){var o=a.flags;if(o&2){try{if(a.tag!==27){e:{for(var c=a.return;c!==null;){if(lw(c)){var m=c;break e}c=c.return}throw Error(r(160))}switch(m.tag){case 27:var x=m.stateNode,y=gp(a);Md(a,y,x);break;case 5:var T=m.stateNode;m.flags&32&&(xo(T,""),m.flags&=-33);var A=gp(a);Md(a,A,T);break;case 3:case 4:var Y=m.stateNode.containerInfo,ee=gp(a);vp(a,ee,Y);break;default:throw Error(r(161))}}}catch(pe){an(a,a.return,pe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function gw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;gw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function pa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)dw(a,o.alternate,o),o=o.sibling}function ko(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ya(4,o,o.return),ko(o);break;case 1:Pr(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&aw(o,o.return,c),ko(o);break;case 26:case 27:case 5:Pr(o,o.return),ko(o);break;case 22:Pr(o,o.return),o.memoizedState===null&&ko(o);break;default:ko(o)}a=a.sibling}}function Ga(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=a,y=o,T=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(x,y,c),xc(4,y);break;case 1:if(Ga(x,y,c),m=y,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ee){an(m,m.return,ee)}if(m=y,x=m.updateQueue,x!==null){var A=m.stateNode;try{var Y=x.shared.hiddenCallbacks;if(Y!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Y.length;x++)nw(Y[x],A)}catch(ee){an(m,m.return,ee)}}c&&T&64&&sw(y),Fi(y,y.return);break;case 26:case 27:case 5:Ga(x,y,c),c&&m===null&&T&4&&iw(y),Fi(y,y.return);break;case 12:Ga(x,y,c);break;case 13:Ga(x,y,c),c&&T&4&&mw(x,y);break;case 22:y.memoizedState===null&&Ga(x,y,c),Fi(y,y.return);break;default:Ga(x,y,c)}o=o.sibling}}function yp(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&lc(c))}function wp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&lc(a))}function Xa(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vw(a,o,c,m),o=o.sibling}function vw(a,o,c,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Xa(a,o,c,m),x&2048&&xc(9,o);break;case 3:Xa(a,o,c,m),x&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&lc(a)));break;case 12:if(x&2048){Xa(a,o,c,m),a=o.stateNode;try{var y=o.memoizedProps,T=y.id,A=y.onPostCommit;typeof A=="function"&&A(T,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Y){an(o,o.return,Y)}}else Xa(a,o,c,m);break;case 23:break;case 22:y=o.stateNode,o.memoizedState!==null?y._visibility&4?Xa(a,o,c,m):bc(a,o):y._visibility&4?Xa(a,o,c,m):(y._visibility|=4,Lo(a,o,c,m,(o.subtreeFlags&10256)!==0)),x&2048&&yp(o.alternate,o);break;case 24:Xa(a,o,c,m),x&2048&&wp(o.alternate,o);break;default:Xa(a,o,c,m)}}function Lo(a,o,c,m,x){for(x=x&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=a,T=o,A=c,Y=m,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Lo(y,T,A,Y,x),xc(8,T);break;case 23:break;case 22:var pe=T.stateNode;T.memoizedState!==null?pe._visibility&4?Lo(y,T,A,Y,x):bc(y,T):(pe._visibility|=4,Lo(y,T,A,Y,x)),x&&ee&2048&&yp(T.alternate,T);break;case 24:Lo(y,T,A,Y,x),x&&ee&2048&&wp(T.alternate,T);break;default:Lo(y,T,A,Y,x)}o=o.sibling}}function bc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,x=m.flags;switch(m.tag){case 22:bc(c,m),x&2048&&yp(m.alternate,m);break;case 24:bc(c,m),x&2048&&wp(m.alternate,m);break;default:bc(c,m)}o=o.sibling}}var yc=8192;function Io(a){if(a.subtreeFlags&yc)for(a=a.child;a!==null;)xw(a),a=a.sibling}function xw(a){switch(a.tag){case 26:Io(a),a.flags&yc&&a.memoizedState!==null&&HO(gs,a.memoizedState,a.memoizedProps);break;case 5:Io(a);break;case 3:case 4:var o=gs;gs=qd(a.stateNode.containerInfo),Io(a),gs=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=yc,yc=16777216,Io(a),yc=o):Io(a));break;default:Io(a)}}function bw(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function wc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Wn=m,ww(m,a)}bw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yw(a),a=a.sibling}function yw(a){switch(a.tag){case 0:case 11:case 15:wc(a),a.flags&2048&&Ya(9,a,a.return);break;case 3:wc(a);break;case 12:wc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,Od(a)):wc(a);break;default:wc(a)}}function Od(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Wn=m,ww(m,a)}bw(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ya(8,o,o.return),Od(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,Od(o));break;default:Od(o)}a=a.sibling}}function ww(a,o){for(;Wn!==null;){var c=Wn;switch(c.tag){case 0:case 11:case 15:Ya(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:lc(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Wn=m;else e:for(c=a;Wn!==null;){m=Wn;var x=m.sibling,y=m.return;if(fw(m),m===c){Wn=null;break e}if(x!==null){x.return=y,Wn=x;break e}Wn=y}}}function rO(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(a,o,c,m){return new rO(a,o,c,m)}function jp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ka(a,o){var c=a.alternate;return c===null?(c=ss(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&31457280,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function jw(a,o){a.flags&=31457282;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Ad(a,o,c,m,x,y){var T=0;if(m=a,typeof a=="function")jp(a)&&(T=1);else if(typeof a=="string")T=VO(a,c,Se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case f:return Vi(c.children,x,y,o);case p:T=8,x|=24;break;case g:return a=ss(12,c,o,x|2),a.elementType=g,a.lanes=y,a;case N:return a=ss(13,c,o,x),a.elementType=N,a.lanes=y,a;case S:return a=ss(19,c,o,x),a.elementType=S,a.lanes=y,a;case E:return Nw(c,x,y,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:case w:T=10;break e;case b:T=9;break e;case j:T=11;break e;case _:T=14;break e;case R:T=16,m=null;break e}T=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=ss(T,c,o,x),o.elementType=a,o.type=m,o.lanes=y,o}function Vi(a,o,c,m){return a=ss(7,a,m,o),a.lanes=c,a}function Nw(a,o,c,m){a=ss(22,a,m,o),a.elementType=E,a.lanes=c;var x={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=x._current;if(y===null)throw Error(r(456));if((x._pendingVisibility&2)===0){var T=$a(y,2);T!==null&&(x._pendingVisibility|=2,hr(T,y,2))}},attach:function(){var y=x._current;if(y===null)throw Error(r(456));if((x._pendingVisibility&2)!==0){var T=$a(y,2);T!==null&&(x._pendingVisibility&=-3,hr(T,y,2))}}};return a.stateNode=x,a}function Np(a,o,c){return a=ss(6,a,null,o),a.lanes=c,a}function Sp(a,o,c){return o=ss(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function ga(a){a.flags|=4}function Sw(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!lj(o)){if(o=ts.current,o!==null&&((Lt&4194176)===Lt?Os!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||o!==Os))throw ac=Tm,Fy;a.flags|=8192}}function Dd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ve():536870912,a.lanes|=o,Uo|=o)}function jc(a,o){if(!qt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function xn(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var x=a.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&31457280,m|=x.flags&31457280,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function sO(a,o,c){var m=o.pendingProps;switch(Cm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(o),null;case 1:return xn(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),fa(Vn),ue(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(tc(o)?ga(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ps!==null&&(Ap(ps),ps=null))),xn(o),null;case 26:return c=o.memoizedState,a===null?(ga(o),c!==null?(xn(o),Sw(o,c)):(xn(o),o.flags&=-16777217)):c?c!==a.memoizedState?(ga(o),xn(o),Sw(o,c)):(xn(o),o.flags&=-16777217):(a.memoizedProps!==m&&ga(o),xn(o),o.flags&=-16777217),null;case 27:ve(o),c=it.current;var x=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ga(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return xn(o),null}a=Se.current,tc(o)?Uy(o):(a=ej(x,m,c),o.stateNode=a,ga(o))}return xn(o),null;case 5:if(ve(o),c=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ga(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return xn(o),null}if(a=Se.current,tc(o))Uy(o);else{switch(x=Hd(it.current),a){case 1:a=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=x.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?x.createElement(c,{is:m.is}):x.createElement(c)}}a[gn]=o,a[An]=m;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)a.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=a;e:switch(nr(a,c,m),c){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ga(o)}}return xn(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&ga(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=it.current,tc(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,x=fr,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}a[gn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Gw(a.nodeValue,c)),a||Ai(o)}else a=Hd(a).createTextNode(m),a[gn]=o,o.stateNode=a}return xn(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=tc(o),m!==null&&m.dehydrated!==null){if(a===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[gn]=o}else nc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xn(o),x=!1}else ps!==null&&(Ap(ps),ps=null),x=!0;if(!x)return o.flags&256?(la(o),o):(la(o),null)}if(la(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=m!==null,a=a!==null&&a.memoizedState!==null,c){m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var y=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(y=m.memoizedState.cachePool.pool),y!==x&&(m.flags|=2048)}return c!==a&&c&&(o.child.flags|=8192),Dd(o,o.updateQueue),xn(o),null;case 4:return ue(),a===null&&Bp(o.stateNode.containerInfo),xn(o),null;case 10:return fa(o.type),xn(o),null;case 19:if(ge(Fn),x=o.memoizedState,x===null)return xn(o),null;if(m=(o.flags&128)!==0,y=x.rendering,y===null)if(m)jc(x,!1);else{if(Sn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=gd(a),y!==null){for(o.flags|=128,jc(x,!1),a=y.updateQueue,o.updateQueue=a,Dd(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)jw(c,a),c=c.sibling;return fe(Fn,Fn.current&1|2),o.child}a=a.sibling}x.tail!==null&&dt()>Pd&&(o.flags|=128,m=!0,jc(x,!1),o.lanes=4194304)}else{if(!m)if(a=gd(y),a!==null){if(o.flags|=128,m=!0,a=a.updateQueue,o.updateQueue=a,Dd(o,a),jc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!y.alternate&&!qt)return xn(o),null}else 2*dt()-x.renderingStartTime>Pd&&c!==536870912&&(o.flags|=128,m=!0,jc(x,!1),o.lanes=4194304);x.isBackwards?(y.sibling=o.child,o.child=y):(a=x.last,a!==null?a.sibling=y:o.child=y,x.last=y)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=dt(),o.sibling=null,a=Fn.current,fe(Fn,m?a&1|2:a&1),o):(xn(o),null);case 22:case 23:return la(o),Om(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(xn(o),o.subtreeFlags&6&&(o.flags|=8192)):xn(o),c=o.updateQueue,c!==null&&Dd(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&ge(Pi),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),fa(Vn),xn(o),null;case 25:return null}throw Error(r(156,o.tag))}function aO(a,o){switch(Cm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return fa(Vn),ue(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ve(o),null;case 13:if(la(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));nc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ge(Fn),null;case 4:return ue(),null;case 10:return fa(o.type),null;case 22:case 23:return la(o),Om(),a!==null&&ge(Pi),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return fa(Vn),null;case 25:return null;default:return null}}function _w(a,o){switch(Cm(o),o.tag){case 3:fa(Vn),ue();break;case 26:case 27:case 5:ve(o);break;case 4:ue();break;case 13:la(o);break;case 19:ge(Fn);break;case 10:fa(o.type);break;case 22:case 23:la(o),Om(),a!==null&&ge(Pi);break;case 24:fa(Vn)}}var iO={getCacheForType:function(a){var o=or(Vn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c}},oO=typeof WeakMap=="function"?WeakMap:Map,bn=0,ln=null,Nt=null,Lt=0,cn=0,Lr=null,va=!1,$o=!1,_p=!1,xa=0,Sn=0,Qa=0,Bi=0,Ep=0,as=0,Uo=0,Nc=null,Ds=null,Cp=!1,Rp=0,Pd=1/0,kd=null,Za=null,Ld=!1,Hi=null,Sc=0,Tp=0,Mp=null,_c=0,Op=null;function Ir(){if((bn&2)!==0&&Lt!==0)return Lt&-Lt;if(k.T!==null){var a=Mo;return a!==0?a:Up()}return Ht()}function Ew(){as===0&&(as=(Lt&536870912)===0||qt?De():536870912);var a=ts.current;return a!==null&&(a.flags|=32),as}function hr(a,o,c){(a===ln&&cn===2||a.cancelPendingCommit!==null)&&(zo(a,0),ba(a,Lt,as,!1)),Ge(a,c),((bn&2)===0||a!==ln)&&(a===ln&&((bn&2)===0&&(Bi|=c),Sn===4&&ba(a,Lt,as,!1)),Ps(a))}function Cw(a,o,c){if((bn&6)!==0)throw Error(r(327));var m=!c&&(o&60)===0&&(o&a.expiredLanes)===0||xe(a,o),x=m?uO(a,o):kp(a,o,!0),y=m;do{if(x===0){$o&&!m&&ba(a,o,0,!1);break}else if(x===6)ba(a,o,0,!va);else{if(c=a.current.alternate,y&&!lO(c)){x=kp(a,o,!1),y=!1;continue}if(x===2){if(y=o,a.errorRecoveryDisabledLanes&y)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var A=a;x=Nc;var Y=A.current.memoizedState.isDehydrated;if(Y&&(zo(A,T).flags|=256),T=kp(A,T,!1),T!==2){if(_p&&!Y){A.errorRecoveryDisabledLanes|=y,Bi|=y,x=4;break e}y=Ds,Ds=x,y!==null&&Ap(y)}x=T}if(y=!1,x!==2)continue}}if(x===1){zo(a,0),ba(a,o,0,!0);break}e:{switch(m=a,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){ba(m,o,as,!va);break e}break;case 2:Ds=null;break;case 3:case 5:break;default:throw Error(r(329))}if(m.finishedWork=c,m.finishedLanes=o,(o&62914560)===o&&(y=Rp+300-dt(),10<y)){if(ba(m,o,as,!va),te(m,0)!==0)break e;m.timeoutHandle=Qw(Rw.bind(null,m,c,Ds,kd,Cp,o,as,Bi,Uo,va,2,-0,0),y);break e}Rw(m,c,Ds,kd,Cp,o,as,Bi,Uo,va,0,-0,0)}}break}while(!0);Ps(a)}function Ap(a){Ds===null?Ds=a:Ds.push.apply(Ds,a)}function Rw(a,o,c,m,x,y,T,A,Y,ee,pe,je,de){var me=o.subtreeFlags;if((me&8192||(me&16785408)===16785408)&&(Oc={stylesheets:null,count:0,unsuspend:BO},xw(o),o=qO(),o!==null)){a.cancelPendingCommit=o(kw.bind(null,a,c,m,x,T,A,Y,1,je,de)),ba(a,y,T,!ee);return}kw(a,c,m,x,T,A,Y,pe,je,de)}function lO(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var x=c[m],y=x.getSnapshot;x=x.value;try{if(!Dr(y(),x))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ba(a,o,c,m){o&=~Ep,o&=~Bi,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var x=o;0<x;){var y=31-jn(x),T=1<<y;m[y]=-1,x&=~T}c!==0&&mt(a,c,o)}function Id(){return(bn&6)===0?(Ec(0),!1):!0}function Dp(){if(Nt!==null){if(cn===0)var a=Nt.return;else a=Nt,da=Ui=null,Um(a),Ro=null,ic=0,a=Nt;for(;a!==null;)_w(a.alternate,a),a=a.return;Nt=null}}function zo(a,o){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,CO(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Dp(),ln=a,Nt=c=Ka(a.current,null),Lt=o,cn=0,Lr=null,va=!1,$o=xe(a,o),_p=!1,Uo=as=Ep=Bi=Qa=Sn=0,Ds=Nc=null,Cp=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var x=31-jn(m),y=1<<x;o|=a[x],m&=~y}return xa=o,od(),c}function Tw(a,o){bt=null,k.H=As,o===sc?(o=Hy(),cn=3):o===Fy?(o=Hy(),cn=4):cn=o===V0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Lr=o,Nt===null&&(Sn=1,Cd(a,Zr(o,a.current)))}function Mw(){var a=k.H;return k.H=As,a===null?As:a}function Ow(){var a=k.A;return k.A=iO,a}function Pp(){Sn=4,va||(Lt&4194176)!==Lt&&ts.current!==null||($o=!0),(Qa&134217727)===0&&(Bi&134217727)===0||ln===null||ba(ln,Lt,as,!1)}function kp(a,o,c){var m=bn;bn|=2;var x=Mw(),y=Ow();(ln!==a||Lt!==o)&&(kd=null,zo(a,o)),o=!1;var T=Sn;e:do try{if(cn!==0&&Nt!==null){var A=Nt,Y=Lr;switch(cn){case 8:Dp(),T=6;break e;case 3:case 2:case 6:ts.current===null&&(o=!0);var ee=cn;if(cn=0,Lr=null,Fo(a,A,Y,ee),c&&$o){T=0;break e}break;default:ee=cn,cn=0,Lr=null,Fo(a,A,Y,ee)}}cO(),T=Sn;break}catch(pe){Tw(a,pe)}while(!0);return o&&a.shellSuspendCounter++,da=Ui=null,bn=m,k.H=x,k.A=y,Nt===null&&(ln=null,Lt=0,od()),T}function cO(){for(;Nt!==null;)Aw(Nt)}function uO(a,o){var c=bn;bn|=2;var m=Mw(),x=Ow();ln!==a||Lt!==o?(kd=null,Pd=dt()+500,zo(a,o)):$o=xe(a,o);e:do try{if(cn!==0&&Nt!==null){o=Nt;var y=Lr;t:switch(cn){case 1:cn=0,Lr=null,Fo(a,o,y,1);break;case 2:if(Vy(y)){cn=0,Lr=null,Dw(o);break}o=function(){cn===2&&ln===a&&(cn=7),Ps(a)},y.then(o,o);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:Vy(y)?(cn=0,Lr=null,Dw(o)):(cn=0,Lr=null,Fo(a,o,y,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var A=Nt;if(!T||lj(T)){cn=0,Lr=null;var Y=A.sibling;if(Y!==null)Nt=Y;else{var ee=A.return;ee!==null?(Nt=ee,$d(ee)):Nt=null}break t}}cn=0,Lr=null,Fo(a,o,y,5);break;case 6:cn=0,Lr=null,Fo(a,o,y,6);break;case 8:Dp(),Sn=6;break e;default:throw Error(r(462))}}dO();break}catch(pe){Tw(a,pe)}while(!0);return da=Ui=null,k.H=m,k.A=x,bn=c,Nt!==null?0:(ln=null,Lt=0,od(),Sn)}function dO(){for(;Nt!==null&&!$e();)Aw(Nt)}function Aw(a){var o=ew(a.alternate,a,xa);a.memoizedProps=a.pendingProps,o===null?$d(a):Nt=o}function Dw(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=G0(c,o,o.pendingProps,o.type,void 0,Lt);break;case 11:o=G0(c,o,o.pendingProps,o.type.render,o.ref,Lt);break;case 5:Um(o);default:_w(c,o),o=Nt=jw(o,xa),o=ew(c,o,xa)}a.memoizedProps=a.pendingProps,o===null?$d(a):Nt=o}function Fo(a,o,c,m){da=Ui=null,Um(o),Ro=null,ic=0;var x=o.return;try{if(JM(a,x,o,c,Lt)){Sn=1,Cd(a,Zr(c,a.current)),Nt=null;return}}catch(y){if(x!==null)throw Nt=x,y;Sn=1,Cd(a,Zr(c,a.current)),Nt=null;return}o.flags&32768?(qt||m===1?a=!0:$o||(Lt&536870912)!==0?a=!1:(va=a=!0,(m===2||m===3||m===6)&&(m=ts.current,m!==null&&m.tag===13&&(m.flags|=16384))),Pw(o,a)):$d(o)}function $d(a){var o=a;do{if((o.flags&32768)!==0){Pw(o,va);return}a=o.return;var c=sO(o.alternate,o,xa);if(c!==null){Nt=c;return}if(o=o.sibling,o!==null){Nt=o;return}Nt=o=a}while(o!==null);Sn===0&&(Sn=5)}function Pw(a,o){do{var c=aO(a.alternate,a);if(c!==null){c.flags&=32767,Nt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Nt=a;return}Nt=a=c}while(a!==null);Sn=6,Nt=null}function kw(a,o,c,m,x,y,T,A,Y,ee){var pe=k.T,je=I.p;try{I.p=2,k.T=null,fO(a,o,c,m,je,x,y,T,A,Y,ee)}finally{k.T=pe,I.p=je}}function fO(a,o,c,m,x,y,T,A){do Vo();while(Hi!==null);if((bn&6)!==0)throw Error(r(327));var Y=a.finishedWork;if(m=a.finishedLanes,Y===null)return null;if(a.finishedWork=null,a.finishedLanes=0,Y===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var ee=Y.lanes|Y.childLanes;if(ee|=Sm,xt(a,m,ee,y,T,A),a===ln&&(Nt=ln=null,Lt=0),(Y.subtreeFlags&10256)===0&&(Y.flags&10256)===0||Ld||(Ld=!0,Tp=ee,Mp=c,gO(st,function(){return Vo(),null})),c=(Y.flags&15990)!==0,(Y.subtreeFlags&15990)!==0||c?(c=k.T,k.T=null,y=I.p,I.p=2,T=bn,bn|=4,tO(a,Y),pw(Y,a),LM(Yp,a.containerInfo),Kd=!!Wp,Yp=Wp=null,a.current=Y,dw(a,Y.alternate,Y),lt(),bn=T,I.p=y,k.T=c):a.current=Y,Ld?(Ld=!1,Hi=a,Sc=m):Lw(a,ee),ee=a.pendingLanes,ee===0&&(Za=null),Tn(Y.stateNode),Ps(a),o!==null)for(x=a.onRecoverableError,Y=0;Y<o.length;Y++)ee=o[Y],x(ee.value,{componentStack:ee.stack});return(Sc&3)!==0&&Vo(),ee=a.pendingLanes,(m&4194218)!==0&&(ee&42)!==0?a===Op?_c++:(_c=0,Op=a):_c=0,Ec(0),null}function Lw(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,lc(o)))}function Vo(){if(Hi!==null){var a=Hi,o=Tp;Tp=0;var c=zt(Sc),m=k.T,x=I.p;try{if(I.p=32>c?32:c,k.T=null,Hi===null)var y=!1;else{c=Mp,Mp=null;var T=Hi,A=Sc;if(Hi=null,Sc=0,(bn&6)!==0)throw Error(r(331));var Y=bn;if(bn|=4,yw(T.current),vw(T,T.current,A,c),bn=Y,Ec(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(pn,T)}catch{}y=!0}return y}finally{I.p=x,k.T=m,Lw(a,o)}}return!1}function Iw(a,o,c){o=Zr(c,o),o=Jm(a.stateNode,o,2),a=Wa(a,o,2),a!==null&&(Ge(a,2),Ps(a))}function an(a,o,c){if(a.tag===3)Iw(a,a,c);else for(;o!==null;){if(o.tag===3){Iw(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Za===null||!Za.has(m))){a=Zr(c,a),c=z0(2),m=Wa(o,c,2),m!==null&&(F0(c,m,o,a),Ge(m,2),Ps(m));break}}o=o.return}}function Lp(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new oO;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(c)||(_p=!0,x.add(c),a=hO.bind(null,a,o,c),o.then(a,a))}function hO(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,ln===a&&(Lt&c)===c&&(Sn===4||Sn===3&&(Lt&62914560)===Lt&&300>dt()-Rp?(bn&2)===0&&zo(a,0):Ep|=c,Uo===Lt&&(Uo=0)),Ps(a)}function $w(a,o){o===0&&(o=Ve()),a=$a(a,o),a!==null&&(Ge(a,o),Ps(a))}function mO(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),$w(a,c)}function pO(a,o){var c=0;switch(a.tag){case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),$w(a,c)}function gO(a,o){return Oe(a,o)}var Ud=null,Bo=null,Ip=!1,zd=!1,$p=!1,qi=0;function Ps(a){a!==Bo&&a.next===null&&(Bo===null?Ud=Bo=a:Bo=Bo.next=a),zd=!0,Ip||(Ip=!0,xO(vO))}function Ec(a,o){if(!$p&&zd){$p=!0;do for(var c=!1,m=Ud;m!==null;){if(a!==0){var x=m.pendingLanes;if(x===0)var y=0;else{var T=m.suspendedLanes,A=m.pingedLanes;y=(1<<31-jn(42|a)+1)-1,y&=x&~(T&~A),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(c=!0,Fw(m,y))}else y=Lt,y=te(m,m===ln?y:0),(y&3)===0||xe(m,y)||(c=!0,Fw(m,y));m=m.next}while(c);$p=!1}}function vO(){zd=Ip=!1;var a=0;qi!==0&&(EO()&&(a=qi),qi=0);for(var o=dt(),c=null,m=Ud;m!==null;){var x=m.next,y=Uw(m,o);y===0?(m.next=null,c===null?Ud=x:c.next=x,x===null&&(Bo=c)):(c=m,(a!==0||(y&3)!==0)&&(zd=!0)),m=x}Ec(a)}function Uw(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var T=31-jn(y),A=1<<T,Y=x[T];Y===-1?((A&c)===0||(A&m)!==0)&&(x[T]=_e(A,o)):Y<=o&&(a.expiredLanes|=A),y&=~A}if(o=ln,c=Lt,c=te(a,a===o?c:0),m=a.callbackNode,c===0||a===o&&cn===2||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ie(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||xe(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Ie(m),zt(c)){case 2:case 8:c=qe;break;case 32:c=st;break;case 268435456:c=$n;break;default:c=st}return m=zw.bind(null,a),c=Oe(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Ie(m),a.callbackPriority=2,a.callbackNode=null,2}function zw(a,o){var c=a.callbackNode;if(Vo()&&a.callbackNode!==c)return null;var m=Lt;return m=te(a,a===ln?m:0),m===0?null:(Cw(a,m,o),Uw(a,dt()),a.callbackNode!=null&&a.callbackNode===c?zw.bind(null,a):null)}function Fw(a,o){if(Vo())return null;Cw(a,o,!0)}function xO(a){RO(function(){(bn&6)!==0?Oe(_t,a):a()})}function Up(){return qi===0&&(qi=De()),qi}function Vw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ed(""+a)}function Bw(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function bO(a,o,c,m,x){if(o==="submit"&&c&&c.stateNode===x){var y=Vw((x[An]||null).action),T=m.submitter;T&&(o=(o=T[An]||null)?Vw(o.formAction):T.getAttribute("formAction"),o!==null&&(y=o,T=null));var A=new sd("action","action",null,m,x);a.push({event:A,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(qi!==0){var Y=T?Bw(x,T):new FormData(x);Gm(c,{pending:!0,data:Y,method:x.method,action:y},null,Y)}}else typeof y=="function"&&(A.preventDefault(),Y=T?Bw(x,T):new FormData(x),Gm(c,{pending:!0,data:Y,method:x.method,action:y},y,Y))},currentTarget:x}]})}}for(var zp=0;zp<ky.length;zp++){var Fp=ky[zp],yO=Fp.toLowerCase(),wO=Fp[0].toUpperCase()+Fp.slice(1);ms(yO,"on"+wO)}ms(My,"onAnimationEnd"),ms(Oy,"onAnimationIteration"),ms(Ay,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms($M,"onTransitionRun"),ms(UM,"onTransitionStart"),ms(zM,"onTransitionCancel"),ms(Dy,"onTransitionEnd"),go("onMouseEnter",["mouseout","mouseover"]),go("onMouseLeave",["mouseout","mouseover"]),go("onPointerEnter",["pointerout","pointerover"]),go("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function Hw(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],x=m.event;m=m.listeners;e:{var y=void 0;if(o)for(var T=m.length-1;0<=T;T--){var A=m[T],Y=A.instance,ee=A.currentTarget;if(A=A.listener,Y!==y&&x.isPropagationStopped())break e;y=A,x.currentTarget=ee;try{y(x)}catch(pe){Ed(pe)}x.currentTarget=null,y=Y}else for(T=0;T<m.length;T++){if(A=m[T],Y=A.instance,ee=A.currentTarget,A=A.listener,Y!==y&&x.isPropagationStopped())break e;y=A,x.currentTarget=ee;try{y(x)}catch(pe){Ed(pe)}x.currentTarget=null,y=Y}}}}function Tt(a,o){var c=o[Ee];c===void 0&&(c=o[Ee]=new Set);var m=a+"__bubble";c.has(m)||(qw(o,a,2,!1),c.add(m))}function Vp(a,o,c){var m=0;o&&(m|=4),qw(c,a,m,o)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Bp(a){if(!a[Fd]){a[Fd]=!0,Gb.forEach(function(c){c!=="selectionchange"&&(jO.has(c)||Vp(c,!1,a),Vp(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Fd]||(o[Fd]=!0,Vp("selectionchange",!1,o))}}function qw(a,o,c,m){switch(mj(o)){case 2:var x=GO;break;case 8:x=XO;break;default:x=ng}c=x.bind(null,o,c,a),x=void 0,!dm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(o,c,{capture:!0,passive:x}):a.addEventListener(o,c,!0):x!==void 0?a.addEventListener(o,c,{passive:x}):a.addEventListener(o,c,!1)}function Hp(a,o,c,m,x){var y=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var A=m.stateNode.containerInfo;if(A===x||A.nodeType===8&&A.parentNode===x)break;if(T===4)for(T=m.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&(Y=T.stateNode.containerInfo,Y===x||Y.nodeType===8&&Y.parentNode===x))return;T=T.return}for(;A!==null;){if(T=Hn(A),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){m=y=T;continue e}A=A.parentNode}}m=m.return}iy(function(){var ee=y,pe=cm(c),je=[];e:{var de=Py.get(a);if(de!==void 0){var me=sd,Be=a;switch(a){case"keypress":if(nd(c)===0)break e;case"keydown":case"keyup":me=pM;break;case"focusin":Be="focus",me=pm;break;case"focusout":Be="blur",me=pm;break;case"beforeblur":case"afterblur":me=pm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=rM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=xM;break;case My:case Oy:case Ay:me=iM;break;case Dy:me=yM;break;case"scroll":case"scrollend":me=tM;break;case"wheel":me=jM;break;case"copy":case"cut":case"paste":me=lM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=dy;break;case"toggle":case"beforetoggle":me=SM}var ot=(o&4)!==0,_n=!ot&&(a==="scroll"||a==="scrollend"),ae=ot?de!==null?de+"Capture":null:de;ot=[];for(var Z=ee,ce;Z!==null;){var be=Z;if(ce=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ce===null||ae===null||(be=Wl(Z,ae),be!=null&&ot.push(Rc(Z,be,ce))),_n)break;Z=Z.return}0<ot.length&&(de=new me(de,Be,null,c,pe),je.push({event:de,listeners:ot}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",de&&c!==lm&&(Be=c.relatedTarget||c.fromElement)&&(Hn(Be)||Be[he]))break e;if((me||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Be=c.relatedTarget||c.toElement,me=ee,Be=Be?Hn(Be):null,Be!==null&&(_n=W(Be),ot=Be.tag,Be!==_n||ot!==5&&ot!==27&&ot!==6)&&(Be=null)):(me=null,Be=ee),me!==Be)){if(ot=cy,be="onMouseLeave",ae="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(ot=dy,be="onPointerLeave",ae="onPointerEnter",Z="pointer"),_n=me==null?de:La(me),ce=Be==null?de:La(Be),de=new ot(be,Z+"leave",me,c,pe),de.target=_n,de.relatedTarget=ce,be=null,Hn(pe)===ee&&(ot=new ot(ae,Z+"enter",Be,c,pe),ot.target=ce,ot.relatedTarget=_n,be=ot),_n=be,me&&Be)t:{for(ot=me,ae=Be,Z=0,ce=ot;ce;ce=Ho(ce))Z++;for(ce=0,be=ae;be;be=Ho(be))ce++;for(;0<Z-ce;)ot=Ho(ot),Z--;for(;0<ce-Z;)ae=Ho(ae),ce--;for(;Z--;){if(ot===ae||ae!==null&&ot===ae.alternate)break t;ot=Ho(ot),ae=Ho(ae)}ot=null}else ot=null;me!==null&&Ww(je,de,me,ot,!1),Be!==null&&_n!==null&&Ww(je,_n,Be,ot,!0)}}e:{if(de=ee?La(ee):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var Ue=by;else if(vy(de))if(yy)Ue=PM;else{Ue=AM;var wt=OM}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ee&&om(ee.elementType)&&(Ue=by):Ue=DM;if(Ue&&(Ue=Ue(a,ee))){xy(je,Ue,c,pe);break e}wt&&wt(a,de,ee),a==="focusout"&&ee&&de.type==="number"&&ee.memoizedProps.value!=null&&im(de,"number",de.value)}switch(wt=ee?La(ee):window,a){case"focusin":(vy(wt)||wt.contentEditable==="true")&&(jo=wt,wm=ee,ec=null);break;case"focusout":ec=wm=jo=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,Ry(je,c,pe);break;case"selectionchange":if(IM)break;case"keydown":case"keyup":Ry(je,c,pe)}var He;if(vm)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else wo?py(a,c)&&(Ze="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(fy&&c.locale!=="ko"&&(wo||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&wo&&(He=oy()):(Ia=pe,fm="value"in Ia?Ia.value:Ia.textContent,wo=!0)),wt=Vd(ee,Ze),0<wt.length&&(Ze=new uy(Ze,a,null,c,pe),je.push({event:Ze,listeners:wt}),He?Ze.data=He:(He=gy(c),He!==null&&(Ze.data=He)))),(He=EM?CM(a,c):RM(a,c))&&(Ze=Vd(ee,"onBeforeInput"),0<Ze.length&&(wt=new uy("onBeforeInput","beforeinput",null,c,pe),je.push({event:wt,listeners:Ze}),wt.data=He)),bO(je,a,ee,c,pe)}Hw(je,o)})}function Rc(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Vd(a,o){for(var c=o+"Capture",m=[];a!==null;){var x=a,y=x.stateNode;x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=Wl(a,c),x!=null&&m.unshift(Rc(a,x,y)),x=Wl(a,o),x!=null&&m.push(Rc(a,x,y))),a=a.return}return m}function Ho(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Ww(a,o,c,m,x){for(var y=o._reactName,T=[];c!==null&&c!==m;){var A=c,Y=A.alternate,ee=A.stateNode;if(A=A.tag,Y!==null&&Y===m)break;A!==5&&A!==26&&A!==27||ee===null||(Y=ee,x?(ee=Wl(c,y),ee!=null&&T.unshift(Rc(c,ee,Y))):x||(ee=Wl(c,y),ee!=null&&T.push(Rc(c,ee,Y)))),c=c.return}T.length!==0&&a.push({event:o,listeners:T})}var NO=/\r\n?/g,SO=/\u0000|\uFFFD/g;function Yw(a){return(typeof a=="string"?a:""+a).replace(NO,`
`).replace(SO,"")}function Gw(a,o){return o=Yw(o),Yw(a)===o}function Bd(){}function rn(a,o,c,m,x,y){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||xo(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&xo(a,""+m);break;case"className":Qu(a,"class",m);break;case"tabIndex":Qu(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Qu(a,c,m);break;case"style":sy(a,m,y);break;case"data":if(o!=="object"){Qu(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=ed(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(o!=="input"&&rn(a,o,"name",x.name,x,null),rn(a,o,"formEncType",x.formEncType,x,null),rn(a,o,"formMethod",x.formMethod,x,null),rn(a,o,"formTarget",x.formTarget,x,null)):(rn(a,o,"encType",x.encType,x,null),rn(a,o,"method",x.method,x,null),rn(a,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=ed(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Bd);break;case"onScroll":m!=null&&Tt("scroll",a);break;case"onScrollEnd":m!=null&&Tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=ed(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":Tt("beforetoggle",a),Tt("toggle",a),Ku(a,"popover",m);break;case"xlinkActuate":aa(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":aa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":aa(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":aa(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":aa(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":aa(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":aa(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":aa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":aa(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ku(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=JT.get(c)||c,Ku(a,c,m))}}function qp(a,o,c,m,x,y){switch(c){case"style":sy(a,m,y);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?xo(a,m):(typeof m=="number"||typeof m=="bigint")&&xo(a,""+m);break;case"onScroll":m!=null&&Tt("scroll",a);break;case"onScrollEnd":m!=null&&Tt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Bd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xb.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),o=c.slice(2,x?c.length-7:void 0),y=a[An]||null,y=y!=null?y[c]:null,typeof y=="function"&&a.removeEventListener(o,y,x),typeof m=="function")){typeof y!="function"&&y!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,x);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Ku(a,c,m)}}}function nr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",a),Tt("load",a);var m=!1,x=!1,y;for(y in c)if(c.hasOwnProperty(y)){var T=c[y];if(T!=null)switch(y){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,y,T,c,null)}}x&&rn(a,o,"srcSet",c.srcSet,c,null),m&&rn(a,o,"src",c.src,c,null);return;case"input":Tt("invalid",a);var A=y=T=x=null,Y=null,ee=null;for(m in c)if(c.hasOwnProperty(m)){var pe=c[m];if(pe!=null)switch(m){case"name":x=pe;break;case"type":T=pe;break;case"checked":Y=pe;break;case"defaultChecked":ee=pe;break;case"value":y=pe;break;case"defaultValue":A=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:rn(a,o,m,pe,c,null)}}ey(a,y,A,Y,ee,T,x,!1),Zu(a);return;case"select":Tt("invalid",a),m=T=y=null;for(x in c)if(c.hasOwnProperty(x)&&(A=c[x],A!=null))switch(x){case"value":y=A;break;case"defaultValue":T=A;break;case"multiple":m=A;default:rn(a,o,x,A,c,null)}o=y,c=T,a.multiple=!!m,o!=null?vo(a,!!m,o,!1):c!=null&&vo(a,!!m,c,!0);return;case"textarea":Tt("invalid",a),y=x=m=null;for(T in c)if(c.hasOwnProperty(T)&&(A=c[T],A!=null))switch(T){case"value":m=A;break;case"defaultValue":x=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:rn(a,o,T,A,c,null)}ny(a,m,x,y),Zu(a);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(m=c[Y],m!=null))switch(Y){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:rn(a,o,Y,m,c,null)}return;case"dialog":Tt("cancel",a),Tt("close",a);break;case"iframe":case"object":Tt("load",a);break;case"video":case"audio":for(m=0;m<Cc.length;m++)Tt(Cc[m],a);break;case"image":Tt("error",a),Tt("load",a);break;case"details":Tt("toggle",a);break;case"embed":case"source":case"link":Tt("error",a),Tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(m=c[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,ee,m,c,null)}return;default:if(om(o)){for(pe in c)c.hasOwnProperty(pe)&&(m=c[pe],m!==void 0&&qp(a,o,pe,m,c,void 0));return}}for(A in c)c.hasOwnProperty(A)&&(m=c[A],m!=null&&rn(a,o,A,m,c,null))}function _O(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,T=null,A=null,Y=null,ee=null,pe=null;for(me in c){var je=c[me];if(c.hasOwnProperty(me)&&je!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Y=je;default:m.hasOwnProperty(me)||rn(a,o,me,null,m,je)}}for(var de in m){var me=m[de];if(je=c[de],m.hasOwnProperty(de)&&(me!=null||je!=null))switch(de){case"type":y=me;break;case"name":x=me;break;case"checked":ee=me;break;case"defaultChecked":pe=me;break;case"value":T=me;break;case"defaultValue":A=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==je&&rn(a,o,de,me,m,je)}}am(a,T,A,Y,ee,pe,y,x);return;case"select":me=T=A=de=null;for(y in c)if(Y=c[y],c.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":me=Y;default:m.hasOwnProperty(y)||rn(a,o,y,null,m,Y)}for(x in m)if(y=m[x],Y=c[x],m.hasOwnProperty(x)&&(y!=null||Y!=null))switch(x){case"value":de=y;break;case"defaultValue":A=y;break;case"multiple":T=y;default:y!==Y&&rn(a,o,x,y,m,Y)}o=A,c=T,m=me,de!=null?vo(a,!!c,de,!1):!!m!=!!c&&(o!=null?vo(a,!!c,o,!0):vo(a,!!c,c?[]:"",!1));return;case"textarea":me=de=null;for(A in c)if(x=c[A],c.hasOwnProperty(A)&&x!=null&&!m.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rn(a,o,A,null,m,x)}for(T in m)if(x=m[T],y=c[T],m.hasOwnProperty(T)&&(x!=null||y!=null))switch(T){case"value":de=x;break;case"defaultValue":me=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==y&&rn(a,o,T,x,m,y)}ty(a,de,me);return;case"option":for(var Be in c)if(de=c[Be],c.hasOwnProperty(Be)&&de!=null&&!m.hasOwnProperty(Be))switch(Be){case"selected":a.selected=!1;break;default:rn(a,o,Be,null,m,de)}for(Y in m)if(de=m[Y],me=c[Y],m.hasOwnProperty(Y)&&de!==me&&(de!=null||me!=null))switch(Y){case"selected":a.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:rn(a,o,Y,de,m,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in c)de=c[ot],c.hasOwnProperty(ot)&&de!=null&&!m.hasOwnProperty(ot)&&rn(a,o,ot,null,m,de);for(ee in m)if(de=m[ee],me=c[ee],m.hasOwnProperty(ee)&&de!==me&&(de!=null||me!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:rn(a,o,ee,de,m,me)}return;default:if(om(o)){for(var _n in c)de=c[_n],c.hasOwnProperty(_n)&&de!==void 0&&!m.hasOwnProperty(_n)&&qp(a,o,_n,void 0,m,de);for(pe in m)de=m[pe],me=c[pe],!m.hasOwnProperty(pe)||de===me||de===void 0&&me===void 0||qp(a,o,pe,de,m,me);return}}for(var ae in c)de=c[ae],c.hasOwnProperty(ae)&&de!=null&&!m.hasOwnProperty(ae)&&rn(a,o,ae,null,m,de);for(je in m)de=m[je],me=c[je],!m.hasOwnProperty(je)||de===me||de==null&&me==null||rn(a,o,je,de,m,me)}var Wp=null,Yp=null;function Hd(a){return a.nodeType===9?a:a.ownerDocument}function Xw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kw(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Gp(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xp=null;function EO(){var a=window.event;return a&&a.type==="popstate"?a===Xp?!1:(Xp=a,!0):(Xp=null,!1)}var Qw=typeof setTimeout=="function"?setTimeout:void 0,CO=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,RO=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(a){return Zw.resolve(null).then(a).catch(TO)}:Qw;function TO(a){setTimeout(function(){throw a})}function Kp(a,o){var c=o,m=0;do{var x=c.nextSibling;if(a.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(m===0){a.removeChild(x),Lc(o);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=x}while(c);Lc(o)}function Qp(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Qp(c),Nr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function MO(a,o,c,m){for(;a.nodeType===1;){var x=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Jn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==x.rel||a.getAttribute("href")!==(x.href==null?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=vs(a.nextSibling),a===null)break}return null}function OO(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=vs(a.nextSibling),a===null))return null;return a}function vs(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function Jw(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return a;o--}else c==="/$"&&o++}a=a.previousSibling}return null}function ej(a,o,c){switch(o=Hd(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var is=new Map,tj=new Set;function qd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var ya=I.d;I.d={f:AO,r:DO,D:PO,C:kO,L:LO,m:IO,X:UO,S:$O,M:zO};function AO(){var a=ya.f(),o=Id();return a||o}function DO(a){var o=Ft(a);o!==null&&o.tag===5&&o.type==="form"?R0(o):ya.r(a)}var qo=typeof document>"u"?null:document;function nj(a,o,c){var m=qo;if(m&&typeof o=="string"&&o){var x=Kr(o);x='link[rel="'+a+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),tj.has(x)||(tj.add(x),a={rel:a,crossOrigin:c,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),nr(o,"link",a),Dn(o),m.head.appendChild(o)))}}function PO(a){ya.D(a),nj("dns-prefetch",a,null)}function kO(a,o){ya.C(a,o),nj("preconnect",a,o)}function LO(a,o,c){ya.L(a,o,c);var m=qo;if(m&&a&&o){var x='link[rel="preload"][as="'+Kr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Kr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Kr(c.imageSizes)+'"]')):x+='[href="'+Kr(a)+'"]';var y=x;switch(o){case"style":y=Wo(a);break;case"script":y=Yo(a)}is.has(y)||(a=F({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),is.set(y,a),m.querySelector(x)!==null||o==="style"&&m.querySelector(Tc(y))||o==="script"&&m.querySelector(Mc(y))||(o=m.createElement("link"),nr(o,"link",a),Dn(o),m.head.appendChild(o)))}}function IO(a,o){ya.m(a,o);var c=qo;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Kr(m)+'"][href="'+Kr(a)+'"]',y=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Yo(a)}if(!is.has(y)&&(a=F({rel:"modulepreload",href:a},o),is.set(y,a),c.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Mc(y)))return}m=c.createElement("link"),nr(m,"link",a),Dn(m),c.head.appendChild(m)}}}function $O(a,o,c){ya.S(a,o,c);var m=qo;if(m&&a){var x=ra(m).hoistableStyles,y=Wo(a);o=o||"default";var T=x.get(y);if(!T){var A={loading:0,preload:null};if(T=m.querySelector(Tc(y)))A.loading=5;else{a=F({rel:"stylesheet",href:a,"data-precedence":o},c),(c=is.get(y))&&Zp(a,c);var Y=T=m.createElement("link");Dn(Y),nr(Y,"link",a),Y._p=new Promise(function(ee,pe){Y.onload=ee,Y.onerror=pe}),Y.addEventListener("load",function(){A.loading|=1}),Y.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Wd(T,o,m)}T={type:"stylesheet",instance:T,count:1,state:A},x.set(y,T)}}}function UO(a,o){ya.X(a,o);var c=qo;if(c&&a){var m=ra(c).hoistableScripts,x=Yo(a),y=m.get(x);y||(y=c.querySelector(Mc(x)),y||(a=F({src:a,async:!0},o),(o=is.get(x))&&Jp(a,o),y=c.createElement("script"),Dn(y),nr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},m.set(x,y))}}function zO(a,o){ya.M(a,o);var c=qo;if(c&&a){var m=ra(c).hoistableScripts,x=Yo(a),y=m.get(x);y||(y=c.querySelector(Mc(x)),y||(a=F({src:a,async:!0,type:"module"},o),(o=is.get(x))&&Jp(a,o),y=c.createElement("script"),Dn(y),nr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},m.set(x,y))}}function rj(a,o,c,m){var x=(x=it.current)?qd(x):null;if(!x)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Wo(c.href),c=ra(x).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Wo(c.href);var y=ra(x).hoistableStyles,T=y.get(a);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,T),(y=x.querySelector(Tc(a)))&&!y._p&&(T.instance=y,T.state.loading=5),is.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},is.set(a,c),y||FO(x,a,c,T.state))),o&&m===null)throw Error(r(528,""));return T}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yo(c),c=ra(x).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Wo(a){return'href="'+Kr(a)+'"'}function Tc(a){return'link[rel="stylesheet"]['+a+"]"}function sj(a){return F({},a,{"data-precedence":a.precedence,precedence:null})}function FO(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),nr(o,"link",c),Dn(o),a.head.appendChild(o))}function Yo(a){return'[src="'+Kr(a)+'"]'}function Mc(a){return"script[async]"+a}function aj(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Kr(c.href)+'"]');if(m)return o.instance=m,Dn(m),m;var x=F({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Dn(m),nr(m,"style",x),Wd(m,c.precedence,a),o.instance=m;case"stylesheet":x=Wo(c.href);var y=a.querySelector(Tc(x));if(y)return o.state.loading|=4,o.instance=y,Dn(y),y;m=sj(c),(x=is.get(x))&&Zp(m,x),y=(a.ownerDocument||a).createElement("link"),Dn(y);var T=y;return T._p=new Promise(function(A,Y){T.onload=A,T.onerror=Y}),nr(y,"link",m),o.state.loading|=4,Wd(y,c.precedence,a),o.instance=y;case"script":return y=Yo(c.src),(x=a.querySelector(Mc(y)))?(o.instance=x,Dn(x),x):(m=c,(x=is.get(y))&&(m=F({},c),Jp(m,x)),a=a.ownerDocument||a,x=a.createElement("script"),Dn(x),nr(x,"link",m),a.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Wd(m,c.precedence,a));return o.instance}function Wd(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,y=x,T=0;T<m.length;T++){var A=m[T];if(A.dataset.precedence===o)y=A;else if(y!==x)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Zp(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Jp(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Yd=null;function ij(a,o,c){if(Yd===null){var m=new Map,x=Yd=new Map;x.set(c,m)}else x=Yd,m=x.get(c),m||(m=new Map,x.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),x=0;x<c.length;x++){var y=c[x];if(!(y[Jn]||y[gn]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(o)||"";T=a+T;var A=m.get(T);A?A.push(y):m.set(T,[y])}}return m}function oj(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function VO(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Oc=null;function BO(){}function HO(a,o,c){if(Oc===null)throw Error(r(475));var m=Oc;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var x=Wo(c.href),y=a.querySelector(Tc(x));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Gd.bind(m),a.then(m,m)),o.state.loading|=4,o.instance=y,Dn(y);return}y=a.ownerDocument||a,c=sj(c),(x=is.get(x))&&Zp(c,x),y=y.createElement("link"),Dn(y);var T=y;T._p=new Promise(function(A,Y){T.onload=A,T.onerror=Y}),nr(y,"link",c),o.instance=y}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Gd.bind(m),a.addEventListener("load",o),a.addEventListener("error",o))}}function qO(){if(Oc===null)throw Error(r(475));var a=Oc;return a.stylesheets&&a.count===0&&eg(a,a.stylesheets),0<a.count?function(o){var c=setTimeout(function(){if(a.stylesheets&&eg(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Gd(){if(this.count--,this.count===0){if(this.stylesheets)eg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Xd=null;function eg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Xd=new Map,o.forEach(WO,a),Xd=null,Gd.call(a))}function WO(a,o){if(!(o.state.loading&4)){var c=Xd.get(a);if(c)var m=c.get(null);else{c=new Map,Xd.set(a,c);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var T=x[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),m=T)}m&&c.set(null,m)}x=o.instance,T=x.getAttribute("data-precedence"),y=c.get(T)||m,y===m&&c.set(null,x),c.set(T,x),this.count++,m=Gd.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),y?y.parentNode.insertBefore(x,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),o.state.loading|=4}}var Ac={$$typeof:w,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function YO(a,o,c,m,x,y,T,A){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.hiddenUpdates=ht(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function cj(a,o,c,m,x,y,T,A,Y,ee,pe,je){return a=new YO(a,o,c,T,A,Y,ee,je),o=1,y===!0&&(o|=24),y=ss(3,null,null,o),a.current=y,y.stateNode=a,o=Am(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:m,isDehydrated:c,cache:o},fp(y),a}function uj(a){return a?(a=_o,a):_o}function dj(a,o,c,m,x,y){x=uj(x),m.context===null?m.context=x:m.pendingContext=x,m=qa(o),m.payload={element:c},y=y===void 0?null:y,y!==null&&(m.callback=y),c=Wa(a,m,o),c!==null&&(hr(c,a,o),pc(c,a,o))}function fj(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function tg(a,o){fj(a,o),(a=a.alternate)&&fj(a,o)}function hj(a){if(a.tag===13){var o=$a(a,67108864);o!==null&&hr(o,a,67108864),tg(a,67108864)}}var Kd=!0;function GO(a,o,c,m){var x=k.T;k.T=null;var y=I.p;try{I.p=2,ng(a,o,c,m)}finally{I.p=y,k.T=x}}function XO(a,o,c,m){var x=k.T;k.T=null;var y=I.p;try{I.p=8,ng(a,o,c,m)}finally{I.p=y,k.T=x}}function ng(a,o,c,m){if(Kd){var x=rg(m);if(x===null)Hp(a,o,m,Qd,c),pj(a,m);else if(QO(x,a,o,c,m))m.stopPropagation();else if(pj(a,m),o&4&&-1<KO.indexOf(a)){for(;x!==null;){var y=Ft(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ft(y.pendingLanes);if(T!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var Y=1<<31-jn(T);A.entanglements[1]|=Y,T&=~Y}Ps(y),(bn&6)===0&&(Pd=dt()+500,Ec(0))}}break;case 13:A=$a(y,2),A!==null&&hr(A,y,2),Id(),tg(y,2)}if(y=rg(m),y===null&&Hp(a,o,m,Qd,c),y===x)break;x=y}x!==null&&m.stopPropagation()}else Hp(a,o,m,null,c)}}function rg(a){return a=cm(a),sg(a)}var Qd=null;function sg(a){if(Qd=null,a=Hn(a),a!==null){var o=W(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=J(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Qd=a,null}function mj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(on()){case _t:return 2;case qe:return 8;case st:case mn:return 32;case $n:return 268435456;default:return 32}default:return 32}}var ag=!1,Ja=null,ei=null,ti=null,Dc=new Map,Pc=new Map,ni=[],KO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pj(a,o){switch(a){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Dc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function kc(a,o,c,m,x,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:y,targetContainers:[x]},o!==null&&(o=Ft(o),o!==null&&hj(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),a)}function QO(a,o,c,m,x){switch(o){case"focusin":return Ja=kc(Ja,a,o,c,m,x),!0;case"dragenter":return ei=kc(ei,a,o,c,m,x),!0;case"mouseover":return ti=kc(ti,a,o,c,m,x),!0;case"pointerover":var y=x.pointerId;return Dc.set(y,kc(Dc.get(y)||null,a,o,c,m,x)),!0;case"gotpointercapture":return y=x.pointerId,Pc.set(y,kc(Pc.get(y)||null,a,o,c,m,x)),!0}return!1}function gj(a){var o=Hn(a.target);if(o!==null){var c=W(o);if(c!==null){if(o=c.tag,o===13){if(o=J(c),o!==null){a.blockedOn=o,sn(a.priority,function(){if(c.tag===13){var m=Ir(),x=$a(c,m);x!==null&&hr(x,c,m),tg(c,m)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Zd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=rg(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);lm=m,c.target.dispatchEvent(m),lm=null}else return o=Ft(c),o!==null&&hj(o),a.blockedOn=c,!1;o.shift()}return!0}function vj(a,o,c){Zd(a)&&c.delete(o)}function ZO(){ag=!1,Ja!==null&&Zd(Ja)&&(Ja=null),ei!==null&&Zd(ei)&&(ei=null),ti!==null&&Zd(ti)&&(ti=null),Dc.forEach(vj),Pc.forEach(vj)}function Jd(a,o){a.blockedOn===o&&(a.blockedOn=null,ag||(ag=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZO)))}var ef=null;function xj(a){ef!==a&&(ef=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ef===a&&(ef=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],x=a[o+2];if(typeof m!="function"){if(sg(m||c)===null)continue;break}var y=Ft(c);y!==null&&(a.splice(o,3),o-=3,Gm(y,{pending:!0,data:x,method:c.method,action:m},m,x))}}))}function Lc(a){function o(Y){return Jd(Y,a)}Ja!==null&&Jd(Ja,a),ei!==null&&Jd(ei,a),ti!==null&&Jd(ti,a),Dc.forEach(o),Pc.forEach(o);for(var c=0;c<ni.length;c++){var m=ni[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<ni.length&&(c=ni[0],c.blockedOn===null);)gj(c),c.blockedOn===null&&ni.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var x=c[m],y=c[m+1],T=x[An]||null;if(typeof y=="function")T||xj(c);else if(T){var A=null;if(y&&y.hasAttribute("formAction")){if(x=y,T=y[An]||null)A=T.formAction;else if(sg(x)!==null)continue}else A=T.action;typeof A=="function"?c[m+1]=A:(c.splice(m,3),m-=3),xj(c)}}}function ig(a){this._internalRoot=a}tf.prototype.render=ig.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=Ir();dj(c,m,a,o,null,null)},tf.prototype.unmount=ig.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&Vo(),dj(a.current,2,null,a,null,null),Id(),o[he]=null}};function tf(a){this._internalRoot=a}tf.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ht();a={blockedOn:null,target:a,priority:o};for(var c=0;c<ni.length&&o!==0&&o<ni[c].priority;c++);ni.splice(c,0,a),c===0&&gj(a)}};var bj=t.version;if(bj!=="19.0.0")throw Error(r(527,bj,"19.0.0"));I.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=V(o),a=a!==null?B(a):null,a=a===null?null:a.stateNode,a};var JO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{pn=nf.inject(JO),Pt=nf}catch{}}return $c.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",x=L0,y=I0,T=$0,A=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(A=o.unstable_transitionCallbacks)),o=cj(a,1,!1,null,null,c,m,x,y,T,A,null),a[he]=o.current,Bp(a.nodeType===8?a.parentNode:a),new ig(o)},$c.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,x="",y=L0,T=I0,A=$0,Y=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Y=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),o=cj(a,1,!0,o,c??null,m,x,y,T,A,Y,ee),o.context=uj(null),c=o.current,m=Ir(),x=qa(m),x.callback=null,Wa(c,x,m),o.current.lanes=m,Ge(o,m),Ps(o),a[he]=o.current,Bp(a),new tf(o)},$c.version="19.0.0",$c}var Tj;function uA(){if(Tj)return cg.exports;Tj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cg.exports=cA(),cg.exports}var dA=uA();const fA=fh(dA);var Uc={},Mj;function hA(){if(Mj)return Uc;Mj=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.parse=u,Uc.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,w){const j=new l,N=b.length;if(N<2)return j;const S=(w==null?void 0:w.decode)||g;let _=0;do{const R=b.indexOf("=",_);if(R===-1)break;const E=b.indexOf(";",_),M=E===-1?N:E;if(R>M){_=b.lastIndexOf(";",R-1)+1;continue}const C=d(b,_,R),D=f(b,R,C),O=b.slice(C,D);if(j[O]===void 0){let P=d(b,R+1,M),k=f(b,M,P);const F=S(b.slice(P,k));j[O]=F}_=M+1}while(_<N);return j}function d(b,w,j){do{const N=b.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<j);return j}function f(b,w,j){for(;w>j;){const N=b.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return j}function p(b,w,j){const N=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const S=N(w);if(!t.test(S))throw new TypeError(`argument val is invalid: ${w}`);let _=b+"="+S;if(!j)return _;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);_+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);_+="; Domain="+j.domain}if(j.path){if(!r.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);_+="; Path="+j.path}if(j.expires){if(!v(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);_+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(_+="; HttpOnly"),j.secure&&(_+="; Secure"),j.partitioned&&(_+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return _}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return i.call(b)==="[object Date]"}return Uc}hA();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Oj="popstate";function mA(e={}){function t(r,i){let{pathname:l,search:u,hash:d}=r.location;return uv("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:su(i)}return gA(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ys(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pA(){return Math.random().toString(36).substring(2,10)}function Aj(e,t){return{usr:e.state,key:e.key,idx:t}}function uv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ml(t):t,state:n,key:t&&t.key||r||pA()}}function su({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ml(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gA(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,u=i.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let S=g(),_=S==null?null:S-p;p=S,f&&f({action:d,location:N.location,delta:_})}function b(S,_){d="PUSH";let R=uv(N.location,S,_);p=g()+1;let E=Aj(R,p),M=N.createHref(R);try{u.pushState(E,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}l&&f&&f({action:d,location:N.location,delta:1})}function w(S,_){d="REPLACE";let R=uv(N.location,S,_);p=g();let E=Aj(R,p),M=N.createHref(R);u.replaceState(E,"",M),l&&f&&f({action:d,location:N.location,delta:0})}function j(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof S=="string"?S:su(S);return R=R.replace(/ $/,"%20"),hn(_,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,_)}let N={get action(){return d},get location(){return e(i,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Oj,v),f=S,()=>{i.removeEventListener(Oj,v),f=null}},createHref(S){return t(i,S)},createURL:j,encodeLocation(S){let _=j(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:w,go(S){return u.go(S)}};return N}function aS(e,t,n="/"){return vA(e,t,n,!1)}function vA(e,t,n,r){let i=typeof t=="string"?Ml(t):t,l=Ea(i.pathname||"/",n);if(l==null)return null;let u=iS(e);xA(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=TA(l);d=CA(u[f],p,r)}return d}function iS(e,t=[],n=[],r=""){let i=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(hn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Na([r,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(hn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),iS(l.children,t,g,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:_A(p,l.index),routesMeta:g})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,u);else for(let f of oS(l.path))i(l,u,f)}),t}function oS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let u=oS(r.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function xA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bA=/^:[\w-]+$/,yA=3,wA=2,jA=1,NA=10,SA=-2,Dj=e=>e==="*";function _A(e,t){let n=e.split("/"),r=n.length;return n.some(Dj)&&(r+=SA),t&&(r+=wA),n.filter(i=>!Dj(i)).reduce((i,l)=>i+(bA.test(l)?yA:l===""?jA:NA),r)}function EA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function CA(e,t,n=!1){let{routesMeta:r}=e,i={},l="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=l==="/"?t:t.slice(l.length)||"/",v=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),b=f.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Na([l,v.pathname]),pathnameBase:DA(Na([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Na([l,v.pathnameBase]))}return u}function Uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=RA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},b)=>{if(g==="*"){let j=d[b]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const w=d[b];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:e}}function RA(e,t=!1,n=!0){ys(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function TA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ys(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function MA(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ml(e):e;return{pathname:n?n.startsWith("/")?n:OA(n,t):t,search:PA(r),hash:kA(i)}}function OA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ux(e){let t=AA(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function dx(e,t,n,r=!1){let i;typeof e=="string"?i=Ml(e):(i={...e},hn(!i.pathname||!i.pathname.includes("?"),hg("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),hg("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),hg("#","search","hash",i)));let l=e===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=n;else{let v=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}d=v>=0?t[v]:"/"}let f=MA(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Na=e=>e.join("/").replace(/\/\/+/g,"/"),DA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var lS=["POST","PUT","PATCH","DELETE"];new Set(lS);var IA=["GET",...lS];new Set(IA);var Ol=h.createContext(null);Ol.displayName="DataRouter";var hh=h.createContext(null);hh.displayName="DataRouterState";var cS=h.createContext({isTransitioning:!1});cS.displayName="ViewTransition";var $A=h.createContext(new Map);$A.displayName="Fetchers";var UA=h.createContext(null);UA.displayName="Await";var Cs=h.createContext(null);Cs.displayName="Navigation";var ju=h.createContext(null);ju.displayName="Location";var fs=h.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var fx=h.createContext(null);fx.displayName="RouteError";function zA(e,{relative:t}={}){hn(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=h.useContext(Cs),{hash:i,pathname:l,search:u}=Nu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Na([n,l])),r.createHref({pathname:d,search:u,hash:i})}function Al(){return h.useContext(ju)!=null}function Ta(){return hn(Al(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(ju).location}var uS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dS(e){h.useContext(Cs).static||h.useLayoutEffect(e)}function dr(){let{isDataRoute:e}=h.useContext(fs);return e?tD():FA()}function FA(){hn(Al(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(Ol),{basename:t,navigator:n}=h.useContext(Cs),{matches:r}=h.useContext(fs),{pathname:i}=Ta(),l=JSON.stringify(ux(r)),u=h.useRef(!1);return dS(()=>{u.current=!0}),h.useCallback((f,p={})=>{if(ys(u.current,uS),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=dx(f,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Na([t,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[t,n,l,i,e])}var VA=h.createContext(null);function BA(e){let t=h.useContext(fs).outlet;return t&&h.createElement(VA.Provider,{value:e},t)}function yr(){let{matches:e}=h.useContext(fs),t=e[e.length-1];return t?t.params:{}}function Nu(e,{relative:t}={}){let{matches:n}=h.useContext(fs),{pathname:r}=Ta(),i=JSON.stringify(ux(n));return h.useMemo(()=>dx(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function HA(e,t){return fS(e,t)}function fS(e,t,n,r){var R;hn(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=h.useContext(Cs),{matches:u}=h.useContext(fs),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let E=v&&v.path||"";hS(p,!v||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=Ta(),w;if(t){let E=typeof t=="string"?Ml(t):t;hn(g==="/"||((R=E.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=b;let j=w.pathname||"/",N=j;if(g!=="/"){let E=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=!l&&n&&n.matches&&n.matches.length>0?n.matches:aS(e,{pathname:N});ys(v||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ys(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=XA(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Na([g,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:Na([g,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),u,n,r);return t&&_?h.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function qA(){let e=eD(),t=LA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:l},"ErrorBoundary")," or"," ",h.createElement("code",{style:l},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:i},n):null,u)}var WA=h.createElement(qA,null),YA=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(fs.Provider,{value:this.props.routeContext},h.createElement(fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GA({routeContext:e,match:t,children:n}){let r=h.useContext(Ol);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(fs.Provider,{value:e},n)}function XA(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n==null?void 0:n.errors;if(l!=null){let f=i.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);hn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let v,b=!1,w=null,j=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||WA,u&&(d<0&&g===0?(hS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):d===g&&(b=!0,j=p.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,g+1)),S=()=>{let _;return v?_=w:b?_=j:p.route.Component?_=h.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=f,h.createElement(GA,{match:p,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?h.createElement(YA,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}function hx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(e){let t=h.useContext(Ol);return hn(t,hx(e)),t}function QA(e){let t=h.useContext(hh);return hn(t,hx(e)),t}function ZA(e){let t=h.useContext(fs);return hn(t,hx(e)),t}function mx(e){let t=ZA(e),n=t.matches[t.matches.length-1];return hn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function JA(){return mx("useRouteId")}function eD(){var r;let e=h.useContext(fx),t=QA("useRouteError"),n=mx("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function tD(){let{router:e}=KA("useNavigate"),t=mx("useNavigate"),n=h.useRef(!1);return dS(()=>{n.current=!0}),h.useCallback(async(i,l={})=>{ys(n.current,uS),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var Pj={};function hS(e,t,n){!t&&!Pj[e]&&(Pj[e]=!0,ys(!1,n))}h.memo(nD);function nD({routes:e,future:t,state:n}){return fS(e,void 0,n,t)}function mS({to:e,replace:t,state:n,relative:r}){hn(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=h.useContext(Cs);ys(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=h.useContext(fs),{pathname:u}=Ta(),d=dr(),f=dx(e,ux(l),u,r==="path"),p=JSON.stringify(f);return h.useEffect(()=>{d(JSON.parse(p),{replace:t,state:n,relative:r})},[d,p,r,t,n]),null}function pS(e){return BA(e.context)}function Mt(e){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){hn(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=Ml(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:b="default"}=n,w=h.useMemo(()=>{let j=Ea(f,u);return j==null?null:{location:{pathname:j,search:p,hash:g,state:v,key:b},navigationType:r}},[u,f,p,g,v,b,r]);return ys(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:h.createElement(Cs.Provider,{value:d},h.createElement(ju.Provider,{children:t,value:w}))}function sD({children:e,location:t}){return HA(dv(e),t)}function dv(e,t=[]){let n=[];return h.Children.forEach(e,(r,i)=>{if(!h.isValidElement(r))return;let l=[...t,i];if(r.type===h.Fragment){n.push.apply(n,dv(r.props.children,l));return}hn(r.type===Mt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=dv(r.props.children,l)),n.push(u)}),n}var Cf="get",Rf="application/x-www-form-urlencoded";function mh(e){return e!=null&&typeof e.tagName=="string"}function aD(e){return mh(e)&&e.tagName.toLowerCase()==="button"}function iD(e){return mh(e)&&e.tagName.toLowerCase()==="form"}function oD(e){return mh(e)&&e.tagName.toLowerCase()==="input"}function lD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cD(e,t){return e.button===0&&(!t||t==="_self")&&!lD(e)}var rf=null;function uD(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var dD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(e){return e!=null&&!dD.has(e)?(ys(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):e}function fD(e,t){let n,r,i,l,u;if(iD(e)){let d=e.getAttribute("action");r=d?Ea(d,t):null,n=e.getAttribute("method")||Cf,i=mg(e.getAttribute("enctype"))||Rf,l=new FormData(e)}else if(aD(e)||oD(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ea(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Cf,i=mg(e.getAttribute("formenctype"))||mg(d.getAttribute("enctype"))||Rf,l=new FormData(d,e),!uD()){let{name:p,type:g,value:v}=e;if(g==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(mh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cf,r=null,i=Rf,u=e}return l&&i==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:u}}function px(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function hD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function pD(e,t,n){let r=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let u=await hD(l,n);return u.links?u.links():[]}return[]}));return bD(r.flat(1).filter(mD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kj(e,t,n,r,i,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?t.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function gD(e,t,{includeHydrateFallback:n}={}){return vD(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function vD(e){return[...new Set(e)]}function xD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function bD(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let l=JSON.stringify(xD(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function yD(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ea(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function gS(){let e=h.useContext(Ol);return px(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wD(){let e=h.useContext(hh);return px(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gx=h.createContext(void 0);gx.displayName="FrameworkContext";function vS(){let e=h.useContext(gx);return px(e,"You must render this element inside a <HydratedRouter> element"),e}function jD(e,t){let n=h.useContext(gx),[r,i]=h.useState(!1),[l,u]=h.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=t,b=h.useRef(null);h.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=_=>{_.forEach(R=>{u(R.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),h.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{i(!0)},j=()=>{i(!1),u(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:zc(d,w),onBlur:zc(f,j),onMouseEnter:zc(p,w),onMouseLeave:zc(g,j),onTouchStart:zc(v,w)}]:[!1,b,{}]}function zc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ND({page:e,...t}){let{router:n}=gS(),r=h.useMemo(()=>aS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?h.createElement(_D,{page:e,matches:r,...t}):null}function SD(e){let{manifest:t,routeModules:n}=vS(),[r,i]=h.useState([]);return h.useEffect(()=>{let l=!1;return pD(e,t,n).then(u=>{l||i(u)}),()=>{l=!0}},[e,t,n]),r}function _D({page:e,matches:t,...n}){let r=Ta(),{manifest:i,routeModules:l}=vS(),{basename:u}=gS(),{loaderData:d,matches:f}=wD(),p=h.useMemo(()=>kj(e,t,f,i,r,"data"),[e,t,f,i,r]),g=h.useMemo(()=>kj(e,t,f,i,r,"assets"),[e,t,f,i,r]),v=h.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let j=new Set,N=!1;if(t.forEach(_=>{var E;let R=i.routes[_.route.id];!R||!R.hasLoader||(!p.some(M=>M.route.id===_.route.id)&&_.route.id in d&&((E=l[_.route.id])!=null&&E.shouldRevalidate)||R.hasClientLoader?N=!0:j.add(_.route.id))}),j.size===0)return[];let S=yD(e,u);return N&&j.size>0&&S.searchParams.set("_routes",t.filter(_=>j.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[u,d,r,i,p,t,e,l]),b=h.useMemo(()=>gD(g,i),[g,i]),w=SD(g);return h.createElement(h.Fragment,null,v.map(j=>h.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),b.map(j=>h.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),w.map(({key:j,link:N})=>h.createElement("link",{key:j,...N})))}function ED(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var xS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xS&&(window.__reactRouterVersion="7.4.0")}catch{}function CD({basename:e,children:t,window:n}){let r=h.useRef();r.current==null&&(r.current=mA({window:n,v5Compat:!0}));let i=r.current,[l,u]=h.useState({action:i.action,location:i.location}),d=h.useCallback(f=>{h.startTransition(()=>u(f))},[u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.createElement(rD,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i})}var bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=h.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:v,...b},w){let{basename:j}=h.useContext(Cs),N=typeof p=="string"&&bS.test(p),S,_=!1;if(typeof p=="string"&&N&&(S=p,xS))try{let k=new URL(window.location.href),F=p.startsWith("//")?new URL(k.protocol+p):new URL(p),ie=Ea(F.pathname,j);F.origin===k.origin&&ie!=null?p=ie+F.search+F.hash:_=!0}catch{ys(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=zA(p,{relative:i}),[E,M,C]=jD(r,b),D=MD(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:v});function O(k){t&&t(k),k.defaultPrevented||D(k)}let P=h.createElement("a",{...b,...C,href:S||R,onClick:_||l?t:O,ref:ED(w,M),target:f,"data-discover":!N&&n==="render"?"true":void 0});return E&&!N?h.createElement(h.Fragment,null,P,h.createElement(ND,{page:R})):P});at.displayName="Link";var yS=h.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:u,viewTransition:d,children:f,...p},g){let v=Nu(u,{relative:p.relative}),b=Ta(),w=h.useContext(hh),{navigator:j,basename:N}=h.useContext(Cs),S=w!=null&&kD(v)&&d===!0,_=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,R=b.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(R=R.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&N&&(E=Ea(E,N)||E);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=R===_||!i&&R.startsWith(_)&&R.charAt(M)==="/",D=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),O={isActive:C,isPending:D,isTransitioning:S},P=C?t:void 0,k;typeof r=="function"?k=r(O):k=[r,C?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(O):l;return h.createElement(at,{...p,"aria-current":P,className:k,ref:g,style:F,to:u,viewTransition:d},typeof f=="function"?f(O):f)});yS.displayName="NavLink";var RD=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:l,method:u=Cf,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,...b},w)=>{let j=DD(),N=PD(d,{relative:p}),S=u.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&bS.test(d),R=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let M=E.nativeEvent.submitter,C=(M==null?void 0:M.getAttribute("formmethod"))||u;j(M||E.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:i,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return h.createElement("form",{ref:w,method:S,action:N,onSubmit:r?f:R,...b,"data-discover":!_&&e==="render"?"true":void 0})});RD.displayName="Form";function TD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wS(e){let t=h.useContext(Ol);return hn(t,TD(e)),t}function MD(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:u}={}){let d=dr(),f=Ta(),p=Nu(e,{relative:l});return h.useCallback(g=>{if(cD(g,t)){g.preventDefault();let v=n!==void 0?n:su(f)===su(p);d(e,{replace:v,state:r,preventScrollReset:i,relative:l,viewTransition:u})}},[f,d,p,n,r,t,e,i,l,u])}var OD=0,AD=()=>`__${String(++OD)}__`;function DD(){let{router:e}=wS("useSubmit"),{basename:t}=h.useContext(Cs),n=JA();return h.useCallback(async(r,i={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=fD(r,t);if(i.navigate===!1){let g=i.fetcherKey||AD();await e.fetch(g,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function PD(e,{relative:t}={}){let{basename:n}=h.useContext(Cs),r=h.useContext(fs);hn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Nu(e||".",{relative:t})},u=Ta();if(e==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Na([n,l.pathname])),su(l)}function kD(e,t={}){let n=h.useContext(cS);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wS("useViewTransitionState"),i=Nu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uf(i.pathname,u)!=null||Uf(i.pathname,l)!=null}new TextEncoder;var ls=sS();const vx=fh(ls),LD="modulepreload",ID=function(e){return"/"+e},Lj={},bl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(n.map(f=>{if(f=ID(f),f in Lj)return;Lj[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":LD,p||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},$D=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bl(async()=>{const{default:r}=await Promise.resolve().then(()=>Dl);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class xx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class UD extends xx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zD extends xx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FD extends xx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fv||(fv={}));var VD=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};class BD{constructor(t,{headers:n={},customFetch:r,region:i=fv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=$D(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return VD(this,void 0,void 0,function*(){try{const{headers:i,method:l,body:u}=n;let d={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let p;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(d["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(d["Content-Type"]="application/json",p=JSON.stringify(u)));const g=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:p}).catch(j=>{throw new UD(j)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new zD(g);if(!g.ok)throw new FD(g);let b=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield g.json():b==="application/octet-stream"?w=yield g.blob():b==="text/event-stream"?w=g:b==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null}}catch(i){return{data:null,error:i}}})}}var Gn={},Go={},Xo={},Ko={},Qo={},Zo={},HD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yl=HD();const qD=yl.fetch,jS=yl.fetch.bind(yl),NS=yl.Headers,WD=yl.Request,YD=yl.Response,Dl=Object.freeze(Object.defineProperty({__proto__:null,Headers:NS,Request:WD,Response:YD,default:jS,fetch:qD},Symbol.toStringTag,{value:"Module"})),GD=nA(Dl);var sf={},Ij;function SS(){if(Ij)return sf;Ij=1,Object.defineProperty(sf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return sf.default=e,sf}var $j;function _S(){if($j)return Zo;$j=1;var e=Zo&&Zo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zo,"__esModule",{value:!0});const t=e(GD),n=e(SS());class r{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,v,b;let w=null,j=null,N=null,S=p.status,_=p.statusText;if(p.ok){if(this.method!=="HEAD"){const C=await p.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=C:j=JSON.parse(C))}const E=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");E&&M&&M.length>1&&(N=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,S=406,_="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const E=await p.text();try{w=JSON.parse(E),Array.isArray(w)&&p.status===404&&(j=[],w=null,S=200,_="OK")}catch{p.status===404&&E===""?(S=204,_="No Content"):w={message:E}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,S=200,_="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:j,count:N,status:S,statusText:_}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,v,b;return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(v=p==null?void 0:p.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return Zo.default=r,Zo}var Uj;function ES(){if(Uj)return Qo;Uj=1;var e=Qo&&Qo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qo,"__esModule",{value:!0});const t=e(_S());class n extends t.default{select(i){let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(p,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var g;const v=[i?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${b}"; options=${v};`,p==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Qo.default=n,Qo}var zj;function bx(){if(zj)return Ko;zj=1;var e=Ko&&Ko.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ko,"__esModule",{value:!0});const t=e(ES());class n extends t.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${f}fts${p}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return Ko.default=n,Ko}var Fj;function CS(){if(Fj)return Xo;Fj=1;var e=Xo&&Xo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xo,"__esModule",{value:!0});const t=e(bx());class n{constructor(i,{headers:l={},schema:u,fetch:d}){this.url=i,this.headers=l,this.schema=u,this.fetch=d}select(i,{head:l=!1,count:u}={}){const d=l?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:l,defaultToNull:u=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){const p="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(i)){const v=i.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(v.length>0){const b=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:l}={}){const u="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),this.headers.Prefer=d.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const l="DELETE",u=[];return i&&u.push(`count=${i}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Xo.default=n,Xo}var Fc={},Vc={},Vj;function XD(){return Vj||(Vj=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.version=void 0,Vc.version="0.0.0-automated"),Vc}var Bj;function KD(){if(Bj)return Fc;Bj=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.DEFAULT_HEADERS=void 0;const e=XD();return Fc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Fc}var Hj;function QD(){if(Hj)return Go;Hj=1;var e=Go&&Go.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Go,"__esModule",{value:!0});const t=e(CS()),n=e(bx()),r=KD();class i{constructor(u,{headers:d={},schema:f,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=p}from(u){const d=new URL(`${this.url}/${u}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:p=!1,count:g}={}){let v;const b=new URL(`${this.url}/rpc/${u}`);let w;f||p?(v=f?"HEAD":"GET",Object.entries(d).filter(([N,S])=>S!==void 0).map(([N,S])=>[N,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([N,S])=>{b.searchParams.append(N,S)})):(v="POST",w=d);const j=Object.assign({},this.headers);return g&&(j.Prefer=`count=${g}`),new n.default({method:v,url:b,headers:j,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Go.default=i,Go}var qj;function ZD(){if(qj)return Gn;qj=1;var e=Gn&&Gn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.PostgrestError=Gn.PostgrestBuilder=Gn.PostgrestTransformBuilder=Gn.PostgrestFilterBuilder=Gn.PostgrestQueryBuilder=Gn.PostgrestClient=void 0;const t=e(QD());Gn.PostgrestClient=t.default;const n=e(CS());Gn.PostgrestQueryBuilder=n.default;const r=e(bx());Gn.PostgrestFilterBuilder=r.default;const i=e(ES());Gn.PostgrestTransformBuilder=i.default;const l=e(_S());Gn.PostgrestBuilder=l.default;const u=e(SS());return Gn.PostgrestError=u.default,Gn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},Gn}var JD=ZD();const eP=fh(JD),{PostgrestClient:tP,PostgrestQueryBuilder:sK,PostgrestFilterBuilder:aK,PostgrestTransformBuilder:iK,PostgrestBuilder:oK,PostgrestError:lK}=eP,nP="2.11.2",rP={"X-Client-Info":`realtime-js/${nP}`},sP="1.0.0",RS=1e4,aP=1e3;var dl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dl||(dl={}));var Ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ur||(Ur={}));var bs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bs||(bs={}));var hv;(function(e){e.websocket="websocket"})(hv||(hv={}));var Qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qi||(Qi={}));class iP{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=r.decode(t.slice(u,u+i));u=u+i;const f=r.decode(t.slice(u,u+l));u=u+l;const p=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:d,event:f,payload:p}}}class TS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(un||(un={}));const Wj=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((l,u)=>(l[u]=oP(u,e,t,i),l),{})},oP=(e,t,n,r)=>{const i=t.find(d=>d.name===e),l=i==null?void 0:i.type,u=n[e];return l&&!r.includes(l)?MS(l,u):mv(u)},MS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dP(t,n)}switch(e){case un.bool:return lP(t);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return cP(t);case un.json:case un.jsonb:return uP(t);case un.timestamp:return fP(t);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return mv(t);default:return mv(t)}},mv=e=>e,lP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let l;const u=e.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>MS(t,d))}return e},fP=e=>typeof e=="string"?e.replace(" ","T"):e,OS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pg{constructor(t,n,r={},i=RS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yj||(Yj={}));class Kc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kc.syncState(this.state,i,l,u),this.pendingDiffs.forEach(f=>{this.state=Kc.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Kc.syncDiff(this.state,i,l,u),d())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const l=this.cloneDeep(t),u=this.transformState(n),d={},f={};return this.map(l,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const v=l[p];if(v){const b=g.map(S=>S.presence_ref),w=v.map(S=>S.presence_ref),j=g.filter(S=>w.indexOf(S.presence_ref)<0),N=v.filter(S=>b.indexOf(S.presence_ref)<0);j.length>0&&(d[p]=j),N.length>0&&(f[p]=N)}else d[p]=g}),this.syncDiff(l,{joins:d,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(l,(d,f)=>{var p;const g=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(f),g.length>0){const v=t[d].map(w=>w.presence_ref),b=g.filter(w=>v.indexOf(w.presence_ref)<0);t[d].unshift(...b)}r(d,g,f)}),this.map(u,(d,f)=>{let p=t[d];if(!p)return;const g=f.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),t[d]=p,i(d,p,f),p.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gj||(Gj={}));var Xj;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xj||(Xj={}));var ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class yx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pg(this,bs.join,this.params,this.timeout),this.rejoinTimer=new TS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bs.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Kc(this),this.broadcastEndpointURL=OS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:u,private:d}}=this.params;this._onError(g=>t==null?void 0:t(ja.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(ja.CLOSED));const f={},p={broadcast:l,presence:u,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){t==null||t(ja.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,j=[];for(let N=0;N<w;N++){const S=b[N],{filter:{event:_,schema:R,table:E,filter:M}}=S,C=g&&g[N];if(C&&C.event===_&&C.schema===R&&C.table===E&&C.filter===M)j.push(Object.assign(Object.assign({},S),{id:C.id}));else{this.unsubscribe(),t==null||t(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ja.SUBSCRIBED);return}}).receive("error",g=>{t==null||t(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:u}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ur.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new pg(this,bs.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,l=setTimeout(()=>i.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pg(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,l;const u=t.toLocaleLowerCase(),{close:d,error:f,leave:p,join:g}=bs;if(r&&[d,f,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var j,N,S;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((S=(N=w.filter)===null||N===void 0?void 0:N.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(w=>w.callback(b,r)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var j,N,S,_,R,E;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const M=w.id,C=(j=w.filter)===null||j===void 0?void 0:j.event;return M&&((N=n.ids)===null||N===void 0?void 0:N.includes(M))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(R=(_=w==null?void 0:w.filter)===null||_===void 0?void 0:_.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return M==="*"||M===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:N,table:S,commit_timestamp:_,type:R,errors:E}=j;b=Object.assign(Object.assign({},{schema:N,table:S,commit_timestamp:_,eventType:R,new:{},old:{},errors:E}),this._getPayloadRecords(j))}w.callback(b,r)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),l={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&yx.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bs.close,{},t)}_onError(t){this._on(bs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Wj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Wj(t.columns,t.old_record)),n}}const hP=()=>{},mP=typeof WebSocket<"u",pP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gP{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=rP,this.params={},this.timeout=RS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hP,this.conn=null,this.sendBuffer=[],this.serializer=new iP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>bl(async()=>{const{default:f}=await Promise.resolve().then(()=>Dl);return{default:f}},void 0).then(({default:f})=>f(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${t}/${hv.websocket}`,this.httpEndpoint=OS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,u)=>u(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new TS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mP){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vP(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),bl(async()=>{const{default:t}=await import("./browser-DugZPcIL.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sP}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case dl.connecting:return Qi.Connecting;case dl.open:return Qi.Open;case dl.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}channel(t,n={config:{}}){const r=new yx(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:l}=t,u=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(bs.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(aP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:l,ref:u}=n;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${r} ${i} ${u&&"("+u+")"||""}`,l),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,l,u)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(bs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([pP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class vP{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class wx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class xP extends wx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pv extends wx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var bP=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};const AS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bl(async()=>{const{default:r}=await Promise.resolve().then(()=>Dl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},yP=()=>bP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bl(()=>Promise.resolve().then(()=>Dl),void 0)).Response:Response}),gv=e=>{if(Array.isArray(e))return e.map(n=>gv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[i]=gv(r)}),t};var uo=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};const gg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wP=(e,t,n)=>uo(void 0,void 0,void 0,function*(){const r=yield yP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new xP(gg(i),e.status||500))}).catch(i=>{t(new pv(gg(i),i))}):t(new pv(gg(e),e))}),jP=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Su(e,t,n,r,i,l){return uo(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(n,jP(t,r,i,l)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>wP(f,d,r))})})}function zf(e,t,n,r){return uo(this,void 0,void 0,function*(){return Su(e,"GET",t,n,r)})}function ui(e,t,n,r,i){return uo(this,void 0,void 0,function*(){return Su(e,"POST",t,r,i,n)})}function NP(e,t,n,r,i){return uo(this,void 0,void 0,function*(){return Su(e,"PUT",t,r,i,n)})}function SP(e,t,n,r){return uo(this,void 0,void 0,function*(){return Su(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function DS(e,t,n,r,i){return uo(this,void 0,void 0,function*(){return Su(e,"DELETE",t,r,i,n)})}var Er=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};const _P={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EP{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=AS(i)}uploadOrUpdate(t,n,r,i){return Er(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Kj),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:l,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),b=yield v.json();return v.ok?{data:{path:p,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(l){if(Kn(l))return{data:null,error:l};throw l}})}upload(t,n,r){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Er(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:Kj.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),b=yield v.json();return v.ok?{data:{path:l,fullPath:b.Key},error:null}:{data:null,error:b}}catch(f){if(Kn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Er(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const l=yield ui(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new wx("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Er(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Er(this,void 0,void 0,function*(){try{return{data:{path:(yield ui(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Er(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),l=yield ui(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Er(this,void 0,void 0,function*(){try{const i=yield ui(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}download(t,n){return Er(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=l?`?${l}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield zf(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Kn(d))return{data:null,error:d};throw d}})}info(t){return Er(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield zf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gv(r),error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}exists(t){return Er(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield SP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Kn(r)&&r instanceof pv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${p}`)}}}remove(t){return Er(this,void 0,void 0,function*(){try{return{data:yield DS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Er(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_P),n),{prefix:t||""});return{data:yield ui(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const CP="2.7.1",RP={"X-Client-Info":`storage-js/${CP}`};var Jo=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};class TP{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},RP),n),this.fetch=AS(r)}listBuckets(){return Jo(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Kn(t))return{data:null,error:t};throw t}})}getBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Jo(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Jo(this,void 0,void 0,function*(){try{return{data:yield NP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield DS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}}class MP extends TP{constructor(t,n={},r){super(t,n,r)}from(t){return new EP(this.url,this.headers,t,this.fetch)}}const OP="2.49.3";let Wc="";typeof Deno<"u"?Wc="deno":typeof document<"u"?Wc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wc="react-native":Wc="node";const AP={"X-Client-Info":`supabase-js-${Wc}/${OP}`},DP={headers:AP},PP={schema:"public"},kP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LP={};var IP=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};const $P=e=>{let t;return e?t=e:typeof fetch>"u"?t=jS:t=fetch,(...n)=>t(...n)},UP=()=>typeof Headers>"u"?NS:Headers,zP=(e,t,n)=>{const r=$P(n),i=UP();return(l,u)=>IP(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let p=new i(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(l,Object.assign(Object.assign({},u),{headers:p}))})};var FP=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};function VP(e){return e.replace(/\/$/,"")}function BP(e,t){const{db:n,auth:r,realtime:i,global:l}=e,{db:u,auth:d,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},d),r),realtime:Object.assign(Object.assign({},f),i),global:Object.assign(Object.assign({},p),l),accessToken:()=>FP(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const PS="2.69.1",cl=30*1e3,vv=3,vg=vv*cl,HP="http://localhost:9999",qP="supabase.auth.token",WP={"X-Client-Info":`gotrue-js/${PS}`},xv="X-Supabase-Api-Version",kS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GP=6e5;class jx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function gt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XP extends jx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function KP(e){return gt(e)&&e.name==="AuthApiError"}class LS extends jx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class yi extends jx{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ii extends yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QP(e){return gt(e)&&e.name==="AuthSessionMissingError"}class xg extends yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class af extends yi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class of extends yi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZP(e){return gt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qj extends yi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bv extends yi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function bg(e){return gt(e)&&e.name==="AuthRetryableFetchError"}class Zj extends yi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Qc extends yi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e1=` 	
\r=`.split(""),JP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<e1.length;t+=1)e[e1[t].charCodeAt(0)]=-2;for(let t=0;t<Jj.length;t+=1)e[Jj[t].charCodeAt(0)]=t;return e})();function IS(e,t,n){const r=JP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function t1(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{nk(u,r,n)};for(let u=0;u<e.length;u+=1)IS(e.charCodeAt(u),i,l);return t.join("")}function ek(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tk(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ek(r,t)}}function nk(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function rk(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)IS(e.charCodeAt(i),n,r);return new Uint8Array(t)}function sk(e){const t=[];return tk(e,n=>t.push(n)),new Uint8Array(t)}function ak(e){return Math.round(Date.now()/1e3)+e}function ik(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ls=()=>typeof window<"u"&&typeof document<"u",Wi={tested:!1,writable:!1},Zc=()=>{if(!Ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wi.tested)return Wi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wi.tested=!0,Wi.writable=!0}catch{Wi.tested=!0,Wi.writable=!1}return Wi.writable};function ok(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{t[l]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const $S=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bl(async()=>{const{default:r}=await Promise.resolve().then(()=>Dl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",US=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},lf=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},cf=async(e,t)=>{await e.removeItem(t)};class ph{constructor(){this.promise=new ph.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ph.promiseConstructor=Promise;function yg(e){const t=e.split(".");if(t.length!==3)throw new Qc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!YP.test(t[r]))throw new Qc("JWT not in base64url format");return{header:JSON.parse(t1(t[0])),payload:JSON.parse(t1(t[1])),signature:rk(t[2]),raw:{header:t[0],payload:t[1]}}}async function ck(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uk(e,t){return new Promise((r,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await e(l);if(!t(l,null,u)){r(u);return}}catch(u){if(!t(l,u)){i(u);return}}})()})}function dk(e){return("0"+e.toString(16)).substr(-2)}function fk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,dk).join("")}async function hk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function mk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await hk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function el(e,t,n=!1){const r=fk();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await US(e,`${t}-code-verifier`,i);const l=await mk(r);return[l,r===l?"plain":"s256"]}const pk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gk(e){const t=e.headers.get(xv);if(!t||!t.match(pk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Xi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yk=[502,503,504];async function n1(e){var t;if(!lk(e))throw new bv(Xi(e),0);if(yk.includes(e.status))throw new bv(Xi(e),e.status);let n;try{n=await e.json()}catch(l){throw new LS(Xi(l),l)}let r;const i=gk(e);if(i&&i.getTime()>=kS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zj(Xi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Zj(Xi(n),e.status,n.weak_password.reasons);throw new XP(Xi(n),e.status||500,r)}const wk=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ct(e,t,n,r){var i;const l=Object.assign({},r==null?void 0:r.headers);l[xv]||(l[xv]=kS["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const u=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await jk(e,t,n+d,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function jk(e,t,n,r,i,l){const u=wk(t,r,i,l);let d;try{d=await e(n,Object.assign({},u))}catch(f){throw console.error(f),new bv(Xi(f),0)}if(d.ok||await n1(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await n1(f)}}function oi(e){var t;let n=null;Ek(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ak(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function r1(e){const t=oi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Nk(e){return{data:e,error:null}}function Sk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:l}=e,u=bk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:l},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function _k(e){return e}function Ek(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ck=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Rk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=$S(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fi})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ck(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Sk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(gt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fi})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,l,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:_k});if(g.error)throw g.error;const v=await g.json(),b=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);p[`${S}Page`]=N}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(gt(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fi})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fi})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fi})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(gt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}}const Tk={getItem:e=>Zc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zc()&&globalThis.localStorage.removeItem(e)}};function s1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Mk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tl={debug:!!(globalThis&&Zc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ok extends zS{}async function Ak(e,t,n){tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),tl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ok(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tl.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Mk();const Dk={url:HP,storageKey:qP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a1(e,t,n){return await n()}class au{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=au.nextInstanceID,au.nextInstanceID+=1,this.instanceID>0&&Ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Dk),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Rk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$S(i.fetch),this.lock=i.lock||a1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ls()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ak:this.lock=a1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Zc()?this.storage=Tk:(this.memoryStorage={},this.storage=s1(this.memoryStorage)):(this.memoryStorage={},this.storage=s1(this.memoryStorage)),Ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ok(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ls()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),ZP(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return gt(n)?{error:n}:{error:new LS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:oi}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(gt(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,r,i;try{let l;if("email"in t){const{email:g,password:v,options:b}=t;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await el(this.storage,this.storageKey)),l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:j},xform:oi})}else if("phone"in t){const{phone:g,password:v,options:b}=t;l=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:oi})}else throw new af("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(gt(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:u,options:d}=t;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:r1})}else if("phone"in t){const{phone:l,password:u,options:d}=t;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:r1})}else throw new af("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(gt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await lf(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:l,error:u}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:oi});if(await cf(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new xg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(gt(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:l,nonce:u}=t,d=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:oi}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new xg}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(gt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,l,u;try{if("email"in t){const{email:d,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await el(this.storage,this.storageKey));const{error:v}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:d,options:f}=t,{data:p,error:g}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new af("You must provide either an email or phone number.")}catch(d){if(gt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let i,l;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:d}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:oi});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await el(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:Nk})}catch(l){if(gt(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ii;const{error:i}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(gt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:l}=t,{error:u}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:i,options:l}=t,{data:u,error:d}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new af("You must provide either an email or phone number and a type")}catch(n){if(gt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await lf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<vg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:t},error:null}}const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fi}):await this._useSession(async n=>{var r,i,l;const{data:u,error:d}=n;if(d)throw d;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:fi})})}catch(n){if(gt(n))return QP(n)&&(await this._removeSession(),await cf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:l}=r;if(l)throw l;if(!i.session)throw new ii;const u=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await el(this.storage,this.storageKey));const{data:p,error:g}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:fi});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const n=Date.now()/1e3;let r=n,i=!0,l=null;const{payload:u}=yg(t.access_token);if(u.exp&&(r=u.exp,i=r<=n),i){const{session:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(gt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:d}=n;if(d)throw d;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ii;const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(gt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ls())throw new of("No browser detected.");if(t.error||t.error_description||t.error_code)throw new of(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new of("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qj("No code detected.");const{data:R,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:d,expires_at:f,token_type:p}=t;if(!l||!d||!u||!p)throw new of("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let b=g+v;f&&(b=parseInt(f));const w=b-g;w*1e3<=cl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const j=b-v;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,g);const{data:N,error:S}=await this._getUser(l);if(S)throw S;const _={provider_token:r,provider_refresh_token:i,access_token:l,expires_in:v,expires_at:b,refresh_token:u,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(r){if(gt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await lf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:l}=n;if(l)return{error:l};const u=(r=i.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(KP(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await cf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ik(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await el(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(gt(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async l=>{var u,d,f,p,g;const{data:v,error:b}=l;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Ls()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(gt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:l,error:u}=n;if(u)throw u;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(gt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uk(async i=>(i>0&&await ck(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oi})),(i,l)=>{const u=200*Math.pow(2,i);return l&&bg(l)&&Date.now()+u-r<cl})}catch(r){if(this._debug(n,"error",r),gt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ls()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await lf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),bg(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ph;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new ii;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),gt(l)){const u={session:null,error:l};return bg(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await US(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await cf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/cl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cl}ms, refresh threshold is ${vv} ticks`),i<=vv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,u]=await el(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);i.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:l}=n;return l?{data:null,error:l}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(gt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:p}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(gt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:l}=n;if(l)return{data:null,error:l};const{data:u,error:d}=await Ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(gt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:l}=n;return l?{data:null,error:l}:await Ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(gt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:i,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:l}=t;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=yg(i.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r||(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+GP>Date.now()))return r;const{data:i,error:l}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!i.keys||i.keys.length===0)throw new Qc("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(u=>u.kid===t),!r)throw new Qc("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:w,error:j}=await this.getSession();if(j||!w.session)return{data:null,error:j};r=w.session.access_token}const{header:i,payload:l,signature:u,raw:{header:d,payload:f}}=yg(r);if(vk(l.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:l,header:i,signature:u},error:null}}const p=xk(i.alg),g=await this.fetchJwk(i.kid,n),v=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,u,sk(`${d}.${f}`)))throw new Qc("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}}au.nextInstanceID=0;const Pk=au;class kk extends Pk{constructor(t){super(t)}}var Lk=function(e,t,n,r){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(r.next(g))}catch(v){u(v)}}function f(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):i(g.value).then(d,f)}p((r=r.apply(e,t||[])).next())})};class Ik{constructor(t,n,r){var i,l,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=VP(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:PP,realtime:LP,auth:Object.assign(Object.assign({},kP),{storageKey:f}),global:DP},g=BP(r??{},p);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=zP(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new tP(`${d}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new BD(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new MP(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Lk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:l,flowType:u,lock:d,debug:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kk({url:this.authUrl,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:u,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gP(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $k=(e,t,n)=>new Ik(e,t,n),Uk="http://127.0.0.1:54321",zk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",re=$k(Uk,zk),FS=h.createContext({session:null,user:null,loading:!0}),Fk=({children:e})=>{const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(!0);h.useEffect(()=>{re.auth.getSession().then(({data:{session:f}})=>{n(f),i((f==null?void 0:f.user)??null),u(!1);const{data:{subscription:p}}=re.auth.onAuthStateChange((g,v)=>{console.log("Auth state changed:",g,v),n(v),i((v==null?void 0:v.user)??null)});return()=>{p==null||p.unsubscribe()}}).catch(f=>{console.error("Error getting initial session:",f),u(!1)})},[]);const d={session:t,user:r,loading:l};return s.jsx(FS.Provider,{value:d,children:e})},Nx=()=>{const e=h.useContext(FS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Vk(e,t){const n=h.createContext(t),r=l=>{const{children:u,...d}=l,f=h.useMemo(()=>d,Object.values(d));return s.jsx(n.Provider,{value:f,children:u})};r.displayName=e+"Provider";function i(l){const u=h.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,i]}function wr(e,t=[]){let n=[];function r(l,u){const d=h.createContext(u),f=n.length;n=[...n,u];const p=v=>{var _;const{scope:b,children:w,...j}=v,N=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,S=h.useMemo(()=>j,Object.values(j));return s.jsx(N.Provider,{value:S,children:w})};p.displayName=l+"Provider";function g(v,b){var N;const w=((N=b==null?void 0:b[e])==null?void 0:N[f])||d,j=h.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[p,g]}const i=()=>{const l=n.map(u=>h.createContext(u));return function(d){const f=(d==null?void 0:d[e])||l;return h.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return i.scopeName=e,[r,Bk(i,...t)]}function Bk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const v=f(l)[`__scope${p}`];return{...d,...v}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Br(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var ar=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{};function i1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xs(...e){return t=>{let n=!1;const r=e.map(i=>{const l=i1(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():i1(e[i],null)}}}}function Rt(...e){return h.useCallback(Xs(...e),e)}var VS=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),l=i.find(qk);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return s.jsx(yv,{...r,ref:t,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx(yv,{...r,ref:t,children:n})});VS.displayName="Slot";var yv=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const i=Yk(n),l=Wk(r,n.props);return n.type!==h.Fragment&&(l.ref=t?Xs(t,i):i),h.cloneElement(n,l)}return h.Children.count(n)>1?h.Children.only(null):null});yv.displayName="SlotClone";var Hk=({children:e})=>s.jsx(s.Fragment,{children:e});function qk(e){return h.isValidElement(e)&&e.type===Hk}function Wk(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function Yk(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Gk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tt=Gk.reduce((e,t)=>{const n=h.forwardRef((r,i)=>{const{asChild:l,...u}=r,d=l?VS:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BS(e,t){e&&ls.flushSync(()=>e.dispatchEvent(t))}var Sx="Avatar",[Xk,cK]=wr(Sx),[Kk,HS]=Xk(Sx),qS=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,l]=h.useState("idle");return s.jsx(Kk,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:s.jsx(tt.span,{...r,ref:t})})});qS.displayName=Sx;var WS="AvatarImage",YS=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...l}=e,u=HS(WS,n),d=Qk(r,l.referrerPolicy),f=Br(p=>{i(p),u.onImageLoadingStatusChange(p)});return ar(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?s.jsx(tt.img,{...l,ref:t,src:r}):null});YS.displayName=WS;var GS="AvatarFallback",XS=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,l=HS(GS,n),[u,d]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(f)}},[r]),u&&l.imageLoadingStatus!=="loaded"?s.jsx(tt.span,{...i,ref:t}):null});XS.displayName=GS;function Qk(e,t){const[n,r]=h.useState("idle");return ar(()=>{if(!e){r("error");return}let i=!0;const l=new window.Image,u=d=>()=>{i&&r(d)};return r("loading"),l.onload=u("loaded"),l.onerror=u("error"),l.src=e,t&&(l.referrerPolicy=t),()=>{i=!1}},[e,t]),n}var Zk=qS,Jk=YS,e4=XS;function KS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=KS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function QS(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=KS(e))&&(r&&(r+=" "),r+=t);return r}const _x="-",t4=e=>{const t=r4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const d=u.split(_x);return d[0]===""&&d.length!==1&&d.shift(),ZS(d,t)||n4(u)},getConflictingClassGroupIds:(u,d)=>{const f=n[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},ZS=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?ZS(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join(_x);return(u=t.validators.find(({validator:d})=>d(l)))==null?void 0:u.classGroupId},o1=/^\[(.+)\]$/,n4=e=>{if(o1.test(e)){const t=o1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},r4=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)wv(n[i],r,i,t);return r},wv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:l1(t,i);l.classGroupId=n;return}if(typeof i=="function"){if(s4(i)){wv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{wv(u,l1(t,l),n,r)})})},l1=(e,t)=>{let n=e;return t.split(_x).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},s4=e=>e.isThemeGetter,a4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(l,u)=>{n.set(l,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},jv="!",Nv=":",i4=Nv.length,o4=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const l=[];let u=0,d=0,f=0,p;for(let j=0;j<i.length;j++){let N=i[j];if(u===0&&d===0){if(N===Nv){l.push(i.slice(f,j)),f=j+i4;continue}if(N==="/"){p=j;continue}}N==="["?u++:N==="]"?u--:N==="("?d++:N===")"&&d--}const g=l.length===0?i:i.substring(f),v=l4(g),b=v!==g,w=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:w}};if(t){const i=t+Nv,l=r;r=u=>u.startsWith(i)?l(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=l=>n({className:l,parseClassName:i})}return r},l4=e=>e.endsWith(jv)?e.substring(0,e.length-1):e.startsWith(jv)?e.substring(1):e,c4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let l=[];return r.forEach(u=>{u[0]==="["||t[u]?(i.push(...l.sort(),u),l=[]):l.push(u)}),i.push(...l.sort()),i}},u4=e=>({cache:a4(e.cacheSize),parseClassName:o4(e),sortModifiers:c4(e),...t4(e)}),d4=/\s+/,f4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:l}=t,u=[],d=e.trim().split(d4);let f="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:v,modifiers:b,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:N}=n(g);if(v){f=g+(f.length>0?" "+f:f);continue}let S=!!N,_=r(S?j.substring(0,N):j);if(!_){if(!S){f=g+(f.length>0?" "+f:f);continue}if(_=r(j),!_){f=g+(f.length>0?" "+f:f);continue}S=!1}const R=l(b).join(":"),E=w?R+jv:R,M=E+_;if(u.includes(M))continue;u.push(M);const C=i(_,S);for(let D=0;D<C.length;++D){const O=C[D];u.push(E+O)}f=g+(f.length>0?" "+f:f)}return f};function h4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=JS(t))&&(r&&(r+=" "),r+=n);return r}const JS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=JS(e[r]))&&(n&&(n+=" "),n+=t);return n};function m4(e,...t){let n,r,i,l=u;function u(f){const p=t.reduce((g,v)=>v(g),e());return n=u4(p),r=n.cache.get,i=n.cache.set,l=d,d(f)}function d(f){const p=r(f);if(p)return p;const g=f4(f,n);return i(f,g),g}return function(){return l(h4.apply(null,arguments))}}const Xn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},e_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,t_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,p4=/^\d+\/\d+$/,g4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nl=e=>p4.test(e),Et=e=>!!e&&!Number.isNaN(Number(e)),Yi=e=>!!e&&Number.isInteger(Number(e)),c1=e=>e.endsWith("%")&&Et(e.slice(0,-1)),si=e=>g4.test(e),w4=()=>!0,j4=e=>v4.test(e)&&!x4.test(e),Ex=()=>!1,N4=e=>b4.test(e),S4=e=>y4.test(e),_4=e=>!ze(e)&&!Fe(e),E4=e=>Pl(e,s_,Ex),ze=e=>e_.test(e),Gi=e=>Pl(e,a_,j4),wg=e=>Pl(e,I4,Et),C4=e=>Pl(e,n_,Ex),R4=e=>Pl(e,r_,S4),T4=e=>Pl(e,Ex,N4),Fe=e=>t_.test(e),uf=e=>kl(e,a_),M4=e=>kl(e,$4),O4=e=>kl(e,n_),A4=e=>kl(e,s_),D4=e=>kl(e,r_),P4=e=>kl(e,U4,!0),Pl=(e,t,n)=>{const r=e_.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},kl=(e,t,n=!1)=>{const r=t_.exec(e);return r?r[1]?t(r[1]):n:!1},n_=e=>e==="position",k4=new Set(["image","url"]),r_=e=>k4.has(e),L4=new Set(["length","size","percentage"]),s_=e=>L4.has(e),a_=e=>e==="length",I4=e=>e==="number",$4=e=>e==="family-name",U4=e=>e==="shadow",z4=()=>{const e=Xn("color"),t=Xn("font"),n=Xn("text"),r=Xn("font-weight"),i=Xn("tracking"),l=Xn("leading"),u=Xn("breakpoint"),d=Xn("container"),f=Xn("spacing"),p=Xn("radius"),g=Xn("shadow"),v=Xn("inset-shadow"),b=Xn("drop-shadow"),w=Xn("blur"),j=Xn("perspective"),N=Xn("aspect"),S=Xn("ease"),_=Xn("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],D=()=>[Fe,ze,f],O=()=>[nl,"full","auto",...D()],P=()=>[Yi,"none","subgrid",Fe,ze],k=()=>["auto",{span:["full",Yi,Fe,ze]},Fe,ze],F=()=>[Yi,"auto",Fe,ze],ie=()=>["auto","min","max","fr",Fe,ze],Q=()=>["start","end","center","between","around","evenly","stretch","baseline"],U=()=>["start","end","center","stretch"],oe=()=>["auto",...D()],le=()=>[nl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],$=()=>[e,Fe,ze],G=()=>[c1,Gi],W=()=>["","none","full",p,Fe,ze],J=()=>["",Et,uf,Gi],L=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["","none",w,Fe,ze],H=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe,ze],I=()=>["none",Et,Fe,ze],z=()=>["none",Et,Fe,ze],q=()=>[Et,Fe,ze],K=()=>[nl,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[si],breakpoint:[si],color:[w4],container:[si],"drop-shadow":[si],ease:["in","out","in-out"],font:[_4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[si],shadow:[si],spacing:["px",Et],text:[si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nl,ze,Fe,N]}],container:["container"],columns:[{columns:[Et,ze,Fe,d]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),ze,Fe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Yi,"auto",Fe,ze]}],basis:[{basis:[nl,"full","auto",d,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,nl,"auto","initial","none",ze]}],grow:[{grow:["",Et,Fe,ze]}],shrink:[{shrink:["",Et,Fe,ze]}],order:[{order:[Yi,"first","last","none",Fe,ze]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...U(),"baseline"]}],"align-self":[{self:["auto",...U(),"baseline"]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...le()]}],h:[{h:["screen",...le()]}],"min-h":[{"min-h":["screen","none",...le()]}],"max-h":[{"max-h":["screen",...le()]}],"font-size":[{text:["base",n,uf,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,wg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",c1,ze]}],"font-family":[{font:[M4,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Fe,ze]}],"line-clamp":[{"line-clamp":[Et,"none",Fe,wg]}],leading:[{leading:[l,...D()]}],"list-image":[{"list-image":["none",Fe,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",Fe,Gi]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Et,"auto",Fe,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),O4,C4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",A4,E4]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yi,Fe,ze],radial:["",Fe,ze],conic:[Yi,Fe,ze]},D4,R4]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,Fe,ze]}],"outline-w":[{outline:["",Et,uf,Gi]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",g,P4,T4]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",Fe,ze,v]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Et,Gi]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":$()}],opacity:[{opacity:[Et,Fe,ze]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none",Fe,ze]}],blur:[{blur:B()}],brightness:[{brightness:[Et,Fe,ze]}],contrast:[{contrast:[Et,Fe,ze]}],"drop-shadow":[{"drop-shadow":["","none",b,Fe,ze]}],grayscale:[{grayscale:["",Et,Fe,ze]}],"hue-rotate":[{"hue-rotate":[Et,Fe,ze]}],invert:[{invert:["",Et,Fe,ze]}],saturate:[{saturate:[Et,Fe,ze]}],sepia:[{sepia:["",Et,Fe,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,ze]}],"backdrop-blur":[{"backdrop-blur":B()}],"backdrop-brightness":[{"backdrop-brightness":[Et,Fe,ze]}],"backdrop-contrast":[{"backdrop-contrast":[Et,Fe,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,Fe,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,Fe,ze]}],"backdrop-invert":[{"backdrop-invert":["",Et,Fe,ze]}],"backdrop-opacity":[{"backdrop-opacity":[Et,Fe,ze]}],"backdrop-saturate":[{"backdrop-saturate":[Et,Fe,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,Fe,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",Fe,ze]}],ease:[{ease:["linear","initial",S,Fe,ze]}],delay:[{delay:[Et,Fe,ze]}],animate:[{animate:["none",_,Fe,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Fe,ze]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:z()}],"scale-x":[{"scale-x":z()}],"scale-y":[{"scale-y":z()}],"scale-z":[{"scale-z":z()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[Fe,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,ze]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Et,uf,Gi,wg]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},F4=m4(z4);function Me(...e){return F4(QS(e))}function V4(e){return!e||!/^0\d+$/.test(e)?(console.error("Error: Please enter 0 followed by a number as ID (e.g., 01, 02, 010)."),!1):(console.log("Valid ID:",e),!0)}function B4(e){const t=new Date,n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getFullYear()).slice(-2);return`${e}-${n}-${r}${i}`}function H4(e,t){const n=e.split("-"),r=t.split("-");if(n.length<2||r.length<2)return console.error("Error: Invalid format. Expected format like 'ID-day-monthYear'"),!1;const i=n.slice(1).join("-"),l=r.slice(1).join("-");return i!==l?(console.error("Error: Only the ID (before the first hyphen) can be changed."),!1):(console.log("Only ID was changed."),!0)}function Ff(e){const t=e.indexOf("#");return t===-1?e:e.substring(0,t)}function Sv(e){const t=e.indexOf("#");return t===-1?e:e.substring(0,t)}function _u({className:e,...t}){return s.jsx(Zk,{"data-slot":"avatar",className:Me("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function gh({className:e,...t}){return s.jsx(Jk,{"data-slot":"avatar-image",className:Me("aspect-square size-full",e),...t})}function Eu({className:e,...t}){return s.jsx(e4,{"data-slot":"avatar-fallback",className:Me("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function u1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function q4(...e){return t=>{let n=!1;const r=e.map(i=>{const l=u1(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():u1(e[i],null)}}}}function W4(...e){return h.useCallback(q4(...e),e)}function Cu(e){const t=Y4(e),n=h.forwardRef((r,i)=>{const{children:l,...u}=r,d=h.Children.toArray(l),f=d.find(X4);if(f){const p=f.props.children,g=d.map(v=>v===f?h.Children.count(p)>1?h.Children.only(null):h.isValidElement(p)?p.props.children:null:v);return s.jsx(t,{...u,ref:i,children:h.isValidElement(p)?h.cloneElement(p,void 0,g):null})}return s.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var i_=Cu("Slot");function Y4(e){const t=h.forwardRef((n,r)=>{const{children:i,...l}=n,u=h.isValidElement(i)?Q4(i):void 0,d=W4(u,r);if(h.isValidElement(i)){const f=K4(l,i.props);return i.type!==h.Fragment&&(f.ref=d),h.cloneElement(i,f)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G4=Symbol("radix.slottable");function X4(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G4}function K4(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{const f=l(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function Q4(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const d1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,f1=QS,Cx=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return f1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(p=>{const g=n==null?void 0:n[p],v=l==null?void 0:l[p];if(g===null)return null;const b=d1(g)||d1(v);return i[p][b]}),d=n&&Object.entries(n).reduce((p,g)=>{let[v,b]=g;return b===void 0||(p[v]=b),p},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:b,...w}=g;return Object.entries(w).every(j=>{let[N,S]=j;return Array.isArray(S)?S.includes({...l,...d}[N]):{...l,...d}[N]===S})?[...p,v,b]:p},[]);return f1(e,u,f,n==null?void 0:n.class,n==null?void 0:n.className)},wl=Cx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ne({className:e,variant:t,size:n,asChild:r=!1,...i}){const l=r?i_:"button";return s.jsx(l,{"data-slot":"button",className:Me(wl({variant:t,size:n,className:e})),...i})}function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function pi({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Z4({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:r,d=Br(n),f=h.useCallback(p=>{if(l){const v=typeof p=="function"?p(e):p;v!==e&&d(v)}else i(p)},[l,e,i,d]);return[u,f]}function Z4({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,i=h.useRef(r),l=Br(t);return h.useEffect(()=>{i.current!==r&&(l(r),i.current=r)},[r,i,l]),n}var _v=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),l=i.find(eL);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return s.jsx(Ev,{...r,ref:t,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx(Ev,{...r,ref:t,children:n})});_v.displayName="Slot";var Ev=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const i=nL(n),l=tL(r,n.props);return n.type!==h.Fragment&&(l.ref=t?Xs(t,i):i),h.cloneElement(n,l)}return h.Children.count(n)>1?h.Children.only(null):null});Ev.displayName="SlotClone";var J4=({children:e})=>s.jsx(s.Fragment,{children:e});function eL(e){return h.isValidElement(e)&&e.type===J4}function tL(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function nL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rx(e){const t=e+"CollectionProvider",[n,r]=wr(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:j,children:N}=w,S=we.useRef(null),_=we.useRef(new Map).current;return s.jsx(i,{scope:j,itemMap:_,collectionRef:S,children:N})};u.displayName=t;const d=e+"CollectionSlot",f=we.forwardRef((w,j)=>{const{scope:N,children:S}=w,_=l(d,N),R=Rt(j,_.collectionRef);return s.jsx(_v,{ref:R,children:S})});f.displayName=d;const p=e+"CollectionItemSlot",g="data-radix-collection-item",v=we.forwardRef((w,j)=>{const{scope:N,children:S,..._}=w,R=we.useRef(null),E=Rt(j,R),M=l(p,N);return we.useEffect(()=>(M.itemMap.set(R,{ref:R,..._}),()=>void M.itemMap.delete(R))),s.jsx(_v,{[g]:"",ref:E,children:S})});v.displayName=p;function b(w){const j=l(e+"CollectionConsumer",w);return we.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((M,C)=>_.indexOf(M.ref.current)-_.indexOf(C.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:f,ItemSlot:v},b,r]}var rL=h.createContext(void 0);function vh(e){const t=h.useContext(rL);return e||t||"ltr"}function sL(e,t=globalThis==null?void 0:globalThis.document){const n=Br(e);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var aL="DismissableLayer",Cv="dismissableLayer.update",iL="dismissableLayer.pointerDownOutside",oL="dismissableLayer.focusOutside",h1,o_=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ll=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...f}=e,p=h.useContext(o_),[g,v]=h.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=h.useState({}),j=Rt(t,O=>v(O)),N=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),R=g?N.indexOf(g):-1,E=p.layersWithOutsidePointerEventsDisabled.size>0,M=R>=_,C=uL(O=>{const P=O.target,k=[...p.branches].some(F=>F.contains(P));!M||k||(i==null||i(O),u==null||u(O),O.defaultPrevented||d==null||d())},b),D=dL(O=>{const P=O.target;[...p.branches].some(F=>F.contains(P))||(l==null||l(O),u==null||u(O),O.defaultPrevented||d==null||d())},b);return sL(O=>{R===p.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},b),h.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(h1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),m1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=h1)}},[g,b,n,p]),h.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),m1())},[g,p]),h.useEffect(()=>{const O=()=>w({});return document.addEventListener(Cv,O),()=>document.removeEventListener(Cv,O)},[]),s.jsx(tt.div,{...f,ref:j,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,C.onPointerDownCapture)})});Ll.displayName=aL;var lL="DismissableLayerBranch",cL=h.forwardRef((e,t)=>{const n=h.useContext(o_),r=h.useRef(null),i=Rt(t,r);return h.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),s.jsx(tt.div,{...e,ref:i})});cL.displayName=lL;function uL(e,t=globalThis==null?void 0:globalThis.document){const n=Br(e),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let f=function(){l_(iL,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dL(e,t=globalThis==null?void 0:globalThis.document){const n=Br(e),r=h.useRef(!1);return h.useEffect(()=>{const i=l=>{l.target&&!r.current&&l_(oL,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m1(){const e=new CustomEvent(Cv);document.dispatchEvent(e)}function l_(e,t,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?BS(i,l):i.dispatchEvent(l)}var jg=0;function xh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??p1()),document.body.insertAdjacentElement("beforeend",e[1]??p1()),jg++,()=>{jg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jg--}},[])}function p1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ng="focusScope.autoFocusOnMount",Sg="focusScope.autoFocusOnUnmount",g1={bubbles:!1,cancelable:!0},fL="FocusScope",Ru=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=e,[d,f]=h.useState(null),p=Br(i),g=Br(l),v=h.useRef(null),b=Rt(t,N=>f(N)),w=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let N=function(E){if(w.paused||!d)return;const M=E.target;d.contains(M)?v.current=M:li(v.current,{select:!0})},S=function(E){if(w.paused||!d)return;const M=E.relatedTarget;M!==null&&(d.contains(M)||li(v.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&li(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const R=new MutationObserver(_);return d&&R.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),R.disconnect()}}},[r,d,w.paused]),h.useEffect(()=>{if(d){x1.add(w);const N=document.activeElement;if(!d.contains(N)){const _=new CustomEvent(Ng,g1);d.addEventListener(Ng,p),d.dispatchEvent(_),_.defaultPrevented||(hL(xL(c_(d)),{select:!0}),document.activeElement===N&&li(d))}return()=>{d.removeEventListener(Ng,p),setTimeout(()=>{const _=new CustomEvent(Sg,g1);d.addEventListener(Sg,g),d.dispatchEvent(_),_.defaultPrevented||li(N??document.body,{select:!0}),d.removeEventListener(Sg,g),x1.remove(w)},0)}}},[d,p,g,w]);const j=h.useCallback(N=>{if(!n&&!r||w.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const R=N.currentTarget,[E,M]=mL(R);E&&M?!N.shiftKey&&_===M?(N.preventDefault(),n&&li(E,{select:!0})):N.shiftKey&&_===E&&(N.preventDefault(),n&&li(M,{select:!0})):_===R&&N.preventDefault()}},[n,r,w.paused]);return s.jsx(tt.div,{tabIndex:-1,...u,ref:b,onKeyDown:j})});Ru.displayName=fL;function hL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(li(r,{select:t}),document.activeElement!==n)return}function mL(e){const t=c_(e),n=v1(t,e),r=v1(t.reverse(),e);return[n,r]}function c_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function v1(e,t){for(const n of e)if(!pL(n,{upTo:t}))return n}function pL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gL(e){return e instanceof HTMLInputElement&&"select"in e}function li(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&gL(e)&&t&&e.select()}}var x1=vL();function vL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=b1(e,t),e.unshift(t)},remove(t){var n;e=b1(e,t),(n=e[0])==null||n.resume()}}}function b1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function xL(e){return e.filter(t=>t.tagName!=="A")}var bL=ru.useId||(()=>{}),yL=0;function Bs(e){const[t,n]=h.useState(bL());return ar(()=>{n(r=>r??String(yL++))},[e]),e||(t?`radix-${t}`:"")}const wL=["top","right","bottom","left"],gi=Math.min,zr=Math.max,Vf=Math.round,df=Math.floor,Hs=e=>({x:e,y:e}),jL={left:"right",right:"left",bottom:"top",top:"bottom"},NL={start:"end",end:"start"};function Rv(e,t,n){return zr(e,gi(t,n))}function Ca(e,t){return typeof e=="function"?e(t):e}function Ra(e){return e.split("-")[0]}function Il(e){return e.split("-")[1]}function Tx(e){return e==="x"?"y":"x"}function Mx(e){return e==="y"?"height":"width"}function vi(e){return["top","bottom"].includes(Ra(e))?"y":"x"}function Ox(e){return Tx(vi(e))}function SL(e,t,n){n===void 0&&(n=!1);const r=Il(e),i=Ox(e),l=Mx(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Bf(u)),[u,Bf(u)]}function _L(e){const t=Bf(e);return[Tv(e),t,Tv(t)]}function Tv(e){return e.replace(/start|end/g,t=>NL[t])}function EL(e,t,n){const r=["left","right"],i=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?l:u;default:return[]}}function CL(e,t,n,r){const i=Il(e);let l=EL(Ra(e),n==="start",r);return i&&(l=l.map(u=>u+"-"+i),t&&(l=l.concat(l.map(Tv)))),l}function Bf(e){return e.replace(/left|right|bottom|top/g,t=>jL[t])}function RL(e){return{top:0,right:0,bottom:0,left:0,...e}}function u_(e){return typeof e!="number"?RL(e):{top:e,right:e,bottom:e,left:e}}function Hf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function y1(e,t,n){let{reference:r,floating:i}=e;const l=vi(t),u=Ox(t),d=Mx(u),f=Ra(t),p=l==="y",g=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,b=r[d]/2-i[d]/2;let w;switch(f){case"top":w={x:g,y:r.y-i.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-i.width,y:v};break;default:w={x:r.x,y:r.y}}switch(Il(t)){case"start":w[u]-=b*(n&&p?-1:1);break;case"end":w[u]+=b*(n&&p?-1:1);break}return w}const TL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:v}=y1(p,r,f),b=r,w={},j=0;for(let N=0;N<d.length;N++){const{name:S,fn:_}=d[N],{x:R,y:E,data:M,reset:C}=await _({x:g,y:v,initialPlacement:r,placement:b,strategy:i,middlewareData:w,rects:p,platform:u,elements:{reference:e,floating:t}});g=R??g,v=E??v,w={...w,[S]:{...w[S],...M}},C&&j<=50&&(j++,typeof C=="object"&&(C.placement&&(b=C.placement),C.rects&&(p=C.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:g,y:v}=y1(p,b,f)),N=-1)}return{x:g,y:v,placement:b,strategy:i,middlewareData:w}};async function iu(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:l,rects:u,elements:d,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:b=!1,padding:w=0}=Ca(t,e),j=u_(w),S=d[b?v==="floating"?"reference":"floating":v],_=Hf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),R=v==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),M=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},C=Hf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:E,strategy:f}):R);return{top:(_.top-C.top+j.top)/M.y,bottom:(C.bottom-_.bottom+j.bottom)/M.y,left:(_.left-C.left+j.left)/M.x,right:(C.right-_.right+j.right)/M.x}}const ML=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:l,platform:u,elements:d,middlewareData:f}=t,{element:p,padding:g=0}=Ca(e,t)||{};if(p==null)return{};const v=u_(g),b={x:n,y:r},w=Ox(i),j=Mx(w),N=await u.getDimensions(p),S=w==="y",_=S?"top":"left",R=S?"bottom":"right",E=S?"clientHeight":"clientWidth",M=l.reference[j]+l.reference[w]-b[w]-l.floating[j],C=b[w]-l.reference[w],D=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let O=D?D[E]:0;(!O||!await(u.isElement==null?void 0:u.isElement(D)))&&(O=d.floating[E]||l.floating[j]);const P=M/2-C/2,k=O/2-N[j]/2-1,F=gi(v[_],k),ie=gi(v[R],k),Q=F,U=O-N[j]-ie,oe=O/2-N[j]/2+P,le=Rv(Q,oe,U),$=!f.arrow&&Il(i)!=null&&oe!==le&&l.reference[j]/2-(oe<Q?F:ie)-N[j]/2<0,G=$?oe<Q?oe-Q:oe-U:0;return{[w]:b[w]+G,data:{[w]:le,centerOffset:oe-le-G,...$&&{alignmentOffset:G}},reset:$}}}),OL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...S}=Ca(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const _=Ra(i),R=vi(d),E=Ra(d)===d,M=await(f.isRTL==null?void 0:f.isRTL(p.floating)),C=b||(E||!N?[Bf(d)]:_L(d)),D=j!=="none";!b&&D&&C.push(...CL(d,N,j,M));const O=[d,...C],P=await iu(t,S),k=[];let F=((r=l.flip)==null?void 0:r.overflows)||[];if(g&&k.push(P[_]),v){const oe=SL(i,u,M);k.push(P[oe[0]],P[oe[1]])}if(F=[...F,{placement:i,overflows:k}],!k.every(oe=>oe<=0)){var ie,Q;const oe=(((ie=l.flip)==null?void 0:ie.index)||0)+1,le=O[oe];if(le)return{data:{index:oe,overflows:F},reset:{placement:le}};let $=(Q=F.filter(G=>G.overflows[0]<=0).sort((G,W)=>G.overflows[1]-W.overflows[1])[0])==null?void 0:Q.placement;if(!$)switch(w){case"bestFit":{var U;const G=(U=F.filter(W=>{if(D){const J=vi(W.placement);return J===R||J==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,L)=>J+L,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:U[0];G&&($=G);break}case"initialPlacement":$=d;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function w1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function j1(e){return wL.some(t=>e[t]>=0)}const AL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ca(e,t);switch(r){case"referenceHidden":{const l=await iu(t,{...i,elementContext:"reference"}),u=w1(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:j1(u)}}}case"escaped":{const l=await iu(t,{...i,altBoundary:!0}),u=w1(l,n.floating);return{data:{escapedOffsets:u,escaped:j1(u)}}}default:return{}}}}};async function DL(e,t){const{placement:n,platform:r,elements:i}=e,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Ra(n),d=Il(n),f=vi(n)==="y",p=["left","top"].includes(u)?-1:1,g=l&&f?-1:1,v=Ca(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:j}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof j=="number"&&(w=d==="end"?j*-1:j),f?{x:w*g,y:b*p}:{x:b*p,y:w*g}}const PL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:l,placement:u,middlewareData:d}=t,f=await DL(t,e);return u===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:u}}}}},kL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:_,y:R}=S;return{x:_,y:R}}},...f}=Ca(e,t),p={x:n,y:r},g=await iu(t,f),v=vi(Ra(i)),b=Tx(v);let w=p[b],j=p[v];if(l){const S=b==="y"?"top":"left",_=b==="y"?"bottom":"right",R=w+g[S],E=w-g[_];w=Rv(R,w,E)}if(u){const S=v==="y"?"top":"left",_=v==="y"?"bottom":"right",R=j+g[S],E=j-g[_];j=Rv(R,j,E)}const N=d.fn({...t,[b]:w,[v]:j});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[b]:l,[v]:u}}}}}},LL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:l,middlewareData:u}=t,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=Ca(e,t),g={x:n,y:r},v=vi(i),b=Tx(v);let w=g[b],j=g[v];const N=Ca(d,t),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(f){const E=b==="y"?"height":"width",M=l.reference[b]-l.floating[E]+S.mainAxis,C=l.reference[b]+l.reference[E]-S.mainAxis;w<M?w=M:w>C&&(w=C)}if(p){var _,R;const E=b==="y"?"width":"height",M=["top","left"].includes(Ra(i)),C=l.reference[v]-l.floating[E]+(M&&((_=u.offset)==null?void 0:_[v])||0)+(M?0:S.crossAxis),D=l.reference[v]+l.reference[E]+(M?0:((R=u.offset)==null?void 0:R[v])||0)-(M?S.crossAxis:0);j<C?j=C:j>D&&(j=D)}return{[b]:w,[v]:j}}}},IL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:l,platform:u,elements:d}=t,{apply:f=()=>{},...p}=Ca(e,t),g=await iu(t,p),v=Ra(i),b=Il(i),w=vi(i)==="y",{width:j,height:N}=l.floating;let S,_;v==="top"||v==="bottom"?(S=v,_=b===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(_=v,S=b==="end"?"top":"bottom");const R=N-g.top-g.bottom,E=j-g.left-g.right,M=gi(N-g[S],R),C=gi(j-g[_],E),D=!t.middlewareData.shift;let O=M,P=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=R),D&&!b){const F=zr(g.left,0),ie=zr(g.right,0),Q=zr(g.top,0),U=zr(g.bottom,0);w?P=j-2*(F!==0||ie!==0?F+ie:zr(g.left,g.right)):O=N-2*(Q!==0||U!==0?Q+U:zr(g.top,g.bottom))}await f({...t,availableWidth:P,availableHeight:O});const k=await u.getDimensions(d.floating);return j!==k.width||N!==k.height?{reset:{rects:!0}}:{}}}};function bh(){return typeof window<"u"}function $l(e){return d_(e)?(e.nodeName||"").toLowerCase():"#document"}function Fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ks(e){var t;return(t=(d_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function d_(e){return bh()?e instanceof Node||e instanceof Fr(e).Node:!1}function ws(e){return bh()?e instanceof Element||e instanceof Fr(e).Element:!1}function Ws(e){return bh()?e instanceof HTMLElement||e instanceof Fr(e).HTMLElement:!1}function N1(e){return!bh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fr(e).ShadowRoot}function Tu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=js(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function $L(e){return["table","td","th"].includes($l(e))}function yh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ax(e){const t=Dx(),n=ws(e)?js(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function UL(e){let t=xi(e);for(;Ws(t)&&!jl(t);){if(Ax(t))return t;if(yh(t))return null;t=xi(t)}return null}function Dx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jl(e){return["html","body","#document"].includes($l(e))}function js(e){return Fr(e).getComputedStyle(e)}function wh(e){return ws(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xi(e){if($l(e)==="html")return e;const t=e.assignedSlot||e.parentNode||N1(e)&&e.host||Ks(e);return N1(t)?t.host:t}function f_(e){const t=xi(e);return jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ws(t)&&Tu(t)?t:f_(t)}function ou(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=f_(e),l=i===((r=e.ownerDocument)==null?void 0:r.body),u=Fr(i);if(l){const d=Mv(u);return t.concat(u,u.visualViewport||[],Tu(i)?i:[],d&&n?ou(d):[])}return t.concat(i,ou(i,[],n))}function Mv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function h_(e){const t=js(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ws(e),l=i?e.offsetWidth:n,u=i?e.offsetHeight:r,d=Vf(n)!==l||Vf(r)!==u;return d&&(n=l,r=u),{width:n,height:r,$:d}}function Px(e){return ws(e)?e:e.contextElement}function fl(e){const t=Px(e);if(!Ws(t))return Hs(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:l}=h_(t);let u=(l?Vf(n.width):n.width)/r,d=(l?Vf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const zL=Hs(0);function m_(e){const t=Fr(e);return!Dx()||!t.visualViewport?zL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function FL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fr(e)?!1:t}function eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=Px(e);let u=Hs(1);t&&(r?ws(r)&&(u=fl(r)):u=fl(e));const d=FL(l,n,r)?m_(l):Hs(0);let f=(i.left+d.x)/u.x,p=(i.top+d.y)/u.y,g=i.width/u.x,v=i.height/u.y;if(l){const b=Fr(l),w=r&&ws(r)?Fr(r):r;let j=b,N=Mv(j);for(;N&&r&&w!==j;){const S=fl(N),_=N.getBoundingClientRect(),R=js(N),E=_.left+(N.clientLeft+parseFloat(R.paddingLeft))*S.x,M=_.top+(N.clientTop+parseFloat(R.paddingTop))*S.y;f*=S.x,p*=S.y,g*=S.x,v*=S.y,f+=E,p+=M,j=Fr(N),N=Mv(j)}}return Hf({width:g,height:v,x:f,y:p})}function kx(e,t){const n=wh(e).scrollLeft;return t?t.left+n:eo(Ks(e)).left+n}function p_(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:kx(e,r)),l=r.top+t.scrollTop;return{x:i,y:l}}function VL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const l=i==="fixed",u=Ks(r),d=t?yh(t.floating):!1;if(r===u||d&&l)return n;let f={scrollLeft:0,scrollTop:0},p=Hs(1);const g=Hs(0),v=Ws(r);if((v||!v&&!l)&&(($l(r)!=="body"||Tu(u))&&(f=wh(r)),Ws(r))){const w=eo(r);p=fl(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const b=u&&!v&&!l?p_(u,f,!0):Hs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x+b.x,y:n.y*p.y-f.scrollTop*p.y+g.y+b.y}}function BL(e){return Array.from(e.getClientRects())}function HL(e){const t=Ks(e),n=wh(e),r=e.ownerDocument.body,i=zr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=zr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+kx(e);const d=-n.scrollTop;return js(r).direction==="rtl"&&(u+=zr(t.clientWidth,r.clientWidth)-i),{width:i,height:l,x:u,y:d}}function qL(e,t){const n=Fr(e),r=Ks(e),i=n.visualViewport;let l=r.clientWidth,u=r.clientHeight,d=0,f=0;if(i){l=i.width,u=i.height;const p=Dx();(!p||p&&t==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:l,height:u,x:d,y:f}}function WL(e,t){const n=eo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,l=Ws(e)?fl(e):Hs(1),u=e.clientWidth*l.x,d=e.clientHeight*l.y,f=i*l.x,p=r*l.y;return{width:u,height:d,x:f,y:p}}function S1(e,t,n){let r;if(t==="viewport")r=qL(e,n);else if(t==="document")r=HL(Ks(e));else if(ws(t))r=WL(t,n);else{const i=m_(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Hf(r)}function g_(e,t){const n=xi(e);return n===t||!ws(n)||jl(n)?!1:js(n).position==="fixed"||g_(n,t)}function YL(e,t){const n=t.get(e);if(n)return n;let r=ou(e,[],!1).filter(d=>ws(d)&&$l(d)!=="body"),i=null;const l=js(e).position==="fixed";let u=l?xi(e):e;for(;ws(u)&&!jl(u);){const d=js(u),f=Ax(u);!f&&d.position==="fixed"&&(i=null),(l?!f&&!i:!f&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Tu(u)&&!f&&g_(e,u))?r=r.filter(g=>g!==u):i=d,u=xi(u)}return t.set(e,r),r}function GL(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const u=[...n==="clippingAncestors"?yh(t)?[]:YL(t,this._c):[].concat(n),r],d=u[0],f=u.reduce((p,g)=>{const v=S1(t,g,i);return p.top=zr(v.top,p.top),p.right=gi(v.right,p.right),p.bottom=gi(v.bottom,p.bottom),p.left=zr(v.left,p.left),p},S1(t,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function XL(e){const{width:t,height:n}=h_(e);return{width:t,height:n}}function KL(e,t,n){const r=Ws(t),i=Ks(t),l=n==="fixed",u=eo(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=Hs(0);if(r||!r&&!l)if(($l(t)!=="body"||Tu(i))&&(d=wh(t)),r){const b=eo(t,!0,l,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else i&&(f.x=kx(i));const p=i&&!r&&!l?p_(i,d):Hs(0),g=u.left+d.scrollLeft-f.x-p.x,v=u.top+d.scrollTop-f.y-p.y;return{x:g,y:v,width:u.width,height:u.height}}function _g(e){return js(e).position==="static"}function _1(e,t){if(!Ws(e)||js(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ks(e)===n&&(n=n.ownerDocument.body),n}function v_(e,t){const n=Fr(e);if(yh(e))return n;if(!Ws(e)){let i=xi(e);for(;i&&!jl(i);){if(ws(i)&&!_g(i))return i;i=xi(i)}return n}let r=_1(e,t);for(;r&&$L(r)&&_g(r);)r=_1(r,t);return r&&jl(r)&&_g(r)&&!Ax(r)?n:r||UL(e)||n}const QL=async function(e){const t=this.getOffsetParent||v_,n=this.getDimensions,r=await n(e.floating);return{reference:KL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZL(e){return js(e).direction==="rtl"}const JL={convertOffsetParentRelativeRectToViewportRelativeRect:VL,getDocumentElement:Ks,getClippingRect:GL,getOffsetParent:v_,getElementRects:QL,getClientRects:BL,getDimensions:XL,getScale:fl,isElement:ws,isRTL:ZL};function x_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function e3(e,t){let n=null,r;const i=Ks(e);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=e.getBoundingClientRect(),{left:g,top:v,width:b,height:w}=p;if(d||t(),!b||!w)return;const j=df(v),N=df(i.clientWidth-(g+b)),S=df(i.clientHeight-(v+w)),_=df(g),E={rootMargin:-j+"px "+-N+"px "+-S+"px "+-_+"px",threshold:zr(0,gi(1,f))||1};let M=!0;function C(D){const O=D[0].intersectionRatio;if(O!==f){if(!M)return u();O?u(!1,O):r=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!x_(p,e.getBoundingClientRect())&&u(),M=!1}try{n=new IntersectionObserver(C,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,E)}n.observe(e)}return u(!0),l}function b_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=Px(e),g=i||l?[...p?ou(p):[],...ou(t)]:[];g.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),l&&_.addEventListener("resize",n)});const v=p&&d?e3(p,n):null;let b=-1,w=null;u&&(w=new ResizeObserver(_=>{let[R]=_;R&&R.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var E;(E=w)==null||E.observe(t)})),n()}),p&&!f&&w.observe(p),w.observe(t));let j,N=f?eo(e):null;f&&S();function S(){const _=eo(e);N&&!x_(N,_)&&n(),N=_,j=requestAnimationFrame(S)}return n(),()=>{var _;g.forEach(R=>{i&&R.removeEventListener("scroll",n),l&&R.removeEventListener("resize",n)}),v==null||v(),(_=w)==null||_.disconnect(),w=null,f&&cancelAnimationFrame(j)}}const t3=PL,n3=kL,r3=OL,s3=IL,a3=AL,E1=ML,i3=LL,o3=(e,t,n)=>{const r=new Map,i={platform:JL,...n},l={...i.platform,_c:r};return TL(e,t,{...i,platform:l})};var Tf=typeof document<"u"?h.useLayoutEffect:h.useEffect;function qf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&e.$$typeof)&&!qf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function y_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C1(e,t){const n=y_(e);return Math.round(t*n)/n}function Eg(e){const t=h.useRef(e);return Tf(()=>{t.current=e}),t}function l3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:f,open:p}=e,[g,v]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=h.useState(r);qf(b,r)||w(r);const[j,N]=h.useState(null),[S,_]=h.useState(null),R=h.useCallback(W=>{W!==D.current&&(D.current=W,N(W))},[]),E=h.useCallback(W=>{W!==O.current&&(O.current=W,_(W))},[]),M=l||j,C=u||S,D=h.useRef(null),O=h.useRef(null),P=h.useRef(g),k=f!=null,F=Eg(f),ie=Eg(i),Q=Eg(p),U=h.useCallback(()=>{if(!D.current||!O.current)return;const W={placement:t,strategy:n,middleware:b};ie.current&&(W.platform=ie.current),o3(D.current,O.current,W).then(J=>{const L={...J,isPositioned:Q.current!==!1};oe.current&&!qf(P.current,L)&&(P.current=L,ls.flushSync(()=>{v(L)}))})},[b,t,n,ie,Q]);Tf(()=>{p===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,v(W=>({...W,isPositioned:!1})))},[p]);const oe=h.useRef(!1);Tf(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Tf(()=>{if(M&&(D.current=M),C&&(O.current=C),M&&C){if(F.current)return F.current(M,C,U);U()}},[M,C,U,F,k]);const le=h.useMemo(()=>({reference:D,floating:O,setReference:R,setFloating:E}),[R,E]),$=h.useMemo(()=>({reference:M,floating:C}),[M,C]),G=h.useMemo(()=>{const W={position:n,left:0,top:0};if(!$.floating)return W;const J=C1($.floating,g.x),L=C1($.floating,g.y);return d?{...W,transform:"translate("+J+"px, "+L+"px)",...y_($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:L}},[n,d,$.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:U,refs:le,elements:$,floatingStyles:G}),[g,U,le,$,G])}const c3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?E1({element:r.current,padding:i}).fn(n):{}:r?E1({element:r,padding:i}).fn(n):{}}}},u3=(e,t)=>({...t3(e),options:[e,t]}),d3=(e,t)=>({...n3(e),options:[e,t]}),f3=(e,t)=>({...i3(e),options:[e,t]}),h3=(e,t)=>({...r3(e),options:[e,t]}),m3=(e,t)=>({...s3(e),options:[e,t]}),p3=(e,t)=>({...a3(e),options:[e,t]}),g3=(e,t)=>({...c3(e),options:[e,t]});var v3="Arrow",w_=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...l}=e;return s.jsx(tt.svg,{...l,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});w_.displayName=v3;var x3=w_;function Lx(e){const[t,n]=h.useState(void 0);return ar(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,d;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,d=p.blockSize}else u=e.offsetWidth,d=e.offsetHeight;n({width:u,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ix="Popper",[j_,wi]=wr(Ix),[b3,N_]=j_(Ix),S_=e=>{const{__scopePopper:t,children:n}=e,[r,i]=h.useState(null);return s.jsx(b3,{scope:t,anchor:r,onAnchorChange:i,children:n})};S_.displayName=Ix;var __="PopperAnchor",E_=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,l=N_(__,n),u=h.useRef(null),d=Rt(t,u);return h.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:s.jsx(tt.div,{...i,ref:d})});E_.displayName=__;var $x="PopperContent",[y3,w3]=j_($x),C_=h.forwardRef((e,t)=>{var K,se,ge,fe,Se,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:j,...N}=e,S=N_($x,n),[_,R]=h.useState(null),E=Rt(t,it=>R(it)),[M,C]=h.useState(null),D=Lx(M),O=(D==null?void 0:D.width)??0,P=(D==null?void 0:D.height)??0,k=r+(l!=="center"?"-"+l:""),F=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ie=Array.isArray(p)?p:[p],Q=ie.length>0,U={padding:F,boundary:ie.filter(N3),altBoundary:Q},{refs:oe,floatingStyles:le,placement:$,isPositioned:G,middlewareData:W}=l3({strategy:"fixed",placement:k,whileElementsMounted:(...it)=>b_(...it,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[u3({mainAxis:i+P,alignmentAxis:u}),f&&d3({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?f3():void 0,...U}),f&&h3({...U}),m3({...U,apply:({elements:it,rects:rt,availableWidth:Dt,availableHeight:ue})=>{const{width:ye,height:ve}=rt.reference,Ne=it.floating.style;Ne.setProperty("--radix-popper-available-width",`${Dt}px`),Ne.setProperty("--radix-popper-available-height",`${ue}px`),Ne.setProperty("--radix-popper-anchor-width",`${ye}px`),Ne.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),M&&g3({element:M,padding:d}),S3({arrowWidth:O,arrowHeight:P}),b&&p3({strategy:"referenceHidden",...U})]}),[J,L]=M_($),V=Br(j);ar(()=>{G&&(V==null||V())},[G,V]);const B=(K=W.arrow)==null?void 0:K.x,H=(se=W.arrow)==null?void 0:se.y,I=((ge=W.arrow)==null?void 0:ge.centerOffset)!==0,[z,q]=h.useState();return ar(()=>{_&&q(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:G?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(fe=W.transformOrigin)==null?void 0:fe.x,(Se=W.transformOrigin)==null?void 0:Se.y].join(" "),...((Ae=W.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(y3,{scope:n,placedSide:J,onArrowChange:C,arrowX:B,arrowY:H,shouldHideArrow:I,children:s.jsx(tt.div,{"data-side":J,"data-align":L,...N,ref:E,style:{...N.style,animation:G?void 0:"none"}})})})});C_.displayName=$x;var R_="PopperArrow",j3={top:"bottom",right:"left",bottom:"top",left:"right"},T_=h.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,l=w3(R_,r),u=j3[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(x3,{...i,ref:n,style:{...i.style,display:"block"}})})});T_.displayName=R_;function N3(e){return e!==null}var S3=e=>({name:"transformOrigin",options:e,fn(t){var S,_,R;const{placement:n,rects:r,middlewareData:i}=t,u=((S=i.arrow)==null?void 0:S.centerOffset)!==0,d=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[p,g]=M_(n),v={start:"0%",center:"50%",end:"100%"}[g],b=(((_=i.arrow)==null?void 0:_.x)??0)+d/2,w=(((R=i.arrow)==null?void 0:R.y)??0)+f/2;let j="",N="";return p==="bottom"?(j=u?v:`${b}px`,N=`${-f}px`):p==="top"?(j=u?v:`${b}px`,N=`${r.floating.height+f}px`):p==="right"?(j=`${-f}px`,N=u?v:`${w}px`):p==="left"&&(j=`${r.floating.width+f}px`,N=u?v:`${w}px`),{data:{x:j,y:N}}}});function M_(e){const[t,n="center"]=e.split("-");return[t,n]}var Ux=S_,Mu=E_,jh=C_,Nh=T_,_3="Portal",Ou=h.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[i,l]=h.useState(!1);ar(()=>l(!0),[]);const u=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?vx.createPortal(s.jsx(tt.div,{...r,ref:t}),u):null});Ou.displayName=_3;function E3(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Yr=e=>{const{present:t,children:n}=e,r=C3(t),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),l=Rt(r.ref,R3(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:l}):null};Yr.displayName="Presence";function C3(e){const[t,n]=h.useState(),r=h.useRef({}),i=h.useRef(e),l=h.useRef("none"),u=e?"mounted":"unmounted",[d,f]=E3(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=ff(r.current);l.current=d==="mounted"?p:"none"},[d]),ar(()=>{const p=r.current,g=i.current;if(g!==e){const b=l.current,w=ff(p);e?f("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),ar(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,v=w=>{const N=ff(r.current).includes(w.animationName);if(w.target===t&&N&&(f("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},b=w=>{w.target===t&&(l.current=ff(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:h.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function ff(e){return(e==null?void 0:e.animationName)||"none"}function R3(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cg="rovingFocusGroup.onEntryFocus",T3={bubbles:!1,cancelable:!0},Sh="RovingFocusGroup",[Ov,O_,M3]=Rx(Sh),[O3,_h]=wr(Sh,[M3]),[A3,D3]=O3(Sh),A_=h.forwardRef((e,t)=>s.jsx(Ov.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ov.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(P3,{...e,ref:t})})}));A_.displayName=Sh;var P3=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...v}=e,b=h.useRef(null),w=Rt(t,b),j=vh(l),[N=null,S]=pi({prop:u,defaultProp:d,onChange:f}),[_,R]=h.useState(!1),E=Br(p),M=O_(n),C=h.useRef(!1),[D,O]=h.useState(0);return h.useEffect(()=>{const P=b.current;if(P)return P.addEventListener(Cg,E),()=>P.removeEventListener(Cg,E)},[E]),s.jsx(A3,{scope:n,orientation:r,dir:j,loop:i,currentTabStopId:N,onItemFocus:h.useCallback(P=>S(P),[S]),onItemShiftTab:h.useCallback(()=>R(!0),[]),onFocusableItemAdd:h.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:h.useCallback(()=>O(P=>P-1),[]),children:s.jsx(tt.div,{tabIndex:_||D===0?-1:0,"data-orientation":r,...v,ref:w,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{C.current=!0}),onFocus:Pe(e.onFocus,P=>{const k=!C.current;if(P.target===P.currentTarget&&k&&!_){const F=new CustomEvent(Cg,T3);if(P.currentTarget.dispatchEvent(F),!F.defaultPrevented){const ie=M().filter($=>$.focusable),Q=ie.find($=>$.active),U=ie.find($=>$.id===N),le=[Q,U,...ie].filter(Boolean).map($=>$.ref.current);k_(le,g)}}C.current=!1}),onBlur:Pe(e.onBlur,()=>R(!1))})})}),D_="RovingFocusGroupItem",P_=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:l,...u}=e,d=Bs(),f=l||d,p=D3(D_,n),g=p.currentTabStopId===f,v=O_(n),{onFocusableItemAdd:b,onFocusableItemRemove:w}=p;return h.useEffect(()=>{if(r)return b(),()=>w()},[r,b,w]),s.jsx(Ov.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:s.jsx(tt.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Pe(e.onMouseDown,j=>{r?p.onItemFocus(f):j.preventDefault()}),onFocus:Pe(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Pe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const N=I3(j,p.orientation,p.dir);if(N!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let _=v().filter(R=>R.focusable).map(R=>R.ref.current);if(N==="last")_.reverse();else if(N==="prev"||N==="next"){N==="prev"&&_.reverse();const R=_.indexOf(j.currentTarget);_=p.loop?$3(_,R+1):_.slice(R+1)}setTimeout(()=>k_(_))}})})})});P_.displayName=D_;var k3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function I3(e,t,n){const r=L3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k3[r]}function k_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function $3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var L_=A_,I_=P_,$_=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),l=i.find(z3);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return s.jsx(Av,{...r,ref:t,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx(Av,{...r,ref:t,children:n})});$_.displayName="Slot";var Av=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const i=V3(n),l=F3(r,n.props);return n.type!==h.Fragment&&(l.ref=t?Xs(t,i):i),h.cloneElement(n,l)}return h.Children.count(n)>1?h.Children.only(null):null});Av.displayName="SlotClone";var U3=({children:e})=>s.jsx(s.Fragment,{children:e});function z3(e){return h.isValidElement(e)&&e.type===U3}function F3(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function V3(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var B3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rl=new WeakMap,hf=new WeakMap,mf={},Rg=0,U_=function(e){return e&&(e.host||U_(e.parentNode))},H3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=U_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},q3=function(e,t,n,r){var i=H3(t,Array.isArray(e)?e:[e]);mf[n]||(mf[n]=new WeakMap);var l=mf[n],u=[],d=new Set,f=new Set(i),p=function(v){!v||d.has(v)||(d.add(v),p(v.parentNode))};i.forEach(p);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(b){if(d.has(b))g(b);else try{var w=b.getAttribute(r),j=w!==null&&w!=="false",N=(rl.get(b)||0)+1,S=(l.get(b)||0)+1;rl.set(b,N),l.set(b,S),u.push(b),N===1&&j&&hf.set(b,!0),S===1&&b.setAttribute(n,"true"),j||b.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",b,_)}})};return g(t),d.clear(),Rg++,function(){u.forEach(function(v){var b=rl.get(v)-1,w=l.get(v)-1;rl.set(v,b),l.set(v,w),b||(hf.has(v)||v.removeAttribute(r),hf.delete(v)),w||v.removeAttribute(n)}),Rg--,Rg||(rl=new WeakMap,rl=new WeakMap,hf=new WeakMap,mf={})}},Au=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=B3(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),q3(r,i,n,"aria-hidden")):function(){return null}},Us=function(){return Us=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Us.apply(this,arguments)};function z_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function W3(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,l;r<i;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Mf="right-scroll-bar-position",Of="width-before-scroll-bar",Y3="with-scroll-bars-hidden",G3="--removed-body-scroll-bar-size";function Tg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function X3(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var K3=typeof window<"u"?h.useLayoutEffect:h.useEffect,R1=new WeakMap;function Q3(e,t){var n=X3(null,function(r){return e.forEach(function(i){return Tg(i,r)})});return K3(function(){var r=R1.get(n);if(r){var i=new Set(r),l=new Set(e),u=n.current;i.forEach(function(d){l.has(d)||Tg(d,null)}),l.forEach(function(d){i.has(d)||Tg(d,u)})}R1.set(n,e)},[e]),n}function Z3(e){return e}function J3(e,t){t===void 0&&(t=Z3);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var u=t(l,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(r=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var f=function(){var g=u;u=[],g.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),n}}}};return i}function e5(e){e===void 0&&(e={});var t=J3(null);return t.options=Us({async:!0,ssr:!1},e),t}var F_=function(e){var t=e.sideCar,n=z_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Us({},n))};F_.isSideCarExport=!0;function t5(e,t){return e.useMedium(t),F_}var V_=e5(),Mg=function(){},Eh=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Mg,onWheelCapture:Mg,onTouchMoveCapture:Mg}),i=r[0],l=r[1],u=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,v=e.shards,b=e.sideCar,w=e.noIsolation,j=e.inert,N=e.allowPinchZoom,S=e.as,_=S===void 0?"div":S,R=e.gapMode,E=z_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,C=Q3([n,t]),D=Us(Us({},E),i);return h.createElement(h.Fragment,null,g&&h.createElement(M,{sideCar:V_,removeScrollBar:p,shards:v,noIsolation:w,inert:j,setCallbacks:l,allowPinchZoom:!!N,lockRef:n,gapMode:R}),u?h.cloneElement(h.Children.only(d),Us(Us({},D),{ref:C})):h.createElement(_,Us({},D,{className:f,ref:C}),d))});Eh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eh.classNames={fullWidth:Of,zeroRight:Mf};var n5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n5();return t&&e.setAttribute("nonce",t),e}function s5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function a5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var i5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=r5())&&(s5(t,n),a5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},o5=function(){var e=i5();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},B_=function(){var e=o5(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},l5={left:0,top:0,right:0,gap:0},Og=function(e){return parseInt(e||"",10)||0},c5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Og(n),Og(r),Og(i)]},u5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return l5;var t=c5(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},d5=B_(),hl="data-scroll-locked",f5=function(e,t,n,r){var i=e.left,l=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Y3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Of,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Mf," .").concat(Mf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hl,`] {
    `).concat(G3,": ").concat(d,`px;
  }
`)},T1=function(){var e=parseInt(document.body.getAttribute(hl)||"0",10);return isFinite(e)?e:0},h5=function(){h.useEffect(function(){return document.body.setAttribute(hl,(T1()+1).toString()),function(){var e=T1()-1;e<=0?document.body.removeAttribute(hl):document.body.setAttribute(hl,e.toString())}},[])},m5=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;h5();var l=h.useMemo(function(){return u5(i)},[i]);return h.createElement(d5,{styles:f5(l,!t,i,n?"":"!important")})},Dv=!1;if(typeof window<"u")try{var pf=Object.defineProperty({},"passive",{get:function(){return Dv=!0,!0}});window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{Dv=!1}var sl=Dv?{passive:!1}:!1,p5=function(e){return e.tagName==="TEXTAREA"},H_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!p5(e)&&n[t]==="visible")},g5=function(e){return H_(e,"overflowY")},v5=function(e){return H_(e,"overflowX")},M1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=q_(e,r);if(i){var l=W_(e,r),u=l[1],d=l[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},x5=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},b5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},q_=function(e,t){return e==="v"?g5(t):v5(t)},W_=function(e,t){return e==="v"?x5(t):b5(t)},y5=function(e,t){return e==="h"&&t==="rtl"?-1:1},w5=function(e,t,n,r,i){var l=y5(e,window.getComputedStyle(t).direction),u=l*r,d=n.target,f=t.contains(d),p=!1,g=u>0,v=0,b=0;do{var w=W_(e,d),j=w[0],N=w[1],S=w[2],_=N-S-l*j;(j||_)&&q_(e,d)&&(v+=_,b+=j),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(v)<1||!g&&Math.abs(b)<1)&&(p=!0),p},gf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},O1=function(e){return[e.deltaX,e.deltaY]},A1=function(e){return e&&"current"in e?e.current:e},j5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},S5=0,al=[];function _5(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(S5++)[0],l=h.useState(B_)[0],u=h.useRef(e);h.useEffect(function(){u.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=W3([e.lockRef.current],(e.shards||[]).map(A1),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=h.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var _=gf(N),R=n.current,E="deltaX"in N?N.deltaX:R[0]-_[0],M="deltaY"in N?N.deltaY:R[1]-_[1],C,D=N.target,O=Math.abs(E)>Math.abs(M)?"h":"v";if("touches"in N&&O==="h"&&D.type==="range")return!1;var P=M1(O,D);if(!P)return!0;if(P?C=O:(C=O==="v"?"h":"v",P=M1(O,D)),!P)return!1;if(!r.current&&"changedTouches"in N&&(E||M)&&(r.current=C),!C)return!0;var k=r.current||C;return w5(k,S,N,k==="h"?E:M)},[]),f=h.useCallback(function(N){var S=N;if(!(!al.length||al[al.length-1]!==l)){var _="deltaY"in S?O1(S):gf(S),R=t.current.filter(function(C){return C.name===S.type&&(C.target===S.target||S.target===C.shadowParent)&&j5(C.delta,_)})[0];if(R&&R.should){S.cancelable&&S.preventDefault();return}if(!R){var E=(u.current.shards||[]).map(A1).filter(Boolean).filter(function(C){return C.contains(S.target)}),M=E.length>0?d(S,E[0]):!u.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),p=h.useCallback(function(N,S,_,R){var E={name:N,delta:S,target:_,should:R,shadowParent:E5(_)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(M){return M!==E})},1)},[]),g=h.useCallback(function(N){n.current=gf(N),r.current=void 0},[]),v=h.useCallback(function(N){p(N.type,O1(N),N.target,d(N,e.lockRef.current))},[]),b=h.useCallback(function(N){p(N.type,gf(N),N.target,d(N,e.lockRef.current))},[]);h.useEffect(function(){return al.push(l),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",f,sl),document.addEventListener("touchmove",f,sl),document.addEventListener("touchstart",g,sl),function(){al=al.filter(function(N){return N!==l}),document.removeEventListener("wheel",f,sl),document.removeEventListener("touchmove",f,sl),document.removeEventListener("touchstart",g,sl)}},[]);var w=e.removeScrollBar,j=e.inert;return h.createElement(h.Fragment,null,j?h.createElement(l,{styles:N5(i)}):null,w?h.createElement(m5,{gapMode:e.gapMode}):null)}function E5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const C5=t5(V_,_5);var Ul=h.forwardRef(function(e,t){return h.createElement(Eh,Us({},e,{ref:t,sideCar:C5}))});Ul.classNames=Eh.classNames;var Pv=["Enter"," "],R5=["ArrowDown","PageUp","Home"],Y_=["ArrowUp","PageDown","End"],T5=[...R5,...Y_],M5={ltr:[...Pv,"ArrowRight"],rtl:[...Pv,"ArrowLeft"]},O5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Du="Menu",[lu,A5,D5]=Rx(Du),[fo,G_]=wr(Du,[D5,wi,_h]),Ch=wi(),X_=_h(),[P5,ho]=fo(Du),[k5,Pu]=fo(Du),K_=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:l,modal:u=!0}=e,d=Ch(t),[f,p]=h.useState(null),g=h.useRef(!1),v=Br(l),b=vh(i);return h.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),s.jsx(Ux,{...d,children:s.jsx(P5,{scope:t,open:n,onOpenChange:v,content:f,onContentChange:p,children:s.jsx(k5,{scope:t,onClose:h.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:b,modal:u,children:r})})})};K_.displayName=Du;var L5="MenuAnchor",zx=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Ch(n);return s.jsx(Mu,{...i,...r,ref:t})});zx.displayName=L5;var Fx="MenuPortal",[I5,Q_]=fo(Fx,{forceMount:void 0}),Z_=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,l=ho(Fx,t);return s.jsx(I5,{scope:t,forceMount:n,children:s.jsx(Yr,{present:n||l.open,children:s.jsx(Ou,{asChild:!0,container:i,children:r})})})};Z_.displayName=Fx;var cs="MenuContent",[$5,Vx]=fo(cs),J_=h.forwardRef((e,t)=>{const n=Q_(cs,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=ho(cs,e.__scopeMenu),u=Pu(cs,e.__scopeMenu);return s.jsx(lu.Provider,{scope:e.__scopeMenu,children:s.jsx(Yr,{present:r||l.open,children:s.jsx(lu.Slot,{scope:e.__scopeMenu,children:u.modal?s.jsx(U5,{...i,ref:t}):s.jsx(z5,{...i,ref:t})})})})}),U5=h.forwardRef((e,t)=>{const n=ho(cs,e.__scopeMenu),r=h.useRef(null),i=Rt(t,r);return h.useEffect(()=>{const l=r.current;if(l)return Au(l)},[]),s.jsx(Bx,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),z5=h.forwardRef((e,t)=>{const n=ho(cs,e.__scopeMenu);return s.jsx(Bx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Bx=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:w,disableOutsideScroll:j,...N}=e,S=ho(cs,n),_=Pu(cs,n),R=Ch(n),E=X_(n),M=A5(n),[C,D]=h.useState(null),O=h.useRef(null),P=Rt(t,O,S.onContentChange),k=h.useRef(0),F=h.useRef(""),ie=h.useRef(0),Q=h.useRef(null),U=h.useRef("right"),oe=h.useRef(0),le=j?Ul:h.Fragment,$=j?{as:$_,allowPinchZoom:!0}:void 0,G=J=>{var K,se;const L=F.current+J,V=M().filter(ge=>!ge.disabled),B=document.activeElement,H=(K=V.find(ge=>ge.ref.current===B))==null?void 0:K.textValue,I=V.map(ge=>ge.textValue),z=Z5(I,L,H),q=(se=V.find(ge=>ge.textValue===z))==null?void 0:se.ref.current;(function ge(fe){F.current=fe,window.clearTimeout(k.current),fe!==""&&(k.current=window.setTimeout(()=>ge(""),1e3))})(L),q&&setTimeout(()=>q.focus())};h.useEffect(()=>()=>window.clearTimeout(k.current),[]),xh();const W=h.useCallback(J=>{var V,B;return U.current===((V=Q.current)==null?void 0:V.side)&&eI(J,(B=Q.current)==null?void 0:B.area)},[]);return s.jsx($5,{scope:n,searchRef:F,onItemEnter:h.useCallback(J=>{W(J)&&J.preventDefault()},[W]),onItemLeave:h.useCallback(J=>{var L;W(J)||((L=O.current)==null||L.focus(),D(null))},[W]),onTriggerLeave:h.useCallback(J=>{W(J)&&J.preventDefault()},[W]),pointerGraceTimerRef:ie,onPointerGraceIntentChange:h.useCallback(J=>{Q.current=J},[]),children:s.jsx(le,{...$,children:s.jsx(Ru,{asChild:!0,trapped:i,onMountAutoFocus:Pe(l,J=>{var L;J.preventDefault(),(L=O.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:s.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:b,onDismiss:w,children:s.jsx(L_,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:D,onEntryFocus:Pe(f,J=>{_.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(jh,{role:"menu","aria-orientation":"vertical","data-state":pE(S.open),"data-radix-menu-content":"",dir:_.dir,...R,...N,ref:P,style:{outline:"none",...N.style},onKeyDown:Pe(N.onKeyDown,J=>{const V=J.target.closest("[data-radix-menu-content]")===J.currentTarget,B=J.ctrlKey||J.altKey||J.metaKey,H=J.key.length===1;V&&(J.key==="Tab"&&J.preventDefault(),!B&&H&&G(J.key));const I=O.current;if(J.target!==I||!T5.includes(J.key))return;J.preventDefault();const q=M().filter(K=>!K.disabled).map(K=>K.ref.current);Y_.includes(J.key)&&q.reverse(),K5(q)}),onBlur:Pe(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(k.current),F.current="")}),onPointerMove:Pe(e.onPointerMove,cu(J=>{const L=J.target,V=oe.current!==J.clientX;if(J.currentTarget.contains(L)&&V){const B=J.clientX>oe.current?"right":"left";U.current=B,oe.current=J.clientX}}))})})})})})})});J_.displayName=cs;var F5="MenuGroup",Hx=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(tt.div,{role:"group",...r,ref:t})});Hx.displayName=F5;var V5="MenuLabel",eE=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(tt.div,{...r,ref:t})});eE.displayName=V5;var Wf="MenuItem",D1="menu.itemSelect",Rh=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,l=h.useRef(null),u=Pu(Wf,e.__scopeMenu),d=Vx(Wf,e.__scopeMenu),f=Rt(t,l),p=h.useRef(!1),g=()=>{const v=l.current;if(!n&&v){const b=new CustomEvent(D1,{bubbles:!0,cancelable:!0});v.addEventListener(D1,w=>r==null?void 0:r(w),{once:!0}),BS(v,b),b.defaultPrevented?p.current=!1:u.onClose()}};return s.jsx(tE,{...i,ref:f,disabled:n,onClick:Pe(e.onClick,g),onPointerDown:v=>{var b;(b=e.onPointerDown)==null||b.call(e,v),p.current=!0},onPointerUp:Pe(e.onPointerUp,v=>{var b;p.current||(b=v.currentTarget)==null||b.click()}),onKeyDown:Pe(e.onKeyDown,v=>{const b=d.searchRef.current!=="";n||b&&v.key===" "||Pv.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Rh.displayName=Wf;var tE=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...l}=e,u=Vx(Wf,n),d=X_(n),f=h.useRef(null),p=Rt(t,f),[g,v]=h.useState(!1),[b,w]=h.useState("");return h.useEffect(()=>{const j=f.current;j&&w((j.textContent??"").trim())},[l.children]),s.jsx(lu.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:s.jsx(I_,{asChild:!0,...d,focusable:!r,children:s.jsx(tt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:p,onPointerMove:Pe(e.onPointerMove,cu(j=>{r?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,cu(j=>u.onItemLeave(j))),onFocus:Pe(e.onFocus,()=>v(!0)),onBlur:Pe(e.onBlur,()=>v(!1))})})})}),B5="MenuCheckboxItem",nE=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(oE,{scope:e.__scopeMenu,checked:n,children:s.jsx(Rh,{role:"menuitemcheckbox","aria-checked":Yf(n)?"mixed":n,...i,ref:t,"data-state":Wx(n),onSelect:Pe(i.onSelect,()=>r==null?void 0:r(Yf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});nE.displayName=B5;var rE="MenuRadioGroup",[H5,q5]=fo(rE,{value:void 0,onValueChange:()=>{}}),sE=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,l=Br(r);return s.jsx(H5,{scope:e.__scopeMenu,value:n,onValueChange:l,children:s.jsx(Hx,{...i,ref:t})})});sE.displayName=rE;var aE="MenuRadioItem",iE=h.forwardRef((e,t)=>{const{value:n,...r}=e,i=q5(aE,e.__scopeMenu),l=n===i.value;return s.jsx(oE,{scope:e.__scopeMenu,checked:l,children:s.jsx(Rh,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":Wx(l),onSelect:Pe(r.onSelect,()=>{var u;return(u=i.onValueChange)==null?void 0:u.call(i,n)},{checkForDefaultPrevented:!1})})})});iE.displayName=aE;var qx="MenuItemIndicator",[oE,W5]=fo(qx,{checked:!1}),lE=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,l=W5(qx,n);return s.jsx(Yr,{present:r||Yf(l.checked)||l.checked===!0,children:s.jsx(tt.span,{...i,ref:t,"data-state":Wx(l.checked)})})});lE.displayName=qx;var Y5="MenuSeparator",cE=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(tt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});cE.displayName=Y5;var G5="MenuArrow",uE=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Ch(n);return s.jsx(Nh,{...i,...r,ref:t})});uE.displayName=G5;var X5="MenuSub",[uK,dE]=fo(X5),Yc="MenuSubTrigger",fE=h.forwardRef((e,t)=>{const n=ho(Yc,e.__scopeMenu),r=Pu(Yc,e.__scopeMenu),i=dE(Yc,e.__scopeMenu),l=Vx(Yc,e.__scopeMenu),u=h.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,p={__scopeMenu:e.__scopeMenu},g=h.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return h.useEffect(()=>g,[g]),h.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),f(null)}},[d,f]),s.jsx(zx,{asChild:!0,...p,children:s.jsx(tE,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":pE(n.open),...e,ref:Xs(t,i.onTriggerChange),onClick:v=>{var b;(b=e.onClick)==null||b.call(e,v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,cu(v=>{l.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Pe(e.onPointerLeave,cu(v=>{var w,j;g();const b=(w=n.content)==null?void 0:w.getBoundingClientRect();if(b){const N=(j=n.content)==null?void 0:j.dataset.side,S=N==="right",_=S?-5:5,R=b[S?"left":"right"],E=b[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:v.clientX+_,y:v.clientY},{x:R,y:b.top},{x:E,y:b.top},{x:E,y:b.bottom},{x:R,y:b.bottom}],side:N}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(v),v.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,v=>{var w;const b=l.searchRef.current!=="";e.disabled||b&&v.key===" "||M5[r.dir].includes(v.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),v.preventDefault())})})})});fE.displayName=Yc;var hE="MenuSubContent",mE=h.forwardRef((e,t)=>{const n=Q_(cs,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=ho(cs,e.__scopeMenu),u=Pu(cs,e.__scopeMenu),d=dE(hE,e.__scopeMenu),f=h.useRef(null),p=Rt(t,f);return s.jsx(lu.Provider,{scope:e.__scopeMenu,children:s.jsx(Yr,{present:r||l.open,children:s.jsx(lu.Slot,{scope:e.__scopeMenu,children:s.jsx(Bx,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;u.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,g=>{g.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:Pe(e.onKeyDown,g=>{var w;const v=g.currentTarget.contains(g.target),b=O5[u.dir].includes(g.key);v&&b&&(l.onOpenChange(!1),(w=d.trigger)==null||w.focus(),g.preventDefault())})})})})})});mE.displayName=hE;function pE(e){return e?"open":"closed"}function Yf(e){return e==="indeterminate"}function Wx(e){return Yf(e)?"indeterminate":e?"checked":"unchecked"}function K5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Q5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Z5(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=Q5(e,Math.max(l,0));i.length===1&&(u=u.filter(p=>p!==n));const f=u.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function J5(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l].x,f=t[l].y,p=t[u].x,g=t[u].y;f>r!=g>r&&n<(p-d)*(r-f)/(g-f)+d&&(i=!i)}return i}function eI(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return J5(n,t)}function cu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var tI=K_,nI=zx,rI=Z_,sI=J_,aI=Hx,iI=eE,oI=Rh,lI=nE,cI=sE,uI=iE,dI=lE,fI=cE,hI=uE,mI=fE,pI=mE,Yx="DropdownMenu",[gI,dK]=wr(Yx,[G_]),jr=G_(),[vI,gE]=gI(Yx),vE=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:l,onOpenChange:u,modal:d=!0}=e,f=jr(t),p=h.useRef(null),[g=!1,v]=pi({prop:i,defaultProp:l,onChange:u});return s.jsx(vI,{scope:t,triggerId:Bs(),triggerRef:p,contentId:Bs(),open:g,onOpenChange:v,onOpenToggle:h.useCallback(()=>v(b=>!b),[v]),modal:d,children:s.jsx(tI,{...f,open:g,onOpenChange:v,dir:r,modal:d,children:n})})};vE.displayName=Yx;var xE="DropdownMenuTrigger",bE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,l=gE(xE,n),u=jr(n);return s.jsx(nI,{asChild:!0,...u,children:s.jsx(tt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Xs(t,l.triggerRef),onPointerDown:Pe(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Pe(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});bE.displayName=xE;var xI="DropdownMenuPortal",yE=e=>{const{__scopeDropdownMenu:t,...n}=e,r=jr(t);return s.jsx(rI,{...r,...n})};yE.displayName=xI;var wE="DropdownMenuContent",jE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=gE(wE,n),l=jr(n),u=h.useRef(!1);return s.jsx(sI,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...r,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,d=>{var f;u.current||(f=i.triggerRef.current)==null||f.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,g=f.button===2||p;(!i.modal||g)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jE.displayName=wE;var bI="DropdownMenuGroup",yI=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(aI,{...i,...r,ref:t})});yI.displayName=bI;var wI="DropdownMenuLabel",NE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(iI,{...i,...r,ref:t})});NE.displayName=wI;var jI="DropdownMenuItem",SE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(oI,{...i,...r,ref:t})});SE.displayName=jI;var NI="DropdownMenuCheckboxItem",SI=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(lI,{...i,...r,ref:t})});SI.displayName=NI;var _I="DropdownMenuRadioGroup",EI=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(cI,{...i,...r,ref:t})});EI.displayName=_I;var CI="DropdownMenuRadioItem",RI=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(uI,{...i,...r,ref:t})});RI.displayName=CI;var TI="DropdownMenuItemIndicator",MI=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(dI,{...i,...r,ref:t})});MI.displayName=TI;var OI="DropdownMenuSeparator",_E=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(fI,{...i,...r,ref:t})});_E.displayName=OI;var AI="DropdownMenuArrow",DI=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(hI,{...i,...r,ref:t})});DI.displayName=AI;var PI="DropdownMenuSubTrigger",kI=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(mI,{...i,...r,ref:t})});kI.displayName=PI;var LI="DropdownMenuSubContent",II=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jr(n);return s.jsx(pI,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});II.displayName=LI;var $I=vE,UI=bE,zI=yE,FI=jE,VI=NE,BI=SE,HI=_E;/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),P1=e=>{const t=WI(e);return t.charAt(0).toUpperCase()+t.slice(1)},EE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:u,...d},f)=>h.createElement("svg",{ref:f,...YI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:EE("lucide",i),...d},[...u.map(([p,g])=>h.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const n=h.forwardRef(({className:r,...i},l)=>h.createElement(GI,{ref:l,iconNode:t,className:EE(`lucide-${qI(P1(e))}`,`lucide-${e}`,r),...i}));return n.displayName=P1(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],KI=nt("arrow-down-to-line",XI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cn=nt("arrow-left",QI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],CE=nt("banknote",ZI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],fn=nt("calendar-days",JI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],RE=nt("calendar",e6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gx=nt("check",t6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],TE=nt("chevron-down",n6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ME=nt("chevron-left",r6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OE=nt("chevron-right",s6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],i6=nt("chevron-up",a6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vt=nt("circle-alert",o6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ji=nt("circle-check-big",l6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bi=nt("circle-plus",c6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d6=nt("circle",u6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Gf=nt("clipboard-list",f6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],Th=nt("database-zap",h6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],p6=nt("download",m6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hr=nt("file-text",g6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Xx=nt("flask-conical",v6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],b6=nt("grip-vertical",x6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],pr=nt("hourglass",y6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Mh=nt("image",w6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ye=nt("info",j6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ul=nt("layers",N6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],_6=nt("layout-template",S6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Qs=nt("list-checks",E6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],At=nt("loader-circle",C6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],T6=nt("log-out",R6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],O6=nt("menu",M6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],AE=nt("pencil",A6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],yn=nt("phone",D6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Af=nt("plus",P6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Oh=nt("printer",k6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nl=nt("save",L6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ag=nt("search-x",I6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ku=nt("search",$6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z6=nt("settings",U6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ds=nt("square-pen",F6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],ir=nt("stethoscope",V6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Lu=nt("trash-2",B6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],ml=nt("trash",H6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],W6=nt("upload",q6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],DE=nt("user-plus",Y6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yt=nt("user",G6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],PE=nt("users",X6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Q6=nt("workflow",K6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ah=nt("x",Z6);function J6({...e}){return s.jsx($I,{"data-slot":"dropdown-menu",...e})}function e$({...e}){return s.jsx(UI,{"data-slot":"dropdown-menu-trigger",...e})}function t$({className:e,sideOffset:t=4,...n}){return s.jsx(zI,{children:s.jsx(FI,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function n$({className:e,inset:t,variant:n="default",...r}){return s.jsx(BI,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Me("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function r$({className:e,inset:t,...n}){return s.jsx(VI,{"data-slot":"dropdown-menu-label","data-inset":t,className:Me("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function s$({className:e,...t}){return s.jsx(HI,{"data-slot":"dropdown-menu-separator",className:Me("bg-border -mx-1 my-1 h-px",e),...t})}function hi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function k1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function a$(...e){return t=>{let n=!1;const r=e.map(i=>{const l=k1(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():k1(e[i],null)}}}}function mo(...e){return h.useCallback(a$(...e),e)}function i$(e,t){const n=h.createContext(t),r=l=>{const{children:u,...d}=l,f=h.useMemo(()=>d,Object.values(d));return s.jsx(n.Provider,{value:f,children:u})};r.displayName=e+"Provider";function i(l){const u=h.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,i]}function o$(e,t=[]){let n=[];function r(l,u){const d=h.createContext(u),f=n.length;n=[...n,u];const p=v=>{var _;const{scope:b,children:w,...j}=v,N=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,S=h.useMemo(()=>j,Object.values(j));return s.jsx(N.Provider,{value:S,children:w})};p.displayName=l+"Provider";function g(v,b){var N;const w=((N=b==null?void 0:b[e])==null?void 0:N[f])||d,j=h.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[p,g]}const i=()=>{const l=n.map(u=>h.createContext(u));return function(d){const f=(d==null?void 0:d[e])||l;return h.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return i.scopeName=e,[r,l$(i,...t)]}function l$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const v=f(l)[`__scope${p}`];return{...d,...v}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var uu=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},c$=ru[" useId ".trim().toString()]||(()=>{}),u$=0;function Dg(e){const[t,n]=h.useState(c$());return uu(()=>{n(r=>r??String(u$++))},[e]),e||(t?`radix-${t}`:"")}var d$=ru[" useInsertionEffect ".trim().toString()]||uu;function f$({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,l,u]=h$({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:i;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const v=g.current;v!==d&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const p=h.useCallback(g=>{var v;if(d){const b=m$(g)?g(e):g;b!==e&&((v=u.current)==null||v.call(u,b))}else l(g)},[d,e,l,u]);return[f,p]}function h$({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),i=h.useRef(n),l=h.useRef(t);return d$(()=>{l.current=t},[t]),h.useEffect(()=>{var u;i.current!==n&&((u=l.current)==null||u.call(l,n),i.current=n)},[n,i]),[n,r,l]}function m$(e){return typeof e=="function"}var p$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ma=p$.reduce((e,t)=>{const n=Cu(`Primitive.${t}`),r=h.forwardRef((i,l)=>{const{asChild:u,...d}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function g$(e,t){e&&ls.flushSync(()=>e.dispatchEvent(t))}function du(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function v$(e,t=globalThis==null?void 0:globalThis.document){const n=du(e);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var x$="DismissableLayer",kv="dismissableLayer.update",b$="dismissableLayer.pointerDownOutside",y$="dismissableLayer.focusOutside",L1,kE=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LE=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...f}=e,p=h.useContext(kE),[g,v]=h.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=h.useState({}),j=mo(t,O=>v(O)),N=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),R=g?N.indexOf(g):-1,E=p.layersWithOutsidePointerEventsDisabled.size>0,M=R>=_,C=N$(O=>{const P=O.target,k=[...p.branches].some(F=>F.contains(P));!M||k||(i==null||i(O),u==null||u(O),O.defaultPrevented||d==null||d())},b),D=S$(O=>{const P=O.target;[...p.branches].some(F=>F.contains(P))||(l==null||l(O),u==null||u(O),O.defaultPrevented||d==null||d())},b);return v$(O=>{R===p.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},b),h.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(L1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),I1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=L1)}},[g,b,n,p]),h.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),I1())},[g,p]),h.useEffect(()=>{const O=()=>w({});return document.addEventListener(kv,O),()=>document.removeEventListener(kv,O)},[]),s.jsx(Ma.div,{...f,ref:j,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:hi(e.onFocusCapture,D.onFocusCapture),onBlurCapture:hi(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:hi(e.onPointerDownCapture,C.onPointerDownCapture)})});LE.displayName=x$;var w$="DismissableLayerBranch",j$=h.forwardRef((e,t)=>{const n=h.useContext(kE),r=h.useRef(null),i=mo(t,r);return h.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),s.jsx(Ma.div,{...e,ref:i})});j$.displayName=w$;function N$(e,t=globalThis==null?void 0:globalThis.document){const n=du(e),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let f=function(){IE(b$,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function S$(e,t=globalThis==null?void 0:globalThis.document){const n=du(e),r=h.useRef(!1);return h.useEffect(()=>{const i=l=>{l.target&&!r.current&&IE(y$,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function I1(){const e=new CustomEvent(kv);document.dispatchEvent(e)}function IE(e,t,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?g$(i,l):i.dispatchEvent(l)}var Pg="focusScope.autoFocusOnMount",kg="focusScope.autoFocusOnUnmount",$1={bubbles:!1,cancelable:!0},_$="FocusScope",$E=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=e,[d,f]=h.useState(null),p=du(i),g=du(l),v=h.useRef(null),b=mo(t,N=>f(N)),w=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let N=function(E){if(w.paused||!d)return;const M=E.target;d.contains(M)?v.current=M:ci(v.current,{select:!0})},S=function(E){if(w.paused||!d)return;const M=E.relatedTarget;M!==null&&(d.contains(M)||ci(v.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&ci(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const R=new MutationObserver(_);return d&&R.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),R.disconnect()}}},[r,d,w.paused]),h.useEffect(()=>{if(d){z1.add(w);const N=document.activeElement;if(!d.contains(N)){const _=new CustomEvent(Pg,$1);d.addEventListener(Pg,p),d.dispatchEvent(_),_.defaultPrevented||(E$(O$(UE(d)),{select:!0}),document.activeElement===N&&ci(d))}return()=>{d.removeEventListener(Pg,p),setTimeout(()=>{const _=new CustomEvent(kg,$1);d.addEventListener(kg,g),d.dispatchEvent(_),_.defaultPrevented||ci(N??document.body,{select:!0}),d.removeEventListener(kg,g),z1.remove(w)},0)}}},[d,p,g,w]);const j=h.useCallback(N=>{if(!n&&!r||w.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const R=N.currentTarget,[E,M]=C$(R);E&&M?!N.shiftKey&&_===M?(N.preventDefault(),n&&ci(E,{select:!0})):N.shiftKey&&_===E&&(N.preventDefault(),n&&ci(M,{select:!0})):_===R&&N.preventDefault()}},[n,r,w.paused]);return s.jsx(Ma.div,{tabIndex:-1,...u,ref:b,onKeyDown:j})});$E.displayName=_$;function E$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ci(r,{select:t}),document.activeElement!==n)return}function C$(e){const t=UE(e),n=U1(t,e),r=U1(t.reverse(),e);return[n,r]}function UE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function U1(e,t){for(const n of e)if(!R$(n,{upTo:t}))return n}function R$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function T$(e){return e instanceof HTMLInputElement&&"select"in e}function ci(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&T$(e)&&t&&e.select()}}var z1=M$();function M$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=F1(e,t),e.unshift(t)},remove(t){var n;e=F1(e,t),(n=e[0])==null||n.resume()}}}function F1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function O$(e){return e.filter(t=>t.tagName!=="A")}var A$="Portal",zE=h.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[i,l]=h.useState(!1);uu(()=>l(!0),[]);const u=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?vx.createPortal(s.jsx(Ma.div,{...r,ref:t}),u):null});zE.displayName=A$;function D$(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Dh=e=>{const{present:t,children:n}=e,r=P$(t),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),l=mo(r.ref,k$(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:l}):null};Dh.displayName="Presence";function P$(e){const[t,n]=h.useState(),r=h.useRef(null),i=h.useRef(e),l=h.useRef("none"),u=e?"mounted":"unmounted",[d,f]=D$(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=vf(r.current);l.current=d==="mounted"?p:"none"},[d]),uu(()=>{const p=r.current,g=i.current;if(g!==e){const b=l.current,w=vf(p);e?f("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),uu(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,v=w=>{const N=vf(r.current).includes(w.animationName);if(w.target===t&&N&&(f("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},b=w=>{w.target===t&&(l.current=vf(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:h.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function vf(e){return(e==null?void 0:e.animationName)||"none"}function k$(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lg=0;function L$(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??V1()),document.body.insertAdjacentElement("beforeend",e[1]??V1()),Lg++,()=>{Lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lg--}},[])}function V1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ph="Dialog",[FE,fK]=o$(Ph),[I$,Rs]=FE(Ph),VE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=h.useRef(null),f=h.useRef(null),[p,g]=f$({prop:r,defaultProp:i??!1,onChange:l,caller:Ph});return s.jsx(I$,{scope:t,triggerRef:d,contentRef:f,contentId:Dg(),titleId:Dg(),descriptionId:Dg(),open:p,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(v=>!v),[g]),modal:u,children:n})};VE.displayName=Ph;var BE="DialogTrigger",HE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Rs(BE,n),l=mo(t,i.triggerRef);return s.jsx(Ma.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Zx(i.open),...r,ref:l,onClick:hi(e.onClick,i.onOpenToggle)})});HE.displayName=BE;var Kx="DialogPortal",[$$,qE]=FE(Kx,{forceMount:void 0}),WE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,l=Rs(Kx,t);return s.jsx($$,{scope:t,forceMount:n,children:h.Children.map(r,u=>s.jsx(Dh,{present:n||l.open,children:s.jsx(zE,{asChild:!0,container:i,children:u})}))})};WE.displayName=Kx;var Xf="DialogOverlay",YE=h.forwardRef((e,t)=>{const n=qE(Xf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=Rs(Xf,e.__scopeDialog);return l.modal?s.jsx(Dh,{present:r||l.open,children:s.jsx(z$,{...i,ref:t})}):null});YE.displayName=Xf;var U$=Cu("DialogOverlay.RemoveScroll"),z$=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Rs(Xf,n);return s.jsx(Ul,{as:U$,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ma.div,{"data-state":Zx(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",GE=h.forwardRef((e,t)=>{const n=qE(to,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=Rs(to,e.__scopeDialog);return s.jsx(Dh,{present:r||l.open,children:l.modal?s.jsx(F$,{...i,ref:t}):s.jsx(V$,{...i,ref:t})})});GE.displayName=to;var F$=h.forwardRef((e,t)=>{const n=Rs(to,e.__scopeDialog),r=h.useRef(null),i=mo(t,n.contentRef,r);return h.useEffect(()=>{const l=r.current;if(l)return Au(l)},[]),s.jsx(XE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:hi(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:hi(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:hi(e.onFocusOutside,l=>l.preventDefault())})}),V$=h.forwardRef((e,t)=>{const n=Rs(to,e.__scopeDialog),r=h.useRef(!1),i=h.useRef(!1);return s.jsx(XE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),XE=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=e,d=Rs(to,n),f=h.useRef(null),p=mo(t,f);return L$(),s.jsxs(s.Fragment,{children:[s.jsx($E,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:s.jsx(LE,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Zx(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(B$,{titleId:d.titleId}),s.jsx(q$,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Qx="DialogTitle",KE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Rs(Qx,n);return s.jsx(Ma.h2,{id:i.titleId,...r,ref:t})});KE.displayName=Qx;var QE="DialogDescription",ZE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Rs(QE,n);return s.jsx(Ma.p,{id:i.descriptionId,...r,ref:t})});ZE.displayName=QE;var JE="DialogClose",eC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Rs(JE,n);return s.jsx(Ma.button,{type:"button",...r,ref:t,onClick:hi(e.onClick,()=>i.onOpenChange(!1))})});eC.displayName=JE;function Zx(e){return e?"open":"closed"}var tC="DialogTitleWarning",[hK,nC]=i$(tC,{contentName:to,titleName:Qx,docsSlug:"dialog"}),B$=({titleId:e})=>{const t=nC(tC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},H$="DialogDescriptionWarning",q$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nC(H$).contentName}}.`;return h.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},rC=VE,W$=HE,sC=WE,aC=YE,iC=GE,Y$=KE,G$=ZE,Jx=eC;function X$({...e}){return s.jsx(rC,{"data-slot":"sheet",...e})}function K$({...e}){return s.jsx(W$,{"data-slot":"sheet-trigger",...e})}function Q$({...e}){return s.jsx(sC,{"data-slot":"sheet-portal",...e})}function Z$({className:e,...t}){return s.jsx(aC,{"data-slot":"sheet-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function J$({className:e,children:t,side:n="right",...r}){return s.jsxs(Q$,{children:[s.jsx(Z$,{}),s.jsxs(iC,{"data-slot":"sheet-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,s.jsxs(Jx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(Ah,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var e8=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),l=i.find(t8);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return s.jsx(Lv,{...r,ref:t,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx(Lv,{...r,ref:t,children:n})});e8.displayName="Slot";var Lv=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const i=r8(n),l=n8(r,n.props);return n.type!==h.Fragment&&(l.ref=t?Xs(t,i):i),h.cloneElement(n,l)}return h.Children.count(n)>1?h.Children.only(null):null});Lv.displayName="SlotClone";var oC=({children:e})=>s.jsx(s.Fragment,{children:e});function t8(e){return h.isValidElement(e)&&e.type===oC}function n8(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function r8(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var s8="VisuallyHidden",eb=h.forwardRef((e,t)=>s.jsx(tt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));eb.displayName=s8;var a8=eb,[kh,mK]=wr("Tooltip",[wi]),tb=wi(),lC="TooltipProvider",i8=700,B1="tooltip.open",[o8,cC]=kh(lC),uC=e=>{const{__scopeTooltip:t,delayDuration:n=i8,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:l}=e,[u,d]=h.useState(!0),f=h.useRef(!1),p=h.useRef(0);return h.useEffect(()=>{const g=p.current;return()=>window.clearTimeout(g)},[]),s.jsx(o8,{scope:t,isOpenDelayed:u,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(p.current),d(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d(!0),r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:h.useCallback(g=>{f.current=g},[]),disableHoverableContent:i,children:l})};uC.displayName=lC;var dC="Tooltip",[pK,Lh]=kh(dC),Iv="TooltipTrigger",l8=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Lh(Iv,n),l=cC(Iv,n),u=tb(n),d=h.useRef(null),f=Rt(t,d,i.onTriggerChange),p=h.useRef(!1),g=h.useRef(!1),v=h.useCallback(()=>p.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),s.jsx(Mu,{asChild:!0,...u,children:s.jsx(tt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:Pe(e.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Pe(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Pe(e.onBlur,i.onClose),onClick:Pe(e.onClick,i.onClose)})})});l8.displayName=Iv;var c8="TooltipPortal",[gK,u8]=kh(c8,{forceMount:void 0}),Sl="TooltipContent",d8=h.forwardRef((e,t)=>{const n=u8(Sl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=e,u=Lh(Sl,e.__scopeTooltip);return s.jsx(Yr,{present:r||u.open,children:u.disableHoverableContent?s.jsx(fC,{side:i,...l,ref:t}):s.jsx(f8,{side:i,...l,ref:t})})}),f8=h.forwardRef((e,t)=>{const n=Lh(Sl,e.__scopeTooltip),r=cC(Sl,e.__scopeTooltip),i=h.useRef(null),l=Rt(t,i),[u,d]=h.useState(null),{trigger:f,onClose:p}=n,g=i.current,{onPointerInTransitChange:v}=r,b=h.useCallback(()=>{d(null),v(!1)},[v]),w=h.useCallback((j,N)=>{const S=j.currentTarget,_={x:j.clientX,y:j.clientY},R=g8(_,S.getBoundingClientRect()),E=v8(_,R),M=x8(N.getBoundingClientRect()),C=y8([...E,...M]);d(C),v(!0)},[v]);return h.useEffect(()=>()=>b(),[b]),h.useEffect(()=>{if(f&&g){const j=S=>w(S,g),N=S=>w(S,f);return f.addEventListener("pointerleave",j),g.addEventListener("pointerleave",N),()=>{f.removeEventListener("pointerleave",j),g.removeEventListener("pointerleave",N)}}},[f,g,w,b]),h.useEffect(()=>{if(u){const j=N=>{const S=N.target,_={x:N.clientX,y:N.clientY},R=(f==null?void 0:f.contains(S))||(g==null?void 0:g.contains(S)),E=!b8(_,u);R?b():E&&(b(),p())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[f,g,u,p,b]),s.jsx(fC,{...e,ref:l})}),[h8,m8]=kh(dC,{isInside:!1}),fC=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...d}=e,f=Lh(Sl,n),p=tb(n),{onClose:g}=f;return h.useEffect(()=>(document.addEventListener(B1,g),()=>document.removeEventListener(B1,g)),[g]),h.useEffect(()=>{if(f.trigger){const v=b=>{const w=b.target;w!=null&&w.contains(f.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,g]),s.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:s.jsxs(jh,{"data-state":f.stateAttribute,...p,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(oC,{children:r}),s.jsx(h8,{scope:n,isInside:!0,children:s.jsx(a8,{id:f.contentId,role:"tooltip",children:i||r})})]})})});d8.displayName=Sl;var hC="TooltipArrow",p8=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=tb(n);return m8(hC,n).isInside?null:s.jsx(Nh,{...i,...r,ref:t})});p8.displayName=hC;function g8(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function v8(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function x8(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function b8(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l].x,f=t[l].y,p=t[u].x,g=t[u].y;f>r!=g>r&&n<(p-d)*(r-f)/(g-f)+d&&(i=!i)}return i}function y8(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),w8(t)}function w8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var j8=uC;function N8({delayDuration:e=0,...t}){return s.jsx(j8,{"data-slot":"tooltip-provider",delayDuration:e,...t})}const S8=()=>{const{user:e}=Nx(),t=async()=>{const{error:l}=await re.auth.signOut();l&&console.error("Erreur de dconnexion:",l)},n=l=>l?l.substring(0,2).toUpperCase():"??",r=[{to:"/patients",label:"Patients",icon:PE},{to:"/doctors",label:"Mdecins",icon:ir},{to:"/test-types",label:"Types de Tests",icon:Gf},{to:"/categories",label:"Catgories",icon:ul},{to:"/ristournes",label:"Ristournes",icon:CE},{to:"/settings/print-header",label:"En-tte Impression",icon:Hr},{to:"/skip-range-management",label:"Parametres Validations",icon:z6},{to:"/ecb-models",label:"Modles ECB",icon:ul},{to:"/atbs",label:"Gestion ATBs",icon:ul},{to:"/abbreviations",label:"Abbreviations",icon:ul}],i=s.jsx("nav",{className:"flex flex-col gap-2 px-2 sm:px-4 py-4",children:r.map(l=>s.jsxs(yS,{to:l.to,className:({isActive:u})=>`flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${u?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[s.jsx(l.icon,{className:"h-5 w-5"}),s.jsx("span",{children:l.label})]},l.label))});return s.jsxs("div",{className:"flex h-screen w-full bg-muted/40",children:[s.jsxs("aside",{className:"hidden sm:flex flex-col w-64 border-r bg-background",children:[s.jsxs("div",{className:"flex items-center gap-2 h-16 border-b px-6",children:[s.jsx(Xx,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"font-semibold tracking-tight",children:"LRMS"})]}),i]}),s.jsxs("div",{className:"flex flex-1 flex-col",children:[s.jsxs("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between border-b bg-background px-4 sm:px-6",children:[s.jsx("div",{className:"sm:hidden",children:s.jsxs(X$,{children:[s.jsx(K$,{asChild:!0,children:s.jsxs(ne,{variant:"outline",size:"icon",children:[s.jsx(O6,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Ouvrir le menu"})]})}),s.jsxs(J$,{side:"left",className:"w-64 p-0 pt-10",children:[" ",i]})]})}),s.jsx("div",{className:"flex-1"}),s.jsxs(J6,{children:[s.jsx(e$,{asChild:!0,children:s.jsx(ne,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:s.jsx(_u,{className:"h-9 w-9",children:s.jsx(Eu,{children:n(e==null?void 0:e.email)})})})}),s.jsxs(t$,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(r$,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:"Connect en tant que"}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground truncate",children:(e==null?void 0:e.email)||"Utilisateur"})]})}),s.jsx(s$,{}),s.jsxs(n$,{onClick:t,className:"text-destructive focus:text-destructive focus:bg-destructive/10 cursor-pointer",children:[s.jsx(T6,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Se dconnecter"})]})]})]})]}),s.jsx(N8,{children:s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 sm:p-6 bg-white",children:s.jsx(pS,{})})})]})]})},_8=()=>{const{session:e,loading:t}=Nx(),n=Ta();return t?s.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-200",children:[s.jsx(At,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Chargement de l'application..."})]}):e?s.jsx(pS,{}):s.jsx(mS,{to:"/login",state:{from:n},replace:!0})};function Ke({className:e,type:t,...n}){return s.jsx("input",{type:t,"data-slot":"input",className:Me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var E8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C8=E8.reduce((e,t)=>{const n=Cu(`Primitive.${t}`),r=h.forwardRef((i,l)=>{const{asChild:u,...d}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),R8="Label",mC=h.forwardRef((e,t)=>s.jsx(C8.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mC.displayName=R8;var T8=mC;function Le({className:e,...t}){return s.jsx(T8,{"data-slot":"label",className:Me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Ce({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:Me("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Te({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:Me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ut({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:Me("leading-none font-semibold",e),...t})}function ur({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:Me("text-muted-foreground text-sm",e),...t})}function Re({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:Me("px-6",e),...t})}function Ns({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:Me("flex items-center px-6 [.border-t]:pt-6",e),...t})}const M8=Cx("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function It({className:e,variant:t,...n}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:Me(M8({variant:t}),e),...n})}function $t({className:e,...t}){return s.jsx("div",{"data-slot":"alert-title",className:Me("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function Ut({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:Me("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const O8=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[i,l]=h.useState(!1),[u,d]=h.useState(null),{session:f,loading:p}=Nx(),g=async v=>{v.preventDefault(),l(!0),d(null);try{const{error:b}=await re.auth.signInWithPassword({email:e,password:n});if(b)throw b}catch(b){console.error("Login error:",b),d(b instanceof Error&&b.message==="Invalid login credentials"?"Identifiants invalides. Veuillez vrifier votre email et mot de passe.":"chec de la connexion. Une erreur est survenue.")}finally{l(!1)}};return p?s.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-200",children:[s.jsx(At,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Chargement..."})]}):f?s.jsx(mS,{to:"/patients",replace:!0}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-blue-100 p-4",children:s.jsxs(Ce,{className:"w-full max-w-md shadow-xl border-t-4 border-primary rounded-lg overflow-hidden",children:[s.jsxs(Te,{className:"text-center p-6 bg-muted/30",children:[s.jsxs("div",{className:"mx-auto mb-4",children:[s.jsx(Xx,{className:"h-12 w-12 text-primary"})," "]}),s.jsx(ut,{className:"text-2xl font-bold tracking-tight",children:"Connexion LRMS "}),s.jsxs(ur,{className:"text-muted-foreground",children:["Accdez  votre espace laboratoire scuris."," "]})]}),s.jsxs("form",{onSubmit:g,children:[s.jsxs(Re,{className:"p-6 space-y-6",children:[" ",u&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:u})]}),s.jsxs("div",{className:"space-y-2",children:[" ",s.jsx(Le,{htmlFor:"email",className:"font-semibold",children:"Adresse e-mail"}),s.jsx(Ke,{id:"email",type:"email",placeholder:"votreadresse@email.com",required:!0,value:e,onChange:v=>t(v.target.value),disabled:i,className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"password",className:"font-semibold",children:"Mot de passe"}),s.jsx(Ke,{id:"password",type:"password",placeholder:"Votre mot de passe",required:!0,value:n,onChange:v=>r(v.target.value),disabled:i,className:"h-10"})]})]}),s.jsx(Ns,{className:"p-6 bg-muted/30",children:s.jsx(ne,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion en cours..."]}):"Se connecter"})})]})]})})};function Zs({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:Me("w-full caption-bottom text-sm",e),...t})})}function Js({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:Me("[&_tr]:border-b",e),...t})}function ea({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:Me("[&_tr:last-child]:border-0",e),...t})}function Kt({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:Me("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function vt({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:Me("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Qe({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:Me("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function X({className:e,...t}){return s.jsx("div",{"data-slot":"skeleton",className:Me("bg-accent animate-pulse rounded-md",e),...t})}function Iu(e,t){const[n,r]=h.useState(e);return h.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}var pC=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),l=i.find(A8);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return s.jsx($v,{...r,ref:t,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx($v,{...r,ref:t,children:n})});pC.displayName="Slot";var $v=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const i=P8(n),l=D8(r,n.props);return n.type!==h.Fragment&&(l.ref=t?Xs(t,i):i),h.cloneElement(n,l)}return h.Children.count(n)>1?h.Children.only(null):null});$v.displayName="SlotClone";var gC=({children:e})=>s.jsx(s.Fragment,{children:e});function A8(e){return h.isValidElement(e)&&e.type===gC}function D8(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function P8(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var nb="Dialog",[vC,xC]=wr(nb),[k8,Ts]=vC(nb),bC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=h.useRef(null),f=h.useRef(null),[p=!1,g]=pi({prop:r,defaultProp:i,onChange:l});return s.jsx(k8,{scope:t,triggerRef:d,contentRef:f,contentId:Bs(),titleId:Bs(),descriptionId:Bs(),open:p,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(v=>!v),[g]),modal:u,children:n})};bC.displayName=nb;var yC="DialogTrigger",wC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ts(yC,n),l=Rt(t,i.triggerRef);return s.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ab(i.open),...r,ref:l,onClick:Pe(e.onClick,i.onOpenToggle)})});wC.displayName=yC;var rb="DialogPortal",[L8,jC]=vC(rb,{forceMount:void 0}),NC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,l=Ts(rb,t);return s.jsx(L8,{scope:t,forceMount:n,children:h.Children.map(r,u=>s.jsx(Yr,{present:n||l.open,children:s.jsx(Ou,{asChild:!0,container:i,children:u})}))})};NC.displayName=rb;var Kf="DialogOverlay",SC=h.forwardRef((e,t)=>{const n=jC(Kf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=Ts(Kf,e.__scopeDialog);return l.modal?s.jsx(Yr,{present:r||l.open,children:s.jsx(I8,{...i,ref:t})}):null});SC.displayName=Kf;var I8=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ts(Kf,n);return s.jsx(Ul,{as:pC,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(tt.div,{"data-state":ab(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),no="DialogContent",_C=h.forwardRef((e,t)=>{const n=jC(no,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=Ts(no,e.__scopeDialog);return s.jsx(Yr,{present:r||l.open,children:l.modal?s.jsx($8,{...i,ref:t}):s.jsx(U8,{...i,ref:t})})});_C.displayName=no;var $8=h.forwardRef((e,t)=>{const n=Ts(no,e.__scopeDialog),r=h.useRef(null),i=Rt(t,n.contentRef,r);return h.useEffect(()=>{const l=r.current;if(l)return Au(l)},[]),s.jsx(EC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,l=>l.preventDefault())})}),U8=h.forwardRef((e,t)=>{const n=Ts(no,e.__scopeDialog),r=h.useRef(!1),i=h.useRef(!1);return s.jsx(EC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),EC=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=e,d=Ts(no,n),f=h.useRef(null),p=Rt(t,f);return xh(),s.jsxs(s.Fragment,{children:[s.jsx(Ru,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:s.jsx(Ll,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ab(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(F8,{titleId:d.titleId}),s.jsx(B8,{contentRef:f,descriptionId:d.descriptionId})]})]})}),sb="DialogTitle",CC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ts(sb,n);return s.jsx(tt.h2,{id:i.titleId,...r,ref:t})});CC.displayName=sb;var RC="DialogDescription",TC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ts(RC,n);return s.jsx(tt.p,{id:i.descriptionId,...r,ref:t})});TC.displayName=RC;var MC="DialogClose",OC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ts(MC,n);return s.jsx(tt.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>i.onOpenChange(!1))})});OC.displayName=MC;function ab(e){return e?"open":"closed"}var AC="DialogTitleWarning",[z8,DC]=Vk(AC,{contentName:no,titleName:sb,docsSlug:"dialog"}),F8=({titleId:e})=>{const t=DC(AC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},V8="DialogDescriptionWarning",B8=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DC(V8).contentName}}.`;return h.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},H8=bC,q8=wC,W8=NC,Y8=SC,G8=_C,X8=CC,K8=TC,PC=OC,kC="AlertDialog",[Q8,vK]=wr(kC,[xC]),Oa=xC(),LC=e=>{const{__scopeAlertDialog:t,...n}=e,r=Oa(t);return s.jsx(H8,{...r,...n,modal:!0})};LC.displayName=kC;var Z8="AlertDialogTrigger",IC=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Oa(n);return s.jsx(q8,{...i,...r,ref:t})});IC.displayName=Z8;var J8="AlertDialogPortal",$C=e=>{const{__scopeAlertDialog:t,...n}=e,r=Oa(t);return s.jsx(W8,{...r,...n})};$C.displayName=J8;var eU="AlertDialogOverlay",UC=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Oa(n);return s.jsx(Y8,{...i,...r,ref:t})});UC.displayName=eU;var pl="AlertDialogContent",[tU,nU]=Q8(pl),zC=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,l=Oa(n),u=h.useRef(null),d=Rt(t,u),f=h.useRef(null);return s.jsx(z8,{contentName:pl,titleName:FC,docsSlug:"alert-dialog",children:s.jsx(tU,{scope:n,cancelRef:f,children:s.jsxs(G8,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:Pe(i.onOpenAutoFocus,p=>{var g;p.preventDefault(),(g=f.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[s.jsx(gC,{children:r}),s.jsx(sU,{contentRef:u})]})})})});zC.displayName=pl;var FC="AlertDialogTitle",VC=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Oa(n);return s.jsx(X8,{...i,...r,ref:t})});VC.displayName=FC;var BC="AlertDialogDescription",HC=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Oa(n);return s.jsx(K8,{...i,...r,ref:t})});HC.displayName=BC;var rU="AlertDialogAction",qC=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Oa(n);return s.jsx(PC,{...i,...r,ref:t})});qC.displayName=rU;var WC="AlertDialogCancel",YC=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=nU(WC,n),l=Oa(n),u=Rt(t,i);return s.jsx(PC,{...l,...r,ref:u})});YC.displayName=WC;var sU=({contentRef:e})=>{const t=`\`${pl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pl}\` by passing a \`${BC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},aU=LC,iU=IC,oU=$C,lU=UC,cU=zC,uU=qC,dU=YC,fU=VC,hU=HC;function fu({...e}){return s.jsx(aU,{"data-slot":"alert-dialog",...e})}function Ih({...e}){return s.jsx(iU,{"data-slot":"alert-dialog-trigger",...e})}function mU({...e}){return s.jsx(oU,{"data-slot":"alert-dialog-portal",...e})}function pU({className:e,...t}){return s.jsx(lU,{"data-slot":"alert-dialog-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function $h({className:e,...t}){return s.jsxs(mU,{children:[s.jsx(pU,{}),s.jsx(cU,{"data-slot":"alert-dialog-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Uh({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Me("flex flex-col gap-2 text-center sm:text-left",e),...t})}function zh({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Me("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Fh({className:e,...t}){return s.jsx(fU,{"data-slot":"alert-dialog-title",className:Me("text-lg font-semibold",e),...t})}function Vh({className:e,...t}){return s.jsx(hU,{"data-slot":"alert-dialog-description",className:Me("text-muted-foreground text-sm",e),...t})}function ib({className:e,...t}){return s.jsx(uU,{className:Me(wl(),e),...t})}function Bh({className:e,...t}){return s.jsx(dU,{className:Me(wl({variant:"outline"}),e),...t})}const Ig=10,H1=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[i,l]=h.useState(null),[u,d]=h.useState(""),[f,p]=h.useState(1),[g,v]=h.useState(0),[b,w]=h.useState(null),[j,N]=h.useState(!1),[S,_]=h.useState([]),[R,E]=h.useState(""),M=Iu(u,300),C=Math.ceil(g/Ig);h.useEffect(()=>{(async()=>{const{data:ie,error:Q}=await re.from("doctor").select("id, full_name").order("full_name",{ascending:!0});Q||_(ie||[])})()},[]);const D=h.useCallback(async()=>{r(!0),l(null);try{const F=(f-1)*Ig,ie=F+Ig-1;let Q=re.from("patient").select("*",{count:"exact"});if(M){const $=`%${M}%`;Q=Q.or(`full_name.ilike.${$},patient_unique_id.ilike.${$}`)}if(R){const{data:$,error:G}=await re.from("patient_result").select("patient_id").eq("doctor_id",R);if(G)throw console.error("Supabase error while fetching patient_result:",G),G;const W=($||[]).map(J=>J.patient_id);if(W.length===0){t([]),v(0),r(!1);return}Q=Q.in("id",W)}Q=Q.order("created_at",{ascending:!1}).range(F,ie);const{data:U,error:oe,count:le}=await Q;if(oe)throw console.error("Supabase error while fetching patients:",oe),oe;t(U||[]),v(le??0)}catch(F){console.error("Erreur lors de la rcupration des patients:",F),l(F instanceof Error?F.message:"Une erreur est survenue lors du chargement des patients."),t([]),v(0)}finally{r(!1)}},[f,M,R]);h.useEffect(()=>{D()},[D]),h.useEffect(()=>{p(1)},[M,R]);const O=()=>{p(F=>Math.max(F-1,1))},P=()=>{p(F=>Math.min(F+1,C))},k=async()=>{if(b){N(!0),l(null);try{const{error:F}=await re.from("patient").delete().eq("id",b.id);if(F)throw F;t(ie=>ie.filter(Q=>Q.id!==b.id)),v(ie=>ie-1),w(null)}catch(F){l((F instanceof Error?F.message:"")||"Erreur lors de la suppression du patient.")}finally{N(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(PE,{className:"h-6 w-6"}),"Gestion des Patients"]}),s.jsx(at,{to:"/patients/new",children:s.jsxs(ne,{children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Ajouter un Patient"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ke,{type:"search",placeholder:"Rechercher par nom ou ID unique...",value:u,onChange:F=>d(F.target.value),className:"pl-10 w-full md:w-1/3"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx(Le,{htmlFor:"doctor-filter",children:"Filtrer par mdecin :"}),s.jsxs("select",{id:"doctor-filter",value:R,onChange:F=>E(F.target.value),className:"border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",children:"Tous les mdecins"}),S.map(F=>s.jsx("option",{value:F.id,children:F.full_name},F.id))]})]}),n&&s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx(X,{className:"h-12 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"})]}),!n&&i&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsx(Ut,{children:i})]}),!n&&!i&&s.jsxs("div",{className:"space-y-4",children:[" ",s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{className:"w-[150px]",children:"ID Unique"}),s.jsx(vt,{children:"Nom Complet"}),s.jsx(vt,{children:"Date de Naissance"}),s.jsx(vt,{className:"hidden md:table-cell",children:"Genre"}),s.jsx(vt,{className:"hidden lg:table-cell",children:"Tlphone"}),s.jsx(vt,{className:"text-right",children:"Actions"})]})}),s.jsx(ea,{children:e.length>0?e.map(F=>s.jsxs(Kt,{children:[s.jsx(Qe,{className:"font-medium",children:Ff(F.patient_unique_id)}),s.jsx(Qe,{children:F.full_name}),s.jsx(Qe,{children:F.date_of_birth?new Date(F.date_of_birth).toLocaleDateString("fr-FR"):"N/A"}),s.jsx(Qe,{className:"hidden md:table-cell",children:F.gender||"N/A"}),s.jsx(Qe,{className:"hidden lg:table-cell",children:F.phone||"N/A"}),s.jsxs(Qe,{className:"text-right",children:[s.jsx(at,{to:`/patients/${F.id}`,children:s.jsx(ne,{variant:"outline",size:"sm",children:"Voir Dtails"})}),s.jsxs(fu,{children:[s.jsx(Ih,{asChild:!0,children:s.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer le patient",onClick:()=>w(F),disabled:n,children:[s.jsx(Lu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Supprimer"})]})}),s.jsxs($h,{children:[s.jsxs(Uh,{children:[s.jsx(Fh,{children:"Supprimer ce patient ?"}),s.jsx(Vh,{children:"Cette action est irrversible. Voulez-vous vraiment supprimer ce patient ?"})]}),s.jsxs(zh,{children:[s.jsx(Bh,{onClick:()=>w(null),disabled:j,children:"Annuler"}),s.jsx(ib,{onClick:k,disabled:j,className:"bg-destructive text-destructive-foreground",children:"Supprimer"})]})]})]})]})]},F.id)):s.jsx(Kt,{children:s.jsx(Qe,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:u?"Aucun patient ne correspond  votre recherche.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(Th,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun patient trouv. Commencez par en ajouter un."]})})})})]})}),C>1&&s.jsxs("div",{className:"flex items-center justify-between space-x-2 pt-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",f," sur ",C," (",g," ",g===1?"rsultat":"rsultats",")"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:O,disabled:f<=1,children:[s.jsx(ME,{className:"h-4 w-4 mr-1 sm:mr-2"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Prcdent"})," "]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:P,disabled:f>=C,children:[s.jsx("span",{className:"hidden sm:inline",children:"Suivant"})," ",s.jsx(OE,{className:"h-4 w-4 ml-1 sm:ml-2"})," "]})]})]})]})]})};function ro({...e}){return s.jsx(rC,{"data-slot":"dialog",...e})}function gU({...e}){return s.jsx(sC,{"data-slot":"dialog-portal",...e})}function GC({...e}){return s.jsx(Jx,{"data-slot":"dialog-close",...e})}function vU({className:e,...t}){return s.jsx(aC,{"data-slot":"dialog-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function so({className:e,children:t,...n}){return s.jsxs(gU,{"data-slot":"dialog-portal",children:[s.jsx(vU,{}),s.jsxs(iC,{"data-slot":"dialog-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,s.jsxs(Jx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Ah,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ao({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:Me("flex flex-col gap-2 text-center sm:text-left",e),...t})}function _l({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:Me("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function io({className:e,...t}){return s.jsx(Y$,{"data-slot":"dialog-title",className:Me("text-lg leading-none font-semibold",e),...t})}function XC({className:e,...t}){return s.jsx(G$,{"data-slot":"dialog-description",className:Me("text-muted-foreground text-sm",e),...t})}const xU=Cx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function qr({className:e,variant:t,asChild:n=!1,...r}){const i=n?i_:"span";return s.jsx(i,{"data-slot":"badge",className:Me(xU({variant:t}),e),...r})}function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Wr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function mr(e,t){const n=Bt(e);return isNaN(t)?Wr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ss(e,t){const n=Bt(e);if(isNaN(t))return Wr(e,NaN);if(!t)return n;const r=n.getDate(),i=Wr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const l=i.getDate();return r>=l?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const ob=6048e5,bU=864e5,KC=6e4,QC=36e5;let yU={};function $u(){return yU}function Ys(e,t){var d,f,p,g;const n=$u(),r=(t==null?void 0:t.weekStartsOn)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,i=Bt(e),l=i.getDay(),u=(l<r?7:0)+l-r;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function oo(e){return Ys(e,{weekStartsOn:1})}function ZC(e){const t=Bt(e),n=t.getFullYear(),r=Wr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=oo(r),l=Wr(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=oo(l);return t.getTime()>=i.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function El(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function Qf(e){const t=Bt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Vs(e,t){const n=El(e),r=El(t),i=+n-Qf(n),l=+r-Qf(r);return Math.round((i-l)/bU)}function wU(e){const t=ZC(e),n=Wr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),oo(n)}function Uv(e,t){const n=t*7;return mr(e,n)}function jU(e,t){return Ss(e,t*12)}function NU(e){let t;return e.forEach(function(n){const r=Bt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function SU(e){let t;return e.forEach(n=>{const r=Bt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Rr(e,t){const n=El(e),r=El(t);return+n==+r}function lb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _U(e){if(!lb(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function hu(e,t){const n=Bt(e),r=Bt(t),i=n.getFullYear()-r.getFullYear(),l=n.getMonth()-r.getMonth();return i*12+l}function EU(e,t,n){const r=Ys(e,n),i=Ys(t,n),l=+r-Qf(r),u=+i-Qf(i);return Math.round((l-u)/ob)}function cb(e){const t=Bt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Tr(e){const t=Bt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function JC(e){const t=Bt(e),n=Wr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ub(e,t){var d,f,p,g;const n=$u(),r=(t==null?void 0:t.weekStartsOn)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,i=Bt(e),l=i.getDay(),u=(l<r?-7:0)+6-(l-r);return i.setDate(i.getDate()+u),i.setHours(23,59,59,999),i}function e2(e){return ub(e,{weekStartsOn:1})}const CU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RU=(e,t,n)=>{let r;const i=CU[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gl(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const TU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AU={date:gl({formats:TU,defaultWidth:"full"}),time:gl({formats:MU,defaultWidth:"full"}),dateTime:gl({formats:OU,defaultWidth:"full"})},DU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PU=(e,t,n,r)=>DU[e];function zs(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):u;i=e.formattingValues[d]||e.formattingValues[u]}else{const u=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[d]||e.values[u]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const kU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$U={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VU={ordinalNumber:FU,era:zs({values:kU,defaultWidth:"wide"}),quarter:zs({values:LU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zs({values:IU,defaultWidth:"wide"}),day:zs({values:$U,defaultWidth:"wide"}),dayPeriod:zs({values:UU,defaultWidth:"wide",formattingValues:zU,defaultFormattingWidth:"wide"})};function Fs(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const u=l[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?HU(d,v=>v.test(u)):BU(d,v=>v.test(u));let p;p=e.valueCallback?e.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=t.slice(u.length);return{value:p,rest:g}}}function BU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function HU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function t2(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],l=t.match(e.parsePattern);if(!l)return null;let u=e.valueCallback?e.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}const qU=/^(\d+)(th|st|nd|rd)?/i,WU=/\d+/i,YU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GU={any:[/^b/i,/^(a|c)/i]},XU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KU={any:[/1/i,/2/i,/3/i,/4/i]},QU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ez={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rz={ordinalNumber:t2({matchPattern:qU,parsePattern:WU,valueCallback:e=>parseInt(e,10)}),era:Fs({matchPatterns:YU,defaultMatchWidth:"wide",parsePatterns:GU,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:XU,defaultMatchWidth:"wide",parsePatterns:KU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fs({matchPatterns:QU,defaultMatchWidth:"wide",parsePatterns:ZU,defaultParseWidth:"any"}),day:Fs({matchPatterns:JU,defaultMatchWidth:"wide",parsePatterns:ez,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:tz,defaultMatchWidth:"any",parsePatterns:nz,defaultParseWidth:"any"})},n2={code:"en-US",formatDistance:RU,formatLong:AU,formatRelative:PU,localize:VU,match:rz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sz(e){const t=Bt(e);return Vs(t,JC(t))+1}function r2(e){const t=Bt(e),n=+oo(t)-+wU(t);return Math.round(n/ob)+1}function s2(e,t){var g,v,b,w;const n=Bt(e),r=n.getFullYear(),i=$u(),l=(t==null?void 0:t.firstWeekContainsDate)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(b=i.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=Wr(e,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const d=Ys(u,t),f=Wr(e,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const p=Ys(f,t);return n.getTime()>=d.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function az(e,t){var d,f,p,g;const n=$u(),r=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=s2(e,t),l=Wr(e,0);return l.setFullYear(i,0,r),l.setHours(0,0,0,0),Ys(l,t)}function a2(e,t){const n=Bt(e),r=+Ys(n,t)-+az(n,t);return Math.round(r/ob)+1}function en(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ai={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return en(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):en(n+1,2)},d(e,t){return en(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return en(e.getHours()%12||12,t.length)},H(e,t){return en(e.getHours(),t.length)},m(e,t){return en(e.getMinutes(),t.length)},s(e,t){return en(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return en(i,t.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q1={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ai.y(e,t)},Y:function(e,t,n,r){const i=s2(e,r),l=i>0?i:1-i;if(t==="YY"){const u=l%100;return en(u,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):en(l,t.length)},R:function(e,t){const n=ZC(e);return en(n,t.length)},u:function(e,t){const n=e.getFullYear();return en(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return en(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return en(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ai.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return en(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=a2(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):en(i,t.length)},I:function(e,t,n){const r=r2(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):en(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ai.d(e,t)},D:function(e,t,n){const r=sz(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):en(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),l=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return en(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),l=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return en(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return en(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=il.noon:r===0?i=il.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=il.evening:r>=12?i=il.afternoon:r>=4?i=il.morning:i=il.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ai.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ai.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ai.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ai.s(e,t)},S:function(e,t){return ai.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Y1(r);case"XXXX":case"XX":return Ki(r);case"XXXXX":case"XXX":default:return Ki(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Y1(r);case"xxxx":case"xx":return Ki(r);case"xxxxx":case"xxx":default:return Ki(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+W1(r,":");case"OOOO":default:return"GMT"+Ki(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+W1(r,":");case"zzzz":default:return"GMT"+Ki(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return en(r,t.length)},T:function(e,t,n){const r=e.getTime();return en(r,t.length)}};function W1(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),l=r%60;return l===0?n+String(i):n+String(i)+t+en(l,2)}function Y1(e,t){return e%60===0?(e>0?"-":"+")+en(Math.abs(e)/60,2):Ki(e,t)}function Ki(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=en(Math.trunc(r/60),2),l=en(r%60,2);return n+i+t+l}const G1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},i2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},iz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return G1(e,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",G1(r,t)).replace("{{time}}",i2(i,t))},oz={p:i2,P:iz},lz=/^D+$/,cz=/^Y+$/,uz=["D","DD","YY","YYYY"];function dz(e){return lz.test(e)}function fz(e){return cz.test(e)}function hz(e,t,n){const r=mz(e,t,n);if(console.warn(r),uz.includes(e))throw new RangeError(r)}function mz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vz=/^'([^]*?)'?$/,xz=/''/g,bz=/[a-zA-Z]/;function ct(e,t,n){var g,v,b,w,j,N,S,_;const r=$u(),i=(n==null?void 0:n.locale)??r.locale??n2,l=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(b=r.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((N=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:N.weekStartsOn)??r.weekStartsOn??((_=(S=r.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??0,d=Bt(e);if(!_U(d))throw new RangeError("Invalid time value");let f=t.match(gz).map(R=>{const E=R[0];if(E==="p"||E==="P"){const M=oz[E];return M(R,i.formatLong)}return R}).join("").match(pz).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const E=R[0];if(E==="'")return{isToken:!1,value:yz(R)};if(q1[E])return{isToken:!0,value:R};if(E.match(bz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(f=i.localize.preprocessor(d,f));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:i};return f.map(R=>{if(!R.isToken)return R.value;const E=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&fz(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&dz(E))&&hz(E,t,String(e));const M=q1[E[0]];return M(d,E,i.localize,p)}).join("")}function yz(e){const t=e.match(vz);return t?t[1].replace(xz,"'"):e}function wz(e){const t=Bt(e),n=t.getFullYear(),r=t.getMonth(),i=Wr(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function jz(e){return Math.trunc(+Bt(e)/1e3)}function Nz(e){const t=Bt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Sz(e,t){return EU(Nz(e),Tr(e),t)+1}function zv(e,t){const n=Bt(e),r=Bt(t);return n.getTime()>r.getTime()}function o2(e,t){const n=Bt(e),r=Bt(t);return+n<+r}function db(e,t){const n=Bt(e),r=Bt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _z(e,t){const n=Bt(e),r=Bt(t);return n.getFullYear()===r.getFullYear()}function $g(e,t){return mr(e,-t)}function Jt(e,t){const r=Tz(e);let i;if(r.date){const f=Mz(r.date,2);i=Oz(f.restDateString,f.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const l=i.getTime();let u=0,d;if(r.time&&(u=Az(r.time),isNaN(u)))return new Date(NaN);if(r.timezone){if(d=Dz(r.timezone),isNaN(d))return new Date(NaN)}else{const f=new Date(l+u),p=new Date(0);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return new Date(l+u+d)}const xf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ez=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Cz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tz(e){const t={},n=e.split(xf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],xf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(xf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=xf.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Mz(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?i:l*100,restDateString:e.slice((r[1]||r[2]).length)}}function Oz(e,t){if(t===null)return new Date(NaN);const n=e.match(Ez);if(!n)return new Date(NaN);const r=!!n[4],i=Bc(n[1]),l=Bc(n[2])-1,u=Bc(n[3]),d=Bc(n[4]),f=Bc(n[5])-1;if(r)return $z(t,d,f)?Pz(t,d,f):new Date(NaN);{const p=new Date(0);return!Lz(t,l,u)||!Iz(t,i)?new Date(NaN):(p.setUTCFullYear(t,l,Math.max(i,u)),p)}}function Bc(e){return e?parseInt(e):1}function Az(e){const t=e.match(Cz);if(!t)return NaN;const n=Ug(t[1]),r=Ug(t[2]),i=Ug(t[3]);return Uz(n,r,i)?n*QC+r*KC+i*1e3:NaN}function Ug(e){return e&&parseFloat(e.replace(",","."))||0}function Dz(e){if(e==="Z")return 0;const t=e.match(Rz);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return zz(r,i)?n*(r*QC+i*KC):NaN}function Pz(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,l=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+l),r}const kz=[31,null,31,30,31,30,31,31,30,31,30,31];function l2(e){return e%400===0||e%4===0&&e%100!==0}function Lz(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(kz[t]||(l2(e)?29:28))}function Iz(e,t){return t>=1&&t<=(l2(e)?366:365)}function $z(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Uz(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function zz(e,t){return t>=0&&t<=59}function zg(e,t){const n=Bt(e),r=n.getFullYear(),i=n.getDate(),l=Wr(e,0);l.setFullYear(r,t,15),l.setHours(0,0,0,0);const u=wz(l);return n.setMonth(t,Math.min(i,u)),n}function X1(e,t){const n=Bt(e);return isNaN(+n)?Wr(e,NaN):(n.setFullYear(t),n)}const Fz={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},Vz=(e,t,n)=>{let r;const i=Fz[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},Bz={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Hz={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},qz={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wz={date:gl({formats:Bz,defaultWidth:"full"}),time:gl({formats:Hz,defaultWidth:"full"}),dateTime:gl({formats:qz,defaultWidth:"full"})},Yz={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},Gz=(e,t,n,r)=>Yz[e],Xz={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},Kz={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},Qz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},Zz={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Jz={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},eF=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let l;return n===1?l=r&&i.includes(r)?"re":"er":l="me",n+l},tF=["MMM","MMMM"],nF={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&tF.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:eF,era:zs({values:Xz,defaultWidth:"wide"}),quarter:zs({values:Kz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zs({values:Qz,defaultWidth:"wide"}),day:zs({values:Zz,defaultWidth:"wide"}),dayPeriod:zs({values:Jz,defaultWidth:"wide"})},rF=/^(\d+)(ime|re|me|er|e)?/i,sF=/\d+/i,aF={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},iF={any:[/^av/i,/^ap/i]},oF={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},lF={any:[/1/i,/2/i,/3/i,/4/i]},cF={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},uF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},dF={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},fF={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},hF={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},mF={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},pF={ordinalNumber:t2({matchPattern:rF,parsePattern:sF,valueCallback:e=>parseInt(e)}),era:Fs({matchPatterns:aF,defaultMatchWidth:"wide",parsePatterns:iF,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:lF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fs({matchPatterns:cF,defaultMatchWidth:"wide",parsePatterns:uF,defaultParseWidth:"any"}),day:Fs({matchPatterns:dF,defaultMatchWidth:"wide",parsePatterns:fF,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:hF,defaultMatchWidth:"any",parsePatterns:mF,defaultParseWidth:"any"})},Qt={code:"fr",formatDistance:Vz,formatLong:Wz,formatRelative:Gz,localize:nF,match:pF,options:{weekStartsOn:1,firstWeekContainsDate:4}},gF=e=>{switch(e==null?void 0:e.toLowerCase()){case"completed":return"default";case"in progress":return"secondary";case"pending":return"outline";default:return"secondary"}},vF=()=>{const{patientId:e}=yr(),t=dr(),[n,r]=h.useState(null),[i,l]=h.useState([]),[u,d]=h.useState(!0),[f,p]=h.useState(!0),[g,v]=h.useState(null),[b,w]=h.useState(!1),[j,N]=h.useState(null),[S,_]=h.useState(null),[R,E]=h.useState(!1),M=h.useCallback(async()=>{if(e){d(!0);try{const{data:k,error:F}=await re.from("patient").select("*").eq("id",e).single();if(F)throw F;if(!k)throw new Error("Patient non trouv.");r(k)}catch(k){console.error("Erreur chargement dtails patient:",k),v(F=>F||(k instanceof Error?k.message:"Erreur inconnue")||"Impossible de charger les dtails du patient.")}finally{d(!1)}}},[e]),C=h.useCallback(async()=>{if(e){p(!0);try{const{data:k,error:F}=await re.from("patient_result").select(`
          id,
          result_date,
          status,
          doctor:doctor_id ( full_name )
        `).eq("patient_id",e).order("result_date",{ascending:!1});if(F)throw F;l(k||[])}catch(k){console.error("Erreur chargement rsultats patient:",k),v(F=>F||(k instanceof Error?k.message:"Erreur inconnue")||"Impossible de charger les rsultats du patient.")}finally{p(!1)}}},[e]),D=h.useCallback(async()=>{if(E(!0),_(null),!!j)try{const{error:k}=await re.from("patient_result").delete().eq("id",j);if(k)throw k;C(),w(!1),N(null)}catch(k){console.error("Error deleting result:",k),_(`Impossible de supprimer le rsultat. 
 ${k.message}`)}finally{E(!1)}},[j,C]);h.useEffect(()=>{v(null),(async()=>{r(null),l([]),d(!0),p(!0),await Promise.all([M(),C()])})()},[M,C]);const O=u||f,P=(k,F,ie)=>{const Q=k;return s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Q,{className:"h-5 w-5 text-muted-foreground mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:F}),s.jsx("p",{className:"text-base",children:ie||s.jsx("span",{className:"text-muted-foreground italic",children:"Non spcifi"})})]})]})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[s.jsx("div",{children:s.jsx(at,{to:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour  la liste"]})})}),!O&&n&&!g&&s.jsx(at,{to:`/patients/${e}/edit`,children:s.jsxs(ne,{variant:"secondary",children:[s.jsx(ds,{className:"mr-2 h-4 w-4"}),"Modifier le Patient"]})})]}),u&&s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-6 w-3/5"}),s.jsx(X,{className:"h-4 w-4/5"})]}),s.jsxs(Re,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"})]})]}),g&&!O&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[g," ",s.jsx(ne,{variant:"link",onClick:()=>{M(),C()},className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]}),!u&&n&&!g&&s.jsxs(Ce,{className:"overflow-hidden",children:[s.jsxs(Te,{className:"bg-muted/30",children:[s.jsxs(ut,{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5"}),"Informations du Patient"]}),s.jsx(ur,{children:"Dtails dmographiques."})]}),s.jsxs(Re,{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[P(Yt,"Nom Complet",n.full_name),P(Ye,"ID Unique",Ff(n.patient_unique_id)),P(fn,"Date de Naissance",n.date_of_birth?ct(Jt(n.date_of_birth),"PPP",{locale:Qt}):null),P(Ye,"Genre",n.gender),P(yn,"Tlphone",n.phone)]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight flex items-center gap-2",children:[s.jsx(Qs,{className:"h-6 w-6"}),"Historique des Rsultats"]}),!O&&n&&!g&&s.jsxs(ne,{onClick:()=>t(`/patients/${e}/results/new`),children:[" ",s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Ajouter un Rsultat"]})]}),f&&s.jsxs("div",{className:"border rounded-lg overflow-hidden bg-background",children:[s.jsx(X,{className:"h-12 w-full"})," ",s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"})]}),!f&&!g&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{className:"w-[180px]",children:"Date du Rsultat"}),s.jsx(vt,{children:"Mdecin Prescripteur"}),s.jsx(vt,{className:"w-[130px]",children:"Statut"}),s.jsx(vt,{className:"text-right w-[150px]",children:"Actions"})]})}),s.jsx(ea,{children:i.length>0?i.map(k=>{var F,ie,Q;return s.jsxs(Kt,{children:[s.jsx(Qe,{children:k.result_date?ct(Jt(k.result_date),"PPP '' HH:mm",{locale:Qt}):"N/A"}),s.jsx(Qe,{children:((F=k.doctor)==null?void 0:F.full_name)||s.jsx("span",{className:"italic text-muted-foreground",children:"Inconnu"})}),s.jsx(Qe,{children:s.jsx(qr,{variant:gF(k.status),children:((ie=k.status)==null?void 0:ie.charAt(0).toUpperCase())+((Q=k.status)==null?void 0:Q.slice(1))||"N/A"})}),s.jsxs(Qe,{className:"text-right",children:[s.jsxs(at,{to:`/results/${k.id}`,children:[" ",s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Hr,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Voir Rsultat"})," ",s.jsx("span",{className:"sm:hidden",children:"Voir"})," "]})]}),s.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",onClick:U=>{U.preventDefault(),N(k.id),w(!0)},children:[s.jsx(ml,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Supprimer"})," ",s.jsx("span",{className:"sm:hidden",children:"Suppr"})," "]})]})]},k.id)}):s.jsx(Kt,{children:s.jsx(Qe,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:"Aucun rsultat trouv pour ce patient."})})})]})})]})]}),s.jsx(ro,{open:b,onOpenChange:w,children:s.jsxs(so,{children:[s.jsx(ao,{children:s.jsx(io,{children:"Confirmer la suppression"})}),s.jsxs("div",{className:"py-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"tes-vous sr de vouloir supprimer ce rsultat ? Cette action est irrversible."}),S&&s.jsxs(It,{variant:"destructive",children:[s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:S})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(ne,{variant:"outline",onClick:()=>w(!1),children:"Annuler"}),s.jsx(ne,{variant:"destructive",onClick:D,children:R?"Suppression...":"Supprimer"})]})]})]})})]})},xF=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[i,l]=h.useState(null),[u,d]=h.useState(""),[f,p]=h.useState(null),[g,v]=h.useState(!1),b=Iu(u,300),w=h.useCallback(async()=>{r(!0),l(null);try{const{data:S,error:_}=await re.from("doctor").select("*").order("full_name",{ascending:!0});if(_)throw _;t(S||[])}catch(S){console.error("Erreur lors de la rcupration des mdecins:",S),l((S instanceof Error?S.message:"")||"Une erreur est survenue lors du chargement des mdecins."),t([])}finally{r(!1)}},[]);h.useEffect(()=>{w()},[w]);const j=h.useMemo(()=>{if(!b)return e;const S=b.toLowerCase();return e.filter(_=>_.full_name.toLowerCase().includes(S)||_.hospital&&_.hospital.toLowerCase().includes(S))},[e,b]),N=async()=>{if(f){v(!0),l(null);try{const{error:S}=await re.from("doctor").delete().eq("id",f.id);if(S)throw S;t(_=>_.filter(R=>R.id!==f.id)),p(null)}catch(S){l((S instanceof Error?S.message:"")||"Erreur lors de la suppression du mdecin.")}finally{v(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(ir,{className:"h-6 w-6"}),"Gestion des Mdecins"]}),s.jsx(at,{to:"/doctors/new",children:s.jsxs(ne,{children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Ajouter un Mdecin"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ke,{type:"search",placeholder:"Rechercher par nom ou hpital...",value:u,onChange:S=>d(S.target.value),className:"pl-10 w-full md:w-1/3 h-10",disabled:n})]}),n&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(X,{className:"h-12 w-full rounded-t-lg"}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"})]})]}),!n&&i&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsxs(Ut,{children:[i," ",s.jsx(ne,{variant:"link",onClick:w,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]}),!n&&!i&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{children:"Nom Complet"}),s.jsx(vt,{className:"w-[200px]",children:"Tlphone"}),s.jsx(vt,{className:"w-[300px]",children:"Hpital / Clinique"}),s.jsx(vt,{className:"text-right w-[150px]",children:"Actions"})]})}),s.jsx(ea,{children:j.length>0?j.map(S=>s.jsxs(Kt,{children:[s.jsx(Qe,{className:"font-medium",children:S.full_name}),s.jsx(Qe,{children:S.phone||s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),s.jsx(Qe,{children:S.hospital||s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),s.jsxs(Qe,{className:"text-right",children:[s.jsx(at,{to:`/doctors/${S.id}/edit`,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(ds,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),s.jsx("span",{className:"sm:hidden",children:"diter"})]})}),s.jsxs(fu,{children:[s.jsx(Ih,{asChild:!0,children:s.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer le mdecin",onClick:()=>p(S),disabled:n,children:[s.jsx(Lu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Supprimer"})]})}),s.jsxs($h,{children:[s.jsxs(Uh,{children:[s.jsx(Fh,{children:"Supprimer ce mdecin ?"}),s.jsx(Vh,{children:"Cette action est irrversible. Voulez-vous vraiment supprimer ce mdecin ?"})]}),s.jsxs(zh,{children:[s.jsx(Bh,{onClick:()=>p(null),disabled:g,children:"Annuler"}),s.jsx(ib,{onClick:N,disabled:g,className:"bg-destructive text-destructive-foreground",children:"Supprimer"})]})]})]})]})]},S.id)):s.jsx(Kt,{children:s.jsx(Qe,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:u?"Aucun mdecin ne correspond  votre recherche.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(Th,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun mdecin trouv. Commencez par en ajouter un."]})})})})]})})]})},bF=()=>s.jsx("div",{children:"404 - Page Not Found"});var c2=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),l=i.find(wF);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return s.jsx(Fv,{...r,ref:t,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx(Fv,{...r,ref:t,children:n})});c2.displayName="Slot";var Fv=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const i=NF(n),l=jF(r,n.props);return n.type!==h.Fragment&&(l.ref=t?Xs(t,i):i),h.cloneElement(n,l)}return h.Children.count(n)>1?h.Children.only(null):null});Fv.displayName="SlotClone";var yF=({children:e})=>s.jsx(s.Fragment,{children:e});function wF(e){return h.isValidElement(e)&&e.type===yF}function jF(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function NF(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fb="Popover",[u2,xK]=wr(fb,[wi]),Uu=wi(),[SF,Ni]=u2(fb),d2=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:u=!1}=e,d=Uu(t),f=h.useRef(null),[p,g]=h.useState(!1),[v=!1,b]=pi({prop:r,defaultProp:i,onChange:l});return s.jsx(Ux,{...d,children:s.jsx(SF,{scope:t,contentId:Bs(),triggerRef:f,open:v,onOpenChange:b,onOpenToggle:h.useCallback(()=>b(w=>!w),[b]),hasCustomAnchor:p,onCustomAnchorAdd:h.useCallback(()=>g(!0),[]),onCustomAnchorRemove:h.useCallback(()=>g(!1),[]),modal:u,children:n})})};d2.displayName=fb;var f2="PopoverAnchor",_F=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ni(f2,n),l=Uu(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:d}=i;return h.useEffect(()=>(u(),()=>d()),[u,d]),s.jsx(Mu,{...l,...r,ref:t})});_F.displayName=f2;var h2="PopoverTrigger",m2=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ni(h2,n),l=Uu(n),u=Rt(t,i.triggerRef),d=s.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":b2(i.open),...r,ref:u,onClick:Pe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:s.jsx(Mu,{asChild:!0,...l,children:d})});m2.displayName=h2;var hb="PopoverPortal",[EF,CF]=u2(hb,{forceMount:void 0}),p2=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,l=Ni(hb,t);return s.jsx(EF,{scope:t,forceMount:n,children:s.jsx(Yr,{present:n||l.open,children:s.jsx(Ou,{asChild:!0,container:i,children:r})})})};p2.displayName=hb;var Cl="PopoverContent",g2=h.forwardRef((e,t)=>{const n=CF(Cl,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,l=Ni(Cl,e.__scopePopover);return s.jsx(Yr,{present:r||l.open,children:l.modal?s.jsx(RF,{...i,ref:t}):s.jsx(TF,{...i,ref:t})})});g2.displayName=Cl;var RF=h.forwardRef((e,t)=>{const n=Ni(Cl,e.__scopePopover),r=h.useRef(null),i=Rt(t,r),l=h.useRef(!1);return h.useEffect(()=>{const u=r.current;if(u)return Au(u)},[]),s.jsx(Ul,{as:c2,allowPinchZoom:!0,children:s.jsx(v2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,u=>{var d;u.preventDefault(),l.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Pe(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),TF=h.forwardRef((e,t)=>{const n=Ni(Cl,e.__scopePopover),r=h.useRef(!1),i=h.useRef(!1);return s.jsx(v2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),v2=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,...v}=e,b=Ni(Cl,n),w=Uu(n);return xh(),s.jsx(Ru,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:s.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>b.onOpenChange(!1),children:s.jsx(jh,{"data-state":b2(b.open),role:"dialog",id:b.contentId,...w,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),x2="PopoverClose",MF=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ni(x2,n);return s.jsx(tt.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>i.onOpenChange(!1))})});MF.displayName=x2;var OF="PopoverArrow",AF=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Uu(n);return s.jsx(Nh,{...i,...r,ref:t})});AF.displayName=OF;function b2(e){return e?"open":"closed"}var DF=d2,PF=m2,kF=p2,LF=g2;function y2({...e}){return s.jsx(DF,{"data-slot":"popover",...e})}function w2({...e}){return s.jsx(PF,{"data-slot":"popover-trigger",...e})}function j2({className:e,align:t="center",sideOffset:n=4,...r}){return s.jsx(kF,{children:s.jsx(LF,{"data-slot":"popover-content",align:t,sideOffset:n,className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}var et=function(){return et=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},et.apply(this,arguments)};function IF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function N2(e,t,n){for(var r=0,i=t.length,l;r<i;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}function zu(e){return e.mode==="multiple"}function Fu(e){return e.mode==="range"}function Hh(e){return e.mode==="single"}var $F={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function UF(e,t){return ct(e,"LLLL y",t)}function zF(e,t){return ct(e,"d",t)}function FF(e,t){return ct(e,"LLLL",t)}function VF(e){return"".concat(e)}function BF(e,t){return ct(e,"cccccc",t)}function HF(e,t){return ct(e,"yyyy",t)}var qF=Object.freeze({__proto__:null,formatCaption:UF,formatDay:zF,formatMonthCaption:FF,formatWeekNumber:VF,formatWeekdayName:BF,formatYearCaption:HF}),WF=function(e,t,n){return ct(e,"do MMMM (EEEE)",n)},YF=function(){return"Month: "},GF=function(){return"Go to next month"},XF=function(){return"Go to previous month"},KF=function(e,t){return ct(e,"cccc",t)},QF=function(e){return"Week n. ".concat(e)},ZF=function(){return"Year: "},JF=Object.freeze({__proto__:null,labelDay:WF,labelMonthDropdown:YF,labelNext:GF,labelPrevious:XF,labelWeekNumber:QF,labelWeekday:KF,labelYearDropdown:ZF});function eV(){var e="buttons",t=$F,n=n2,r={},i={},l=1,u={},d=new Date;return{captionLayout:e,classNames:t,formatters:qF,labels:JF,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:l,styles:u,today:d,mode:"default"}}function tV(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,l=e.fromDate,u=e.toDate;return r?l=Tr(r):t&&(l=new Date(t,0,1)),i?u=cb(i):n&&(u=new Date(n,11,31)),{fromDate:l?El(l):void 0,toDate:u?El(u):void 0}}var S2=h.createContext(void 0);function nV(e){var t,n=e.initialProps,r=eV(),i=tV(n),l=i.fromDate,u=i.toDate,d=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;d!=="buttons"&&(!l||!u)&&(d="buttons");var f;(Hh(n)||zu(n)||Fu(n))&&(f=n.onSelect);var p=et(et(et({},r),n),{captionLayout:d,classNames:et(et({},r.classNames),n.classNames),components:et({},n.components),formatters:et(et({},r.formatters),n.formatters),fromDate:l,labels:et(et({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:et(et({},r.modifiers),n.modifiers),modifiersClassNames:et(et({},r.modifiersClassNames),n.modifiersClassNames),onSelect:f,styles:et(et({},r.styles),n.styles),toDate:u});return s.jsx(S2.Provider,{value:p,children:e.children})}function dn(){var e=h.useContext(S2);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function _2(e){var t=dn(),n=t.locale,r=t.classNames,i=t.styles,l=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:n})})}function rV(e){return s.jsx("svg",et({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function E2(e){var t,n,r=e.onChange,i=e.value,l=e.children,u=e.caption,d=e.className,f=e.style,p=dn(),g=(n=(t=p.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:rV;return s.jsxs("div",{className:d,style:f,children:[s.jsx("span",{className:p.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:i,onChange:r,children:l}),s.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[u,s.jsx(g,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function sV(e){var t,n=dn(),r=n.fromDate,i=n.toDate,l=n.styles,u=n.locale,d=n.formatters.formatMonthCaption,f=n.classNames,p=n.components,g=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var v=[];if(_z(r,i))for(var b=Tr(r),w=r.getMonth();w<=i.getMonth();w++)v.push(zg(b,w));else for(var b=Tr(new Date),w=0;w<=11;w++)v.push(zg(b,w));var j=function(S){var _=Number(S.target.value),R=zg(Tr(e.displayMonth),_);e.onChange(R)},N=(t=p==null?void 0:p.Dropdown)!==null&&t!==void 0?t:E2;return s.jsx(N,{name:"months","aria-label":g(),className:f.dropdown_month,style:l.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:u}),children:v.map(function(S){return s.jsx("option",{value:S.getMonth(),children:d(S,{locale:u})},S.getMonth())})})}function aV(e){var t,n=e.displayMonth,r=dn(),i=r.fromDate,l=r.toDate,u=r.locale,d=r.styles,f=r.classNames,p=r.components,g=r.formatters.formatYearCaption,v=r.labels.labelYearDropdown,b=[];if(!i)return s.jsx(s.Fragment,{});if(!l)return s.jsx(s.Fragment,{});for(var w=i.getFullYear(),j=l.getFullYear(),N=w;N<=j;N++)b.push(X1(JC(new Date),N));var S=function(R){var E=X1(Tr(n),Number(R.target.value));e.onChange(E)},_=(t=p==null?void 0:p.Dropdown)!==null&&t!==void 0?t:E2;return s.jsx(_,{name:"years","aria-label":v(),className:f.dropdown_year,style:d.dropdown_year,onChange:S,value:n.getFullYear(),caption:g(n,{locale:u}),children:b.map(function(R){return s.jsx("option",{value:R.getFullYear(),children:g(R,{locale:u})},R.getFullYear())})})}function iV(e,t){var n=h.useState(e),r=n[0],i=n[1],l=t===void 0?r:t;return[l,i]}function oV(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,l=e.toDate,u=e.fromDate,d=e.numberOfMonths,f=d===void 0?1:d;if(l&&hu(l,i)<0){var p=-1*(f-1);i=Ss(l,p)}return u&&hu(i,u)<0&&(i=u),Tr(i)}function lV(){var e=dn(),t=oV(e),n=iV(t,e.month),r=n[0],i=n[1],l=function(u){var d;if(!e.disableNavigation){var f=Tr(u);i(f),(d=e.onMonthChange)===null||d===void 0||d.call(e,f)}};return[r,l]}function cV(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Tr(e),l=Tr(Ss(i,r)),u=hu(l,i),d=[],f=0;f<u;f++){var p=Ss(i,f);d.push(p)}return n&&(d=d.reverse()),d}function uV(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,l=i===void 0?1:i,u=r?l:1,d=Tr(e);if(!n)return Ss(d,u);var f=hu(n,e);if(!(f<l))return Ss(d,u)}}function dV(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,l=i===void 0?1:i,u=r?l:1,d=Tr(e);if(!n)return Ss(d,-u);var f=hu(d,n);if(!(f<=0))return Ss(d,-u)}}var C2=h.createContext(void 0);function fV(e){var t=dn(),n=lV(),r=n[0],i=n[1],l=cV(r,t),u=uV(r,t),d=dV(r,t),f=function(v){return l.some(function(b){return db(v,b)})},p=function(v,b){f(v)||(b&&o2(v,b)?i(Ss(v,1+t.numberOfMonths*-1)):i(v))},g={currentMonth:r,displayMonths:l,goToMonth:i,goToDate:p,previousMonth:d,nextMonth:u,isDateDisplayed:f};return s.jsx(C2.Provider,{value:g,children:e.children})}function Vu(){var e=h.useContext(C2);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function K1(e){var t,n=dn(),r=n.classNames,i=n.styles,l=n.components,u=Vu().goToMonth,d=function(g){u(Ss(g,e.displayIndex?-e.displayIndex:0))},f=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:_2,p=s.jsx(f,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:p}),s.jsx(sV,{onChange:d,displayMonth:e.displayMonth}),s.jsx(aV,{onChange:d,displayMonth:e.displayMonth})]})}function hV(e){return s.jsx("svg",et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mV(e){return s.jsx("svg",et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Zf=h.forwardRef(function(e,t){var n=dn(),r=n.classNames,i=n.styles,l=[r.button_reset,r.button];e.className&&l.push(e.className);var u=l.join(" "),d=et(et({},i.button_reset),i.button);return e.style&&Object.assign(d,e.style),s.jsx("button",et({},e,{ref:t,type:"button",className:u,style:d}))});function pV(e){var t,n,r=dn(),i=r.dir,l=r.locale,u=r.classNames,d=r.styles,f=r.labels,p=f.labelPrevious,g=f.labelNext,v=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var b=p(e.previousMonth,{locale:l}),w=[u.nav_button,u.nav_button_previous].join(" "),j=g(e.nextMonth,{locale:l}),N=[u.nav_button,u.nav_button_next].join(" "),S=(t=v==null?void 0:v.IconRight)!==null&&t!==void 0?t:mV,_=(n=v==null?void 0:v.IconLeft)!==null&&n!==void 0?n:hV;return s.jsxs("div",{className:u.nav,style:d.nav,children:[!e.hidePrevious&&s.jsx(Zf,{name:"previous-month","aria-label":b,className:w,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(S,{className:u.nav_icon,style:d.nav_icon}):s.jsx(_,{className:u.nav_icon,style:d.nav_icon})}),!e.hideNext&&s.jsx(Zf,{name:"next-month","aria-label":j,className:N,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(_,{className:u.nav_icon,style:d.nav_icon}):s.jsx(S,{className:u.nav_icon,style:d.nav_icon})})]})}function Q1(e){var t=dn().numberOfMonths,n=Vu(),r=n.previousMonth,i=n.nextMonth,l=n.goToMonth,u=n.displayMonths,d=u.findIndex(function(j){return db(e.displayMonth,j)}),f=d===0,p=d===u.length-1,g=t>1&&(f||!p),v=t>1&&(p||!f),b=function(){r&&l(r)},w=function(){i&&l(i)};return s.jsx(pV,{displayMonth:e.displayMonth,hideNext:g,hidePrevious:v,nextMonth:i,previousMonth:r,onPreviousClick:b,onNextClick:w})}function gV(e){var t,n=dn(),r=n.classNames,i=n.disableNavigation,l=n.styles,u=n.captionLayout,d=n.components,f=(t=d==null?void 0:d.CaptionLabel)!==null&&t!==void 0?t:_2,p;return i?p=s.jsx(f,{id:e.id,displayMonth:e.displayMonth}):u==="dropdown"?p=s.jsx(K1,{displayMonth:e.displayMonth,id:e.id}):u==="dropdown-buttons"?p=s.jsxs(s.Fragment,{children:[s.jsx(K1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Q1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):p=s.jsxs(s.Fragment,{children:[s.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Q1,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:l.caption,children:p})}function vV(e){var t=dn(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function xV(e,t,n){for(var r=n?oo(new Date):Ys(new Date,{locale:e,weekStartsOn:t}),i=[],l=0;l<7;l++){var u=mr(r,l);i.push(u)}return i}function bV(){var e=dn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,l=e.weekStartsOn,u=e.ISOWeek,d=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,p=xV(i,l,u);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),p.map(function(g,v){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":f(g,{locale:i}),children:d(g,{locale:i})},v)})]})}function yV(){var e,t=dn(),n=t.classNames,r=t.styles,i=t.components,l=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:bV;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(l,{})})}function wV(e){var t=dn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var mb=h.createContext(void 0);function jV(e){if(!zu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(mb.Provider,{value:t,children:e.children})}return s.jsx(NV,{initialProps:e.initialProps,children:e.children})}function NV(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,l=t.max,u=function(p,g,v){var b,w;(b=t.onDayClick)===null||b===void 0||b.call(t,p,g,v);var j=!!(g.selected&&i&&(r==null?void 0:r.length)===i);if(!j){var N=!!(!g.selected&&l&&(r==null?void 0:r.length)===l);if(!N){var S=r?N2([],r):[];if(g.selected){var _=S.findIndex(function(R){return Rr(p,R)});S.splice(_,1)}else S.push(p);(w=t.onSelect)===null||w===void 0||w.call(t,S,p,g,v)}}},d={disabled:[]};r&&d.disabled.push(function(p){var g=l&&r.length>l-1,v=r.some(function(b){return Rr(b,p)});return!!(g&&!v)});var f={selected:r,onDayClick:u,modifiers:d};return s.jsx(mb.Provider,{value:f,children:n})}function pb(){var e=h.useContext(mb);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function SV(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Rr(i,e)&&Rr(r,e)?void 0:Rr(i,e)?{from:i,to:void 0}:Rr(r,e)?void 0:zv(r,e)?{from:e,to:i}:{from:r,to:e}:i?zv(e,i)?{from:i,to:e}:{from:e,to:i}:r?o2(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var gb=h.createContext(void 0);function _V(e){if(!Fu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(gb.Provider,{value:t,children:e.children})}return s.jsx(EV,{initialProps:e.initialProps,children:e.children})}function EV(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},l=i.from,u=i.to,d=t.min,f=t.max,p=function(w,j,N){var S,_;(S=t.onDayClick)===null||S===void 0||S.call(t,w,j,N);var R=SV(w,r);(_=t.onSelect)===null||_===void 0||_.call(t,R,w,j,N)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(g.range_start=[l],u?(g.range_end=[u],Rr(l,u)||(g.range_middle=[{after:l,before:u}])):g.range_end=[l]):u&&(g.range_start=[u],g.range_end=[u]),d&&(l&&!u&&g.disabled.push({after:$g(l,d-1),before:mr(l,d-1)}),l&&u&&g.disabled.push({after:l,before:mr(l,d-1)}),!l&&u&&g.disabled.push({after:$g(u,d-1),before:mr(u,d-1)})),f){if(l&&!u&&(g.disabled.push({before:mr(l,-f+1)}),g.disabled.push({after:mr(l,f-1)})),l&&u){var v=Vs(u,l)+1,b=f-v;g.disabled.push({before:$g(l,b)}),g.disabled.push({after:mr(u,b)})}!l&&u&&(g.disabled.push({before:mr(u,-f+1)}),g.disabled.push({after:mr(u,f-1)}))}return s.jsx(gb.Provider,{value:{selected:r,onDayClick:p,modifiers:g},children:n})}function vb(){var e=h.useContext(gb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Df(e){return Array.isArray(e)?N2([],e):e!==void 0?[e]:[]}function CV(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Df(i)}),t}var _s;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(_s||(_s={}));var RV=_s.Selected,wa=_s.Disabled,TV=_s.Hidden,MV=_s.Today,Fg=_s.RangeEnd,Vg=_s.RangeMiddle,Bg=_s.RangeStart,OV=_s.Outside;function AV(e,t,n){var r,i=(r={},r[RV]=Df(e.selected),r[wa]=Df(e.disabled),r[TV]=Df(e.hidden),r[MV]=[e.today],r[Fg]=[],r[Vg]=[],r[Bg]=[],r[OV]=[],r);return e.fromDate&&i[wa].push({before:e.fromDate}),e.toDate&&i[wa].push({after:e.toDate}),zu(e)?i[wa]=i[wa].concat(t.modifiers[wa]):Fu(e)&&(i[wa]=i[wa].concat(n.modifiers[wa]),i[Bg]=n.modifiers[Bg],i[Vg]=n.modifiers[Vg],i[Fg]=n.modifiers[Fg]),i}var R2=h.createContext(void 0);function DV(e){var t=dn(),n=pb(),r=vb(),i=AV(t,n,r),l=CV(t.modifiers),u=et(et({},i),l);return s.jsx(R2.Provider,{value:u,children:e.children})}function T2(){var e=h.useContext(R2);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function PV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function kV(e){return!!(e&&typeof e=="object"&&"from"in e)}function LV(e){return!!(e&&typeof e=="object"&&"after"in e)}function IV(e){return!!(e&&typeof e=="object"&&"before"in e)}function $V(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function UV(e,t){var n,r=t.from,i=t.to;if(r&&i){var l=Vs(i,r)<0;l&&(n=[i,r],r=n[0],i=n[1]);var u=Vs(e,r)>=0&&Vs(i,e)>=0;return u}return i?Rr(i,e):r?Rr(r,e):!1}function zV(e){return lb(e)}function FV(e){return Array.isArray(e)&&e.every(lb)}function VV(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(zV(n))return Rr(e,n);if(FV(n))return n.includes(e);if(kV(n))return UV(e,n);if($V(n))return n.dayOfWeek.includes(e.getDay());if(PV(n)){var r=Vs(n.before,e),i=Vs(n.after,e),l=r>0,u=i<0,d=zv(n.before,n.after);return d?u&&l:l||u}return LV(n)?Vs(e,n.after)>0:IV(n)?Vs(n.before,e)>0:typeof n=="function"?n(e):!1})}function xb(e,t,n){var r=Object.keys(t).reduce(function(l,u){var d=t[u];return VV(e,d)&&l.push(u),l},[]),i={};return r.forEach(function(l){return i[l]=!0}),n&&!db(e,n)&&(i.outside=!0),i}function BV(e,t){for(var n=Tr(e[0]),r=cb(e[e.length-1]),i,l,u=n;u<=r;){var d=xb(u,t),f=!d.disabled&&!d.hidden;if(!f){u=mr(u,1);continue}if(d.selected)return u;d.today&&!l&&(l=u),i||(i=u),u=mr(u,1)}return l||i}var HV=365;function M2(e,t){var n=t.moveBy,r=t.direction,i=t.context,l=t.modifiers,u=t.retry,d=u===void 0?{count:0,lastFocused:e}:u,f=i.weekStartsOn,p=i.fromDate,g=i.toDate,v=i.locale,b={day:mr,week:Uv,month:Ss,year:jU,startOfWeek:function(S){return i.ISOWeek?oo(S):Ys(S,{locale:v,weekStartsOn:f})},endOfWeek:function(S){return i.ISOWeek?e2(S):ub(S,{locale:v,weekStartsOn:f})}},w=b[n](e,r==="after"?1:-1);r==="before"&&p?w=NU([p,w]):r==="after"&&g&&(w=SU([g,w]));var j=!0;if(l){var N=xb(w,l);j=!N.disabled&&!N.hidden}return j?w:d.count>HV?d.lastFocused:M2(w,{moveBy:n,direction:r,context:i,modifiers:l,retry:et(et({},d),{count:d.count+1})})}var O2=h.createContext(void 0);function qV(e){var t=Vu(),n=T2(),r=h.useState(),i=r[0],l=r[1],u=h.useState(),d=u[0],f=u[1],p=BV(t.displayMonths,n),g=i??(d&&t.isDateDisplayed(d))?d:p,v=function(){f(i),l(void 0)},b=function(S){l(S)},w=dn(),j=function(S,_){if(i){var R=M2(i,{moveBy:S,direction:_,context:w,modifiers:n});Rr(i,R)||(t.goToDate(R,i),b(R))}},N={focusedDay:i,focusTarget:g,blur:v,focus:b,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return s.jsx(O2.Provider,{value:N,children:e.children})}function bb(){var e=h.useContext(O2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function WV(e,t){var n=T2(),r=xb(e,n,t);return r}var yb=h.createContext(void 0);function YV(e){if(!Hh(e.initialProps)){var t={selected:void 0};return s.jsx(yb.Provider,{value:t,children:e.children})}return s.jsx(GV,{initialProps:e.initialProps,children:e.children})}function GV(e){var t=e.initialProps,n=e.children,r=function(l,u,d){var f,p,g;if((f=t.onDayClick)===null||f===void 0||f.call(t,l,u,d),u.selected&&!t.required){(p=t.onSelect)===null||p===void 0||p.call(t,void 0,l,u,d);return}(g=t.onSelect)===null||g===void 0||g.call(t,l,l,u,d)},i={selected:t.selected,onDayClick:r};return s.jsx(yb.Provider,{value:i,children:n})}function A2(){var e=h.useContext(yb);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function XV(e,t){var n=dn(),r=A2(),i=pb(),l=vb(),u=bb(),d=u.focusDayAfter,f=u.focusDayBefore,p=u.focusWeekAfter,g=u.focusWeekBefore,v=u.blur,b=u.focus,w=u.focusMonthBefore,j=u.focusMonthAfter,N=u.focusYearBefore,S=u.focusYearAfter,_=u.focusStartOfWeek,R=u.focusEndOfWeek,E=function(G){var W,J,L,V;Hh(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,G):zu(n)?(J=i.onDayClick)===null||J===void 0||J.call(i,e,t,G):Fu(n)?(L=l.onDayClick)===null||L===void 0||L.call(l,e,t,G):(V=n.onDayClick)===null||V===void 0||V.call(n,e,t,G)},M=function(G){var W;b(e),(W=n.onDayFocus)===null||W===void 0||W.call(n,e,t,G)},C=function(G){var W;v(),(W=n.onDayBlur)===null||W===void 0||W.call(n,e,t,G)},D=function(G){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,e,t,G)},O=function(G){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,e,t,G)},P=function(G){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,e,t,G)},k=function(G){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,e,t,G)},F=function(G){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,e,t,G)},ie=function(G){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,e,t,G)},Q=function(G){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,e,t,G)},U=function(G){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,e,t,G)},oe=function(G){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,e,t,G)},le=function(G){var W;switch(G.key){case"ArrowLeft":G.preventDefault(),G.stopPropagation(),n.dir==="rtl"?d():f();break;case"ArrowRight":G.preventDefault(),G.stopPropagation(),n.dir==="rtl"?f():d();break;case"ArrowDown":G.preventDefault(),G.stopPropagation(),p();break;case"ArrowUp":G.preventDefault(),G.stopPropagation(),g();break;case"PageUp":G.preventDefault(),G.stopPropagation(),G.shiftKey?N():w();break;case"PageDown":G.preventDefault(),G.stopPropagation(),G.shiftKey?S():j();break;case"Home":G.preventDefault(),G.stopPropagation(),_();break;case"End":G.preventDefault(),G.stopPropagation(),R();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,e,t,G)},$={onClick:E,onFocus:M,onBlur:C,onKeyDown:le,onKeyUp:oe,onMouseEnter:D,onMouseLeave:O,onPointerEnter:P,onPointerLeave:k,onTouchCancel:F,onTouchEnd:ie,onTouchMove:Q,onTouchStart:U};return $}function KV(){var e=dn(),t=A2(),n=pb(),r=vb(),i=Hh(e)?t.selected:zu(e)?n.selected:Fu(e)?r.selected:void 0;return i}function QV(e){return Object.values(_s).includes(e)}function ZV(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(QV(r)){var l=e.classNames["day_".concat(r)];l&&n.push(l)}}),n}function JV(e,t){var n=et({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=et(et({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function eB(e,t,n){var r,i,l,u=dn(),d=bb(),f=WV(e,t),p=XV(e,f),g=KV(),v=!!(u.onDayClick||u.mode!=="default");h.useEffect(function(){var D;f.outside||d.focusedDay&&v&&Rr(d.focusedDay,e)&&((D=n.current)===null||D===void 0||D.focus())},[d.focusedDay,e,n,v,f.outside]);var b=ZV(u,f).join(" "),w=JV(u,f),j=!!(f.outside&&!u.showOutsideDays||f.hidden),N=(l=(i=u.components)===null||i===void 0?void 0:i.DayContent)!==null&&l!==void 0?l:wV,S=s.jsx(N,{date:e,displayMonth:t,activeModifiers:f}),_={style:w,className:b,children:S,role:"gridcell"},R=d.focusTarget&&Rr(d.focusTarget,e)&&!f.outside,E=d.focusedDay&&Rr(d.focusedDay,e),M=et(et(et({},_),(r={disabled:f.disabled,role:"gridcell"},r["aria-selected"]=f.selected,r.tabIndex=E||R?0:-1,r)),p),C={isButton:v,isHidden:j,activeModifiers:f,selectedDays:g,buttonProps:M,divProps:_};return C}function tB(e){var t=h.useRef(null),n=eB(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Zf,et({name:"day",ref:t},n.buttonProps)):s.jsx("div",et({},n.divProps))}function nB(e){var t=e.number,n=e.dates,r=dn(),i=r.onWeekNumberClick,l=r.styles,u=r.classNames,d=r.locale,f=r.labels.labelWeekNumber,p=r.formatters.formatWeekNumber,g=p(Number(t),{locale:d});if(!i)return s.jsx("span",{className:u.weeknumber,style:l.weeknumber,children:g});var v=f(Number(t),{locale:d}),b=function(w){i(t,n,w)};return s.jsx(Zf,{name:"week-number","aria-label":v,className:u.weeknumber,style:l.weeknumber,onClick:b,children:g})}function rB(e){var t,n,r=dn(),i=r.styles,l=r.classNames,u=r.showWeekNumber,d=r.components,f=(t=d==null?void 0:d.Day)!==null&&t!==void 0?t:tB,p=(n=d==null?void 0:d.WeekNumber)!==null&&n!==void 0?n:nB,g;return u&&(g=s.jsx("td",{className:l.cell,style:i.cell,children:s.jsx(p,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:l.row,style:i.row,children:[g,e.dates.map(function(v){return s.jsx("td",{className:l.cell,style:i.cell,role:"presentation",children:s.jsx(f,{displayMonth:e.displayMonth,date:v})},jz(v))})]})}function Z1(e,t,n){for(var r=n!=null&&n.ISOWeek?e2(t):ub(t,n),i=n!=null&&n.ISOWeek?oo(e):Ys(e,n),l=Vs(r,i),u=[],d=0;d<=l;d++)u.push(mr(i,d));var f=u.reduce(function(p,g){var v=n!=null&&n.ISOWeek?r2(g):a2(g,n),b=p.find(function(w){return w.weekNumber===v});return b?(b.dates.push(g),p):(p.push({weekNumber:v,dates:[g]}),p)},[]);return f}function sB(e,t){var n=Z1(Tr(e),cb(e),t);if(t!=null&&t.useFixedWeeks){var r=Sz(e,t);if(r<6){var i=n[n.length-1],l=i.dates[i.dates.length-1],u=Uv(l,6-r),d=Z1(Uv(l,1),u,t);n.push.apply(n,d)}}return n}function aB(e){var t,n,r,i=dn(),l=i.locale,u=i.classNames,d=i.styles,f=i.hideHead,p=i.fixedWeeks,g=i.components,v=i.weekStartsOn,b=i.firstWeekContainsDate,w=i.ISOWeek,j=sB(e.displayMonth,{useFixedWeeks:!!p,ISOWeek:w,locale:l,weekStartsOn:v,firstWeekContainsDate:b}),N=(t=g==null?void 0:g.Head)!==null&&t!==void 0?t:yV,S=(n=g==null?void 0:g.Row)!==null&&n!==void 0?n:rB,_=(r=g==null?void 0:g.Footer)!==null&&r!==void 0?r:vV;return s.jsxs("table",{id:e.id,className:u.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&s.jsx(N,{}),s.jsx("tbody",{className:u.tbody,style:d.tbody,children:j.map(function(R){return s.jsx(S,{displayMonth:e.displayMonth,dates:R.dates,weekNumber:R.weekNumber},R.weekNumber)})}),s.jsx(_,{displayMonth:e.displayMonth})]})}function iB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var oB=iB()?h.useLayoutEffect:h.useEffect,Hg=!1,lB=0;function J1(){return"react-day-picker-".concat(++lB)}function cB(e){var t,n=e??(Hg?J1():null),r=h.useState(n),i=r[0],l=r[1];return oB(function(){i===null&&l(J1())},[]),h.useEffect(function(){Hg===!1&&(Hg=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function uB(e){var t,n,r=dn(),i=r.dir,l=r.classNames,u=r.styles,d=r.components,f=Vu().displayMonths,p=cB(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),g=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,v=[l.month],b=u.month,w=e.displayIndex===0,j=e.displayIndex===f.length-1,N=!w&&!j;i==="rtl"&&(t=[w,j],j=t[0],w=t[1]),w&&(v.push(l.caption_start),b=et(et({},b),u.caption_start)),j&&(v.push(l.caption_end),b=et(et({},b),u.caption_end)),N&&(v.push(l.caption_between),b=et(et({},b),u.caption_between));var S=(n=d==null?void 0:d.Caption)!==null&&n!==void 0?n:gV;return s.jsxs("div",{className:v.join(" "),style:b,children:[s.jsx(S,{id:p,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(aB,{id:g,"aria-labelledby":p,displayMonth:e.displayMonth})]},e.displayIndex)}function dB(e){var t=dn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function fB(e){var t,n,r=e.initialProps,i=dn(),l=bb(),u=Vu(),d=h.useState(!1),f=d[0],p=d[1];h.useEffect(function(){i.initialFocus&&l.focusTarget&&(f||(l.focus(l.focusTarget),p(!0)))},[i.initialFocus,f,l.focus,l.focusTarget,l]);var g=[i.classNames.root,i.className];i.numberOfMonths>1&&g.push(i.classNames.multiple_months),i.showWeekNumber&&g.push(i.classNames.with_weeknumber);var v=et(et({},i.styles.root),i.style),b=Object.keys(r).filter(function(j){return j.startsWith("data-")}).reduce(function(j,N){var S;return et(et({},j),(S={},S[N]=r[N],S))},{}),w=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:dB;return s.jsx("div",et({className:g.join(" "),style:v,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},b,{children:s.jsx(w,{children:u.displayMonths.map(function(j,N){return s.jsx(uB,{displayIndex:N,displayMonth:j},N)})})}))}function hB(e){var t=e.children,n=IF(e,["children"]);return s.jsx(nV,{initialProps:n,children:s.jsx(fV,{children:s.jsx(YV,{initialProps:n,children:s.jsx(jV,{initialProps:n,children:s.jsx(_V,{initialProps:n,children:s.jsx(DV,{children:s.jsx(qV,{children:t})})})})})})})}function mB(e){return s.jsx(hB,et({},e,{children:s.jsx(fB,{initialProps:e})}))}function D2({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(mB,{showOutsideDays:n,className:Me("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Me(wl({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Me("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Me(wl({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...l})=>s.jsx(ME,{className:Me("size-4",i),...l}),IconRight:({className:i,...l})=>s.jsx(OE,{className:Me("size-4",i),...l})},...r})}function eN(e,[t,n]){return Math.min(n,Math.max(t,e))}var P2=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),l=i.find(gB);if(l){const u=l.props.children,d=i.map(f=>f===l?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return s.jsx(Vv,{...r,ref:t,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx(Vv,{...r,ref:t,children:n})});P2.displayName="Slot";var Vv=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const i=xB(n),l=vB(r,n.props);return n.type!==h.Fragment&&(l.ref=t?Xs(t,i):i),h.cloneElement(n,l)}return h.Children.count(n)>1?h.Children.only(null):null});Vv.displayName="SlotClone";var pB=({children:e})=>s.jsx(s.Fragment,{children:e});function gB(e){return h.isValidElement(e)&&e.type===pB}function vB(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function xB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wb(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bB=[" ","Enter","ArrowUp","ArrowDown"],yB=[" ","Enter"],Bu="Select",[qh,Wh,wB]=Rx(Bu),[zl,bK]=wr(Bu,[wB,wi]),Yh=wi(),[jB,Si]=zl(Bu),[NB,SB]=zl(Bu),k2=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:l,value:u,defaultValue:d,onValueChange:f,dir:p,name:g,autoComplete:v,disabled:b,required:w,form:j}=e,N=Yh(t),[S,_]=h.useState(null),[R,E]=h.useState(null),[M,C]=h.useState(!1),D=vh(p),[O=!1,P]=pi({prop:r,defaultProp:i,onChange:l}),[k,F]=pi({prop:u,defaultProp:d,onChange:f}),ie=h.useRef(null),Q=S?j||!!S.closest("form"):!0,[U,oe]=h.useState(new Set),le=Array.from(U).map($=>$.props.value).join(";");return s.jsx(Ux,{...N,children:s.jsxs(jB,{required:w,scope:t,trigger:S,onTriggerChange:_,valueNode:R,onValueNodeChange:E,valueNodeHasChildren:M,onValueNodeHasChildrenChange:C,contentId:Bs(),value:k,onValueChange:F,open:O,onOpenChange:P,dir:D,triggerPointerDownPosRef:ie,disabled:b,children:[s.jsx(qh.Provider,{scope:t,children:s.jsx(NB,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback($=>{oe(G=>new Set(G).add($))},[]),onNativeOptionRemove:h.useCallback($=>{oe(G=>{const W=new Set(G);return W.delete($),W})},[]),children:n})}),Q?s.jsxs(sR,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:v,value:k,onChange:$=>F($.target.value),disabled:b,form:j,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},le):null]})})};k2.displayName=Bu;var L2="SelectTrigger",I2=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,l=Yh(n),u=Si(L2,n),d=u.disabled||r,f=Rt(t,u.onTriggerChange),p=Wh(n),g=h.useRef("touch"),[v,b,w]=aR(N=>{const S=p().filter(E=>!E.disabled),_=S.find(E=>E.value===u.value),R=iR(S,N,_);R!==void 0&&u.onValueChange(R.value)}),j=N=>{d||(u.onOpenChange(!0),w()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return s.jsx(Mu,{asChild:!0,...l,children:s.jsx(tt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":rR(u.value)?"":void 0,...i,ref:f,onClick:Pe(i.onClick,N=>{N.currentTarget.focus(),g.current!=="mouse"&&j(N)}),onPointerDown:Pe(i.onPointerDown,N=>{g.current=N.pointerType;const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:Pe(i.onKeyDown,N=>{const S=v.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&b(N.key),!(S&&N.key===" ")&&bB.includes(N.key)&&(j(),N.preventDefault())})})})});I2.displayName=L2;var $2="SelectValue",U2=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:l,placeholder:u="",...d}=e,f=Si($2,n),{onValueNodeHasChildrenChange:p}=f,g=l!==void 0,v=Rt(t,f.onValueNodeChange);return ar(()=>{p(g)},[p,g]),s.jsx(tt.span,{...d,ref:v,style:{pointerEvents:"none"},children:rR(f.value)?s.jsx(s.Fragment,{children:u}):l})});U2.displayName=$2;var _B="SelectIcon",z2=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(tt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});z2.displayName=_B;var EB="SelectPortal",F2=e=>s.jsx(Ou,{asChild:!0,...e});F2.displayName=EB;var lo="SelectContent",V2=h.forwardRef((e,t)=>{const n=Si(lo,e.__scopeSelect),[r,i]=h.useState();if(ar(()=>{i(new DocumentFragment)},[]),!n.open){const l=r;return l?ls.createPortal(s.jsx(B2,{scope:e.__scopeSelect,children:s.jsx(qh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),l):null}return s.jsx(H2,{...e,ref:t})});V2.displayName=lo;var xs=10,[B2,_i]=zl(lo),CB="SelectContentImpl",H2=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:N,avoidCollisions:S,..._}=e,R=Si(lo,n),[E,M]=h.useState(null),[C,D]=h.useState(null),O=Rt(t,K=>M(K)),[P,k]=h.useState(null),[F,ie]=h.useState(null),Q=Wh(n),[U,oe]=h.useState(!1),le=h.useRef(!1);h.useEffect(()=>{if(E)return Au(E)},[E]),xh();const $=h.useCallback(K=>{const[se,...ge]=Q().map(Ae=>Ae.ref.current),[fe]=ge.slice(-1),Se=document.activeElement;for(const Ae of K)if(Ae===Se||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===se&&C&&(C.scrollTop=0),Ae===fe&&C&&(C.scrollTop=C.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Se))return},[Q,C]),G=h.useCallback(()=>$([P,E]),[$,P,E]);h.useEffect(()=>{U&&G()},[U,G]);const{onOpenChange:W,triggerPointerDownPosRef:J}=R;h.useEffect(()=>{if(E){let K={x:0,y:0};const se=fe=>{var Se,Ae;K={x:Math.abs(Math.round(fe.pageX)-(((Se=J.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((Ae=J.current)==null?void 0:Ae.y)??0))}},ge=fe=>{K.x<=10&&K.y<=10?fe.preventDefault():E.contains(fe.target)||W(!1),document.removeEventListener("pointermove",se),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ge,{capture:!0})}}},[E,W,J]),h.useEffect(()=>{const K=()=>W(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[W]);const[L,V]=aR(K=>{const se=Q().filter(Se=>!Se.disabled),ge=se.find(Se=>Se.ref.current===document.activeElement),fe=iR(se,K,ge);fe&&setTimeout(()=>fe.ref.current.focus())}),B=h.useCallback((K,se,ge)=>{const fe=!le.current&&!ge;(R.value!==void 0&&R.value===se||fe)&&(k(K),fe&&(le.current=!0))},[R.value]),H=h.useCallback(()=>E==null?void 0:E.focus(),[E]),I=h.useCallback((K,se,ge)=>{const fe=!le.current&&!ge;(R.value!==void 0&&R.value===se||fe)&&ie(K)},[R.value]),z=r==="popper"?Bv:q2,q=z===Bv?{side:d,sideOffset:f,align:p,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:N,avoidCollisions:S}:{};return s.jsx(B2,{scope:n,content:E,viewport:C,onViewportChange:D,itemRefCallback:B,selectedItem:P,onItemLeave:H,itemTextRefCallback:I,focusSelectedItem:G,selectedItemText:F,position:r,isPositioned:U,searchRef:L,children:s.jsx(Ul,{as:P2,allowPinchZoom:!0,children:s.jsx(Ru,{asChild:!0,trapped:R.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Pe(i,K=>{var se;(se=R.trigger)==null||se.focus({preventScroll:!0}),K.preventDefault()}),children:s.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:s.jsx(z,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:K=>K.preventDefault(),..._,...q,onPlaced:()=>oe(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Pe(_.onKeyDown,K=>{const se=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!se&&K.key.length===1&&V(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let fe=Q().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(K.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Se=K.target,Ae=fe.indexOf(Se);fe=fe.slice(Ae+1)}setTimeout(()=>$(fe)),K.preventDefault()}})})})})})})});H2.displayName=CB;var RB="SelectItemAlignedPosition",q2=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,l=Si(lo,n),u=_i(lo,n),[d,f]=h.useState(null),[p,g]=h.useState(null),v=Rt(t,O=>g(O)),b=Wh(n),w=h.useRef(!1),j=h.useRef(!0),{viewport:N,selectedItem:S,selectedItemText:_,focusSelectedItem:R}=u,E=h.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&N&&S&&_){const O=l.trigger.getBoundingClientRect(),P=p.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),F=_.getBoundingClientRect();if(l.dir!=="rtl"){const Se=F.left-P.left,Ae=k.left-Se,it=O.left-Ae,rt=O.width+it,Dt=Math.max(rt,P.width),ue=window.innerWidth-xs,ye=eN(Ae,[xs,Math.max(xs,ue-Dt)]);d.style.minWidth=rt+"px",d.style.left=ye+"px"}else{const Se=P.right-F.right,Ae=window.innerWidth-k.right-Se,it=window.innerWidth-O.right-Ae,rt=O.width+it,Dt=Math.max(rt,P.width),ue=window.innerWidth-xs,ye=eN(Ae,[xs,Math.max(xs,ue-Dt)]);d.style.minWidth=rt+"px",d.style.right=ye+"px"}const ie=b(),Q=window.innerHeight-xs*2,U=N.scrollHeight,oe=window.getComputedStyle(p),le=parseInt(oe.borderTopWidth,10),$=parseInt(oe.paddingTop,10),G=parseInt(oe.borderBottomWidth,10),W=parseInt(oe.paddingBottom,10),J=le+$+U+W+G,L=Math.min(S.offsetHeight*5,J),V=window.getComputedStyle(N),B=parseInt(V.paddingTop,10),H=parseInt(V.paddingBottom,10),I=O.top+O.height/2-xs,z=Q-I,q=S.offsetHeight/2,K=S.offsetTop+q,se=le+$+K,ge=J-se;if(se<=I){const Se=ie.length>0&&S===ie[ie.length-1].ref.current;d.style.bottom="0px";const Ae=p.clientHeight-N.offsetTop-N.offsetHeight,it=Math.max(z,q+(Se?H:0)+Ae+G),rt=se+it;d.style.height=rt+"px"}else{const Se=ie.length>0&&S===ie[0].ref.current;d.style.top="0px";const it=Math.max(I,le+N.offsetTop+(Se?B:0)+q)+ge;d.style.height=it+"px",N.scrollTop=se-I+N.offsetTop}d.style.margin=`${xs}px 0`,d.style.minHeight=L+"px",d.style.maxHeight=Q+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[b,l.trigger,l.valueNode,d,p,N,S,_,l.dir,r]);ar(()=>E(),[E]);const[M,C]=h.useState();ar(()=>{p&&C(window.getComputedStyle(p).zIndex)},[p]);const D=h.useCallback(O=>{O&&j.current===!0&&(E(),R==null||R(),j.current=!1)},[E,R]);return s.jsx(MB,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:D,children:s.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:s.jsx(tt.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});q2.displayName=RB;var TB="SelectPopperPosition",Bv=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xs,...l}=e,u=Yh(n);return s.jsx(jh,{...u,...l,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bv.displayName=TB;var[MB,jb]=zl(lo,{}),Hv="SelectViewport",W2=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,l=_i(Hv,n),u=jb(Hv,n),d=Rt(t,l.onViewportChange),f=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(qh.Slot,{scope:n,children:s.jsx(tt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pe(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&v){const w=Math.abs(f.current-g.scrollTop);if(w>0){const j=window.innerHeight-xs*2,N=parseFloat(v.style.minHeight),S=parseFloat(v.style.height),_=Math.max(N,S);if(_<j){const R=_+w,E=Math.min(j,R),M=R-E;v.style.height=E+"px",v.style.bottom==="0px"&&(g.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});W2.displayName=Hv;var Y2="SelectGroup",[OB,AB]=zl(Y2),DB=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Bs();return s.jsx(OB,{scope:n,id:i,children:s.jsx(tt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});DB.displayName=Y2;var G2="SelectLabel",PB=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=AB(G2,n);return s.jsx(tt.div,{id:i.id,...r,ref:t})});PB.displayName=G2;var Jf="SelectItem",[kB,X2]=zl(Jf),K2=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:l,...u}=e,d=Si(Jf,n),f=_i(Jf,n),p=d.value===r,[g,v]=h.useState(l??""),[b,w]=h.useState(!1),j=Rt(t,R=>{var E;return(E=f.itemRefCallback)==null?void 0:E.call(f,R,r,i)}),N=Bs(),S=h.useRef("touch"),_=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(kB,{scope:n,value:r,disabled:i,textId:N,isSelected:p,onItemTextChange:h.useCallback(R=>{v(E=>E||((R==null?void 0:R.textContent)??"").trim())},[]),children:s.jsx(qh.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:s.jsx(tt.div,{role:"option","aria-labelledby":N,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:j,onFocus:Pe(u.onFocus,()=>w(!0)),onBlur:Pe(u.onBlur,()=>w(!1)),onClick:Pe(u.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:Pe(u.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:Pe(u.onPointerDown,R=>{S.current=R.pointerType}),onPointerMove:Pe(u.onPointerMove,R=>{var E;S.current=R.pointerType,i?(E=f.onItemLeave)==null||E.call(f):S.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(u.onPointerLeave,R=>{var E;R.currentTarget===document.activeElement&&((E=f.onItemLeave)==null||E.call(f))}),onKeyDown:Pe(u.onKeyDown,R=>{var M;((M=f.searchRef)==null?void 0:M.current)!==""&&R.key===" "||(yB.includes(R.key)&&_(),R.key===" "&&R.preventDefault())})})})})});K2.displayName=Jf;var Gc="SelectItemText",Q2=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...l}=e,u=Si(Gc,n),d=_i(Gc,n),f=X2(Gc,n),p=SB(Gc,n),[g,v]=h.useState(null),b=Rt(t,_=>v(_),f.onItemTextChange,_=>{var R;return(R=d.itemTextRefCallback)==null?void 0:R.call(d,_,f.value,f.disabled)}),w=g==null?void 0:g.textContent,j=h.useMemo(()=>s.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:N,onNativeOptionRemove:S}=p;return ar(()=>(N(j),()=>S(j)),[N,S,j]),s.jsxs(s.Fragment,{children:[s.jsx(tt.span,{id:f.textId,...l,ref:b}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?ls.createPortal(l.children,u.valueNode):null]})});Q2.displayName=Gc;var Z2="SelectItemIndicator",J2=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return X2(Z2,n).isSelected?s.jsx(tt.span,{"aria-hidden":!0,...r,ref:t}):null});J2.displayName=Z2;var qv="SelectScrollUpButton",eR=h.forwardRef((e,t)=>{const n=_i(qv,e.__scopeSelect),r=jb(qv,e.__scopeSelect),[i,l]=h.useState(!1),u=Rt(t,r.onScrollButtonChange);return ar(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(nR,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});eR.displayName=qv;var Wv="SelectScrollDownButton",tR=h.forwardRef((e,t)=>{const n=_i(Wv,e.__scopeSelect),r=jb(Wv,e.__scopeSelect),[i,l]=h.useState(!1),u=Rt(t,r.onScrollButtonChange);return ar(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<p;l(g)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(nR,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});tR.displayName=Wv;var nR=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,l=_i("SelectScrollButton",n),u=h.useRef(null),d=Wh(n),f=h.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return h.useEffect(()=>()=>f(),[f]),ar(()=>{var g;const p=d().find(v=>v.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[d]),s.jsx(tt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Pe(i.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{f()})})}),LB="SelectSeparator",IB=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(tt.div,{"aria-hidden":!0,...r,ref:t})});IB.displayName=LB;var Yv="SelectArrow",$B=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Yh(n),l=Si(Yv,n),u=_i(Yv,n);return l.open&&u.position==="popper"?s.jsx(Nh,{...i,...r,ref:t}):null});$B.displayName=Yv;function rR(e){return e===""||e===void 0}var sR=h.forwardRef((e,t)=>{const{value:n,...r}=e,i=h.useRef(null),l=Rt(t,i),u=wb(n);return h.useEffect(()=>{const d=i.current,f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==n&&g){const v=new Event("change",{bubbles:!0});g.call(d,n),d.dispatchEvent(v)}},[u,n]),s.jsx(eb,{asChild:!0,children:s.jsx("select",{...r,ref:l,defaultValue:n})})});sR.displayName="BubbleSelect";function aR(e){const t=Br(e),n=h.useRef(""),r=h.useRef(0),i=h.useCallback(u=>{const d=n.current+u;t(d),function f(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(d)},[t]),l=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,l]}function iR(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=UB(e,Math.max(l,0));i.length===1&&(u=u.filter(p=>p!==n));const f=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function UB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zB=k2,FB=I2,VB=U2,BB=z2,HB=F2,qB=V2,WB=W2,YB=K2,GB=Q2,XB=J2,KB=eR,QB=tR;function gr({...e}){return s.jsx(zB,{"data-slot":"select",...e})}function vr({...e}){return s.jsx(VB,{"data-slot":"select-value",...e})}function xr({className:e,size:t="default",children:n,...r}){return s.jsxs(FB,{"data-slot":"select-trigger","data-size":t,className:Me("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,s.jsx(BB,{asChild:!0,children:s.jsx(TE,{className:"size-4 opacity-50"})})]})}function br({className:e,children:t,position:n="popper",...r}){return s.jsx(HB,{children:s.jsxs(qB,{"data-slot":"select-content",className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(ZB,{}),s.jsx(WB,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(JB,{})]})})}function St({className:e,children:t,...n}){return s.jsxs(YB,{"data-slot":"select-item",className:Me("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(XB,{children:s.jsx(Gx,{className:"size-4"})})}),s.jsx(GB,{children:t})]})}function ZB({className:e,...t}){return s.jsx(KB,{"data-slot":"select-scroll-up-button",className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i6,{className:"size-4"})})}function JB({className:e,...t}){return s.jsx(QB,{"data-slot":"select-scroll-down-button",className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(TE,{className:"size-4"})})}const rr=[];for(let e=0;e<256;++e)rr.push((e+256).toString(16).slice(1));function eH(e,t=0){return(rr[e[t+0]]+rr[e[t+1]]+rr[e[t+2]]+rr[e[t+3]]+"-"+rr[e[t+4]]+rr[e[t+5]]+"-"+rr[e[t+6]]+rr[e[t+7]]+"-"+rr[e[t+8]]+rr[e[t+9]]+"-"+rr[e[t+10]]+rr[e[t+11]]+rr[e[t+12]]+rr[e[t+13]]+rr[e[t+14]]+rr[e[t+15]]).toLowerCase()}let qg;const tH=new Uint8Array(16);function nH(){if(!qg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qg=crypto.getRandomValues.bind(crypto)}return qg(tH)}const rH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tN={randomUUID:rH};function Gv(e,t,n){var i;if(tN.randomUUID&&!e)return tN.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??nH();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,eH(r)}const nN=()=>{const e=dr(),{patientId:t}=yr(),n=!!t,[r,i]=h.useState({}),[l,u]=h.useState(""),[d,f]=h.useState(!1),[p,g]=h.useState(n),[v,b]=h.useState(null),[w,j]=h.useState(!1),N=h.useCallback(async()=>{if(!n||!t){g(!1);return}g(!0),b(null);try{const{data:C,error:D}=await re.from("patient").select("*").eq("id",t).single();if(D)throw D;C?(i({patient_unique_id:C.patient_unique_id||"",full_name:C.full_name||"",date_of_birth:C.date_of_birth?ct(Jt(C.date_of_birth),"yyyy-MM-dd"):void 0,gender:C.gender||void 0,phone:C.phone||""}),u(C.patient_unique_id)):b("Patient non trouv.")}catch(C){console.error("Erreur lors de la rcupration du patient:",C),b((C instanceof Error?C.message:null)||"Impossible de charger les donnes du patient.")}finally{g(!1)}},[n,t]);h.useEffect(()=>{N()},[N]);const S=C=>{const{name:D,value:O}=C.target;i(P=>({...P,[D]:O}))};function _(){if(n){if(!H4(l,r.patient_unique_id)){b("Format invalide. Seul l'ID (avant le premier trait d'union) peut tre modifi.ex: 021-06-0525, seul 021 peut tre modifi."),i(C=>({...C,patient_unique_id:l}));return}}else{if(!V4(r.patient_unique_id)){b("L'ID Unique doit commencer par 0 suivi d'un nombre, Ex: 021  , le reste est auto-gnr .");return}i(C=>({...C,patient_unique_id:B4(C.patient_unique_id)}))}}const R=(C,D)=>{i(O=>({...O,[C]:D===""?void 0:D}))},E=C=>{i(D=>({...D,date_of_birth:C?ct(C,"yyyy-MM-dd"):void 0})),j(!1)},M=async C=>{var D;if(C.preventDefault(),b(null),!r.patient_unique_id||!r.full_name){b("L'ID Unique et le Nom Complet sont requis.");return}f(!0);try{const O={patient_unique_id:r.patient_unique_id.trim(),full_name:r.full_name.trim(),date_of_birth:r.date_of_birth||null,gender:r.gender||null,phone:((D=r.phone)==null?void 0:D.trim())||null};let P=null;if(n){const{error:k}=await re.from("patient").update(O).eq("id",t);P=k}else{const{error:k}=await re.from("patient").insert({...O,patient_unique_id:`${O.patient_unique_id}#${Gv()}`});P=k}if(P)if(P.code==="23505")b("Cet ID Unique de patient existe dj. Veuillez en utiliser un autre.");else throw P;else e("/patients")}catch(O){console.error(`Erreur lors de ${n?"la mise  jour":"la cration"} du patient:`,O),b((O instanceof Error?O.message:null)||`Une erreur est survenue lors de ${n?"la mise  jour":"l'enregistrement"}.`)}finally{f(!1)}};return p?s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsx(X,{className:"h-8 w-32"})," ",s.jsxs(Ce,{className:"shadow-md",children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-6 w-3/4"}),s.jsx(X,{className:"h-4 w-full"})]}),s.jsxs(Re,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]})]})]}),s.jsxs(Ns,{className:"border-t px-6 py-4",children:[s.jsx(X,{className:"h-10 w-32"}),s.jsx(X,{className:"h-10 w-24 ml-auto"})]})]})]}):s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour  la liste"]})})}),s.jsxs(Ce,{className:"shadow-md",children:[s.jsxs(Te,{children:[s.jsxs(ut,{className:"text-xl font-semibold flex items-center gap-2",children:[n?s.jsx(ds,{className:"h-5 w-5"}):s.jsx(DE,{className:"h-5 w-5"}),n?"Modifier le Patient":"Ajouter un Nouveau Patient"]}),s.jsx(ur,{children:n?"Mettez  jour les informations du patient ci-dessous.":"Remplissez les informations ci-dessous pour enregistrer un nouveau patient."})]}),s.jsxs("form",{onSubmit:M,children:[s.jsxs(Re,{className:"space-y-6",children:[v&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:v})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Le,{htmlFor:"patient_unique_id",className:"font-semibold",children:["ID Unique Patient ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ke,{id:"patient_unique_id",name:"patient_unique_id",placeholder:"Ex: 021",required:!0,value:r.patient_unique_id||"",onChange:S,disabled:d,onBlur:_})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Le,{htmlFor:"full_name",className:"font-semibold",children:["Nom Complet ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ke,{id:"full_name",name:"full_name",placeholder:"Ex: Jean Dupont",required:!0,value:r.full_name||"",onChange:S,disabled:d})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"hidden space-y-2",children:[s.jsx(Le,{htmlFor:"date_of_birth",className:"font-semibold",children:"Date de Naissance"}),s.jsxs(y2,{open:w,onOpenChange:j,children:[s.jsx(w2,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:Me("w-full justify-start text-left font-normal h-10",!r.date_of_birth&&"text-muted-foreground"),disabled:d,children:[s.jsx(RE,{className:"mr-2 h-4 w-4"}),r.date_of_birth?ct(Jt(r.date_of_birth),"PPP",{locale:Qt}):s.jsx("span",{children:"Choisir une date"})]})}),s.jsx(j2,{className:"w-auto p-0",align:"start",children:s.jsx(D2,{mode:"single",selected:r.date_of_birth?Jt(r.date_of_birth):void 0,onSelect:E,initialFocus:!0,locale:Qt,captionLayout:"dropdown-buttons",fromYear:1900,toYear:new Date().getFullYear(),disabled:C=>C>new Date||C<new Date("1900-01-01")})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"gender",className:"font-semibold",children:"Genre"}),s.jsxs(gr,{name:"gender",value:r.gender||"",onValueChange:C=>R("gender",C),disabled:d,children:[s.jsx(xr,{id:"gender",className:"h-10",children:s.jsx(vr,{placeholder:"Slectionner..."})}),s.jsxs(br,{children:[s.jsx(St,{value:"Masculin",children:"Masculin"}),s.jsx(St,{value:"Fminin",children:"Fminin"}),s.jsx(St,{value:"Autre",children:"Autre"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"phone",className:"font-semibold",children:"Tlphone"}),s.jsx(Ke,{id:"phone",name:"phone",type:"tel",placeholder:"Ex: +33 6 12 34 56 78",value:r.phone||"",onChange:S,disabled:d})]})]})]}),s.jsxs(Ns,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(ne,{type:"submit",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Mise  jour...":"Enregistrement..."]}):n?"Mettre  jour le Patient":"Enregistrer le Patient"}),s.jsx(at,{to:"/patients",children:s.jsx(ne,{type:"button",variant:"outline",disabled:d,children:"Annuler"})})]})]})]})]})};var Nb="Checkbox",[sH,yK]=wr(Nb),[aH,iH]=sH(Nb),oR=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:l,required:u,disabled:d,value:f="on",onCheckedChange:p,form:g,...v}=e,[b,w]=h.useState(null),j=Rt(t,M=>w(M)),N=h.useRef(!1),S=b?g||!!b.closest("form"):!0,[_=!1,R]=pi({prop:i,defaultProp:l,onChange:p}),E=h.useRef(_);return h.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const C=()=>R(E.current);return M.addEventListener("reset",C),()=>M.removeEventListener("reset",C)}},[b,R]),s.jsxs(aH,{scope:n,state:_,disabled:d,children:[s.jsx(tt.button,{type:"button",role:"checkbox","aria-checked":mi(_)?"mixed":_,"aria-required":u,"data-state":uR(_),"data-disabled":d?"":void 0,disabled:d,value:f,...v,ref:j,onKeyDown:Pe(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Pe(e.onClick,M=>{R(C=>mi(C)?!0:!C),S&&(N.current=M.isPropagationStopped(),N.current||M.stopPropagation())})}),S&&s.jsx(oH,{control:b,bubbles:!N.current,name:r,value:f,checked:_,required:u,disabled:d,form:g,style:{transform:"translateX(-100%)"},defaultChecked:mi(l)?!1:l})]})});oR.displayName=Nb;var lR="CheckboxIndicator",cR=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,l=iH(lR,n);return s.jsx(Yr,{present:r||mi(l.state)||l.state===!0,children:s.jsx(tt.span,{"data-state":uR(l.state),"data-disabled":l.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});cR.displayName=lR;var oH=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...l}=e,u=h.useRef(null),d=wb(n),f=Lx(t);h.useEffect(()=>{const g=u.current,v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set;if(d!==n&&w){const j=new Event("click",{bubbles:r});g.indeterminate=mi(n),w.call(g,mi(n)?!1:n),g.dispatchEvent(j)}},[d,n,r]);const p=h.useRef(mi(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...l,tabIndex:-1,ref:u,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mi(e){return e==="indeterminate"}function uR(e){return mi(e)?"indeterminate":e?"checked":"unchecked"}var lH=oR,cH=cR;function Sa({className:e,...t}){return s.jsx(lH,{"data-slot":"checkbox",className:Me("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(cH,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Gx,{className:"size-3.5"})})})}var uH="Separator",rN="horizontal",dH=["horizontal","vertical"],dR=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=rN,...i}=e,l=fH(r)?r:rN,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return s.jsx(tt.div,{"data-orientation":l,...d,...i,ref:t})});dR.displayName=uH;function fH(e){return dH.includes(e)}var hH=dR;function us({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return s.jsx(hH,{"data-slot":"separator-root",decorative:n,orientation:t,className:Me("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}const Zn=({data:e,isPreview:t})=>{const{labName:n,addressLine1:r,addressLine2:i,cityPostalCode:l,phone:u,email:d,website:f}=e;return s.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:s.jsx("div",{className:" template-heading-shadow w-full py-4 flex items-center justify-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-[50%] ",children:s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:n||"[Nom Laboratoire]"}),s.jsx("p",{children:r||"[Adresse Ligne 1]"}),i&&s.jsx("p",{children:i}),l&&s.jsx("p",{children:l}),s.jsxs("p",{children:[u&&s.jsxs("span",{children:["Tl : ",u]}),u&&d&&s.jsx("span",{children:" | "}),d&&s.jsxs("span",{children:["Email : ",d]})]}),f&&s.jsx("p",{children:f})]})})})},Aa=({data:e,isPreview:t})=>{const{logoUrl:n,labName:r,addressLine1:i,addressLine2:l,cityPostalCode:u,phone:d,email:f,website:p}=e;return s.jsxs("div",{className:`flex flex-col items-center text-center gap-2 ${t?"p-4 border rounded-md bg-white min-h-[100px]":""}`,children:[s.jsx("div",{className:"mb-2",children:s.jsxs(_u,{className:"h-16 w-16 rounded-md border",children:[s.jsx(gh,{src:n||void 0,alt:"Logo",className:"object-contain"}),s.jsx(Eu,{className:"rounded-md bg-muted",children:s.jsx(Mh,{className:"h-8 w-8 text-muted-foreground"})})]})}),s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:r||"[Nom Laboratoire]"}),s.jsx("p",{children:i||"[Adresse Ligne 1]"}),l&&s.jsx("p",{children:l}),u&&s.jsx("p",{children:u}),s.jsxs("p",{children:[d&&s.jsxs("span",{children:["Tl : ",d]}),d&&f&&s.jsx("span",{children:" | "}),f&&s.jsxs("span",{children:["Email : ",f]})]}),p&&s.jsx("p",{children:p})]})]})},Da=({data:e,isPreview:t})=>{const{logoUrl:n,labName:r,addressLine1:i,addressLine2:l,cityPostalCode:u,phone:d,email:f,website:p}=e;return s.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:s.jsxs("div",{className:" w-full py-2 flex items-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-md ",children:[s.jsx("div",{className:"mb-2",children:s.jsxs(_u,{className:"h-16 w-16 rounded-md border",children:[s.jsx(gh,{src:n||void 0,alt:"Logo",className:"object-contain"}),s.jsx(Eu,{className:"rounded-md bg-muted",children:s.jsx(Mh,{className:"h-8 w-8 text-muted-foreground"})})]})}),s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:r||"[Nom Laboratoire]"}),s.jsx("p",{children:i||"[Adresse Ligne 1]"}),l&&s.jsx("p",{children:l}),u&&s.jsx("p",{children:u}),s.jsxs("p",{children:[d&&s.jsxs("span",{children:["Tl : ",d]}),d&&f&&s.jsx("span",{children:" | "}),f&&s.jsxs("span",{children:["Email : ",f]})]}),p&&s.jsx("p",{children:p})]})]})})},Pa=({data:e,isPreview:t})=>{const{logoUrl:n,labName:r,addressLine1:i,addressLine2:l,cityPostalCode:u,phone:d,email:f,website:p}=e;return s.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:s.jsxs("div",{className:" template-heading-shadow w-full py-4 flex items-center justify-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-[50%] ",children:[s.jsx("div",{className:"mb-2",children:s.jsxs(_u,{className:"h-16 w-16 rounded-md border",children:[s.jsx(gh,{src:n||void 0,alt:"Logo",className:"object-contain"}),s.jsx(Eu,{className:"rounded-md bg-muted",children:s.jsx(Mh,{className:"h-8 w-8 text-muted-foreground"})})]})}),s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:r||"[Nom Laboratoire]"}),s.jsx("p",{children:i||"[Adresse Ligne 1]"}),l&&s.jsx("p",{children:l}),u&&s.jsx("p",{children:u}),s.jsxs("p",{children:[d&&s.jsxs("span",{children:["Tl : ",d]}),d&&f&&s.jsx("span",{children:" | "}),f&&s.jsxs("span",{children:["Email : ",f]})]}),p&&s.jsx("p",{children:p})]})]})})};function Wg(e,t){const n=t.trim();try{if(n.startsWith("<")&&!n.startsWith("<=")){const i=parseFloat(n.substring(1).trim().replace(",","."));if(!isNaN(i))return e<i?"in-range":"out-of-range"}else if(n.startsWith(">")&&!n.startsWith(">=")){const i=parseFloat(n.substring(1).trim().replace(",","."));if(!isNaN(i))return e>i?"in-range":"out-of-range"}else if(n.startsWith("<=")||n.startsWith("")){const i=parseFloat(n.substring(2).trim().replace(",","."));if(!isNaN(i))return e<=i?"in-range":"out-of-range"}else if(n.startsWith(">=")||n.startsWith("")){const i=parseFloat(n.substring(2).trim().replace(",","."));if(!isNaN(i))return e>=i?"in-range":"out-of-range"}else if(n.includes("-")){const i=n.split("-").map(l=>parseFloat(l.trim().replace(",",".")));if(i.length===2&&!isNaN(i[0])&&!isNaN(i[1])){const l=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]);return e>=l&&e<=u?"in-range":"out-of-range"}}const r=parseFloat(n.replace(",","."));if(!isNaN(r))return"indeterminate"}catch(r){console.error("Error parsing single range line:",t,r)}return"indeterminate"}function sN(e,t,n,r,i){if(i.includes(n)||i.includes(r))return"in-range";if(e==null||t===null||t===void 0||t.trim()==="")return"indeterminate";if(t.trim()==="-"){switch(e.trim().toLocaleLowerCase()){case"0 negatif":case"0 ngatif":case"negatif":case"ngatif":case"ngative":case"neant":case"nant":case"0":return"in-range";case"positif":case"positive":return"out-of-range"}if(!isNaN(parseFloat(e)))return"out-of-range"}const l=parseFloat(e.replace(",",".")),u=t.trim(),d=e.trim().toLowerCase(),f=!isNaN(l);if(u.includes("Homme")||u.includes("HOMME")||u.match(/^(<|>|<=|>=)\s*\d+\s*(y|a|ans?)/i))return"indeterminate";const g=u.match(/^([a-zA-Z\s][a-zA-Z\s\d]*):\s*(.*)$/),v=u.includes(":")&&u.includes(";");if(g&&!v)return"indeterminate";if(u.toLowerCase().includes("negatif:")&&u.toLowerCase().includes("positif:")&&u.includes(";")){const w=u.split(";").map(S=>S.trim()).filter(S=>S.length>0);let j=null,N=null;for(const S of w){const _=S.match(/^(.+?):\s*(.*)$/);if(_){const R=_[1].trim().toLowerCase(),E=_[2].trim();R==="negatif"?j=E:R==="positif"&&(N=E)}else return"indeterminate"}return!j||!N?(console.warn("NEGATIF/POSITIF format detected, but couldn't extract both range segments."),"indeterminate"):d==="negatif"?"in-range":d==="positif"?"out-of-range":f?Wg(l,j)==="in-range"?"in-range":Wg(l,N)==="in-range"?"out-of-range":"indeterminate":"indeterminate"}if(!f)return isNaN(parseFloat(u.charAt(0)))&&!["<",">","-"].some(w=>u.includes(w))?d===u.toLowerCase()?"in-range":"out-of-range":"indeterminate";try{return Wg(l,u)}catch(w){return console.error("Error parsing simple range string:",u,w),"indeterminate"}}function mH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Gh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Sb(e){return"nodeType"in e}function Or(e){var t,n;return e?Fl(e)?e:Sb(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function _b(e){const{Document:t}=Or(e);return e instanceof t}function Hu(e){return Fl(e)?!1:e instanceof Or(e).HTMLElement}function fR(e){return e instanceof Or(e).SVGElement}function Vl(e){return e?Fl(e)?e.document:Sb(e)?_b(e)?e:Hu(e)||fR(e)?e.ownerDocument:document:document:document}const Gs=Gh?h.useLayoutEffect:h.useEffect;function Eb(e){const t=h.useRef(e);return Gs(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function pH(){const e=h.useRef(null),t=h.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function mu(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Gs(()=>{n.current!==e&&(n.current=e)},t),n}function qu(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function eh(e){const t=Eb(e),n=h.useRef(null),r=h.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Xv(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Yg={};function Wu(e,t){return h.useMemo(()=>{if(t)return t;const n=Yg[e]==null?0:Yg[e]+1;return Yg[e]=n,e+"-"+n},[e,t])}function hR(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((l,u)=>{const d=Object.entries(u);for(const[f,p]of d){const g=l[f];g!=null&&(l[f]=g+e*p)}return l},{...t})}}const vl=hR(1),pu=hR(-1);function gH(e){return"clientX"in e&&"clientY"in e}function Cb(e){if(!e)return!1;const{KeyboardEvent:t}=Or(e.target);return t&&e instanceof t}function vH(e){if(!e)return!1;const{TouchEvent:t}=Or(e.target);return t&&e instanceof t}function Kv(e){if(vH(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return gH(e)?{x:e.clientX,y:e.clientY}:null}const gu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[gu.Translate.toString(e),gu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),aN="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xH(e){return e.matches(aN)?e:e.querySelector(aN)}const bH={display:"none"};function yH(e){let{id:t,value:n}=e;return we.createElement("div",{id:t,style:bH},n)}function wH(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return we.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function jH(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const mR=h.createContext(null);function NH(e){const t=h.useContext(mR);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function SH(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:i,event:l}=r;e.forEach(u=>{var d;return(d=u[i])==null?void 0:d.call(u,l)})},[e]),t]}const _H={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},EH={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function CH(e){let{announcements:t=EH,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=_H}=e;const{announce:l,announcement:u}=jH(),d=Wu("DndLiveRegion"),[f,p]=h.useState(!1);if(h.useEffect(()=>{p(!0)},[]),NH(h.useMemo(()=>({onDragStart(v){let{active:b}=v;l(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:w}=v;t.onDragMove&&l(t.onDragMove({active:b,over:w}))},onDragOver(v){let{active:b,over:w}=v;l(t.onDragOver({active:b,over:w}))},onDragEnd(v){let{active:b,over:w}=v;l(t.onDragEnd({active:b,over:w}))},onDragCancel(v){let{active:b,over:w}=v;l(t.onDragCancel({active:b,over:w}))}}),[l,t])),!f)return null;const g=we.createElement(we.Fragment,null,we.createElement(yH,{id:r,value:i.draggable}),we.createElement(wH,{id:d,announcement:u}));return n?ls.createPortal(g,n):g}var Bn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Bn||(Bn={}));function th(){}function iN(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function RH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Es=Object.freeze({x:0,y:0});function pR(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gR(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function TH(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function oN(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function vR(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function lN(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const MH=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=lN(t,t.left,t.top),l=[];for(const u of r){const{id:d}=u,f=n.get(d);if(f){const p=pR(lN(f),i);l.push({id:d,data:{droppableContainer:u,value:p}})}}return l.sort(gR)},OH=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=oN(t),l=[];for(const u of r){const{id:d}=u,f=n.get(d);if(f){const p=oN(f),g=i.reduce((b,w,j)=>b+pR(p[j],w),0),v=Number((g/4).toFixed(4));l.push({id:d,data:{droppableContainer:u,value:v}})}}return l.sort(gR)};function AH(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),u=i-r,d=l-n;if(r<i&&n<l){const f=t.width*t.height,p=e.width*e.height,g=u*d,v=g/(f+p-g);return Number(v.toFixed(4))}return 0}const DH=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=AH(d,t);f>0&&i.push({id:u,data:{droppableContainer:l,value:f}})}}return i.sort(TH)};function PH(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function xR(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Es}function kH(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return i.reduce((u,d)=>({...u,top:u.top+e*d.y,bottom:u.bottom+e*d.y,left:u.left+e*d.x,right:u.right+e*d.x}),{...n})}}const LH=kH(1);function IH(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function $H(e,t,n){const r=IH(t);if(!r)return e;const{scaleX:i,scaleY:l,x:u,y:d}=r,f=e.left-u-(1-i)*parseFloat(n),p=e.top-d-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=i?e.width/i:e.width,v=l?e.height/l:e.height;return{width:g,height:v,top:p,right:f+g,bottom:p+v,left:f}}const UH={ignoreTransform:!1};function Bl(e,t){t===void 0&&(t=UH);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:g}=Or(e).getComputedStyle(e);p&&(n=$H(n,p,g))}const{top:r,left:i,width:l,height:u,bottom:d,right:f}=n;return{top:r,left:i,width:l,height:u,bottom:d,right:f}}function cN(e){return Bl(e,{ignoreTransform:!0})}function zH(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function FH(e,t){return t===void 0&&(t=Or(e).getComputedStyle(e)),t.position==="fixed"}function VH(e,t){t===void 0&&(t=Or(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const l=t[i];return typeof l=="string"?n.test(l):!1})}function Xh(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(_b(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Hu(i)||fR(i)||n.includes(i))return n;const l=Or(e).getComputedStyle(i);return i!==e&&VH(i,l)&&n.push(i),FH(i,l)?n:r(i.parentNode)}return e?r(e):n}function bR(e){const[t]=Xh(e,1);return t??null}function Gg(e){return!Gh||!e?null:Fl(e)?e:Sb(e)?_b(e)||e===Vl(e).scrollingElement?window:Hu(e)?e:null:null}function yR(e){return Fl(e)?e.scrollX:e.scrollLeft}function wR(e){return Fl(e)?e.scrollY:e.scrollTop}function Qv(e){return{x:yR(e),y:wR(e)}}var Qn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Qn||(Qn={}));function jR(e){return!Gh||!e?!1:e===document.scrollingElement}function NR(e){const t={x:0,y:0},n=jR(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,u=e.scrollTop>=r.y,d=e.scrollLeft>=r.x;return{isTop:i,isLeft:l,isBottom:u,isRight:d,maxScroll:r,minScroll:t}}const BH={x:.2,y:.2};function HH(e,t,n,r,i){let{top:l,left:u,right:d,bottom:f}=n;r===void 0&&(r=10),i===void 0&&(i=BH);const{isTop:p,isBottom:g,isLeft:v,isRight:b}=NR(e),w={x:0,y:0},j={x:0,y:0},N={height:t.height*i.y,width:t.width*i.x};return!p&&l<=t.top+N.height?(w.y=Qn.Backward,j.y=r*Math.abs((t.top+N.height-l)/N.height)):!g&&f>=t.bottom-N.height&&(w.y=Qn.Forward,j.y=r*Math.abs((t.bottom-N.height-f)/N.height)),!b&&d>=t.right-N.width?(w.x=Qn.Forward,j.x=r*Math.abs((t.right-N.width-d)/N.width)):!v&&u<=t.left+N.width&&(w.x=Qn.Backward,j.x=r*Math.abs((t.left+N.width-u)/N.width)),{direction:w,speed:j}}function qH(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function SR(e){return e.reduce((t,n)=>vl(t,Qv(n)),Es)}function WH(e){return e.reduce((t,n)=>t+yR(n),0)}function YH(e){return e.reduce((t,n)=>t+wR(n),0)}function GH(e,t){if(t===void 0&&(t=Bl),!e)return;const{top:n,left:r,bottom:i,right:l}=t(e);bR(e)&&(i<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const XH=[["x",["left","right"],WH],["y",["top","bottom"],YH]];class Rb{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Xh(n),i=SR(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,u,d]of XH)for(const f of u)Object.defineProperty(this,f,{get:()=>{const p=d(r),g=i[l]-p;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function KH(e){const{EventTarget:t}=Or(e);return e instanceof t?e:Vl(e)}function Xg(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var os;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(os||(os={}));function uN(e){e.preventDefault()}function QH(e){e.stopPropagation()}var Ot;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ot||(Ot={}));const _R={start:[Ot.Space,Ot.Enter],cancel:[Ot.Esc],end:[Ot.Space,Ot.Enter,Ot.Tab]},ZH=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ot.Right:return{...n,x:n.x+25};case Ot.Left:return{...n,x:n.x-25};case Ot.Down:return{...n,y:n.y+25};case Ot.Up:return{...n,y:n.y-25}}};class Tb{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Jc(Vl(n)),this.windowListeners=new Jc(Or(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(os.Resize,this.handleCancel),this.windowListeners.add(os.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(os.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&GH(r),n(Es)}handleKeyDown(t){if(Cb(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:l=_R,coordinateGetter:u=ZH,scrollBehavior:d="smooth"}=i,{code:f}=t;if(l.end.includes(f)){this.handleEnd(t);return}if(l.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:Es;this.referenceCoordinates||(this.referenceCoordinates=g);const v=u(t,{active:n,context:r.current,currentCoordinates:g});if(v){const b=pu(v,g),w={x:0,y:0},{scrollableAncestors:j}=r.current;for(const N of j){const S=t.code,{isTop:_,isRight:R,isLeft:E,isBottom:M,maxScroll:C,minScroll:D}=NR(N),O=qH(N),P={x:Math.min(S===Ot.Right?O.right-O.width/2:O.right,Math.max(S===Ot.Right?O.left:O.left+O.width/2,v.x)),y:Math.min(S===Ot.Down?O.bottom-O.height/2:O.bottom,Math.max(S===Ot.Down?O.top:O.top+O.height/2,v.y))},k=S===Ot.Right&&!R||S===Ot.Left&&!E,F=S===Ot.Down&&!M||S===Ot.Up&&!_;if(k&&P.x!==v.x){const ie=N.scrollLeft+b.x,Q=S===Ot.Right&&ie<=C.x||S===Ot.Left&&ie>=D.x;if(Q&&!b.y){N.scrollTo({left:ie,behavior:d});return}Q?w.x=N.scrollLeft-ie:w.x=S===Ot.Right?N.scrollLeft-C.x:N.scrollLeft-D.x,w.x&&N.scrollBy({left:-w.x,behavior:d});break}else if(F&&P.y!==v.y){const ie=N.scrollTop+b.y,Q=S===Ot.Down&&ie<=C.y||S===Ot.Up&&ie>=D.y;if(Q&&!b.x){N.scrollTo({top:ie,behavior:d});return}Q?w.y=N.scrollTop-ie:w.y=S===Ot.Down?N.scrollTop-C.y:N.scrollTop-D.y,w.y&&N.scrollBy({top:-w.y,behavior:d});break}}this.handleMove(t,vl(pu(v,this.referenceCoordinates),w))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Tb.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=_R,onActivation:i}=t,{active:l}=n;const{code:u}=e.nativeEvent;if(r.start.includes(u)){const d=l.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function dN(e){return!!(e&&"distance"in e)}function fN(e){return!!(e&&"delay"in e)}class Mb{constructor(t,n,r){var i;r===void 0&&(r=KH(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:u}=l;this.props=t,this.events=n,this.document=Vl(u),this.documentListeners=new Jc(this.document),this.listeners=new Jc(r),this.windowListeners=new Jc(Or(u)),this.initialCoordinates=(i=Kv(l))!=null?i:Es,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(os.Resize,this.handleCancel),this.windowListeners.add(os.DragStart,uN),this.windowListeners.add(os.VisibilityChange,this.handleCancel),this.windowListeners.add(os.ContextMenu,uN),this.documentListeners.add(os.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fN(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(dN(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(os.Click,QH,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(os.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:l}=this,{onMove:u,options:{activationConstraint:d}}=l;if(!i)return;const f=(n=Kv(t))!=null?n:Es,p=pu(i,f);if(!r&&d){if(dN(d)){if(d.tolerance!=null&&Xg(p,d.tolerance))return this.handleCancel();if(Xg(p,d.distance))return this.handleStart()}if(fN(d)&&Xg(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}t.cancelable&&t.preventDefault(),u(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ot.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const JH={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ob extends Mb{constructor(t){const{event:n}=t,r=Vl(n.target);super(t,JH,r)}}Ob.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const e9={move:{name:"mousemove"},end:{name:"mouseup"}};var Zv;(function(e){e[e.RightClick=2]="RightClick"})(Zv||(Zv={}));class t9 extends Mb{constructor(t){super(t,e9,Vl(t.event.target))}}t9.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Zv.RightClick?!1:(r==null||r({event:n}),!0)}}];const Kg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class n9 extends Mb{constructor(t){super(t,Kg)}static setup(){return window.addEventListener(Kg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kg.move.name,t)};function t(){}}}n9.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var eu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(eu||(eu={}));var nh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(nh||(nh={}));function r9(e){let{acceleration:t,activator:n=eu.Pointer,canScroll:r,draggingRect:i,enabled:l,interval:u=5,order:d=nh.TreeOrder,pointerCoordinates:f,scrollableAncestors:p,scrollableAncestorRects:g,delta:v,threshold:b}=e;const w=a9({delta:v,disabled:!l}),[j,N]=pH(),S=h.useRef({x:0,y:0}),_=h.useRef({x:0,y:0}),R=h.useMemo(()=>{switch(n){case eu.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case eu.DraggableRect:return i}},[n,i,f]),E=h.useRef(null),M=h.useCallback(()=>{const D=E.current;if(!D)return;const O=S.current.x*_.current.x,P=S.current.y*_.current.y;D.scrollBy(O,P)},[]),C=h.useMemo(()=>d===nh.TreeOrder?[...p].reverse():p,[d,p]);h.useEffect(()=>{if(!l||!p.length||!R){N();return}for(const D of C){if((r==null?void 0:r(D))===!1)continue;const O=p.indexOf(D),P=g[O];if(!P)continue;const{direction:k,speed:F}=HH(D,P,R,t,b);for(const ie of["x","y"])w[ie][k[ie]]||(F[ie]=0,k[ie]=0);if(F.x>0||F.y>0){N(),E.current=D,j(M,u),S.current=F,_.current=k;return}}S.current={x:0,y:0},_.current={x:0,y:0},N()},[t,M,r,N,l,u,JSON.stringify(R),JSON.stringify(w),j,p,C,g,JSON.stringify(b)])}const s9={x:{[Qn.Backward]:!1,[Qn.Forward]:!1},y:{[Qn.Backward]:!1,[Qn.Forward]:!1}};function a9(e){let{delta:t,disabled:n}=e;const r=Xv(t);return qu(i=>{if(n||!r||!i)return s9;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Qn.Backward]:i.x[Qn.Backward]||l.x===-1,[Qn.Forward]:i.x[Qn.Forward]||l.x===1},y:{[Qn.Backward]:i.y[Qn.Backward]||l.y===-1,[Qn.Forward]:i.y[Qn.Forward]||l.y===1}}},[n,t,r])}function i9(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return qu(i=>{var l;return t==null?null:(l=r??i)!=null?l:null},[r,t])}function o9(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,l=i.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,r)}));return[...n,...l]},[]),[e,t])}var vu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(vu||(vu={}));var Jv;(function(e){e.Optimized="optimized"})(Jv||(Jv={}));const hN=new Map;function l9(e,t){let{dragging:n,dependencies:r,config:i}=t;const[l,u]=h.useState(null),{frequency:d,measure:f,strategy:p}=i,g=h.useRef(e),v=S(),b=mu(v),w=h.useCallback(function(_){_===void 0&&(_=[]),!b.current&&u(R=>R===null?_:R.concat(_.filter(E=>!R.includes(E))))},[b]),j=h.useRef(null),N=qu(_=>{if(v&&!n)return hN;if(!_||_===hN||g.current!==e||l!=null){const R=new Map;for(let E of e){if(!E)continue;if(l&&l.length>0&&!l.includes(E.id)&&E.rect.current){R.set(E.id,E.rect.current);continue}const M=E.node.current,C=M?new Rb(f(M),M):null;E.rect.current=C,C&&R.set(E.id,C)}return R}return _},[e,l,n,v,f]);return h.useEffect(()=>{g.current=e},[e]),h.useEffect(()=>{v||w()},[n,v]),h.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),h.useEffect(()=>{v||typeof d!="number"||j.current!==null||(j.current=setTimeout(()=>{w(),j.current=null},d))},[d,v,w,...r]),{droppableRects:N,measureDroppableContainers:w,measuringScheduled:l!=null};function S(){switch(p){case vu.Always:return!1;case vu.BeforeDragging:return n;default:return!n}}}function ER(e,t){return qu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function c9(e,t){return ER(e,t)}function u9(e){let{callback:t,disabled:n}=e;const r=Eb(t),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Kh(e){let{callback:t,disabled:n}=e;const r=Eb(t),i=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return h.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function d9(e){return new Rb(Bl(e),e)}function mN(e,t,n){t===void 0&&(t=d9);const[r,i]=h.useState(null);function l(){i(f=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=f??n)!=null?p:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const u=u9({callback(f){if(e)for(const p of f){const{type:g,target:v}=p;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){l();break}}}}),d=Kh({callback:l});return Gs(()=>{l(),e?(d==null||d.observe(e),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(d==null||d.disconnect(),u==null||u.disconnect())},[e]),r}function f9(e){const t=ER(e);return xR(e,t)}const pN=[];function h9(e){const t=h.useRef(e),n=qu(r=>e?r&&r!==pN&&e&&t.current&&e.parentNode===t.current.parentNode?r:Xh(e):pN,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function m9(e){const[t,n]=h.useState(null),r=h.useRef(e),i=h.useCallback(l=>{const u=Gg(l.target);u&&n(d=>d?(d.set(u,Qv(u)),new Map(d)):null)},[]);return h.useEffect(()=>{const l=r.current;if(e!==l){u(l);const d=e.map(f=>{const p=Gg(f);return p?(p.addEventListener("scroll",i,{passive:!0}),[p,Qv(p)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),r.current=e}return()=>{u(e),u(l)};function u(d){d.forEach(f=>{const p=Gg(f);p==null||p.removeEventListener("scroll",i)})}},[i,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,u)=>vl(l,u),Es):SR(e):Es,[e,t])}function gN(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Es;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?pu(e,n.current):Es}function p9(e){h.useEffect(()=>{if(!Gh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function g9(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:l}=r;return n[i]=u=>{l(u,t)},n},{}),[e,t])}function CR(e){return h.useMemo(()=>e?zH(e):null,[e])}const vN=[];function v9(e,t){t===void 0&&(t=Bl);const[n]=e,r=CR(n?Or(n):null),[i,l]=h.useState(vN);function u(){l(()=>e.length?e.map(f=>jR(f)?r:new Rb(t(f),f)):vN)}const d=Kh({callback:u});return Gs(()=>{d==null||d.disconnect(),u(),e.forEach(f=>d==null?void 0:d.observe(f))},[e]),i}function x9(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Hu(t)?t:e}function b9(e){let{measure:t}=e;const[n,r]=h.useState(null),i=h.useCallback(p=>{for(const{target:g}of p)if(Hu(g)){r(v=>{const b=t(g);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),l=Kh({callback:i}),u=h.useCallback(p=>{const g=x9(p);l==null||l.disconnect(),g&&(l==null||l.observe(g)),r(g?t(g):null)},[t,l]),[d,f]=eh(u);return h.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const y9=[{sensor:Ob,options:{}},{sensor:Tb,options:{}}],w9={current:{}},Pf={draggable:{measure:cN},droppable:{measure:cN,strategy:vu.WhileDragging,frequency:Jv.Optimized},dragOverlay:{measure:Bl}};class tu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const j9={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:th},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Pf,measureDroppableContainers:th,windowRect:null,measuringScheduled:!1},N9={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:th,draggableNodes:new Map,over:null,measureDroppableContainers:th},Qh=h.createContext(N9),RR=h.createContext(j9);function S9(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tu}}}function _9(e,t){switch(t.type){case Bn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Bn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Bn.DragEnd:case Bn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bn.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new tu(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Bn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const u=new tu(e.droppable.containers);return u.set(n,{...l,disabled:i}),{...e,droppable:{...e.droppable,containers:u}}}case Bn.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const l=new tu(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function E9(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=h.useContext(Qh),l=Xv(r),u=Xv(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&l&&u!=null){if(!Cb(l)||document.activeElement===l.target)return;const d=i.get(u);if(!d)return;const{activatorNode:f,node:p}=d;if(!f.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[f.current,p.current]){if(!g)continue;const v=xH(g);if(v){v.focus();break}}})}},[r,t,i,u,l]),null}function C9(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,l)=>l({transform:i,...r}),n):n}function R9(e){return h.useMemo(()=>({draggable:{...Pf.draggable,...e==null?void 0:e.draggable},droppable:{...Pf.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Pf.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function T9(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const l=h.useRef(!1),{x:u,y:d}=typeof i=="boolean"?{x:i,y:i}:i;Gs(()=>{if(!u&&!d||!t){l.current=!1;return}if(l.current||!r)return;const p=t==null?void 0:t.node.current;if(!p||p.isConnected===!1)return;const g=n(p),v=xR(g,r);if(u||(v.x=0),d||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=bR(p);b&&b.scrollBy({top:v.y,left:v.x})}},[t,u,d,r,n])}const TR=h.createContext({...Es,scaleX:1,scaleY:1});var di;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(di||(di={}));const M9=h.memo(function(t){var n,r,i,l;let{id:u,accessibility:d,autoScroll:f=!0,children:p,sensors:g=y9,collisionDetection:v=DH,measuring:b,modifiers:w,...j}=t;const N=h.useReducer(_9,void 0,S9),[S,_]=N,[R,E]=SH(),[M,C]=h.useState(di.Uninitialized),D=M===di.Initialized,{draggable:{active:O,nodes:P,translate:k},droppable:{containers:F}}=S,ie=O!=null?P.get(O):null,Q=h.useRef({initial:null,translated:null}),U=h.useMemo(()=>{var tn;return O!=null?{id:O,data:(tn=ie==null?void 0:ie.data)!=null?tn:w9,rect:Q}:null},[O,ie]),oe=h.useRef(null),[le,$]=h.useState(null),[G,W]=h.useState(null),J=mu(j,Object.values(j)),L=Wu("DndDescribedBy",u),V=h.useMemo(()=>F.getEnabled(),[F]),B=R9(b),{droppableRects:H,measureDroppableContainers:I,measuringScheduled:z}=l9(V,{dragging:D,dependencies:[k.x,k.y],config:B.droppable}),q=i9(P,O),K=h.useMemo(()=>G?Kv(G):null,[G]),se=Gr(),ge=c9(q,B.draggable.measure);T9({activeNode:O!=null?P.get(O):null,config:se.layoutShiftCompensation,initialRect:ge,measure:B.draggable.measure});const fe=mN(q,B.draggable.measure,ge),Se=mN(q?q.parentElement:null),Ae=h.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),it=F.getNodeFor((n=Ae.current.over)==null?void 0:n.id),rt=b9({measure:B.dragOverlay.measure}),Dt=(r=rt.nodeRef.current)!=null?r:q,ue=D?(i=rt.rect)!=null?i:fe:null,ye=!!(rt.nodeRef.current&&rt.rect),ve=f9(ye?null:fe),Ne=CR(Dt?Or(Dt):null),Oe=h9(D?it??q:null),Ie=v9(Oe),$e=C9(w,{transform:{x:k.x-ve.x,y:k.y-ve.y,scaleX:1,scaleY:1},activatorEvent:G,active:U,activeNodeRect:fe,containerNodeRect:Se,draggingNodeRect:ue,over:Ae.current.over,overlayNodeRect:rt.rect,scrollableAncestors:Oe,scrollableAncestorRects:Ie,windowRect:Ne}),lt=K?vl(K,k):null,dt=m9(Oe),on=gN(dt),_t=gN(dt,[fe]),qe=vl($e,on),st=ue?LH(ue,$e):null,mn=U&&st?v({active:U,collisionRect:st,droppableRects:H,droppableContainers:V,pointerCoordinates:lt}):null,$n=vR(mn,"id"),[wn,Un]=h.useState(null),pn=ye?$e:vl($e,_t),Pt=PH(pn,(l=wn==null?void 0:wn.rect)!=null?l:null,fe),Tn=h.useRef(null),zn=h.useCallback((tn,ft)=>{let{sensor:te,options:xe}=ft;if(oe.current==null)return;const _e=P.get(oe.current);if(!_e)return;const De=tn.nativeEvent,Ve=new te({active:oe.current,activeNode:_e,event:De,options:xe,context:Ae,onAbort(Ge){if(!P.get(Ge))return;const{onDragAbort:mt}=J.current,yt={id:Ge};mt==null||mt(yt),R({type:"onDragAbort",event:yt})},onPending(Ge,xt,mt,yt){if(!P.get(Ge))return;const{onDragPending:Ht}=J.current,sn={id:Ge,constraint:xt,initialCoordinates:mt,offset:yt};Ht==null||Ht(sn),R({type:"onDragPending",event:sn})},onStart(Ge){const xt=oe.current;if(xt==null)return;const mt=P.get(xt);if(!mt)return;const{onDragStart:yt}=J.current,zt={activatorEvent:De,active:{id:xt,data:mt.data,rect:Q}};ls.unstable_batchedUpdates(()=>{yt==null||yt(zt),C(di.Initializing),_({type:Bn.DragStart,initialCoordinates:Ge,active:xt}),R({type:"onDragStart",event:zt}),$(Tn.current),W(De)})},onMove(Ge){_({type:Bn.DragMove,coordinates:Ge})},onEnd:ht(Bn.DragEnd),onCancel:ht(Bn.DragCancel)});Tn.current=Ve;function ht(Ge){return async function(){const{active:mt,collisions:yt,over:zt,scrollAdjustedTranslate:Ht}=Ae.current;let sn=null;if(mt&&Ht){const{cancelDrop:On}=J.current;sn={activatorEvent:De,active:mt,collisions:yt,delta:Ht,over:zt},Ge===Bn.DragEnd&&typeof On=="function"&&await Promise.resolve(On(sn))&&(Ge=Bn.DragCancel)}oe.current=null,ls.unstable_batchedUpdates(()=>{_({type:Ge}),C(di.Uninitialized),Un(null),$(null),W(null),Tn.current=null;const On=Ge===Bn.DragEnd?"onDragEnd":"onDragCancel";if(sn){const gn=J.current[On];gn==null||gn(sn),R({type:On,event:sn})}})}}},[P]),jn=h.useCallback((tn,ft)=>(te,xe)=>{const _e=te.nativeEvent,De=P.get(xe);if(oe.current!==null||!De||_e.dndKit||_e.defaultPrevented)return;const Ve={active:De};tn(te,ft.options,Ve)===!0&&(_e.dndKit={capturedBy:ft.sensor},oe.current=xe,zn(te,ft))},[P,zn]),Ar=o9(g,jn);p9(g),Gs(()=>{fe&&M===di.Initializing&&C(di.Initialized)},[fe,M]),h.useEffect(()=>{const{onDragMove:tn}=J.current,{active:ft,activatorEvent:te,collisions:xe,over:_e}=Ae.current;if(!ft||!te)return;const De={active:ft,activatorEvent:te,collisions:xe,delta:{x:qe.x,y:qe.y},over:_e};ls.unstable_batchedUpdates(()=>{tn==null||tn(De),R({type:"onDragMove",event:De})})},[qe.x,qe.y]),h.useEffect(()=>{const{active:tn,activatorEvent:ft,collisions:te,droppableContainers:xe,scrollAdjustedTranslate:_e}=Ae.current;if(!tn||oe.current==null||!ft||!_e)return;const{onDragOver:De}=J.current,Ve=xe.get($n),ht=Ve&&Ve.rect.current?{id:Ve.id,rect:Ve.rect.current,data:Ve.data,disabled:Ve.disabled}:null,Ge={active:tn,activatorEvent:ft,collisions:te,delta:{x:_e.x,y:_e.y},over:ht};ls.unstable_batchedUpdates(()=>{Un(ht),De==null||De(Ge),R({type:"onDragOver",event:Ge})})},[$n]),Gs(()=>{Ae.current={activatorEvent:G,active:U,activeNode:q,collisionRect:st,collisions:mn,droppableRects:H,draggableNodes:P,draggingNode:Dt,draggingNodeRect:ue,droppableContainers:F,over:wn,scrollableAncestors:Oe,scrollAdjustedTranslate:qe},Q.current={initial:ue,translated:st}},[U,q,mn,st,P,Dt,ue,H,F,wn,Oe,qe]),r9({...se,delta:k,draggingRect:st,pointerCoordinates:lt,scrollableAncestors:Oe,scrollableAncestorRects:Ie});const Mn=h.useMemo(()=>({active:U,activeNode:q,activeNodeRect:fe,activatorEvent:G,collisions:mn,containerNodeRect:Se,dragOverlay:rt,draggableNodes:P,droppableContainers:F,droppableRects:H,over:wn,measureDroppableContainers:I,scrollableAncestors:Oe,scrollableAncestorRects:Ie,measuringConfiguration:B,measuringScheduled:z,windowRect:Ne}),[U,q,fe,G,mn,Se,rt,P,F,H,wn,I,Oe,Ie,B,z,Ne]),na=h.useMemo(()=>({activatorEvent:G,activators:Ar,active:U,activeNodeRect:fe,ariaDescribedById:{draggable:L},dispatch:_,draggableNodes:P,over:wn,measureDroppableContainers:I}),[G,Ar,U,fe,_,L,P,wn,I]);return we.createElement(mR.Provider,{value:E},we.createElement(Qh.Provider,{value:na},we.createElement(RR.Provider,{value:Mn},we.createElement(TR.Provider,{value:Pt},p)),we.createElement(E9,{disabled:(d==null?void 0:d.restoreFocus)===!1})),we.createElement(CH,{...d,hiddenTextDescribedById:L}));function Gr(){const tn=(le==null?void 0:le.autoScrollEnabled)===!1,ft=typeof f=="object"?f.enabled===!1:f===!1,te=D&&!tn&&!ft;return typeof f=="object"?{...f,enabled:te}:{enabled:te}}}),O9=h.createContext(null),xN="button",A9="Draggable";function D9(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const l=Wu(A9),{activators:u,activatorEvent:d,active:f,activeNodeRect:p,ariaDescribedById:g,draggableNodes:v,over:b}=h.useContext(Qh),{role:w=xN,roleDescription:j="draggable",tabIndex:N=0}=i??{},S=(f==null?void 0:f.id)===t,_=h.useContext(S?TR:O9),[R,E]=eh(),[M,C]=eh(),D=g9(u,t),O=mu(n);Gs(()=>(v.set(t,{id:t,key:l,node:R,activatorNode:M,data:O}),()=>{const k=v.get(t);k&&k.key===l&&v.delete(t)}),[v,t]);const P=h.useMemo(()=>({role:w,tabIndex:N,"aria-disabled":r,"aria-pressed":S&&w===xN?!0:void 0,"aria-roledescription":j,"aria-describedby":g.draggable}),[r,w,N,S,j,g.draggable]);return{active:f,activatorEvent:d,activeNodeRect:p,attributes:P,isDragging:S,listeners:r?void 0:D,node:R,over:b,setNodeRef:E,setActivatorNodeRef:C,transform:_}}function P9(){return h.useContext(RR)}const k9="Droppable",L9={timeout:25};function I9(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const l=Wu(k9),{active:u,dispatch:d,over:f,measureDroppableContainers:p}=h.useContext(Qh),g=h.useRef({disabled:n}),v=h.useRef(!1),b=h.useRef(null),w=h.useRef(null),{disabled:j,updateMeasurementsFor:N,timeout:S}={...L9,...i},_=mu(N??r),R=h.useCallback(()=>{if(!v.current){v.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{p(Array.isArray(_.current)?_.current:[_.current]),w.current=null},S)},[S]),E=Kh({callback:R,disabled:j||!u}),M=h.useCallback((P,k)=>{E&&(k&&(E.unobserve(k),v.current=!1),P&&E.observe(P))},[E]),[C,D]=eh(M),O=mu(t);return h.useEffect(()=>{!E||!C.current||(E.disconnect(),v.current=!1,E.observe(C.current))},[C,E]),h.useEffect(()=>(d({type:Bn.RegisterDroppable,element:{id:r,key:l,disabled:n,node:C,rect:b,data:O}}),()=>d({type:Bn.UnregisterDroppable,key:l,id:r})),[r]),h.useEffect(()=>{n!==g.current.disabled&&(d({type:Bn.SetDroppableDisabled,id:r,key:l,disabled:n}),g.current.disabled=n)},[r,l,n,d]),{active:u,rect:b,isOver:(f==null?void 0:f.id)===r,node:C,over:f,setNodeRef:D}}function Ab(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function $9(e,t){return e.reduce((n,r,i)=>{const l=t.get(r);return l&&(n[i]=l),n},Array(e.length))}function bf(e){return e!==null&&e>=0}function U9(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function z9(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const yf={scaleX:1,scaleY:1},F9=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:l,index:u}=e;const d=(t=n[i])!=null?t:r;if(!d)return null;const f=V9(n,u,i);if(u===i){const p=n[l];return p?{x:i<l?p.left+p.width-(d.left+d.width):p.left-d.left,y:0,...yf}:null}return u>i&&u<=l?{x:-d.width-f,y:0,...yf}:u<i&&u>=l?{x:d.width+f,y:0,...yf}:{x:0,y:0,...yf}};function V9(e,t,n){const r=e[t],i=e[t-1],l=e[t+1];return!r||!i&&!l?0:n<t?i?r.left-(i.left+i.width):l.left-(r.left+r.width):l?l.left-(r.left+r.width):r.left-(i.left+i.width)}const MR=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const l=Ab(t,r,n),u=t[i],d=l[i];return!d||!u?null:{x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height}},OR="Sortable",AR=we.createContext({activeIndex:-1,containerId:OR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:MR,disabled:{draggable:!1,droppable:!1}});function B9(e){let{children:t,id:n,items:r,strategy:i=MR,disabled:l=!1}=e;const{active:u,dragOverlay:d,droppableRects:f,over:p,measureDroppableContainers:g}=P9(),v=Wu(OR,n),b=d.rect!==null,w=h.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),j=u!=null,N=u?w.indexOf(u.id):-1,S=p?w.indexOf(p.id):-1,_=h.useRef(w),R=!U9(w,_.current),E=S!==-1&&N===-1||R,M=z9(l);Gs(()=>{R&&j&&g(w)},[R,w,j,g]),h.useEffect(()=>{_.current=w},[w]);const C=h.useMemo(()=>({activeIndex:N,containerId:v,disabled:M,disableTransforms:E,items:w,overIndex:S,useDragOverlay:b,sortedRects:$9(w,f),strategy:i}),[N,v,M.draggable,M.droppable,E,w,S,f,b,i]);return we.createElement(AR.Provider,{value:C},t)}const H9=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return Ab(n,r,i).indexOf(t)},q9=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:l,newIndex:u,previousItems:d,previousContainerId:f,transition:p}=e;return!p||!r||d!==l&&i===u?!1:n?!0:u!==i&&t===f},W9={duration:200,easing:"ease"},DR="transform",Y9=gu.Transition.toString({property:DR,duration:0,easing:"linear"}),G9={roleDescription:"sortable"};function X9(e){let{disabled:t,index:n,node:r,rect:i}=e;const[l,u]=h.useState(null),d=h.useRef(n);return Gs(()=>{if(!t&&n!==d.current&&r.current){const f=i.current;if(f){const p=Bl(r.current,{ignoreTransform:!0}),g={x:f.left-p.left,y:f.top-p.top,scaleX:f.width/p.width,scaleY:f.height/p.height};(g.x||g.y)&&u(g)}}n!==d.current&&(d.current=n)},[t,n,r,i]),h.useEffect(()=>{l&&u(null)},[l]),l}function K9(e){let{animateLayoutChanges:t=q9,attributes:n,disabled:r,data:i,getNewIndex:l=H9,id:u,strategy:d,resizeObserverConfig:f,transition:p=W9}=e;const{items:g,containerId:v,activeIndex:b,disabled:w,disableTransforms:j,sortedRects:N,overIndex:S,useDragOverlay:_,strategy:R}=h.useContext(AR),E=Q9(r,w),M=g.indexOf(u),C=h.useMemo(()=>({sortable:{containerId:v,index:M,items:g},...i}),[v,i,M,g]),D=h.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:O,node:P,isOver:k,setNodeRef:F}=I9({id:u,data:C,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...f}}),{active:ie,activatorEvent:Q,activeNodeRect:U,attributes:oe,setNodeRef:le,listeners:$,isDragging:G,over:W,setActivatorNodeRef:J,transform:L}=D9({id:u,data:C,attributes:{...G9,...n},disabled:E.draggable}),V=mH(F,le),B=!!ie,H=B&&!j&&bf(b)&&bf(S),I=!_&&G,z=I&&H?L:null,K=H?z??(d??R)({rects:N,activeNodeRect:U,activeIndex:b,overIndex:S,index:M}):null,se=bf(b)&&bf(S)?l({id:u,items:g,activeIndex:b,overIndex:S}):M,ge=ie==null?void 0:ie.id,fe=h.useRef({activeId:ge,items:g,newIndex:se,containerId:v}),Se=g!==fe.current.items,Ae=t({active:ie,containerId:v,isDragging:G,isSorting:B,id:u,index:M,items:g,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:p,wasDragging:fe.current.activeId!=null}),it=X9({disabled:!Ae,index:M,node:P,rect:O});return h.useEffect(()=>{B&&fe.current.newIndex!==se&&(fe.current.newIndex=se),v!==fe.current.containerId&&(fe.current.containerId=v),g!==fe.current.items&&(fe.current.items=g)},[B,se,v,g]),h.useEffect(()=>{if(ge===fe.current.activeId)return;if(ge!=null&&fe.current.activeId==null){fe.current.activeId=ge;return}const Dt=setTimeout(()=>{fe.current.activeId=ge},50);return()=>clearTimeout(Dt)},[ge]),{active:ie,activeIndex:b,attributes:oe,data:C,rect:O,index:M,newIndex:se,items:g,isOver:k,isSorting:B,isDragging:G,listeners:$,node:P,overIndex:S,over:W,setNodeRef:V,setActivatorNodeRef:J,setDroppableNodeRef:F,setDraggableNodeRef:le,transform:it??K,transition:rt()};function rt(){if(it||Se&&fe.current.newIndex===M)return Y9;if(!(I&&!Cb(Q)||!p)&&(B||Ae))return gu.Transition.toString({...p,property:DR})}}function Q9(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function rh(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Z9=[Ot.Down,Ot.Right,Ot.Up,Ot.Left],J9=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:l,over:u,scrollableAncestors:d}}=t;if(Z9.includes(e.code)){if(e.preventDefault(),!n||!r)return;const f=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const b=i.get(v.id);if(b)switch(e.code){case Ot.Down:r.top<b.top&&f.push(v);break;case Ot.Up:r.top>b.top&&f.push(v);break;case Ot.Left:r.left>b.left&&f.push(v);break;case Ot.Right:r.left<b.left&&f.push(v);break}});const p=OH({collisionRect:r,droppableRects:i,droppableContainers:f});let g=vR(p,"id");if(g===(u==null?void 0:u.id)&&p.length>1&&(g=p[1].id),g!=null){const v=l.get(n.id),b=l.get(g),w=b?i.get(b.id):null,j=b==null?void 0:b.node.current;if(j&&w&&v&&b){const S=Xh(j).some((D,O)=>d[O]!==D),_=PR(v,b),R=eq(v,b),E=S||!_?{x:0,y:0}:{x:R?r.width-w.width:0,y:R?r.height-w.height:0},M={x:w.left,y:w.top};return E.x&&E.y?M:pu(M,E)}}}};function PR(e,t){return!rh(e)||!rh(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function eq(e,t){return!rh(e)||!rh(t)||!PR(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function tq(e){const t=new Date(e);return{day:t.getDate().toString().padStart(2,"0"),month:(t.getMonth()+1).toString().padStart(2,"0"),year:t.getFullYear().toString()}}function Hl({date:e}){const[t,n]=h.useState(!1),[r,i]=h.useState(tq(e)),l=h.useRef(null);let u;const d=()=>n(!0),f=w=>{const{name:j,value:N}=w.target;i(S=>({...S,[j]:N.replace(/\D/g,"")}))},p=w=>{w.key==="Enter"&&n(!1)},g=()=>{u=setTimeout(()=>n(!1),0)},v=()=>{u&&clearTimeout(u)},b=`${r.year}-${r.month}-${r.day}`;return s.jsxs("div",{className:"flex items-center justify-between  font-bold",children:[s.jsxs("p",{children:["Bamako, le"," ",t?s.jsxs("span",{ref:l,tabIndex:-1,onBlur:g,onFocus:v,children:[s.jsx("input",{type:"text",name:"day",value:r.day,onChange:f,onKeyDown:p,maxLength:2,size:2,className:"border-b border-gray-400 focus:outline-none bg-transparent w-6 text-center mx-0.5",autoFocus:!0}),"/",s.jsx("input",{type:"text",name:"month",value:r.month,onChange:f,onKeyDown:p,maxLength:2,size:2,className:"border-b border-gray-400 focus:outline-none bg-transparent w-6 text-center mx-0.5"}),"/",s.jsx("input",{type:"text",name:"year",value:r.year,onChange:f,onKeyDown:p,maxLength:4,size:4,className:"border-b border-gray-400 focus:outline-none bg-transparent w-10 text-center mx-0.5"})]}):s.jsx("span",{onClick:d,style:{cursor:"pointer"},title:"Click to edit date",children:ct(new Date(b),"dd/MM/yyyy")})]}),s.jsx("p",{children:"Le Biologiste"})]})}const nq=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],rq="template1",sq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},aq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},iq=()=>{const{resultId:e}=yr(),t=dr(),[n,r]=h.useState(null),[i,l]=h.useState(null),[u,d]=h.useState(null),[f,p]=h.useState([]),[g,v]=h.useState(!0),[b,w]=h.useState(!1),[j,N]=h.useState(null),[S,_]=h.useState(null),[R,E]=h.useState(null),[M,C]=h.useState(!0),D=h.useRef(null),O=RH(iN(Ob),iN(Tb,{coordinateGetter:J9})),[P,k]=h.useState({}),[F,ie]=h.useState({}),[Q,U]=h.useState(""),[oe,le]=h.useState(!1),[$,G]=h.useState(!1),[W,J]=h.useState(""),[L,V]=h.useState(""),[B,H]=h.useState(!1),[I,z]=h.useState(null),[q,K]=h.useState([]);h.useEffect(()=>{(async()=>{const{data:xe,error:_e}=await re.from("skip_range_check").select("value, type");!_e&&xe&&K(xe)})()},[]);const[se,ge]=h.useState(5),[fe,Se]=h.useState(40),[Ae,it]=h.useState(15),[rt,Dt]=h.useState(10),[ue,ye]=h.useState(35);h.useEffect(()=>{async function te(){const{data:xe,error:_e}=await re.from("result_column_widths").select("*").order("updated_at",{ascending:!1}).limit(1).single();xe&&(Se(xe.param_width),it(xe.value_width),Dt(xe.unit_width),ye(xe.ref_width))}te()},[]);const[ve,Ne]=h.useState([]),[Oe,Ie]=h.useState([]),[$e,lt]=h.useState([]),[dt,on]=h.useState([]),[_t,qe]=h.useState([]);h.useEffect(()=>{f.length>0&&Ne(te=>{if(te.length===0)return f.map(_e=>_e.category.id);const xe=new Set(te);return f.forEach(_e=>xe.add(_e.category.id)),Array.from(xe)})},[f]),h.useEffect(()=>{f.length>0&&on(te=>{if(te.length===0)return f.map(_e=>_e.category.id);const xe=new Set(te);return f.forEach(_e=>xe.add(_e.category.id)),Array.from(xe)}),console.log("categoriesUnitToShow:",dt)},[f]),h.useEffect(()=>{f.length>0&&qe(te=>{if(te.length===0)return f.map(_e=>_e.category.id);const xe=new Set(te);return f.forEach(_e=>xe.add(_e.category.id)),Array.from(xe)}),console.log("categoriesRefToShow:",_t)},[f]);const st=te=>{on(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])},mn=te=>{qe(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])},$n=te=>{Ne(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])};h.useEffect(()=>{if(f.length>0){console.log("groupedResults:",f);const te=f.flatMap(xe=>xe.testTypes.flatMap(_e=>_e.parameters.map(De=>De.id)));console.log("parametersIds:",te)}},[f]);const wn=te=>{Ie(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])};h.useEffect(()=>{if(f.length>0){const te=f.flatMap(xe=>xe.category.id);console.log("testTypesIds:",te),lt(te)}console.log("testTypesToPrint:",$e)},[f]);const Un=te=>{lt(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])},pn=h.useMemo(()=>{var xe;const te=(R==null?void 0:R.selected_template)||rq;return((xe=nq.find(_e=>_e.id===te))==null?void 0:xe.component)||Zn},[R]),Pt=h.useMemo(()=>({logoUrl:(R==null?void 0:R.logo_url)||null,labName:R==null?void 0:R.lab_name,addressLine1:R==null?void 0:R.address_line1,addressLine2:R==null?void 0:R.address_line2,cityPostalCode:R==null?void 0:R.city_postal_code,phone:R==null?void 0:R.phone,email:R==null?void 0:R.email,website:R==null?void 0:R.website}),[R]),Tn=h.useCallback(async()=>{if(!e){N("ID du rsultat manquant."),v(!1);return}v(!0),N(null),_(null),r(null),l(null),d(null),p([]),E(null);try{const{data:te,error:xe}=await re.from("patient_result").select("*").eq("id",e).single();if(xe)throw xe;if(!te)throw new Error("Rsultat non trouv.");r(te);const[_e,De,Ve]=await Promise.all([re.from("patient").select("*").eq("id",te.patient_id).single(),re.from("doctor").select("*").eq("id",te.doctor_id).single(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);_e.error&&console.warn("Erreur chargement patient:",_e.error.message),De.error&&console.warn("Erreur chargement mdecin:",De.error.message),l(_e.data),d(De.data),Ve.error&&console.warn("Erreur chargement config en-tte:",Ve.error.message),E(Ve.data),C(!1);const{data:ht,error:Ge}=await re.from("result_value").select(`
                    value,
                    test_parameter: test_parameter_id (
                        *,
                        test_type: test_type_id (
                            *,
                            category: category_id (id, name)
                        )
                    )
                `).eq("patient_result_id",e);if(Ge)throw Ge;const xt=new Map;(ht||[]).forEach(yt=>{const zt=yt.test_parameter;if(zt&&zt.test_type&&zt.test_type.category){const Ht=zt.test_type.category.id,sn=zt.test_type.category.name,On=zt.test_type.id,gn=zt.test_type.name;xt.has(Ht)||xt.set(Ht,{category:{...zt.test_type.category,created_at:"",updated_at:""},testTypes:[]});const An=xt.get(Ht);let he=An.testTypes.find(Ee=>Ee.testType.id===On);he||(he={testType:{...zt.test_type,category_id:Ht,category:null},parameters:[]},An.testTypes.push(he)),he.parameters.push({...zt,resultValue:yt.value,test_type:null})}else console.warn("Donnes de paramtre/type/catgorie manquantes pour une valeur:",yt)}),xt.forEach(yt=>{yt.testTypes.forEach(zt=>{zt.parameters.sort((Ht,sn)=>Ht.order!==sn.order?Ht.order-sn.order:Ht.name.localeCompare(sn.name))}),yt.testTypes.sort((zt,Ht)=>zt.testType.name.localeCompare(Ht.testType.name))});const mt=Array.from(xt.values()).sort((yt,zt)=>yt.category.name.localeCompare(zt.category.name));p(mt)}catch(te){console.error("Erreur chargement dtails du rsultat:",te),N(te.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{v(!1)}},[e]);h.useEffect(()=>{Tn()},[Tn]),h.useEffect(()=>{n!=null&&n.description&&U(n.description)},[n]),h.useEffect(()=>{J((n==null?void 0:n.normal_price)!=null?String(n.normal_price):""),V((n==null?void 0:n.insurance_price)!=null?String(n.insurance_price):"")},[n]);const zn=h.useCallback(async te=>{if(e){le(!0);try{const{error:xe}=await re.from("patient_result").update({description:te}).eq("id",e);if(xe)throw xe}catch(xe){console.error("Error saving description:",xe)}finally{le(!1)}}},[e]);h.useEffect(()=>{const te=setTimeout(()=>{Q!==(n==null?void 0:n.description)&&zn(Q)},1e3);return()=>clearTimeout(te)},[Q,n==null?void 0:n.description,zn]),h.useEffect(()=>{console.log("Grouped results: ",f)},[f]);const jn=h.useCallback(async()=>{H(!0),z(null);try{const te=W!==""?Number(W):null,xe=L!==""?Number(L):null;if(W!==""&&isNaN(te)||L!==""&&isNaN(xe)){z("Les prix doivent tre des nombres valides."),H(!1);return}const{error:_e,data:De}=await re.from("patient_result").update({normal_price:te,insurance_price:xe}).eq("id",n.id).select().single();if(_e)throw _e;r(Ve=>Ve&&{...Ve,normal_price:te,insurance_price:xe}),G(!1)}catch(te){z(te.message||"Erreur lors de la sauvegarde des prix.")}finally{H(!1)}},[n,W,L]),Ar=async te=>{if(!(!n||te===n.status)){w(!0),_(null);try{const{data:xe,error:_e}=await re.from("patient_result").update({status:te}).eq("id",n.id).select().single();if(_e)throw _e;r(xe||(De=>De?{...De,status:te}:null))}catch(xe){console.error("Erreur mise  jour statut:",xe),_(xe.message||"Impossible de mettre  jour le statut.")}finally{w(!1)}}},Mn=()=>{window.print()},na=te=>{const{active:xe,over:_e}=te;_e&&xe.id!==_e.id&&p(De=>{const Ve=De.findIndex(Ge=>Ge.category.id===xe.id),ht=De.findIndex(Ge=>Ge.category.id===_e.id);return Ve===-1||ht===-1?De:Ab(De,Ve,ht)})},Gr=(te,xe)=>{k(_e=>({..._e,[te]:xe}))},tn=te=>{ie(xe=>{const _e=xe[te],De={...xe};let Ve="indeterminate";for(const ht of f){for(const Ge of ht.testTypes){const xt=Ge.parameters.find(mt=>mt.id===te);if(xt){Ve=sN(xt.resultValue,xt.reference_range,ht.category.name,Ge.testType.name,q.map(({value:mt})=>mt));break}}if(Ve!=="indeterminate")break}return _e===void 0?De[te]="off":_e==="off"?De[te]="on":_e==="on"?De[te]="warn":delete De[te],De})},ft=(te,xe,_e,De)=>{const Ve=te;return s.jsxs("div",{className:Me("flex items-start space-x-3",De),children:[s.jsx(Ve,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:xe}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:_e||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})};return g||M?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):j?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:n!=null&&n.patient_id?`/patients/${n.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[j," ",s.jsx(ne,{variant:"link",onClick:Tn,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:i?`/patients/${i.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",i?` ${i.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(at,{to:`/results/${e}/edit`,children:s.jsxs(ne,{variant:"secondary",size:"sm",children:[s.jsx(ds,{className:"mr-2 h-4 w-4"})," Modifier"]})}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:Mn,disabled:g,children:[s.jsx(Oh,{className:"mr-2 h-4 w-4"})," Imprimer"]}),s.jsxs(ne,{variant:"outline",size:"sm",disabled:!0,children:[s.jsx(p6,{className:"mr-2 h-4 w-4"})," Tlcharger"]})]})]}),s.jsxs("div",{ref:D,className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[R?s.jsx("div",{className:"mb-6 print:mb-4",children:s.jsx(pn,{data:Pt,isPreview:!1,reportTitle:"RAPPORT DE RSULTATS"})}):s.jsxs(It,{variant:"default",className:"mb-6 print:hidden",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tte Manquant"}),s.jsxs(Ut,{children:["La configuration de l'en-tte d'impression n'a pas t trouve."," ",s.jsx(at,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(us,{className:"my-4 print:hidden"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ft(Ye,"NOM PRENOM",i==null?void 0:i.full_name),ft(Ye,"IDENTIFIANT Unique",Ff(i==null?void 0:i.patient_unique_id)),ft(fn,"Date Naissance",i!=null&&i.date_of_birth?ct(Jt(i.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:ft(fn,"Date Rsultat",n.result_date?ct(Jt(n.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ft(Yt,"NOM PRENOM",u==null?void 0:u.full_name),ft(yn,"Tlphone",u==null?void 0:u.phone),ft(Ye,"Provenance",u==null?void 0:u.hospital)]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ft(fn,"Date Rsultat",n.result_date?ct(Jt(n.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),$?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:W,onChange:te=>J(te.target.value),disabled:B}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:W,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),$?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:L,onChange:te=>V(te.target.value),disabled:B}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:L,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:$?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:jn,disabled:B,children:[B?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>G(!1),disabled:B,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>G(!0),children:"Modifier Prix"})}),I&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:I})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:n.status??"",onValueChange:te=>Ar(te),disabled:b,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q6,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),b&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),S&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:S}),s.jsx(qr,{variant:sq(n.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:aq(n.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 hidden print:grid",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"})," Patient"]}),ft(Ye,"NOM PRENOM",i==null?void 0:i.full_name),ft(Ye,"ID Unique",Ff(i==null?void 0:i.patient_unique_id)),ft(yn,"Tlphone",i==null?void 0:i.phone)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(ir,{className:"h-4 w-4"})," Mdecin"]}),ft(Yt,"NOM PRENOM",u==null?void 0:u.full_name),ft(yn,"Tlphone",u==null?void 0:u.phone),ft(Ye,"Provenance",u==null?void 0:u.hospital)]})]}),f.length>1&&s.jsxs("div",{className:"my-6 print:hidden",children:[s.jsx(Le,{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Rorganiser les Catgories (Glisser-Dposer) :"}),s.jsx(M9,{sensors:O,collisionDetection:MH,onDragEnd:na,children:s.jsx(B9,{items:f.map(te=>te.category.id),strategy:F9,children:s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(te=>s.jsx(oq,{category:te.category},te.category.id))})})}),s.jsx(us,{className:"mt-6"})]}),s.jsxs("div",{className:"flex gap-4 mb-2 print:hidden items-end",children:[s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"paramWidth",children:"Paramtre (%)"}),s.jsx("input",{id:"paramWidth",type:"number",min:5,max:80,value:fe,onChange:te=>Se(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"valueWidth",children:"Valeur (%)"}),s.jsx("input",{id:"valueWidth",type:"number",min:5,max:80,value:Ae,onChange:te=>it(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"unitWidth",children:"Unit (%)"}),s.jsx("input",{id:"unitWidth",type:"number",min:5,max:80,value:rt,onChange:te=>Dt(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"refWidth",children:"Rf. (%)"}),s.jsx("input",{id:"refWidth",type:"number",min:5,max:80,value:ue,onChange:te=>ye(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]})]}),s.jsx("div",{className:"space-y-8 print:space-y-4",children:f.map(te=>{const xe=P[te.category.id]??!1,_e=ve.includes(te.category.id);return s.jsxs("div",{className:Me(xe&&"print-force-break-before",!_e&&"print:hidden"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 print:mb-2",children:[" ",s.jsxs("h2",{className:"text-xl font-bold uppercase mx-auto tracking-tight  print:text-center",children:[" ",te.category.name]}),s.jsx(us,{className:"flex-1 print:hidden"}),s.jsxs("div",{className:"flex items-center space-x-2 ml-auto print:hidden pl-4",children:[s.jsx(Sa,{id:`break-${te.category.id}`,checked:xe,onCheckedChange:De=>{const Ve=De===!0;Gr(te.category.id,Ve)},"aria-label":"Forcer saut de page avant"}),s.jsxs(Le,{htmlFor:`break-${te.category.id}`,className:"text-xs font-medium text-muted-foreground cursor-pointer flex items-center gap-1",title:"Forcer un saut de page avant cette catgorie  l'impression",children:[s.jsx(KI,{className:"h-3.5 w-3.5"})," Saut Page Avant"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-auto print:hidden pl-4",children:[s.jsx(Sa,{id:`print-${te.category.id}`,checked:ve.includes(te.category.id),onCheckedChange:De=>{$n(te.category.id)},"aria-label":"Inclure dans l'impression"}),s.jsx(Le,{htmlFor:`print-${te.category.id}`,className:"text-xs font-medium text-muted-foreground cursor-pointer flex items-center gap-1",title:"Inclure cette catgorie dans l'impression",children:"Imprimer"})]})]}),s.jsxs(Zs,{className:"print:text-xs",children:[s.jsx(Js,{className:"bg-muted/10 print:bg-gray-300 text-black",children:s.jsxs(Kt,{children:[s.jsx(vt,{style:{width:`${fe}%`},className:"pl-4 print:pl-1",children:"Paramtre"}),s.jsx(vt,{style:{width:`${Ae}%`},className:Me("pl-2 print:pl-1",dt.includes(te.category.id)&&_t.includes(te.category.id)?"":"do-something"),children:"Valeur"}),s.jsx(vt,{style:{width:`${rt}%`},className:"pl-2 print:pl-1 cursor-pointer",onClick:()=>{st(te.category.id)},children:dt.includes(te.category.id)?"Unit":""}),s.jsx(vt,{style:{width:`${ue}%`},className:"pr-4 print:pr-1 cursor-pointer",onClick:()=>{mn(te.category.id)},children:_t.includes(te.category.id)?"Rf.":""})]})}),s.jsxs(ea,{children:[te.testTypes.length===0&&s.jsx(Kt,{children:s.jsx(Qe,{colSpan:4,className:"h-10 text-center text-xs italic text-muted-foreground",children:"(Aucun type de test dans cette catgorie)"})}),te.testTypes.map(De=>s.jsxs(we.Fragment,{children:[De.parameters.length>1&&s.jsx(Kt,{className:Me("bg-muted/50 print:bg-gray-100  print:break-inside-avoid",$e.includes(De.testType.id)&&"!bg-red-400 print:hidden"),children:s.jsx(Qe,{colSpan:4,className:"py-1.5 px-4 print:px-1 font-semibold text-sm print:text-xs text-foreground print:text-black cursor-pointer",onClick:()=>Un(De.testType.id),children:Sv(De.testType.name)})}),De.parameters.length>0?s.jsxs(s.Fragment,{children:[De.parameters.map(Ve=>{var zt,Ht;const ht=sN(Ve.resultValue,Ve.reference_range,te.category.name,De.testType.name,q.map(({value:sn})=>sn)),Ge=F[Ve.id];let xt="",mt="";Ge==="on"?(xt="result-out-of-range",mt="font-bold text-red-700 dark:text-red-400 print:text-red-700"):Ge==="off"?xt="":Ge==="warn"?xt="result-indeterminate-range":ht==="out-of-range"?(xt="result-out-of-range",mt="font-bold text-red-700 dark:text-red-400 print:text-red-700"):ht==="indeterminate"?xt="result-indeterminate-range":xt="";const yt=De.parameters.length===1;return s.jsxs(Kt,{className:Me("print:even:bg-white print:break-inside-avoid  ",Oe.length>0&&Oe.includes(Ve.id)?"print:hidden":""),children:[s.jsx(Qe,{style:{width:`${fe}%`},className:Me("font-medium text-black pl-6 print:pl-2 cursor-pointer",Oe.includes(Ve.id)?" bg-red-400":""),dangerouslySetInnerHTML:{__html:yt?`<span style="font-weight: 600; color: black; display:inline-block; margin-left: -5px">${Ve.name}</span>`:Ve.name},onClick:()=>wn(Ve.id)}),s.jsx(Qe,{style:{width:`${Ae}%`},className:Me("pl-2 print:pl-1 cursor-pointer hover:bg-muted/50","cursor-pointer hover:bg-black/5 dark:hover:bg-white/5",mt,xt==="result-indeterminate-range"&&xt),onClick:()=>tn(Ve.id),title:"Cliquer pour changer le surlignage",children:s.jsx("p",{className:` inline-block px-2 mx-auto ${xt}`,children:Ve.resultValue})}),s.jsx(Qe,{style:{width:`${rt}%`},className:"pl-2 print:pl-1 text-black",dangerouslySetInnerHTML:{__html:Ve.unit||"-"}}),s.jsxs(Qe,{style:{width:`${ue}%`},className:"text-black pr-4 print:pr-1 !whitespace-pre-line",children:[!Ve.reference_range&&"-",Ve.reference_range==="NEGATIF"&&"-",((zt=Ve.reference_range)==null?void 0:zt.includes("style"))&&s.jsx("div",{dangerouslySetInnerHTML:{__html:Ve.reference_range}}),Ve.reference_range!=="NEGATIF"&&!((Ht=Ve.reference_range)!=null&&Ht.includes("style"))&&Ve.reference_range&&Ve.reference_range.split(";").map((sn,On)=>s.jsx("div",{children:sn},On))]})]},Ve.id)}),De.testType.description&&s.jsx(Kt,{children:s.jsx(Qe,{colSpan:4,className:"py-2 px-6 print:px-2 text-sm print:text-xs",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:De.testType.description}})})})]}):s.jsx(s.Fragment,{})]},De.testType.id)),te.testTypes.length>0&&te.testTypes.every(De=>De.parameters.length===0)&&s.jsx(Kt,{children:s.jsx(Qe,{colSpan:4,className:"h-10 text-center text-xs italic text-muted-foreground",children:"(Aucun paramtre dfini pour les tests de cette catgorie)"})})]})]})]},te.category.id)})}),s.jsxs(Ce,{className:"mt-8 print:hidden",children:[s.jsx(Te,{className:"pb-2",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),"Description du rsultat"]})}),s.jsx(Re,{children:s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:Q,onChange:te=>U(te.target.value),className:"w-full min-h-[100px] p-2 border rounded-md resize-y",placeholder:"Entrez une description pour ce rsultat..."}),oe&&s.jsx("div",{className:"absolute right-2 top-2",children:s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2 print:hidden",children:[s.jsx("label",{htmlFor:"marginTopControl",className:"text-xs",children:"Dcalage vertical (mt):"}),s.jsx("input",{id:"marginTopControl",type:"number",min:0,max:20,value:se,onChange:te=>ge(Number(te.target.value)),className:"border px-2 py-1 text-xs w-16 rounded"})]}),s.jsxs("div",{className:"text-sm text-black print:block print:mt-4",style:{marginTop:`${se*.25}rem`},children:[s.jsx("div",{className:"font-bold",children:Q.split(`
`).map((te,xe)=>s.jsx("div",{children:te},xe))}),s.jsx("div",{className:"mt-4",children:s.jsx(Hl,{date:n.result_date})}),s.jsxs("div",{className:"mt-[200px] flex flex-wrap flex-row items-center space-x-2 print:hidden",children:[s.jsx("div",{className:"",children:s.jsx(ne,{onClick:()=>t(`/protidogramme/${e}`),children:"Protidogramme"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ne,{onClick:()=>t(`/atb/${e}`),children:"ATB"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ne,{onClick:()=>t(`/ecb/${e}`),children:"ECB"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ne,{onClick:()=>t(`/vhb/${e}`),children:"VHB"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ne,{onClick:()=>t(`/vih/${e}`),children:"VIH"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ne,{onClick:()=>t(`/anapath/${e}`),children:"Anapath"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ne,{onClick:()=>t(`/spermogramme/${e}`),children:"Spermogramme"})})]})]})]})," "]}):s.jsx("div",{children:"Rsultat non trouv."})},oq=({category:e})=>{const{attributes:t,listeners:n,setNodeRef:r,transform:i,transition:l,isDragging:u}=K9({id:e.id}),d={transform:gu.Transform.toString(i),transition:l,opacity:u?.7:1,zIndex:u?10:void 0};return s.jsx("div",{ref:r,style:d,...t,children:s.jsxs(ne,{variant:"secondary",size:"sm",className:"cursor-grab touch-none flex items-center gap-1.5",children:[s.jsx("span",{...n,"aria-label":`Rorganiser ${e.name}`,children:s.jsx(b6,{className:"h-4 w-4 text-muted-foreground"})}),e.name]})})};function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function lq(e,t){if(co(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kR(e){var t=lq(e,"string");return co(t)=="symbol"?t:t+""}function Xc(e,t,n){return(t=kR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){Xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cq(e){if(Array.isArray(e))return e}function uq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,i=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw i}}return d}}function ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function LR(e,t){if(e){if(typeof e=="string")return ex(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,t):void 0}}function dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _a(e,t){return cq(e)||uq(e,t)||LR(e,t)||dq()}function fq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ka(e,t){if(e==null)return{};var n,r,i=fq(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hq=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function mq(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,l=e.defaultValue,u=l===void 0?null:l,d=e.inputValue,f=e.menuIsOpen,p=e.onChange,g=e.onInputChange,v=e.onMenuClose,b=e.onMenuOpen,w=e.value,j=ka(e,hq),N=h.useState(d!==void 0?d:n),S=_a(N,2),_=S[0],R=S[1],E=h.useState(f!==void 0?f:i),M=_a(E,2),C=M[0],D=M[1],O=h.useState(w!==void 0?w:u),P=_a(O,2),k=P[0],F=P[1],ie=h.useCallback(function(W,J){typeof p=="function"&&p(W,J),F(W)},[p]),Q=h.useCallback(function(W,J){var L;typeof g=="function"&&(L=g(W,J)),R(L!==void 0?L:W)},[g]),U=h.useCallback(function(){typeof b=="function"&&b(),D(!0)},[b]),oe=h.useCallback(function(){typeof v=="function"&&v(),D(!1)},[v]),le=d!==void 0?d:_,$=f!==void 0?f:C,G=w!==void 0?w:k;return Xe(Xe({},j),{},{inputValue:le,menuIsOpen:$,onChange:ie,onInputChange:Q,onMenuClose:oe,onMenuOpen:U,value:G})}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(null,arguments)}function pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kR(r.key),r)}}function gq(e,t,n){return t&&yN(e.prototype,t),n&&yN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tx(e,t)}function vq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sh(e)}function IR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!e})()}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(e,t){if(t&&(co(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function yq(e){var t=IR();return function(){var n,r=sh(e);if(t){var i=sh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bq(this,n)}}function wq(e){if(Array.isArray(e))return ex(e)}function jq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Db(e){return wq(e)||jq(e)||LR(e)||Nq()}function Sq(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function _q(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Eq=function(){function e(n){var r=this;this._insertTag=function(i){var l;r.tags.length===0?r.insertionPoint?l=r.insertionPoint.nextSibling:r.prepend?l=r.container.firstChild:l=r.before:l=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,l),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_q(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var l=Sq(i);try{l.insertRule(r,l.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),cr="-ms-",ah="-moz-",Gt="-webkit-",$R="comm",Pb="rule",kb="decl",Cq="@import",UR="@keyframes",Rq="@layer",Tq=Math.abs,Zh=String.fromCharCode,Mq=Object.assign;function Oq(e,t){return sr(e,0)^45?(((t<<2^sr(e,0))<<2^sr(e,1))<<2^sr(e,2))<<2^sr(e,3):0}function zR(e){return e.trim()}function Aq(e,t){return(e=t.exec(e))?e[0]:e}function Xt(e,t,n){return e.replace(t,n)}function nx(e,t){return e.indexOf(t)}function sr(e,t){return e.charCodeAt(t)|0}function xu(e,t,n){return e.slice(t,n)}function Is(e){return e.length}function Lb(e){return e.length}function wf(e,t){return t.push(e),e}function Dq(e,t){return e.map(t).join("")}var Jh=1,Rl=1,FR=0,Mr=0,In=0,ql="";function em(e,t,n,r,i,l,u){return{value:e,root:t,parent:n,type:r,props:i,children:l,line:Jh,column:Rl,length:u,return:""}}function Hc(e,t){return Mq(em("",null,null,"",null,null,0),e,{length:-e.length},t)}function Pq(){return In}function kq(){return In=Mr>0?sr(ql,--Mr):0,Rl--,In===10&&(Rl=1,Jh--),In}function Vr(){return In=Mr<FR?sr(ql,Mr++):0,Rl++,In===10&&(Rl=1,Jh++),In}function qs(){return sr(ql,Mr)}function kf(){return Mr}function Yu(e,t){return xu(ql,e,t)}function bu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VR(e){return Jh=Rl=1,FR=Is(ql=e),Mr=0,[]}function BR(e){return ql="",e}function Lf(e){return zR(Yu(Mr-1,rx(e===91?e+2:e===40?e+1:e)))}function Lq(e){for(;(In=qs())&&In<33;)Vr();return bu(e)>2||bu(In)>3?"":" "}function Iq(e,t){for(;--t&&Vr()&&!(In<48||In>102||In>57&&In<65||In>70&&In<97););return Yu(e,kf()+(t<6&&qs()==32&&Vr()==32))}function rx(e){for(;Vr();)switch(In){case e:return Mr;case 34:case 39:e!==34&&e!==39&&rx(In);break;case 40:e===41&&rx(e);break;case 92:Vr();break}return Mr}function $q(e,t){for(;Vr()&&e+In!==57;)if(e+In===84&&qs()===47)break;return"/*"+Yu(t,Mr-1)+"*"+Zh(e===47?e:Vr())}function Uq(e){for(;!bu(qs());)Vr();return Yu(e,Mr)}function zq(e){return BR(If("",null,null,null,[""],e=VR(e),0,[0],e))}function If(e,t,n,r,i,l,u,d,f){for(var p=0,g=0,v=u,b=0,w=0,j=0,N=1,S=1,_=1,R=0,E="",M=i,C=l,D=r,O=E;S;)switch(j=R,R=Vr()){case 40:if(j!=108&&sr(O,v-1)==58){nx(O+=Xt(Lf(R),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:O+=Lf(R);break;case 9:case 10:case 13:case 32:O+=Lq(j);break;case 92:O+=Iq(kf()-1,7);continue;case 47:switch(qs()){case 42:case 47:wf(Fq($q(Vr(),kf()),t,n),f);break;default:O+="/"}break;case 123*N:d[p++]=Is(O)*_;case 125*N:case 59:case 0:switch(R){case 0:case 125:S=0;case 59+g:_==-1&&(O=Xt(O,/\f/g,"")),w>0&&Is(O)-v&&wf(w>32?jN(O+";",r,n,v-1):jN(Xt(O," ","")+";",r,n,v-2),f);break;case 59:O+=";";default:if(wf(D=wN(O,t,n,p,g,i,d,E,M=[],C=[],v),l),R===123)if(g===0)If(O,t,D,D,M,l,v,d,C);else switch(b===99&&sr(O,3)===110?100:b){case 100:case 108:case 109:case 115:If(e,D,D,r&&wf(wN(e,D,D,0,0,i,d,E,i,M=[],v),C),i,C,v,d,r?M:C);break;default:If(O,D,D,D,[""],C,0,d,C)}}p=g=w=0,N=_=1,E=O="",v=u;break;case 58:v=1+Is(O),w=j;default:if(N<1){if(R==123)--N;else if(R==125&&N++==0&&kq()==125)continue}switch(O+=Zh(R),R*N){case 38:_=g>0?1:(O+="\f",-1);break;case 44:d[p++]=(Is(O)-1)*_,_=1;break;case 64:qs()===45&&(O+=Lf(Vr())),b=qs(),g=v=Is(E=O+=Uq(kf())),R++;break;case 45:j===45&&Is(O)==2&&(N=0)}}return l}function wN(e,t,n,r,i,l,u,d,f,p,g){for(var v=i-1,b=i===0?l:[""],w=Lb(b),j=0,N=0,S=0;j<r;++j)for(var _=0,R=xu(e,v+1,v=Tq(N=u[j])),E=e;_<w;++_)(E=zR(N>0?b[_]+" "+R:Xt(R,/&\f/g,b[_])))&&(f[S++]=E);return em(e,t,n,i===0?Pb:d,f,p,g)}function Fq(e,t,n){return em(e,t,n,$R,Zh(Pq()),xu(e,2,-2),0)}function jN(e,t,n,r){return em(e,t,n,kb,xu(e,0,r),xu(e,r+1,-1),r)}function xl(e,t){for(var n="",r=Lb(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Vq(e,t,n,r){switch(e.type){case Rq:if(e.children.length)break;case Cq:case kb:return e.return=e.return||e.value;case $R:return"";case UR:return e.return=e.value+"{"+xl(e.children,r)+"}";case Pb:e.value=e.props.join(",")}return Is(n=xl(e.children,r))?e.return=e.value+"{"+n+"}":""}function Bq(e){var t=Lb(e);return function(n,r,i,l){for(var u="",d=0;d<t;d++)u+=e[d](n,r,i,l)||"";return u}}function Hq(e){return function(t){t.root||(t=t.return)&&e(t)}}function qq(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Wq=function(t,n,r){for(var i=0,l=0;i=l,l=qs(),i===38&&l===12&&(n[r]=1),!bu(l);)Vr();return Yu(t,Mr)},Yq=function(t,n){var r=-1,i=44;do switch(bu(i)){case 0:i===38&&qs()===12&&(n[r]=1),t[r]+=Wq(Mr-1,n,r);break;case 2:t[r]+=Lf(i);break;case 4:if(i===44){t[++r]=qs()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Zh(i)}while(i=Vr());return t},Gq=function(t,n){return BR(Yq(VR(t),n))},NN=new WeakMap,Xq=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!NN.get(r))&&!i){NN.set(t,!0);for(var l=[],u=Gq(n,l),d=r.props,f=0,p=0;f<u.length;f++)for(var g=0;g<d.length;g++,p++)t.props[p]=l[f]?u[f].replace(/&\f/g,d[g]):d[g]+" "+u[f]}}},Kq=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function HR(e,t){switch(Oq(e,t)){case 5103:return Gt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+e+ah+e+cr+e+e;case 6828:case 4268:return Gt+e+cr+e+e;case 6165:return Gt+e+cr+"flex-"+e+e;case 5187:return Gt+e+Xt(e,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+cr+"flex-$1$2")+e;case 5443:return Gt+e+cr+"flex-item-"+Xt(e,/flex-|-self/,"")+e;case 4675:return Gt+e+cr+"flex-line-pack"+Xt(e,/align-content|flex-|-self/,"")+e;case 5548:return Gt+e+cr+Xt(e,"shrink","negative")+e;case 5292:return Gt+e+cr+Xt(e,"basis","preferred-size")+e;case 6060:return Gt+"box-"+Xt(e,"-grow","")+Gt+e+cr+Xt(e,"grow","positive")+e;case 4554:return Gt+Xt(e,/([^-])(transform)/g,"$1"+Gt+"$2")+e;case 6187:return Xt(Xt(Xt(e,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),e,"")+e;case 5495:case 3959:return Xt(e,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return Xt(Xt(e,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+cr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+e+e;case 4095:case 3583:case 4068:case 2532:return Xt(e,/(.+)-inline(.+)/,Gt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Is(e)-1-t>6)switch(sr(e,t+1)){case 109:if(sr(e,t+4)!==45)break;case 102:return Xt(e,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+ah+(sr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~nx(e,"stretch")?HR(Xt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(sr(e,t+1)!==115)break;case 6444:switch(sr(e,Is(e)-3-(~nx(e,"!important")&&10))){case 107:return Xt(e,":",":"+Gt)+e;case 101:return Xt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gt+(sr(e,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+cr+"$2box$3")+e}break;case 5936:switch(sr(e,t+11)){case 114:return Gt+e+cr+Xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Gt+e+cr+Xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Gt+e+cr+Xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Gt+e+cr+e+e}return e}var Qq=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case kb:t.return=HR(t.value,t.length);break;case UR:return xl([Hc(t,{value:Xt(t.value,"@","@"+Gt)})],i);case Pb:if(t.length)return Dq(t.props,function(l){switch(Aq(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xl([Hc(t,{props:[Xt(l,/:(read-\w+)/,":"+ah+"$1")]})],i);case"::placeholder":return xl([Hc(t,{props:[Xt(l,/:(plac\w+)/,":"+Gt+"input-$1")]}),Hc(t,{props:[Xt(l,/:(plac\w+)/,":"+ah+"$1")]}),Hc(t,{props:[Xt(l,/:(plac\w+)/,cr+"input-$1")]})],i)}return""})}},Zq=[Qq],Jq=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(N){var S=N.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var i=t.stylisPlugins||Zq,l={},u,d=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(N){for(var S=N.getAttribute("data-emotion").split(" "),_=1;_<S.length;_++)l[S[_]]=!0;d.push(N)});var f,p=[Xq,Kq];{var g,v=[Vq,Hq(function(N){g.insert(N)})],b=Bq(p.concat(i,v)),w=function(S){return xl(zq(S),b)};f=function(S,_,R,E){g=R,w(S?S+"{"+_.styles+"}":_.styles),E&&(j.inserted[_.name]=!0)}}var j={key:n,sheet:new Eq({key:n,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:f};return j.sheet.hydrate(d),j},Qg={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function e7(){if(SN)return Zt;SN=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,u=e?Symbol.for("react.provider"):60109,d=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,v=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,w=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,N=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,R=e?Symbol.for("react.scope"):60119;function E(C){if(typeof C=="object"&&C!==null){var D=C.$$typeof;switch(D){case t:switch(C=C.type,C){case f:case p:case r:case l:case i:case v:return C;default:switch(C=C&&C.$$typeof,C){case d:case g:case j:case w:case u:return C;default:return D}}case n:return D}}}function M(C){return E(C)===p}return Zt.AsyncMode=f,Zt.ConcurrentMode=p,Zt.ContextConsumer=d,Zt.ContextProvider=u,Zt.Element=t,Zt.ForwardRef=g,Zt.Fragment=r,Zt.Lazy=j,Zt.Memo=w,Zt.Portal=n,Zt.Profiler=l,Zt.StrictMode=i,Zt.Suspense=v,Zt.isAsyncMode=function(C){return M(C)||E(C)===f},Zt.isConcurrentMode=M,Zt.isContextConsumer=function(C){return E(C)===d},Zt.isContextProvider=function(C){return E(C)===u},Zt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Zt.isForwardRef=function(C){return E(C)===g},Zt.isFragment=function(C){return E(C)===r},Zt.isLazy=function(C){return E(C)===j},Zt.isMemo=function(C){return E(C)===w},Zt.isPortal=function(C){return E(C)===n},Zt.isProfiler=function(C){return E(C)===l},Zt.isStrictMode=function(C){return E(C)===i},Zt.isSuspense=function(C){return E(C)===v},Zt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===p||C===l||C===i||C===v||C===b||typeof C=="object"&&C!==null&&(C.$$typeof===j||C.$$typeof===w||C.$$typeof===u||C.$$typeof===d||C.$$typeof===g||C.$$typeof===S||C.$$typeof===_||C.$$typeof===R||C.$$typeof===N)},Zt.typeOf=E,Zt}var _N;function t7(){return _N||(_N=1,Qg.exports=e7()),Qg.exports}var Zg,EN;function n7(){if(EN)return Zg;EN=1;var e=t7(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[e.ForwardRef]=r,l[e.Memo]=i;function u(j){return e.isMemo(j)?i:l[j.$$typeof]||t}var d=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,b=Object.prototype;function w(j,N,S){if(typeof N!="string"){if(b){var _=v(N);_&&_!==b&&w(j,_,S)}var R=f(N);p&&(R=R.concat(p(N)));for(var E=u(j),M=u(N),C=0;C<R.length;++C){var D=R[C];if(!n[D]&&!(S&&S[D])&&!(M&&M[D])&&!(E&&E[D])){var O=g(N,D);try{d(j,D,O)}catch{}}}}return j}return Zg=w,Zg}n7();var r7=!0;function s7(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var qR=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||r7===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},a7=function(t,n,r){qR(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var l=n;do t.insert(n===l?"."+i:"",l,t.sheet,!0),l=l.next;while(l!==void 0)}};function i7(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var o7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l7=/[A-Z]|^ms/g,c7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WR=function(t){return t.charCodeAt(1)===45},CN=function(t){return t!=null&&typeof t!="boolean"},Jg=qq(function(e){return WR(e)?e:e.replace(l7,"-$&").toLowerCase()}),RN=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(c7,function(r,i,l){return $s={name:i,styles:l,next:$s},i})}return o7[t]!==1&&!WR(t)&&typeof n=="number"&&n!==0?n+"px":n};function yu(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return $s={name:i.name,styles:i.styles,next:$s},i.name;var l=n;if(l.styles!==void 0){var u=l.next;if(u!==void 0)for(;u!==void 0;)$s={name:u.name,styles:u.styles,next:$s},u=u.next;var d=l.styles+";";return d}return u7(e,t,n)}case"function":{if(e!==void 0){var f=$s,p=n(e);return $s=f,yu(e,t,p)}break}}var g=n;return g}function u7(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=yu(e,t,n[i])+";";else for(var l in n){var u=n[l];if(typeof u!="object"){var d=u;CN(d)&&(r+=Jg(l)+":"+RN(l,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&t==null)for(var f=0;f<u.length;f++)CN(u[f])&&(r+=Jg(l)+":"+RN(l,u[f])+";");else{var p=yu(e,t,u);switch(l){case"animation":case"animationName":{r+=Jg(l)+":"+p+";";break}default:r+=l+"{"+p+"}"}}}return r}var TN=/label:\s*([^\s;{]+)\s*(;|$)/g,$s;function YR(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";$s=void 0;var l=e[0];if(l==null||l.raw===void 0)r=!1,i+=yu(n,t,l);else{var u=l;i+=u[0]}for(var d=1;d<e.length;d++)if(i+=yu(n,t,e[d]),r){var f=l;i+=f[d]}TN.lastIndex=0;for(var p="",g;(g=TN.exec(i))!==null;)p+="-"+g[1];var v=i7(i)+p;return{name:v,styles:i,next:$s}}var d7=function(t){return t()},f7=ru.useInsertionEffect?ru.useInsertionEffect:!1,h7=f7||d7,GR=h.createContext(typeof HTMLElement<"u"?Jq({key:"css"}):null);GR.Provider;var m7=function(t){return h.forwardRef(function(n,r){var i=h.useContext(GR);return t(n,i,r)})},p7=h.createContext({}),Ib={}.hasOwnProperty,sx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g7=function(t,n){var r={};for(var i in n)Ib.call(n,i)&&(r[i]=n[i]);return r[sx]=t,r},v7=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return qR(n,r,i),h7(function(){return a7(n,r,i)}),null},x7=m7(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[sx],l=[r],u="";typeof e.className=="string"?u=s7(t.registered,l,e.className):e.className!=null&&(u=e.className+" ");var d=YR(l,void 0,h.useContext(p7));u+=t.key+"-"+d.name;var f={};for(var p in e)Ib.call(e,p)&&p!=="css"&&p!==sx&&(f[p]=e[p]);return f.className=u,n&&(f.ref=n),h.createElement(h.Fragment,null,h.createElement(v7,{cache:t,serialized:d,isStringTag:typeof i=="string"}),h.createElement(i,f))}),b7=x7,We=function(t,n){var r=arguments;if(n==null||!Ib.call(n,"css"))return h.createElement.apply(void 0,r);var i=r.length,l=new Array(i);l[0]=b7,l[1]=g7(t,n);for(var u=2;u<i;u++)l[u]=r[u];return h.createElement.apply(null,l)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(We||(We={}));function $b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YR(t)}function y7(){var e=$b.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function w7(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ax=h.useLayoutEffect,j7=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ih=function(){};function N7(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function S7(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var l=[].concat(r);if(t&&e)for(var u in t)t.hasOwnProperty(u)&&t[u]&&l.push("".concat(N7(e,u)));return l.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var MN=function(t){return D7(t)?t.filter(Boolean):co(t)==="object"&&t!==null?[t]:[]},XR=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=ka(t,j7);return Xe({},n)},En=function(t,n,r){var i=t.cx,l=t.getStyles,u=t.getClassNames,d=t.className;return{css:l(n,t),className:i(r??{},u(n,t),d)}};function tm(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function _7(e){return tm(e)?window.innerHeight:e.clientHeight}function KR(e){return tm(e)?window.pageYOffset:e.scrollTop}function oh(e,t){if(tm(e)){window.scrollTo(0,t);return}e.scrollTop=t}function E7(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function C7(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function jf(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ih,i=KR(e),l=t-i,u=10,d=0;function f(){d+=u;var p=C7(d,i,l,n);oh(e,p),d<n?window.requestAnimationFrame(f):r(e)}f()}function ON(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?oh(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&oh(e,Math.max(t.offsetTop-i,0))}function R7(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function AN(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function T7(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var QR=!1,M7={get passive(){return QR=!0}},Nf=typeof window<"u"?window:{};Nf.addEventListener&&Nf.removeEventListener&&(Nf.addEventListener("p",ih,M7),Nf.removeEventListener("p",ih,!1));var O7=QR;function A7(e){return e!=null}function D7(e){return Array.isArray(e)}function Sf(e,t,n){return e?t:n}var P7=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var l=Object.entries(t).filter(function(u){var d=_a(u,1),f=d[0];return!r.includes(f)});return l.reduce(function(u,d){var f=_a(d,2),p=f[0],g=f[1];return u[p]=g,u},{})},k7=["children","innerProps"],L7=["children","innerProps"];function I7(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,l=e.shouldScroll,u=e.isFixedPosition,d=e.controlHeight,f=E7(n),p={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return p;var g=f.getBoundingClientRect(),v=g.height,b=n.getBoundingClientRect(),w=b.bottom,j=b.height,N=b.top,S=n.offsetParent.getBoundingClientRect(),_=S.top,R=u?window.innerHeight:_7(f),E=KR(f),M=parseInt(getComputedStyle(n).marginBottom,10),C=parseInt(getComputedStyle(n).marginTop,10),D=_-C,O=R-N,P=D+E,k=v-E-N,F=w-R+E+M,ie=E+N-C,Q=160;switch(i){case"auto":case"bottom":if(O>=j)return{placement:"bottom",maxHeight:t};if(k>=j&&!u)return l&&jf(f,F,Q),{placement:"bottom",maxHeight:t};if(!u&&k>=r||u&&O>=r){l&&jf(f,F,Q);var U=u?O-M:k-M;return{placement:"bottom",maxHeight:U}}if(i==="auto"||u){var oe=t,le=u?D:P;return le>=r&&(oe=Math.min(le-M-d,t)),{placement:"top",maxHeight:oe}}if(i==="bottom")return l&&oh(f,F),{placement:"bottom",maxHeight:t};break;case"top":if(D>=j)return{placement:"top",maxHeight:t};if(P>=j&&!u)return l&&jf(f,ie,Q),{placement:"top",maxHeight:t};if(!u&&P>=r||u&&D>=r){var $=t;return(!u&&P>=r||u&&D>=r)&&($=u?D-C:P-C),l&&jf(f,ie,Q),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return p}function $7(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var ZR=function(t){return t==="auto"?"bottom":t},U7=function(t,n){var r,i=t.placement,l=t.theme,u=l.borderRadius,d=l.spacing,f=l.colors;return Xe((r={label:"menu"},Xc(r,$7(i),"100%"),Xc(r,"position","absolute"),Xc(r,"width","100%"),Xc(r,"zIndex",1),r),n?{}:{backgroundColor:f.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},JR=h.createContext(null),z7=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,l=t.menuPlacement,u=t.menuPosition,d=t.menuShouldScrollIntoView,f=t.theme,p=h.useContext(JR)||{},g=p.setPortalPlacement,v=h.useRef(null),b=h.useState(i),w=_a(b,2),j=w[0],N=w[1],S=h.useState(null),_=_a(S,2),R=_[0],E=_[1],M=f.spacing.controlHeight;return ax(function(){var C=v.current;if(C){var D=u==="fixed",O=d&&!D,P=I7({maxHeight:i,menuEl:C,minHeight:r,placement:l,shouldScroll:O,isFixedPosition:D,controlHeight:M});N(P.maxHeight),E(P.placement),g==null||g(P.placement)}},[i,l,u,d,r,g,M]),n({ref:v,placerProps:Xe(Xe({},t),{},{placement:R||ZR(l),maxHeight:j})})},F7=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return We("div",Je({},En(t,"menu",{menu:!0}),{ref:r},i),n)},V7=F7,B7=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return Xe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},H7=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,l=t.isMulti;return We("div",Je({},En(t,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:i},r),n)},eT=function(t,n){var r=t.theme,i=r.spacing.baseUnit,l=r.colors;return Xe({textAlign:"center"},n?{}:{color:l.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},q7=eT,W7=eT,Y7=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,l=ka(t,k7);return We("div",Je({},En(Xe(Xe({},l),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},G7=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,l=ka(t,L7);return We("div",Je({},En(Xe(Xe({},l),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},X7=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},K7=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,l=t.innerProps,u=t.menuPlacement,d=t.menuPosition,f=h.useRef(null),p=h.useRef(null),g=h.useState(ZR(u)),v=_a(g,2),b=v[0],w=v[1],j=h.useMemo(function(){return{setPortalPlacement:w}},[]),N=h.useState(null),S=_a(N,2),_=S[0],R=S[1],E=h.useCallback(function(){if(i){var O=R7(i),P=d==="fixed"?0:window.pageYOffset,k=O[b]+P;(k!==(_==null?void 0:_.offset)||O.left!==(_==null?void 0:_.rect.left)||O.width!==(_==null?void 0:_.rect.width))&&R({offset:k,rect:O})}},[i,d,b,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);ax(function(){E()},[E]);var M=h.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),i&&f.current&&(p.current=b_(i,f.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);ax(function(){M()},[M]);var C=h.useCallback(function(O){f.current=O,M()},[M]);if(!n&&d!=="fixed"||!_)return null;var D=We("div",Je({ref:C},En(Xe(Xe({},t),{},{offset:_.offset,position:d,rect:_.rect}),"menuPortal",{"menu-portal":!0}),l),r);return We(JR.Provider,{value:j},n?ls.createPortal(D,n):D)},Q7=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Z7=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,l=t.isRtl;return We("div",Je({},En(t,"container",{"--is-disabled":i,"--is-rtl":l}),r),n)},J7=function(t,n){var r=t.theme.spacing,i=t.isMulti,l=t.hasValue,u=t.selectProps.controlShouldRenderValue;return Xe({alignItems:"center",display:i&&l&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},eW=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,l=t.hasValue;return We("div",Je({},En(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":l}),r),n)},tW=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},nW=function(t){var n=t.children,r=t.innerProps;return We("div",Je({},En(t,"indicatorsContainer",{indicators:!0}),r),n)},DN,rW=["size"],sW=["innerProps","isRtl","size"],aW={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tT=function(t){var n=t.size,r=ka(t,rW);return We("svg",Je({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:aW},r))},Ub=function(t){return We(tT,Je({size:20},t),We("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},nT=function(t){return We(tT,Je({size:20},t),We("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},rT=function(t,n){var r=t.isFocused,i=t.theme,l=i.spacing.baseUnit,u=i.colors;return Xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?u.neutral60:u.neutral20,padding:l*2,":hover":{color:r?u.neutral80:u.neutral40}})},iW=rT,oW=function(t){var n=t.children,r=t.innerProps;return We("div",Je({},En(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||We(nT,null))},lW=rT,cW=function(t){var n=t.children,r=t.innerProps;return We("div",Je({},En(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||We(Ub,null))},uW=function(t,n){var r=t.isDisabled,i=t.theme,l=i.spacing.baseUnit,u=i.colors;return Xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:l*2,marginTop:l*2})},dW=function(t){var n=t.innerProps;return We("span",Je({},n,En(t,"indicatorSeparator",{"indicator-separator":!0})))},fW=y7(DN||(DN=w7([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),hW=function(t,n){var r=t.isFocused,i=t.size,l=t.theme,u=l.colors,d=l.spacing.baseUnit;return Xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?u.neutral60:u.neutral20,padding:d*2})},ev=function(t){var n=t.delay,r=t.offset;return We("span",{css:$b({animation:"".concat(fW," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},mW=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,l=i===void 0?4:i,u=ka(t,sW);return We("div",Je({},En(Xe(Xe({},u),{},{innerProps:n,isRtl:r,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),We(ev,{delay:0,offset:r}),We(ev,{delay:160,offset:!0}),We(ev,{delay:320,offset:!r}))},pW=function(t,n){var r=t.isDisabled,i=t.isFocused,l=t.theme,u=l.colors,d=l.borderRadius,f=l.spacing;return Xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:i?u.primary:u.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:i?u.primary:u.neutral30}})},gW=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,l=t.innerRef,u=t.innerProps,d=t.menuIsOpen;return We("div",Je({ref:l},En(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":d}),u,{"aria-disabled":r||void 0}),n)},vW=gW,xW=["data"],bW=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},yW=function(t){var n=t.children,r=t.cx,i=t.getStyles,l=t.getClassNames,u=t.Heading,d=t.headingProps,f=t.innerProps,p=t.label,g=t.theme,v=t.selectProps;return We("div",Je({},En(t,"group",{group:!0}),f),We(u,Je({},d,{selectProps:v,theme:g,getStyles:i,getClassNames:l,cx:r}),p),We("div",null,n))},wW=function(t,n){var r=t.theme,i=r.colors,l=r.spacing;return Xe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},jW=function(t){var n=XR(t);n.data;var r=ka(n,xW);return We("div",Je({},En(t,"groupHeading",{"group-heading":!0}),r))},NW=yW,SW=["innerRef","isDisabled","isHidden","inputClassName"],_W=function(t,n){var r=t.isDisabled,i=t.value,l=t.theme,u=l.spacing,d=l.colors;return Xe(Xe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},EW),n?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:d.neutral80})},sT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},EW={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},sT)},CW=function(t){return Xe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},sT)},RW=function(t){var n=t.cx,r=t.value,i=XR(t),l=i.innerRef,u=i.isDisabled,d=i.isHidden,f=i.inputClassName,p=ka(i,SW);return We("div",Je({},En(t,"input",{"input-container":!0}),{"data-value":r||""}),We("input",Je({className:n({input:!0},f),ref:l,style:CW(d),disabled:u},p)))},TW=RW,MW=function(t,n){var r=t.theme,i=r.spacing,l=r.borderRadius,u=r.colors;return Xe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:u.neutral10,borderRadius:l/2,margin:i.baseUnit/2})},OW=function(t,n){var r=t.theme,i=r.borderRadius,l=r.colors,u=t.cropWithEllipsis;return Xe({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},AW=function(t,n){var r=t.theme,i=r.spacing,l=r.borderRadius,u=r.colors,d=t.isFocused;return Xe({alignItems:"center",display:"flex"},n?{}:{borderRadius:l/2,backgroundColor:d?u.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},aT=function(t){var n=t.children,r=t.innerProps;return We("div",r,n)},DW=aT,PW=aT;function kW(e){var t=e.children,n=e.innerProps;return We("div",Je({role:"button"},n),t||We(Ub,{size:14}))}var LW=function(t){var n=t.children,r=t.components,i=t.data,l=t.innerProps,u=t.isDisabled,d=t.removeProps,f=t.selectProps,p=r.Container,g=r.Label,v=r.Remove;return We(p,{data:i,innerProps:Xe(Xe({},En(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),l),selectProps:f},We(g,{data:i,innerProps:Xe({},En(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},n),We(v,{data:i,innerProps:Xe(Xe({},En(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},d),selectProps:f}))},IW=LW,$W=function(t,n){var r=t.isDisabled,i=t.isFocused,l=t.isSelected,u=t.theme,d=u.spacing,f=u.colors;return Xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:l?f.primary:i?f.primary25:"transparent",color:r?f.neutral20:l?f.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:l?f.primary:f.primary50}})},UW=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,l=t.isSelected,u=t.innerRef,d=t.innerProps;return We("div",Je({},En(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":l}),{ref:u,"aria-disabled":r},d),n)},zW=UW,FW=function(t,n){var r=t.theme,i=r.spacing,l=r.colors;return Xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:l.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},VW=function(t){var n=t.children,r=t.innerProps;return We("div",Je({},En(t,"placeholder",{placeholder:!0}),r),n)},BW=VW,HW=function(t,n){var r=t.isDisabled,i=t.theme,l=i.spacing,u=i.colors;return Xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?u.neutral40:u.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},qW=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return We("div",Je({},En(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},WW=qW,YW={ClearIndicator:cW,Control:vW,DropdownIndicator:oW,DownChevron:nT,CrossIcon:Ub,Group:NW,GroupHeading:jW,IndicatorsContainer:nW,IndicatorSeparator:dW,Input:TW,LoadingIndicator:mW,Menu:V7,MenuList:H7,MenuPortal:K7,LoadingMessage:G7,NoOptionsMessage:Y7,MultiValue:IW,MultiValueContainer:DW,MultiValueLabel:PW,MultiValueRemove:kW,Option:zW,Placeholder:BW,SelectContainer:Z7,SingleValue:WW,ValueContainer:eW},GW=function(t){return Xe(Xe({},YW),t.components)},PN=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function XW(e,t){return!!(e===t||PN(e)&&PN(t))}function KW(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!XW(e[n],t[n]))return!1;return!0}function QW(e,t){t===void 0&&(t=KW);var n=null;function r(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var u=e.apply(this,i);return n={lastResult:u,lastArgs:i,lastThis:this},u}return r.clear=function(){n=null},r}var ZW={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},JW=function(t){return We("span",Je({css:ZW},t))},kN=JW,eY={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,l=t.context,u=t.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,l=t.labels,u=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return u?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,l=t.label,u=l===void 0?"":l,d=t.selectValue,f=t.isDisabled,p=t.isSelected,g=t.isAppleDevice,v=function(N,S){return N&&N.length?"".concat(N.indexOf(S)+1," of ").concat(N.length):""};if(n==="value"&&d)return"value ".concat(u," focused, ").concat(v(d,r),".");if(n==="menu"&&g){var b=f?" disabled":"",w="".concat(p?" selected":"").concat(b);return"".concat(u).concat(w,", ").concat(v(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},tY=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,l=t.focusableOptions,u=t.isFocused,d=t.selectValue,f=t.selectProps,p=t.id,g=t.isAppleDevice,v=f.ariaLiveMessages,b=f.getOptionLabel,w=f.inputValue,j=f.isMulti,N=f.isOptionDisabled,S=f.isSearchable,_=f.menuIsOpen,R=f.options,E=f.screenReaderStatus,M=f.tabSelectsValue,C=f.isLoading,D=f["aria-label"],O=f["aria-live"],P=h.useMemo(function(){return Xe(Xe({},eY),v||{})},[v]),k=h.useMemo(function(){var le="";if(n&&P.onChange){var $=n.option,G=n.options,W=n.removedValue,J=n.removedValues,L=n.value,V=function(se){return Array.isArray(se)?null:se},B=W||$||V(L),H=B?b(B):"",I=G||J||void 0,z=I?I.map(b):[],q=Xe({isDisabled:B&&N(B,d),label:H,labels:z},n);le=P.onChange(q)}return le},[n,P,N,d,b]),F=h.useMemo(function(){var le="",$=r||i,G=!!(r&&d&&d.includes(r));if($&&P.onFocus){var W={focused:$,label:b($),isDisabled:N($,d),isSelected:G,options:l,context:$===r?"menu":"value",selectValue:d,isAppleDevice:g};le=P.onFocus(W)}return le},[r,i,b,N,P,l,d,g]),ie=h.useMemo(function(){var le="";if(_&&R.length&&!C&&P.onFilter){var $=E({count:l.length});le=P.onFilter({inputValue:w,resultsMessage:$})}return le},[l,w,_,P,R,E,C]),Q=(n==null?void 0:n.action)==="initial-input-focus",U=h.useMemo(function(){var le="";if(P.guidance){var $=i?"value":_?"menu":"input";le=P.guidance({"aria-label":D,context:$,isDisabled:r&&N(r,d),isMulti:j,isSearchable:S,tabSelectsValue:M,isInitialFocus:Q})}return le},[D,r,i,j,N,S,_,P,d,M,Q]),oe=We(h.Fragment,null,We("span",{id:"aria-selection"},k),We("span",{id:"aria-focused"},F),We("span",{id:"aria-results"},ie),We("span",{id:"aria-guidance"},U));return We(h.Fragment,null,We(kN,{id:p},Q&&oe),We(kN,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!Q&&oe))},nY=tY,ix=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],rY=new RegExp("["+ix.map(function(e){return e.letters}).join("")+"]","g"),iT={};for(var tv=0;tv<ix.length;tv++)for(var nv=ix[tv],rv=0;rv<nv.letters.length;rv++)iT[nv.letters[rv]]=nv.base;var oT=function(t){return t.replace(rY,function(n){return iT[n]})},sY=QW(oT),LN=function(t){return t.replace(/^\s+|\s+$/g,"")},aY=function(t){return"".concat(t.label," ").concat(t.value)},iY=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=Xe({ignoreCase:!0,ignoreAccents:!0,stringify:aY,trim:!0,matchFrom:"any"},t),l=i.ignoreCase,u=i.ignoreAccents,d=i.stringify,f=i.trim,p=i.matchFrom,g=f?LN(r):r,v=f?LN(d(n)):d(n);return l&&(g=g.toLowerCase(),v=v.toLowerCase()),u&&(g=sY(g),v=oT(v)),p==="start"?v.substr(0,g.length)===g:v.indexOf(g)>-1}},oY=["innerRef"];function lY(e){var t=e.innerRef,n=ka(e,oY),r=P7(n,"onExited","in","enter","exit","appear");return We("input",Je({ref:t},r,{css:$b({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cY=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function uY(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,l=e.onTopLeave,u=h.useRef(!1),d=h.useRef(!1),f=h.useRef(0),p=h.useRef(null),g=h.useCallback(function(S,_){if(p.current!==null){var R=p.current,E=R.scrollTop,M=R.scrollHeight,C=R.clientHeight,D=p.current,O=_>0,P=M-C-E,k=!1;P>_&&u.current&&(r&&r(S),u.current=!1),O&&d.current&&(l&&l(S),d.current=!1),O&&_>P?(n&&!u.current&&n(S),D.scrollTop=M,k=!0,u.current=!0):!O&&-_>E&&(i&&!d.current&&i(S),D.scrollTop=0,k=!0,d.current=!0),k&&cY(S)}},[n,r,i,l]),v=h.useCallback(function(S){g(S,S.deltaY)},[g]),b=h.useCallback(function(S){f.current=S.changedTouches[0].clientY},[]),w=h.useCallback(function(S){var _=f.current-S.changedTouches[0].clientY;g(S,_)},[g]),j=h.useCallback(function(S){if(S){var _=O7?{passive:!1}:!1;S.addEventListener("wheel",v,_),S.addEventListener("touchstart",b,_),S.addEventListener("touchmove",w,_)}},[w,b,v]),N=h.useCallback(function(S){S&&(S.removeEventListener("wheel",v,!1),S.removeEventListener("touchstart",b,!1),S.removeEventListener("touchmove",w,!1))},[w,b,v]);return h.useEffect(function(){if(t){var S=p.current;return j(S),function(){N(S)}}},[t,j,N]),function(S){p.current=S}}var IN=["boxSizing","height","overflow","paddingRight","position"],$N={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function UN(e){e.cancelable&&e.preventDefault()}function zN(e){e.stopPropagation()}function FN(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function VN(){return"ontouchstart"in window||navigator.maxTouchPoints}var BN=!!(typeof window<"u"&&window.document&&window.document.createElement),qc=0,ol={capture:!1,passive:!1};function dY(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=h.useRef({}),l=h.useRef(null),u=h.useCallback(function(f){if(BN){var p=document.body,g=p&&p.style;if(r&&IN.forEach(function(j){var N=g&&g[j];i.current[j]=N}),r&&qc<1){var v=parseInt(i.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,w=window.innerWidth-b+v||0;Object.keys($N).forEach(function(j){var N=$N[j];g&&(g[j]=N)}),g&&(g.paddingRight="".concat(w,"px"))}p&&VN()&&(p.addEventListener("touchmove",UN,ol),f&&(f.addEventListener("touchstart",FN,ol),f.addEventListener("touchmove",zN,ol))),qc+=1}},[r]),d=h.useCallback(function(f){if(BN){var p=document.body,g=p&&p.style;qc=Math.max(qc-1,0),r&&qc<1&&IN.forEach(function(v){var b=i.current[v];g&&(g[v]=b)}),p&&VN()&&(p.removeEventListener("touchmove",UN,ol),f&&(f.removeEventListener("touchstart",FN,ol),f.removeEventListener("touchmove",zN,ol)))}},[r]);return h.useEffect(function(){if(t){var f=l.current;return u(f),function(){d(f)}}},[t,u,d]),function(f){l.current=f}}var fY=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},hY={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function mY(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,l=e.onBottomArrive,u=e.onBottomLeave,d=e.onTopArrive,f=e.onTopLeave,p=uY({isEnabled:i,onBottomArrive:l,onBottomLeave:u,onTopArrive:d,onTopLeave:f}),g=dY({isEnabled:n}),v=function(w){p(w),g(w)};return We(h.Fragment,null,n&&We("div",{onClick:fY,css:hY}),t(v))}var pY={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},gY=function(t){var n=t.name,r=t.onFocus;return We("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:pY,value:"",onChange:function(){}})},vY=gY;function zb(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function xY(){return zb(/^iPhone/i)}function lT(){return zb(/^Mac/i)}function bY(){return zb(/^iPad/i)||lT()&&navigator.maxTouchPoints>1}function yY(){return xY()||bY()}function wY(){return lT()||yY()}var jY=function(t){return t.label},NY=function(t){return t.label},SY=function(t){return t.value},_Y=function(t){return!!t.isDisabled},EY={clearIndicator:lW,container:Q7,control:pW,dropdownIndicator:iW,group:bW,groupHeading:wW,indicatorsContainer:tW,indicatorSeparator:uW,input:_W,loadingIndicator:hW,loadingMessage:W7,menu:U7,menuList:B7,menuPortal:X7,multiValue:MW,multiValueLabel:OW,multiValueRemove:AW,noOptionsMessage:q7,option:$W,placeholder:FW,singleValue:HW,valueContainer:J7},CY={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},RY=4,cT=4,TY=38,MY=cT*2,OY={baseUnit:cT,controlHeight:TY,menuGutter:MY},sv={borderRadius:RY,colors:CY,spacing:OY},AY={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:AN(),captureMenuScroll:!AN(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:iY(),formatGroupLabel:jY,getOptionLabel:NY,getOptionValue:SY,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:_Y,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!T7(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function HN(e,t,n,r){var i=fT(e,t,n),l=hT(e,t,n),u=dT(e,t),d=lh(e,t);return{type:"option",data:t,isDisabled:i,isSelected:l,label:u,value:d,index:r}}function $f(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(u,d){return HN(e,u,t,d)}).filter(function(u){return WN(e,u)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var l=HN(e,n,t,r);return WN(e,l)?l:void 0}).filter(A7)}function uT(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Db(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function qN(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Db(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function DY(e,t){return uT($f(e,t))}function WN(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,l=t.isSelected,u=t.label,d=t.value;return(!pT(e)||!l)&&mT(e,{label:u,value:d,data:i},r)}function PY(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var l=t.indexOf(n);if(l>-1)return n;if(i<t.length)return t[i]}return null}function kY(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var av=function(t,n){var r,i=(r=t.find(function(l){return l.data===n}))===null||r===void 0?void 0:r.id;return i||null},dT=function(t,n){return t.getOptionLabel(n)},lh=function(t,n){return t.getOptionValue(n)};function fT(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function hT(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=lh(e,t);return n.some(function(i){return lh(e,i)===r})}function mT(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var pT=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},LY=1,gT=function(e){vq(n,e);var t=yq(n);function n(r){var i;if(pq(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=wY(),i.controlRef=null,i.getControlRef=function(f){i.controlRef=f},i.focusedOptionRef=null,i.getFocusedOptionRef=function(f){i.focusedOptionRef=f},i.menuListRef=null,i.getMenuListRef=function(f){i.menuListRef=f},i.inputRef=null,i.getInputRef=function(f){i.inputRef=f},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(f,p){var g=i.props,v=g.onChange,b=g.name;p.name=b,i.ariaOnChange(f,p),v(f,p)},i.setValue=function(f,p,g){var v=i.props,b=v.closeMenuOnSelect,w=v.isMulti,j=v.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:j}),b&&(i.setState({inputIsHiddenAfterUpdate:!w}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(f,{action:p,option:g})},i.selectOption=function(f){var p=i.props,g=p.blurInputOnSelect,v=p.isMulti,b=p.name,w=i.state.selectValue,j=v&&i.isOptionSelected(f,w),N=i.isOptionDisabled(f,w);if(j){var S=i.getOptionValue(f);i.setValue(w.filter(function(_){return i.getOptionValue(_)!==S}),"deselect-option",f)}else if(!N)v?i.setValue([].concat(Db(w),[f]),"select-option",f):i.setValue(f,"select-option");else{i.ariaOnChange(f,{action:"select-option",option:f,name:b});return}g&&i.blurInput()},i.removeValue=function(f){var p=i.props.isMulti,g=i.state.selectValue,v=i.getOptionValue(f),b=g.filter(function(j){return i.getOptionValue(j)!==v}),w=Sf(p,b,b[0]||null);i.onChange(w,{action:"remove-value",removedValue:f}),i.focusInput()},i.clearValue=function(){var f=i.state.selectValue;i.onChange(Sf(i.props.isMulti,[],null),{action:"clear",removedValues:f})},i.popValue=function(){var f=i.props.isMulti,p=i.state.selectValue,g=p[p.length-1],v=p.slice(0,p.length-1),b=Sf(f,v,v[0]||null);g&&i.onChange(b,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(f){return av(i.state.focusableOptionsWithIds,f)},i.getFocusableOptionsWithIds=function(){return qN($f(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return S7.apply(void 0,[i.props.classNamePrefix].concat(p))},i.getOptionLabel=function(f){return dT(i.props,f)},i.getOptionValue=function(f){return lh(i.props,f)},i.getStyles=function(f,p){var g=i.props.unstyled,v=EY[f](p,g);v.boxSizing="border-box";var b=i.props.styles[f];return b?b(v,p):v},i.getClassNames=function(f,p){var g,v;return(g=(v=i.props.classNames)[f])===null||g===void 0?void 0:g.call(v,p)},i.getElementId=function(f){return"".concat(i.state.instancePrefix,"-").concat(f)},i.getComponents=function(){return GW(i.props)},i.buildCategorizedOptions=function(){return $f(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return uT(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(f,p){i.setState({ariaSelection:Xe({value:f},p)})},i.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(f){i.blockOptionHover=!1},i.onControlMouseDown=function(f){if(!f.defaultPrevented){var p=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&i.onMenuClose():p&&i.openMenu("first"):(p&&(i.openAfterFocus=!0),i.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},i.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!i.props.isDisabled){var p=i.props,g=p.isMulti,v=p.menuIsOpen;i.focusInput(),v?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),f.preventDefault()}},i.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(i.clearValue(),f.preventDefault(),i.openAfterFocus=!1,f.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(f){typeof i.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&tm(f.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(f)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(f){var p=f.touches,g=p&&p.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(f){var p=f.touches,g=p&&p.item(0);if(g){var v=Math.abs(g.clientX-i.initialTouchX),b=Math.abs(g.clientY-i.initialTouchY),w=5;i.userIsDragging=v>w||b>w}},i.onTouchEnd=function(f){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(f.target)&&i.menuListRef&&!i.menuListRef.contains(f.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(f){i.userIsDragging||i.onControlMouseDown(f)},i.onClearIndicatorTouchEnd=function(f){i.userIsDragging||i.onClearIndicatorMouseDown(f)},i.onDropdownIndicatorTouchEnd=function(f){i.userIsDragging||i.onDropdownIndicatorMouseDown(f)},i.handleInputChange=function(f){var p=i.props.inputValue,g=f.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:p}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(f){i.props.onFocus&&i.props.onFocus(f),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(f){var p=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(f),i.onInputChange("",{action:"input-blur",prevInputValue:p}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(f){if(!(i.blockOptionHover||i.state.focusedOption===f)){var p=i.getFocusableOptions(),g=p.indexOf(f);i.setState({focusedOption:f,focusedOptionId:g>-1?i.getFocusedOptionId(f):null})}},i.shouldHideSelectedOptions=function(){return pT(i.props)},i.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),i.focus()},i.onKeyDown=function(f){var p=i.props,g=p.isMulti,v=p.backspaceRemovesValue,b=p.escapeClearsValue,w=p.inputValue,j=p.isClearable,N=p.isDisabled,S=p.menuIsOpen,_=p.onKeyDown,R=p.tabSelectsValue,E=p.openMenuOnFocus,M=i.state,C=M.focusedOption,D=M.focusedValue,O=M.selectValue;if(!N&&!(typeof _=="function"&&(_(f),f.defaultPrevented))){switch(i.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||w)return;i.focusValue("previous");break;case"ArrowRight":if(!g||w)return;i.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(D)i.removeValue(D);else{if(!v)return;g?i.popValue():j&&i.clearValue()}break;case"Tab":if(i.isComposing||f.shiftKey||!S||!R||!C||E&&i.isOptionSelected(C,O))return;i.selectOption(C);break;case"Enter":if(f.keyCode===229)break;if(S){if(!C||i.isComposing)return;i.selectOption(C);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:w}),i.onMenuClose()):j&&b&&i.clearValue();break;case" ":if(w)return;if(!S){i.openMenu("first");break}if(!C)return;i.selectOption(C);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}f.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++LY),i.state.selectValue=MN(r.value),r.menuIsOpen&&i.state.selectValue.length){var l=i.getFocusableOptionsWithIds(),u=i.buildFocusableOptions(),d=u.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=l,i.state.focusedOption=u[d],i.state.focusedOptionId=av(l,u[d])}return i}return gq(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ON(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var l=this.props,u=l.isDisabled,d=l.menuIsOpen,f=this.state.isFocused;(f&&!u&&i.isDisabled||f&&d&&!i.menuIsOpen)&&this.focusInput(),f&&u&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!u&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ON(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,l){this.props.onInputChange(i,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var l=this,u=this.state,d=u.selectValue,f=u.isFocused,p=this.buildFocusableOptions(),g=i==="first"?0:p.length-1;if(!this.props.isMulti){var v=p.indexOf(d[0]);v>-1&&(g=v)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[g],focusedOptionId:this.getFocusedOptionId(p[g])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(i){var l=this.state,u=l.selectValue,d=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=u.indexOf(d);d||(f=-1);var p=u.length-1,g=-1;if(u.length){switch(i){case"previous":f===0?g=0:f===-1?g=p:g=f-1;break;case"next":f>-1&&f<p&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:u[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,u=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var f=0,p=d.indexOf(u);u||(p=-1),i==="up"?f=p>0?p-1:d.length-1:i==="down"?f=(p+1)%d.length:i==="pageup"?(f=p-l,f<0&&(f=0)):i==="pagedown"?(f=p+l,f>d.length-1&&(f=d.length-1)):i==="last"&&(f=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(sv):Xe(Xe({},sv),this.props.theme):sv}},{key:"getCommonProps",value:function(){var i=this.clearValue,l=this.cx,u=this.getStyles,d=this.getClassNames,f=this.getValue,p=this.selectOption,g=this.setValue,v=this.props,b=v.isMulti,w=v.isRtl,j=v.options,N=this.hasValue();return{clearValue:i,cx:l,getStyles:u,getClassNames:d,getValue:f,hasValue:N,isMulti:b,isRtl:w,options:j,selectOption:p,selectProps:v,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,l=i.isClearable,u=i.isMulti;return l===void 0?u:l}},{key:"isOptionDisabled",value:function(i,l){return fT(this.props,i,l)}},{key:"isOptionSelected",value:function(i,l){return hT(this.props,i,l)}},{key:"filterOption",value:function(i,l){return mT(this.props,i,l)}},{key:"formatOptionLabel",value:function(i,l){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(i,{context:l,inputValue:u,selectValue:d})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,l=i.isDisabled,u=i.isSearchable,d=i.inputId,f=i.inputValue,p=i.tabIndex,g=i.form,v=i.menuIsOpen,b=i.required,w=this.getComponents(),j=w.Input,N=this.state,S=N.inputIsHidden,_=N.ariaSelection,R=this.commonProps,E=d||this.getElementId("input"),M=Xe(Xe(Xe({"aria-autocomplete":"list","aria-expanded":v,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},v&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?h.createElement(j,Je({},R,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:l,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:g,type:"text",value:f},M)):h.createElement(lY,Je({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ih,onFocus:this.onInputFocus,disabled:l,tabIndex:p,inputMode:"none",form:g,value:""},M))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,l=this.getComponents(),u=l.MultiValue,d=l.MultiValueContainer,f=l.MultiValueLabel,p=l.MultiValueRemove,g=l.SingleValue,v=l.Placeholder,b=this.commonProps,w=this.props,j=w.controlShouldRenderValue,N=w.isDisabled,S=w.isMulti,_=w.inputValue,R=w.placeholder,E=this.state,M=E.selectValue,C=E.focusedValue,D=E.isFocused;if(!this.hasValue()||!j)return _?null:h.createElement(v,Je({},b,{key:"placeholder",isDisabled:N,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),R);if(S)return M.map(function(P,k){var F=P===C,ie="".concat(i.getOptionLabel(P),"-").concat(i.getOptionValue(P));return h.createElement(u,Je({},b,{components:{Container:d,Label:f,Remove:p},isFocused:F,isDisabled:N,key:ie,index:k,removeProps:{onClick:function(){return i.removeValue(P)},onTouchEnd:function(){return i.removeValue(P)},onMouseDown:function(U){U.preventDefault()}},data:P}),i.formatOptionLabel(P,"value"))});if(_)return null;var O=M[0];return h.createElement(g,Je({},b,{data:O,isDisabled:N}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),l=i.ClearIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,p=d.isLoading,g=this.state.isFocused;if(!this.isClearable()||!l||f||!this.hasValue()||p)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(l,Je({},u,{innerProps:v,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),l=i.LoadingIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,p=d.isLoading,g=this.state.isFocused;if(!l||!p)return null;var v={"aria-hidden":"true"};return h.createElement(l,Je({},u,{innerProps:v,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),l=i.DropdownIndicator,u=i.IndicatorSeparator;if(!l||!u)return null;var d=this.commonProps,f=this.props.isDisabled,p=this.state.isFocused;return h.createElement(u,Je({},d,{isDisabled:f,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),l=i.DropdownIndicator;if(!l)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return h.createElement(l,Je({},u,{innerProps:p,isDisabled:d,isFocused:f}))}},{key:"renderMenu",value:function(){var i=this,l=this.getComponents(),u=l.Group,d=l.GroupHeading,f=l.Menu,p=l.MenuList,g=l.MenuPortal,v=l.LoadingMessage,b=l.NoOptionsMessage,w=l.Option,j=this.commonProps,N=this.state.focusedOption,S=this.props,_=S.captureMenuScroll,R=S.inputValue,E=S.isLoading,M=S.loadingMessage,C=S.minMenuHeight,D=S.maxMenuHeight,O=S.menuIsOpen,P=S.menuPlacement,k=S.menuPosition,F=S.menuPortalTarget,ie=S.menuShouldBlockScroll,Q=S.menuShouldScrollIntoView,U=S.noOptionsMessage,oe=S.onMenuScrollToTop,le=S.onMenuScrollToBottom;if(!O)return null;var $=function(H,I){var z=H.type,q=H.data,K=H.isDisabled,se=H.isSelected,ge=H.label,fe=H.value,Se=N===q,Ae=K?void 0:function(){return i.onOptionHover(q)},it=K?void 0:function(){return i.selectOption(q)},rt="".concat(i.getElementId("option"),"-").concat(I),Dt={id:rt,onClick:it,onMouseMove:Ae,onMouseOver:Ae,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:se};return h.createElement(w,Je({},j,{innerProps:Dt,data:q,isDisabled:K,isSelected:se,key:rt,label:ge,type:z,value:fe,isFocused:Se,innerRef:Se?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(H.data,"menu"))},G;if(this.hasOptions())G=this.getCategorizedOptions().map(function(B){if(B.type==="group"){var H=B.data,I=B.options,z=B.index,q="".concat(i.getElementId("group"),"-").concat(z),K="".concat(q,"-heading");return h.createElement(u,Je({},j,{key:q,data:H,options:I,Heading:d,headingProps:{id:K,data:B.data},label:i.formatGroupLabel(B.data)}),B.options.map(function(se){return $(se,"".concat(z,"-").concat(se.index))}))}else if(B.type==="option")return $(B,"".concat(B.index))});else if(E){var W=M({inputValue:R});if(W===null)return null;G=h.createElement(v,j,W)}else{var J=U({inputValue:R});if(J===null)return null;G=h.createElement(b,j,J)}var L={minMenuHeight:C,maxMenuHeight:D,menuPlacement:P,menuPosition:k,menuShouldScrollIntoView:Q},V=h.createElement(z7,Je({},j,L),function(B){var H=B.ref,I=B.placerProps,z=I.placement,q=I.maxHeight;return h.createElement(f,Je({},j,L,{innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:z}),h.createElement(mY,{captureEnabled:_,onTopArrive:oe,onBottomArrive:le,lockEnabled:ie},function(K){return h.createElement(p,Je({},j,{innerRef:function(ge){i.getMenuListRef(ge),K(ge)},innerProps:{role:"listbox","aria-multiselectable":j.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:q,focusedOption:N}),G)}))});return F||k==="fixed"?h.createElement(g,Je({},j,{appendTo:F,controlElement:this.controlRef,menuPlacement:P,menuPosition:k}),V):V}},{key:"renderFormField",value:function(){var i=this,l=this.props,u=l.delimiter,d=l.isDisabled,f=l.isMulti,p=l.name,g=l.required,v=this.state.selectValue;if(g&&!this.hasValue()&&!d)return h.createElement(vY,{name:p,onFocus:this.onValueInputFocus});if(!(!p||d))if(f)if(u){var b=v.map(function(N){return i.getOptionValue(N)}).join(u);return h.createElement("input",{name:p,type:"hidden",value:b})}else{var w=v.length>0?v.map(function(N,S){return h.createElement("input",{key:"i-".concat(S),name:p,type:"hidden",value:i.getOptionValue(N)})}):h.createElement("input",{name:p,type:"hidden",value:""});return h.createElement("div",null,w)}else{var j=v[0]?this.getOptionValue(v[0]):"";return h.createElement("input",{name:p,type:"hidden",value:j})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,l=this.state,u=l.ariaSelection,d=l.focusedOption,f=l.focusedValue,p=l.isFocused,g=l.selectValue,v=this.getFocusableOptions();return h.createElement(nY,Je({},i,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:d,focusedValue:f,isFocused:p,selectValue:g,focusableOptions:v,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),l=i.Control,u=i.IndicatorsContainer,d=i.SelectContainer,f=i.ValueContainer,p=this.props,g=p.className,v=p.id,b=p.isDisabled,w=p.menuIsOpen,j=this.state.isFocused,N=this.commonProps=this.getCommonProps();return h.createElement(d,Je({},N,{className:g,innerProps:{id:v,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:j}),this.renderLiveRegion(),h.createElement(l,Je({},N,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:j,menuIsOpen:w}),h.createElement(f,Je({},N,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),h.createElement(u,Je({},N,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,l){var u=l.prevProps,d=l.clearFocusValueOnUpdate,f=l.inputIsHiddenAfterUpdate,p=l.ariaSelection,g=l.isFocused,v=l.prevWasFocused,b=l.instancePrefix,w=i.options,j=i.value,N=i.menuIsOpen,S=i.inputValue,_=i.isMulti,R=MN(j),E={};if(u&&(j!==u.value||w!==u.options||N!==u.menuIsOpen||S!==u.inputValue)){var M=N?DY(i,R):[],C=N?qN($f(i,R),"".concat(b,"-option")):[],D=d?PY(l,R):null,O=kY(l,M),P=av(C,O);E={selectValue:R,focusedOption:O,focusedOptionId:P,focusableOptionsWithIds:C,focusedValue:D,clearFocusValueOnUpdate:!1}}var k=f!=null&&i!==u?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},F=p,ie=g&&v;return g&&!ie&&(F={value:Sf(_,R,R[0]||null),options:R,action:"initial-input-focus"},ie=!v),(p==null?void 0:p.action)==="initial-input-focus"&&(F=null),Xe(Xe(Xe({},E),k),{},{prevProps:i,ariaSelection:F,prevWasFocused:ie})}}]),n}(h.Component);gT.defaultProps=AY;var IY=h.forwardRef(function(e,t){var n=mq(e);return h.createElement(gT,Je({ref:t},n))}),vT=IY;const YN=()=>{const{patientId:e,resultId:t}=yr(),n=dr(),r=!!t,[i,l]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(""),[g,v]=h.useState(e||null),[b,w]=h.useState([]),[j,N]=h.useState([]),[S,_]=h.useState([]),[R,E]=h.useState(void 0),[M,C]=h.useState(void 0),[D,O]=h.useState(new Date),[P,k]=h.useState(new Map),[F,ie]=h.useState(""),[Q,U]=h.useState(!0),[oe,le]=h.useState(!1),[$,G]=h.useState(null),[W,J]=h.useState(!1),[L,V]=h.useState([]),[B,H]=h.useState(""),[I,z]=h.useState(""),q=Iu(F,250),K=h.useCallback(async()=>{if(t){U(!0),G(null);try{const[ue,ye,ve,Ne]=await Promise.all([re.from("patient_result").select("*").eq("id",t).single(),re.from("result_value").select("id, value, test_parameter_id, test_parameter:test_parameter_id(test_type_id, test_type:test_type_id(id, name))").eq("patient_result_id",t),re.from("doctor").select("id, full_name").order("full_name"),re.from("test_type").select("id, name, category_id").order("name")]);if(ue.error)throw ue.error;if(!ue.data)throw new Error("Rsultat non trouv.");const Oe=ue.data;if(l(ue.data.patient),C(ue.data.doctor_id),O(ue.data.result_date?new Date(ue.data.result_date):void 0),v(ue.data.patient_id),V(ye.data||[]),H(ue.data.normal_price??""),z(ue.data.insurance_price??""),d(!!ue.data.isFree),p(ue.data.notes??""),ve.error)throw ve.error;if(Ne.error)throw Ne.error;if(w(ve.data||[]),N(Ne.data||[]),ye.error)throw ye.error;const Ie=ye.data||[],$e=new Map,lt=[...new Set(Ie.map(_t=>{var qe,st;return(st=(qe=_t.test_parameter)==null?void 0:qe.test_type)==null?void 0:st.id}).filter(Boolean))],{data:dt,error:on}=await re.from("test_parameter").select("*, test_type:test_type_id(id, name), order").in("test_type_id",lt);if(on)throw on;lt.forEach(_t=>{var $n,wn,Un;const qe=Ie.find(pn=>{var Pt,Tn;return((Tn=(Pt=pn.test_parameter)==null?void 0:Pt.test_type)==null?void 0:Tn.id)===_t}),st=((wn=($n=qe==null?void 0:qe.test_parameter)==null?void 0:$n.test_type)==null?void 0:wn.name)||"Type Inconnu",mn=(dt||[]).filter(pn=>pn.test_type_id===_t);$e.set(_t,{id:_t,name:st,category_id:((Un=mn[0])==null?void 0:Un.test_type_id)||"",created_at:"",updated_at:"",parameters:mn.map(pn=>{const Pt=Ie.find(Tn=>Tn.test_parameter_id===pn.id);return{...pn,resultValue:(Pt==null?void 0:Pt.value)||"",isVisible:!0,originalValueId:(Pt==null?void 0:Pt.id)||null}}),loadingParams:!1,errorLoadingParams:!1})}),k($e)}catch(ue){console.error("Erreur chargement donnes pour modification:",ue),G(ue.message||"Impossible de charger les donnes pour la modification.")}finally{U(!1)}}},[t]),se=h.useCallback(async()=>{if(e){U(!0),G(null);try{const[ue,ye,ve]=await Promise.all([re.from("patient").select("*").eq("id",e).single(),re.from("doctor").select("id, full_name").order("full_name"),re.from("test_type").select("id, name, category_id").order("name")]);if(ue.error)throw ue.error;if(!ue.data)throw new Error("Patient non trouv pour la cration.");if(ye.error)throw ye.error;if(ve.error)throw ve.error;l(ue.data),v(e),w(ye.data||[]),N(ve.data||[]),H(""),z("")}catch(ue){console.error("Erreur chargement donnes pour cration:",ue),G(ue.message||"Impossible de charger les informations ncessaires.")}finally{U(!1)}}},[e]);h.useEffect(()=>{(async()=>{const{data:ye,error:ve}=await re.from("category").select("id, name").order("name");if(ve){G("Erreur lors du chargement des catgories");return}_(ye||[])})()},[]),h.useEffect(()=>{r?K():se()},[r,K,se]);const ge=h.useMemo(()=>{if(R)return j.filter(ue=>ue.category_id===R);{if(!q)return j;const ue=q.toLowerCase();return j.filter(ye=>ye.name.toLowerCase().includes(ue))}},[j,q,R]),fe=h.useCallback(async(ue,ye)=>{const ve=j.find(Ne=>Ne.id===ye);if(ve)if(ue===!0){k(Ne=>{const Oe=new Map(Ne),Ie=Oe.get(ye),$e={...Ie||ve,parameters:(Ie==null?void 0:Ie.parameters)||[],loadingParams:!0,errorLoadingParams:!1};return Oe.set(ye,$e),Oe});try{const{data:Ne,error:Oe}=await re.from("test_parameter").select("*, test_type:test_type_id(id, name), order").eq("test_type_id",ye).order("order");if(Oe)throw Oe;k(Ie=>{const $e=new Map(Ie),lt=$e.get(ye);if(lt){const dt=new Map(lt.parameters.map(qe=>[qe.id,qe])),on=(Ne||[]).map(qe=>{const st=dt.get(qe.id);return{...qe,resultValue:(st==null?void 0:st.resultValue)||"",isVisible:(st==null?void 0:st.isVisible)!==!1,originalValueId:(st==null?void 0:st.originalValueId)||null}}),_t={...lt,parameters:on,loadingParams:!1,errorLoadingParams:!1};return $e.set(ye,_t),$e}return Ie})}catch(Ne){console.error(`Erreur chargement paramtres pour ${ve.name}:`,Ne),k(Oe=>{const Ie=new Map(Oe),$e=Ie.get(ye);if($e){const lt={...$e,loadingParams:!1,errorLoadingParams:!0};return Ie.set(ye,lt),Ie}return Oe}),G(Oe=>Oe?`${Oe}
Impossible de charger les paramtres pour ${ve.name}.`:`Impossible de charger les paramtres pour ${ve.name}.`)}}else k(Ne=>{const Oe=new Map(Ne);return Oe.delete(ye),Oe})},[j]),Se=(ue,ye,ve)=>{k(Ne=>{const Oe=new Map(Ne),Ie=Oe.get(ue);if(Ie){const $e=Ie.parameters.map(dt=>dt.id===ye?{...dt,resultValue:ve}:dt),lt={...Ie,parameters:$e};return Oe.set(ue,lt),Oe}return Ne})},Ae=(ue,ye)=>{k(ve=>{const Ne=new Map(ve),Oe=Ne.get(ue);if(Oe){const Ie=Oe.parameters.map(lt=>lt.id===ye?{...lt,isVisible:!1}:lt),$e={...Oe,parameters:Ie};return Ne.set(ue,$e),Ne}return ve})},it=async ue=>{if(ue.preventDefault(),G(null),!g){G("Erreur: ID du patient non dfini.");return}if(!M){G("Veuillez slectionner un mdecin prescripteur.");return}if(!D){G("Veuillez slectionner la date du rsultat.");return}if(P.size===0&&!r){G("Veuillez slectionner au moins un type de test.");return}if(B!==""&&isNaN(Number(B))){G("Le prix normal doit tre un nombre valide.");return}if(I!==""&&isNaN(Number(I))){G("Le prix assurance doit tre un nombre valide.");return}le(!0);try{const ye={patient_id:g,doctor_id:M,result_date:ct(D,"yyyy-MM-dd'T'HH:mm:ssXXX")};B!==""&&(ye.normal_price=Number(B)),I!==""&&(ye.insurance_price=Number(I)),ye.isFree=u,ye.notes=f;const{data:ve,error:Ne}=await(r?re.from("patient_result").update(ye).eq("id",t).select().single():re.from("patient_result").insert(ye).select().single());if(Ne)throw Ne;const Oe=ve==null?void 0:ve.id;if(!Oe)throw new Error("Erreur lors de l'enregistrement de l'en-tte du rsultat (ID manquant).");const Ie=new Map,$e=new Set;P.forEach(qe=>{qe.parameters.forEach(st=>{st.isVisible!==!1&&($e.add(st.id),st.resultValue!==void 0&&st.resultValue.trim()!==""&&Ie.set(st.id,{value:st.resultValue.trim(),test_parameter_id:st.id}))})});const lt=new Map(L.map(qe=>[qe.test_parameter_id,qe])),dt=[],on=[],_t=[];if(L.forEach(qe=>{(!$e.has(qe.test_parameter_id)||!Ie.has(qe.test_parameter_id))&&dt.push(qe.id)}),Ie.forEach((qe,st)=>{const mn=lt.get(st);mn!=null&&mn.id?on.push({id:mn.id,patient_result_id:Oe,test_parameter_id:qe.test_parameter_id,value:qe.value}):_t.push({patient_result_id:Oe,test_parameter_id:qe.test_parameter_id,value:qe.value})}),dt.length>0){const{error:qe}=await re.from("result_value").delete().in("id",dt);if(qe)throw qe}for(const qe of on){const{error:st}=await re.from("result_value").update({value:qe.value,test_parameter_id:qe.test_parameter_id,patient_result_id:qe.patient_result_id}).eq("id",qe.id);if(st)throw st}if(_t.length>0){const{error:qe}=await re.from("result_value").insert(_t);if(qe)throw qe}n(r?`/results/${Oe}`:`/results/${Oe}`)}catch(ye){console.error(`Erreur lors de ${r?"la mise  jour":"la cration"} du rsultat:`,ye),G((ye==null?void 0:ye.message)||`Une erreur est survenue lors de ${r?"la mise  jour":"l'enregistrement"}.`)}finally{le(!1)}};function rt(ue){ue.preventDefault(),k(ye=>{const ve=new Map(ye);return ge.forEach(Ne=>{ve.set(Ne.id,{...Ne,parameters:[],loadingParams:!0,errorLoadingParams:!1})}),ve}),ge.forEach(async ye=>{try{const{data:ve,error:Ne}=await re.from("test_parameter").select("*, test_type:test_type_id(id, name), order").eq("test_type_id",ye.id).order("order");if(Ne)throw Ne;k(Oe=>{const Ie=new Map(Oe),$e=Ie.get(ye.id);if($e){const lt=(ve||[]).map(on=>({...on,resultValue:"",isVisible:!0,originalValueId:null})),dt={...$e,parameters:lt,loadingParams:!1,errorLoadingParams:!1};return Ie.set(ye.id,dt),Ie}return Oe})}catch(ve){console.error(`Erreur chargement paramtres pour ${ye.name}:`,ve),k(Ne=>{const Oe=new Map(Ne),Ie=Oe.get(ye.id);if(Ie){const $e={...Ie,loadingParams:!1,errorLoadingParams:!0};return Oe.set(ye.id,$e),Oe}return Ne})}}),ie("")}if(Q)return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/2"})}),s.jsxs(Re,{className:"space-y-6",children:[s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-20 w-full"})]}),s.jsx(Ns,{children:s.jsx(X,{className:"h-10 w-32"})})]})]});const Dt=r?`/results/${t}`:`/patients/${g}`;return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:Dt,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),r?"Retour au Rsultat":"Retour au Patient"]})})}),s.jsxs(Ce,{className:"shadow-md",children:[s.jsxs(Te,{children:[s.jsxs(ut,{className:"text-xl font-semibold flex items-center gap-2",children:[r?s.jsx(ds,{className:"h-5 w-5 text-primary"}):s.jsx(Xx,{className:"h-5 w-5 text-primary"}),r?"Modifier le Rsultat":"Ajouter un Nouveau Rsultat"]}),i&&s.jsxs(ur,{children:["Pour le patient :"," ",s.jsx("span",{className:"font-medium",children:i.full_name})," (ID:"," ",i.patient_unique_id,")"]})]}),s.jsxs(Re,{className:"space-y-6",children:[$&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{className:"whitespace-pre-line",children:$})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Le,{htmlFor:"doctor",className:"font-semibold",children:["Mdecin Prescripteur ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(vT,{name:"doctor",options:b.length>0?b.map(ue=>({value:ue.id,label:ue.full_name})):[],value:b.length>0&&b.map(ue=>({value:ue.id,label:ue.full_name})).find(ue=>ue.value===M)||null,onChange:ue=>C(ue==null?void 0:ue.value),placeholder:b.length===0?"Aucun mdecin...":"Rechercher...",required:!0,isDisabled:oe||b.length===0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Le,{htmlFor:"resultDate",className:"font-semibold",children:["Date du Rsultat ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(y2,{open:W,onOpenChange:J,children:[s.jsx(w2,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:Me("w-full justify-start text-left font-normal h-10",!D&&"text-muted-foreground"),disabled:oe,children:[s.jsx(RE,{className:"mr-2 h-4 w-4"}),D?ct(D,"PPP",{locale:Qt}):s.jsx("span",{children:"Choisir une date"})]})}),s.jsx(j2,{className:"w-auto p-0",children:s.jsx(D2,{mode:"single",selected:D,onSelect:ue=>{O(ue||new Date),J(!1)},initialFocus:!0,locale:Qt,disabled:ue=>ue>new Date})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"font-semibold",children:"Prix Normal"}),s.jsx(Ke,{id:"normal_price",name:"normal_price",type:"number",required:!0,min:"0",step:"0.01",placeholder:"Prix normal du test (ex: 1000)",value:B,onChange:ue=>H(ue.target.value),disabled:oe})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"font-semibold",children:"Prix Assurance"}),s.jsx(Ke,{id:"insurance_price",name:"insurance_price",type:"number",required:!0,min:"0",step:"0.01",placeholder:"Prix avec assurance (ex: 800)",value:I,onChange:ue=>z(ue.target.value),disabled:oe})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Sa,{id:"isFree",checked:u,onCheckedChange:ue=>d(!!ue),disabled:oe}),s.jsx(Le,{htmlFor:"isFree",className:"font-semibold",children:"Gratuit"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(Le,{htmlFor:"notes",className:"font-semibold",children:"Notes"}),s.jsx("textarea",{id:"notes",value:f,onChange:ue=>p(ue.target.value),rows:3,className:"w-full border rounded-md p-2 mt-1 focus:outline-none focus:ring focus:border-blue-300",placeholder:"Ajouter des notes ou des commentaires...",disabled:oe})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Le,{htmlFor:"category-filter",children:"Catgorie"}),s.jsxs(gr,{value:R??"all",onValueChange:ue=>E(ue==="all"?void 0:ue),children:[s.jsx(xr,{id:"category-filter",children:s.jsx(vr,{placeholder:"Filtrer par catgorie"})}),s.jsxs(br,{children:[s.jsx(St,{value:"all",children:"Toutes les catgories"}),S.map(ue=>s.jsx(St,{value:ue.id,children:ue.name},ue.id))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Le,{className:"font-semibold text-base",children:"Types de Tests Inclus"}),s.jsx("form",{onSubmit:rt,children:s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ke,{type:"search",placeholder:"Rechercher et ajouter un type de test...",value:F,onChange:ue=>ie(ue.target.value),className:"pl-10 w-full h-9",disabled:j.length===0})]})}),j.length>0?s.jsx("div",{className:"grid grid-cols-2 _sm:grid-cols-3 _md:grid-cols-4 gap-x-4 gap-y-3 rounded-md border p-4 max-h-80 overflow-y-auto",children:ge.length>0?ge.map(ue=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sa,{id:`test-type-${ue.id}`,checked:P.has(ue.id),onCheckedChange:ye=>fe(ye,ue.id),disabled:oe}),s.jsx("label",{htmlFor:`test-type-${ue.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:Sv(ue.name)})]},ue.id)):s.jsx("p",{className:"col-span-full text-sm text-muted-foreground text-center py-4",children:"Aucun type de test ne correspond."})}):s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Aucun type de test configur."})]}),P.size>0&&s.jsx(us,{}),Array.from(P.values()).map(ue=>s.jsxs("div",{className:"space-y-4 py-4 border-b last:border-b-0",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Gx,{className:"h-5 w-5 text-green-600"}),Sv(ue.name)]}),s.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:bg-destructive/10",onClick:()=>fe(!1,ue.id),disabled:oe,children:"Retirer ce Test"})]}),ue.loadingParams?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pl-7",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(X,{className:"h-5 w-20"}),s.jsx(X,{className:"h-9 w-full"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(X,{className:"h-5 w-20"}),s.jsx(X,{className:"h-9 w-full"})]})]}):ue.errorLoadingParams?s.jsxs(It,{variant:"destructive",className:"ml-7",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur Paramtres"}),s.jsx(Ut,{children:"Impossible de charger les paramtres pour ce test."})]}):ue.parameters.length>0?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-3 pl-7",children:[ue.parameters.filter(ye=>ye.isVisible!==!1).sort((ye,ve)=>(ye.order??0)-(ve.order??0)).map(ye=>s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Le,{htmlFor:`param-${ye.id}`,className:"text-sm font-medium flex items-center gap-1",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:ye.name}}),ye.unit&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",ye.unit,")"]})]}),s.jsx(ne,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>Ae(ue.id,ye.id),disabled:oe,"aria-label":`Retirer ${ye.name}`,children:s.jsx(Ah,{className:"h-4 w-4"})})]}),s.jsx(Ke,{id:`param-${ye.id}`,name:`param-${ye.id}`,value:ye.resultValue||"",onChange:ve=>Se(ue.id,ye.id,ve.target.value),placeholder:`Valeur ${ye.reference_range?`(Rf: ${ye.reference_range})`:""}`,disabled:oe,className:"h-9"}),ye.description&&s.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:ye.description})]},ye.id)),ue.parameters.every(ye=>ye.isVisible===!1)&&s.jsx("p",{className:"col-span-full text-sm text-muted-foreground italic",children:"Tous les paramtres pour ce test sont masqus."})]}):s.jsx("p",{className:"text-sm text-muted-foreground italic pl-7",children:"Aucun paramtre dfini pour ce type de test."})]},ue.id))]}),s.jsxs(Ns,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(ne,{disabled:oe||Q,onClick:it,children:oe?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Mise  jour...":"Enregistrement..."]}):r?"Mettre  jour le Rsultat":"Enregistrer le Rsultat"}),s.jsx(at,{to:Dt,children:s.jsx(ne,{type:"button",variant:"outline",disabled:oe,children:"Annuler"})})]})]})]})},$Y=()=>{const[e,t]=h.useState([]),[n,r]=h.useState([]),[i,l]=h.useState(!0),[u,d]=h.useState(null),[f,p]=h.useState(""),[g,v]=h.useState("all"),[b,w]=h.useState(!1),[j,N]=h.useState(null),S=Iu(f,300),_=h.useCallback(async()=>{l(!0),d(null);try{const[M,C]=await Promise.all([re.from("test_type").select(`
            id,
            name,
            created_at,
            updated_at,
            category:category_id (id, name)
          `).order("name",{ascending:!0}),re.from("category").select("*").order("name",{ascending:!0})]);if(M.error)throw M.error;if(t(M.data||[]),C.error)throw C.error;r(C.data||[])}catch(M){console.error("Erreur lors de la rcupration des donnes:",M),d((M==null?void 0:M.message)||"Une erreur est survenue lors du chargement."),t([]),r([])}finally{l(!1)}},[]);h.useEffect(()=>{_()},[_]);const R=h.useMemo(()=>{let M=e;if(g!=="all"&&(M=M.filter(C=>{var D;return((D=C.category)==null?void 0:D.id)===g})),S){const C=S.toLowerCase();M=M.filter(D=>D.name.toLowerCase().includes(C))}return M},[e,g,S]),E=async M=>{l(!0),d(null);try{const{error:C}=await re.from("test_type").delete().eq("id",M);if(C)throw C;_()}catch(C){d((C==null?void 0:C.message)||"Erreur lors de la suppression.")}finally{l(!1),w(!1),N(null)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Gf,{className:"h-6 w-6"}),"Gestion des Types de Test"]}),s.jsx(at,{to:"/test-types/new",children:s.jsxs(ne,{children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Ajouter un Type de Test"]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-64 space-y-1.5",children:[s.jsx(Le,{htmlFor:"categoryFilter",className:"text-xs font-medium text-muted-foreground",children:"Filtrer par Catgorie"}),s.jsxs(gr,{value:g,onValueChange:M=>v(M||"all"),disabled:i||n.length===0,children:[s.jsx(xr,{id:"categoryFilter",className:"h-10",children:s.jsx(vr,{placeholder:"Toutes les catgories"})}),s.jsxs(br,{children:[s.jsx(St,{value:"all",children:"Toutes les catgories"}),n.map(M=>s.jsx(St,{value:M.id,children:M.name},M.id))]})]})]}),s.jsxs("div",{className:"flex-1 space-y-1.5",children:[s.jsx(Le,{htmlFor:"testTypeSearch",className:"text-xs font-medium text-muted-foreground",children:"Rechercher par Nom"}),s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ke,{id:"testTypeSearch",type:"search",placeholder:"Nom du type de test...",value:f,onChange:M=>p(M.target.value),className:"pl-10 h-10 w-full",disabled:i})]})]})]}),i&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(X,{className:"h-12 w-full rounded-t-lg"})," ",s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"})]})]}),!i&&u&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsxs(Ut,{children:[u," ",s.jsx(ne,{variant:"link",onClick:_,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]}),!i&&!u&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{children:"Nom du Type de Test"}),s.jsx(vt,{className:"w-[250px]",children:"Catgorie"}),s.jsx(vt,{className:"text-right w-[150px]",children:"Actions"})]})}),s.jsx(ea,{children:R.length>0?R.map(M=>s.jsxs(Kt,{children:[s.jsx(Qe,{className:"font-medium",children:M.name}),s.jsx(Qe,{children:s.jsx("div",{className:"flex items-center gap-2",children:M.category?s.jsxs(s.Fragment,{children:[s.jsx(ul,{className:"h-4 w-4 text-muted-foreground"}),M.category.name]}):s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})})}),s.jsxs(Qe,{className:"text-right",children:[s.jsx(at,{to:`/test-types/${M.id}/edit`,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(ds,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),s.jsx("span",{className:"sm:hidden",children:"diter"})]})}),s.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer",onClick:()=>{N(M.id),w(!0)},children:[s.jsx(ml,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Supprimer"}),s.jsx("span",{className:"sm:hidden",children:"Del"})]})]})]},M.id)):s.jsx(Kt,{children:s.jsx(Qe,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:f||g!=="all"?"Aucun type de test ne correspond  vos filtres.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(Th,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun type de test dfini."]})})})})]})}),s.jsx(ro,{open:b,onOpenChange:w,children:s.jsxs(so,{children:[s.jsxs(ao,{children:[s.jsx(io,{children:"Confirmer la suppression"}),s.jsx(XC,{children:"tes-vous sr de vouloir supprimer ce type de test ? Cette action est irrversible."})]}),s.jsxs(_l,{children:[s.jsx(GC,{asChild:!0,children:s.jsx(ne,{variant:"outline",children:"Annuler"})}),s.jsx(ne,{variant:"destructive",onClick:()=>{j&&E(j)},disabled:i,children:"Supprimer"})]})]})})]})};function wu({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:Me("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const GN=()=>{const{testTypeId:e}=yr(),t=dr(),n=!!e,[r,i]=h.useState(""),[l,u]=h.useState(""),[d,f]=h.useState(void 0),[p,g]=h.useState([]),[v,b]=h.useState([]),[w,j]=h.useState(null),[N,S]=h.useState([]),[_,R]=h.useState(!0),[E,M]=h.useState(!1),[C,D]=h.useState(null),O=h.useCallback(async()=>{R(!0),D(null),g([]),S([]),j(null),i(""),u(""),f(void 0);try{const{data:Q,error:U}=await re.from("category").select("*").order("name");if(U)throw U;if(b(Q||[]),n&&e){const{data:oe,error:le}=await re.from("test_type").select("*").eq("id",e).single();if(le)throw le;if(!oe)throw new Error("Type de test non trouv.");const{data:$,error:G}=await re.from("test_parameter").select("*").eq("test_type_id",e).order("name");if(G)throw G;j(oe),i(oe.name),u(oe.description||""),f(oe.category_id);const W=($||[]).map(J=>({...J,tempId:J.id||Gv()}));g(W),S(JSON.parse(JSON.stringify(W)))}}catch(Q){console.error("Erreur chargement donnes:",Q),D(Q.message||"Impossible de charger les donnes.")}finally{R(!1)}},[n,e]);h.useEffect(()=>{O()},[O]);const P=(Q,U,oe)=>{g(le=>le.map($=>$.tempId===Q?{...$,[U]:U==="order"?Number(oe):oe}:$))},k=()=>{const Q=p.reduce((oe,le)=>Math.max(oe,le.order??0),0),U={tempId:Gv(),name:"",unit:"",reference_range:"",description:"",order:Q+1,id:void 0,test_type_id:void 0};g(oe=>[...oe,U])},F=Q=>{g(U=>U.filter(oe=>oe.tempId!==Q))},ie=async Q=>{if(Q.preventDefault(),D(null),!r.trim()){D("Le nom du type de test est requis.");return}if(!d){D("Veuillez slectionner une catgorie.");return}const U=p.find(oe=>{var le;return!((le=oe.name)!=null&&le.trim())});if(U){D(`Le nom est requis pour tous les paramtres (problme avec paramtre temporaire ID ${U.tempId}).`);return}M(!0);try{let oe=e;const le={name:r.trim(),category_id:d,description:l.trim()||null};if(n){const{error:V}=await re.from("test_type").update(le).eq("id",oe);if(V)throw V}else{const{data:V,error:B}=await re.from("test_type").insert(le).select("id").single();if(B)throw B;if(!(V!=null&&V.id))throw new Error("Impossible d'obtenir l'ID du nouveau type de test.");oe=V.id}const $=new Map(p.map(V=>[V.tempId,V])),G=new Map(N.map(V=>[V.tempId,V])),W=[],J=[],L=[];if(N.forEach(V=>{!$.has(V.tempId)&&V.id&&W.push(V.id)}),p.forEach(V=>{const B=G.get(V.tempId),H={test_type_id:oe,name:V.name,unit:V.unit||null,reference_range:V.reference_range||null,description:V.description||null,order:V.order??0};if(B!=null&&B.id){const I={test_type_id:B.test_type_id||oe,name:B.name,unit:B.unit||null,reference_range:B.reference_range||null,description:B.description||null,order:B.order??0};JSON.stringify(H)!==JSON.stringify(I)&&L.push({id:B.id,...H})}else J.push(H)}),W.length>0){console.log("Deleting parameters:",W);const{error:V}=await re.from("test_parameter").delete().in("id",W);if(V)throw new Error(`Erreur suppression paramtres: ${V.message}`)}if(J.length>0){console.log("Inserting parameters:",J);const{error:V}=await re.from("test_parameter").insert(J);if(V)throw new Error(`Erreur insertion paramtres: ${V.message}`)}if(L.length>0){console.log("Updating parameters:",L);const{error:V}=await re.from("test_parameter").upsert(L);if(V)throw new Error(`Erreur mise  jour paramtres: ${V.message}`)}console.log("Save successful"),t("/test-types")}catch(oe){console.error("Erreur sauvegarde type de test:",oe),D(oe.message||`Une erreur est survenue lors de ${n?"la mise  jour":"l'enregistrement"}.`)}finally{M(!1)}};return _?s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsx(X,{className:"h-8 w-32"})," ",s.jsxs(Ce,{children:[s.jsxs(Te,{children:[" ",s.jsx(X,{className:"h-6 w-1/2"})," ",s.jsx(X,{className:"h-4 w-3/4"})," "]}),s.jsxs(Re,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsx(us,{}),s.jsx(X,{className:"h-6 w-1/3"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(X,{className:"h-20 w-full"}),s.jsx(X,{className:"h-20 w-full"})]}),s.jsx(X,{className:"h-9 w-36"})]}),s.jsx(Ns,{children:s.jsx(X,{className:"h-10 w-32"})})]})]}):s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:"/test-types",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour  la liste"]})})}),s.jsx("form",{onSubmit:ie,children:s.jsxs(Ce,{className:"shadow-md",children:[s.jsxs(Te,{children:[s.jsxs(ut,{className:"text-xl font-semibold flex items-center gap-2",children:[n?s.jsx(Gf,{className:"h-5 w-5"}):s.jsx(Gf,{className:"h-5 w-5"}),n?"Modifier le Type de Test":"Ajouter un Type de Test"]}),s.jsx(ur,{children:"Dfinissez le nom, la catgorie et les paramtres pour ce type de test."})]}),s.jsxs(Re,{className:"space-y-6",children:[C&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{className:"whitespace-pre-line",children:C})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Le,{htmlFor:"testTypeName",className:"font-semibold",children:["Nom du Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ke,{id:"testTypeName",value:r,onChange:Q=>i(Q.target.value),placeholder:"Ex: Numration Formule Sanguine",disabled:E,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"testTypeDescription",className:"font-semibold",children:"Description"}),s.jsx(wu,{id:"testTypeDescription",value:l,onChange:Q=>u(Q.target.value),placeholder:"Description du type de test, instructions de prparation, etc.",disabled:E,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Le,{htmlFor:"category",className:"font-semibold",children:["Catgorie ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(gr,{value:d,onValueChange:Q=>f(Q),disabled:E||v.length===0,required:!0,children:[s.jsx(xr,{id:"category",className:"h-10",children:s.jsx(vr,{placeholder:"Slectionner une catgorie..."})}),s.jsxs(br,{children:[v.map(Q=>s.jsx(St,{value:Q.id,children:Q.name},Q.id)),v.length===0&&s.jsx(St,{value:"-",disabled:!0,children:"Aucune catgorie"})]})]})]})]}),s.jsx(us,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Paramtres Associs"}),p.length>0&&s.jsx("div",{className:"space-y-4",children:p.map((Q,U)=>s.jsxs(Ce,{className:"bg-muted/30 p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[s.jsxs(Le,{htmlFor:`param-name-${Q.tempId}`,className:"text-sm",children:["Nom du Paramtre"," ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ke,{id:`param-name-${Q.tempId}`,value:Q.name||"",onChange:oe=>P(Q.tempId,"name",oe.target.value),placeholder:"Ex: Hmoglobine",disabled:E,required:!0,className:"bg-background h-9"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:`param-unit-${Q.tempId}`,className:"text-sm",children:"Unit"}),s.jsx(Ke,{id:`param-unit-${Q.tempId}`,value:Q.unit||"",onChange:oe=>P(Q.tempId,"unit",oe.target.value),placeholder:"Ex: g/dL",disabled:E,className:"bg-background h-9"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:`param-ref-${Q.tempId}`,className:"text-sm",children:"Valeurs de Rfrence"}),s.jsx(Ke,{id:`param-ref-${Q.tempId}`,value:Q.reference_range||"",onChange:oe=>P(Q.tempId,"reference_range",oe.target.value),placeholder:"Ex: 12.0 - 16.0",disabled:E,className:"bg-background h-9"})]}),s.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[s.jsx(Le,{htmlFor:`param-desc-${Q.tempId}`,className:"text-sm",children:"Description (Optionnel)"}),s.jsx(wu,{id:`param-desc-${Q.tempId}`,value:Q.description||"",onChange:oe=>P(Q.tempId,"description",oe.target.value),placeholder:"Explication du paramtre ou des valeurs...",disabled:E,className:"bg-background",rows:2})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:`param-order-${Q.tempId}`,className:"text-sm",children:"Ordre"}),s.jsx(Ke,{id:`param-order-${Q.tempId}`,value:Q.order||"",onChange:oe=>P(Q.tempId,"order",oe.target.value),type:"number",disabled:E,className:"bg-background h-9"})]})]}),s.jsx("div",{className:"mt-3 text-right",children:s.jsxs(ne,{type:"button",variant:"destructive",size:"sm",onClick:()=>F(Q.tempId),disabled:E,className:"h-8 px-2 py-1 text-xs",children:[s.jsx(Lu,{className:"h-3.5 w-3.5 mr-1"}),"Retirer Param. #",U+1]})})]},Q.tempId))}),p.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground italic text-center py-4",children:"Aucun paramtre dfini pour ce type de test."}),s.jsxs(ne,{type:"button",variant:"outline",onClick:k,disabled:E,className:"mt-4",children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Ajouter un Paramtre"]})]})]}),s.jsxs(Ns,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(ne,{type:"submit",disabled:E||_,children:E?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),n?"Enregistrer les Modifications":"Enregistrer le Type de Test"]})}),s.jsx(at,{to:"/test-types",children:s.jsx(ne,{type:"button",variant:"outline",disabled:E,children:"Annuler"})})]})]})})]})},XN=()=>{const{doctorId:e}=yr(),t=dr(),n=!!e,[r,i]=h.useState({full_name:"",phone:"",hospital:"",bio:""}),[l,u]=h.useState(n),[d,f]=h.useState(!1),[p,g]=h.useState(null),v=h.useCallback(async()=>{if(!n||!e){u(!1);return}u(!0),g(null);try{const{data:j,error:N}=await re.from("doctor").select("*").eq("id",e).single();if(N)throw N;if(!j)throw new Error("Mdecin non trouv.");i({full_name:j.full_name||"",phone:j.phone||"",hospital:j.hospital||"",bio:j.bio||""})}catch(j){console.error("Erreur chargement mdecin:",j),j instanceof Error?g(j.message||"Impossible de charger les donnes du mdecin."):g("Une erreur inconnue est survenue.")}finally{u(!1)}},[n,e]);h.useEffect(()=>{v()},[v]);const b=j=>{const{name:N,value:S}=j.target;i(_=>({..._,[N]:S}))},w=async j=>{var N,S,_;if(j.preventDefault(),g(null),!r.full_name||!r.full_name.trim()){g("Le nom complet du mdecin est requis.");return}f(!0);try{const R={full_name:r.full_name.trim(),phone:((N=r.phone)==null?void 0:N.trim())||null,hospital:((S=r.hospital)==null?void 0:S.trim())||null,bio:((_=r.bio)==null?void 0:_.trim())||null};let E=null;if(n){const{error:M}=await re.from("doctor").update(R).eq("id",e);E=M}else{const{error:M}=await re.from("doctor").insert(R);E=M}if(E)if(E.code==="23505")g("Un mdecin avec ces informations (ex: nom) existe peut-tre dj.");else throw E;else t("/doctors")}catch(R){console.error(`Erreur ${n?"mise  jour":"cration"} mdecin:`,R),R instanceof Error?g(R.message||`Une erreur est survenue lors de ${n?"la mise  jour":"l'enregistrement"}.`):g(`Une erreur inconnue est survenue lors de ${n?"la mise  jour":"l'enregistrement"}.`)}finally{f(!1)}};return l?s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsx(X,{className:"h-8 w-32"})," ",s.jsxs(Ce,{children:[s.jsxs(Te,{children:[" ",s.jsx(X,{className:"h-6 w-1/2"})," ",s.jsx(X,{className:"h-4 w-3/4"})," "]}),s.jsxs(Re,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-20 w-full"})]})]}),s.jsx(Ns,{children:s.jsx(X,{className:"h-10 w-32"})})]})]}):s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:"/doctors",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour  la liste"]})})}),s.jsx("form",{onSubmit:w,children:s.jsxs(Ce,{className:"shadow-md",children:[s.jsxs(Te,{children:[s.jsxs(ut,{className:"text-xl font-semibold flex items-center gap-2",children:[n?s.jsx(ds,{className:"h-5 w-5"}):s.jsx(DE,{className:"h-5 w-5"}),n?"Modifier le Mdecin":"Ajouter un Nouveau Mdecin"]}),s.jsx(ur,{children:n?"Mettez  jour les informations du mdecin.":"Entrez les informations du nouveau mdecin."})]}),s.jsxs(Re,{className:"space-y-6",children:[p&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{className:"whitespace-pre-line",children:p})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Le,{htmlFor:"full_name",className:"font-semibold",children:["Nom Complet ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ke,{id:"full_name",name:"full_name",value:r.full_name||"",onChange:b,placeholder:"Ex: Dr. Alain Dupont",disabled:d,required:!0,className:"h-10"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"phone",className:"font-semibold",children:"Tlphone"}),s.jsx(Ke,{id:"phone",name:"phone",type:"tel",value:r.phone||"",onChange:b,placeholder:"Ex: +33 6 11 22 33 44",disabled:d,className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"hospital",className:"font-semibold",children:"Hpital / Clinique"}),s.jsx(Ke,{id:"hospital",name:"hospital",value:r.hospital||"",onChange:b,placeholder:"Ex: Hpital Central",disabled:d,className:"h-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"bio",className:"font-semibold",children:"Bio / Notes (Optionnel)"}),s.jsx(wu,{id:"bio",name:"bio",value:r.bio||"",onChange:b,placeholder:"Spcialit, notes importantes...",disabled:d,rows:4})]})]}),s.jsxs(Ns,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(ne,{type:"submit",disabled:d||l,children:d?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),n?"Enregistrer les Modifications":"Enregistrer le Mdecin"]})}),s.jsx(at,{to:"/doctors",children:s.jsx(ne,{type:"button",variant:"outline",disabled:d,children:"Annuler"})})]})]})})]})},UY=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[i,l]=h.useState(null),[u,d]=h.useState(null),[f,p]=h.useState(!1),[g,v]=h.useState(!1),[b,w]=h.useState(null),[j,N]=h.useState({name:""}),[S,_]=h.useState(null),R=h.useCallback(async(P=!0)=>{P&&r(!0),l(null);try{const{data:k,error:F}=await re.from("category").select("*").order("name",{ascending:!0});if(F)throw F;t(k||[])}catch(k){console.error("Erreur chargement catgories:",k),k instanceof Error?l(k.message||"Impossible de charger les catgories."):l("Impossible de charger les catgories."),t([])}finally{P&&r(!1)}},[]);h.useEffect(()=>{R()},[R]);const E=(P=null)=>{w(P),N({name:(P==null?void 0:P.name)||""}),d(null),v(!0)},M=()=>{v(!1),setTimeout(()=>{w(null),N({name:""})},150)},C=P=>{N({name:P.target.value})},D=async P=>{if(P.preventDefault(),d(null),!j.name||!j.name.trim()){d("Le nom de la catgorie est requis.");return}p(!0);const k={name:j.name.trim()};try{let F=null;if(b){const{error:ie}=await re.from("category").update(k).eq("id",b.id);F=ie}else{const{error:ie}=await re.from("category").insert(k);F=ie}if(F)if(F.code==="23505")d("Ce nom de catgorie existe dj.");else throw F;else M(),await R(!1)}catch(F){console.error("Erreur sauvegarde catgorie:",F),F instanceof Error?d(F.message||"Une erreur est survenue."):d("Une erreur est survenue.")}finally{p(!1)}},O=async()=>{if(S){p(!0),l(null);try{const{error:P}=await re.from("category").delete().eq("id",S.id);if(P)if(P.code==="23503")l(`Impossible de supprimer la catgorie "${S.name}" car elle est utilise par un ou plusieurs types de test.`),_(null);else throw P;else _(null),await R(!1)}catch(P){console.error("Erreur suppression catgorie:",P),P instanceof Error?l(P.message||"Une erreur est survenue lors de la suppression."):l("Une erreur est survenue lors de la suppression."),_(null)}finally{p(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(ul,{className:"h-6 w-6"}),"Gestion des Catgories"]}),s.jsxs(ne,{onClick:()=>E(null),children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Ajouter une Catgorie"]})]}),i&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:i})]}),n&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(X,{className:"h-12 w-full rounded-t-lg"})," ",s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"})]})]}),!n&&!i&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{children:"Nom de la Catgorie"}),s.jsx(vt,{className:"text-right w-[200px]",children:"Actions"})]})}),s.jsx(ea,{children:e.length>0?e.map(P=>s.jsxs(Kt,{children:[s.jsx(Qe,{className:"font-medium",children:P.name}),s.jsxs(Qe,{className:"text-right space-x-2",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E(P),children:s.jsx(ds,{className:"h-4 w-4"})}),s.jsx(fu,{children:s.jsx(Ih,{asChild:!0,children:s.jsx(ne,{variant:"destructive",size:"sm",onClick:k=>{k.stopPropagation(),_(P)},children:s.jsx(Lu,{className:"h-4 w-4"})})})})]})]},P.id)):s.jsx(Kt,{children:s.jsx(Qe,{colSpan:2,className:"h-24 text-center text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(Th,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucune catgorie dfinie."]})})})})]})}),s.jsx(ro,{open:g,onOpenChange:v,children:s.jsx(so,{className:"sm:max-w-[425px]",children:s.jsxs("form",{onSubmit:D,children:[s.jsxs(ao,{children:[s.jsx(io,{children:b?"Modifier la Catgorie":"Ajouter une Catgorie"}),s.jsx(XC,{children:b?"Modifiez le nom de la catgorie ci-dessous.":"Entrez le nom de la nouvelle catgorie."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[u&&s.jsxs(It,{variant:"destructive",className:"text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:u})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Le,{htmlFor:"category-name",className:"text-right col-span-1",children:["Nom ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ke,{id:"category-name",name:"name",value:j.name,onChange:C,className:"col-span-3 h-9",disabled:f,required:!0,autoFocus:!0})]})]}),s.jsxs(_l,{children:[s.jsx(GC,{asChild:!0,children:s.jsx(ne,{type:"button",variant:"outline",disabled:f,children:"Annuler"})}),s.jsxs(ne,{type:"submit",disabled:f,children:[f&&s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),b?"Enregistrer Modifications":"Ajouter Catgorie"]})]})]})})}),s.jsx(fu,{open:!!S,onOpenChange:P=>!P&&_(null),children:s.jsxs($h,{children:[s.jsxs(Uh,{children:[s.jsx(Fh,{children:"tes-vous sr(e) ?"}),s.jsxs(Vh,{children:["Cette action est irrversible. Voulez-vous vraiment supprimer la catgorie",s.jsxs("span",{className:"font-medium",children:[' "',S==null?void 0:S.name,'"']})," ?",s.jsx("br",{}),s.jsx("span",{className:"text-destructive/80 font-medium",children:"Attention :"})," ","La suppression chouera si des types de test utilisent encore cette catgorie."]})]}),s.jsxs(zh,{children:[s.jsx(Bh,{disabled:f,onClick:()=>_(null),children:"Annuler"}),s.jsxs(ne,{variant:"destructive",onClick:O,disabled:f,children:[f&&s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Supprimer"]})]})]})})]})};function zY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const FY=e=>{switch(e){case"success":return HY;case"info":return WY;case"warning":return qY;case"error":return YY;default:return null}},VY=Array(12).fill(0),BY=({visible:e,className:t})=>we.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},we.createElement("div",{className:"sonner-spinner"},VY.map((n,r)=>we.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),HY=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qY=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WY=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YY=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GY=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},we.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),we.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XY=()=>{const[e,t]=we.useState(document.hidden);return we.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let ox=1;class KY{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,l=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:ox++,u=this.toasts.find(f=>f.id===l),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...t,id:l,title:r}),{...f,...t,id:l,dismissible:d,title:r}):f):this.addToast({title:r,...i,dismissible:d,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let l=r!==void 0,u;const d=i.then(async p=>{if(u=["resolve",p],we.isValidElement(p))l=!1,this.create({id:r,type:"default",message:p});else if(ZY(p)&&!p.ok){l=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,j=typeof v=="object"&&!we.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:b,...j})}else if(p instanceof Error){l=!1;const v=typeof n.error=="function"?await n.error(p):n.error,b=typeof n.description=="function"?await n.description(p):n.description,j=typeof v=="object"&&!we.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:b,...j})}else if(n.success!==void 0){l=!1;const v=typeof n.success=="function"?await n.success(p):n.success,b=typeof n.description=="function"?await n.description(p):n.description,j=typeof v=="object"&&!we.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:b,...j})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){l=!1;const g=typeof n.error=="function"?await n.error(p):n.error,v=typeof n.description=="function"?await n.description(p):n.description,w=typeof g=="object"&&!we.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:v,...w})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((p,g)=>d.then(()=>u[0]==="reject"?g(u[1]):p(u[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||ox++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cr=new KY,QY=(e,t)=>{const n=(t==null?void 0:t.id)||ox++;return Cr.addToast({title:e,...t,id:n}),n},ZY=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",JY=QY,eG=()=>Cr.toasts,tG=()=>Cr.getActiveToasts(),nu=Object.assign(JY,{success:Cr.success,info:Cr.info,warning:Cr.warning,error:Cr.error,custom:Cr.custom,message:Cr.message,promise:Cr.promise,dismiss:Cr.dismiss,loading:Cr.loading},{getHistory:eG,getToasts:tG});zY("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function _f(e){return e.label!==void 0}const nG=3,rG="24px",sG="16px",KN=4e3,aG=356,iG=14,oG=45,lG=200;function ks(...e){return e.filter(Boolean).join(" ")}function cG(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const uG=e=>{var t,n,r,i,l,u,d,f,p;const{invert:g,toast:v,unstyled:b,interacting:w,setHeights:j,visibleToasts:N,heights:S,index:_,toasts:R,expanded:E,removeToast:M,defaultRichColors:C,closeButton:D,style:O,cancelButtonStyle:P,actionButtonStyle:k,className:F="",descriptionClassName:ie="",duration:Q,position:U,gap:oe,expandByDefault:le,classNames:$,icons:G,closeButtonAriaLabel:W="Close toast"}=e,[J,L]=we.useState(null),[V,B]=we.useState(null),[H,I]=we.useState(!1),[z,q]=we.useState(!1),[K,se]=we.useState(!1),[ge,fe]=we.useState(!1),[Se,Ae]=we.useState(!1),[it,rt]=we.useState(0),[Dt,ue]=we.useState(0),ye=we.useRef(v.duration||Q||KN),ve=we.useRef(null),Ne=we.useRef(null),Oe=_===0,Ie=_+1<=N,$e=v.type,lt=v.dismissible!==!1,dt=v.className||"",on=v.descriptionClassName||"",_t=we.useMemo(()=>S.findIndex(te=>te.toastId===v.id)||0,[S,v.id]),qe=we.useMemo(()=>{var te;return(te=v.closeButton)!=null?te:D},[v.closeButton,D]),st=we.useMemo(()=>v.duration||Q||KN,[v.duration,Q]),mn=we.useRef(0),$n=we.useRef(0),wn=we.useRef(0),Un=we.useRef(null),[pn,Pt]=U.split("-"),Tn=we.useMemo(()=>S.reduce((te,xe,_e)=>_e>=_t?te:te+xe.height,0),[S,_t]),zn=XY(),jn=v.invert||g,Ar=$e==="loading";$n.current=we.useMemo(()=>_t*oe+Tn,[_t,Tn]),we.useEffect(()=>{ye.current=st},[st]),we.useEffect(()=>{I(!0)},[]),we.useEffect(()=>{const te=Ne.current;if(te){const xe=te.getBoundingClientRect().height;return ue(xe),j(_e=>[{toastId:v.id,height:xe,position:v.position},..._e]),()=>j(_e=>_e.filter(De=>De.toastId!==v.id))}},[j,v.id]),we.useLayoutEffect(()=>{if(!H)return;const te=Ne.current,xe=te.style.height;te.style.height="auto";const _e=te.getBoundingClientRect().height;te.style.height=xe,ue(_e),j(De=>De.find(ht=>ht.toastId===v.id)?De.map(ht=>ht.toastId===v.id?{...ht,height:_e}:ht):[{toastId:v.id,height:_e,position:v.position},...De])},[H,v.title,v.description,j,v.id]);const Mn=we.useCallback(()=>{q(!0),rt($n.current),j(te=>te.filter(xe=>xe.toastId!==v.id)),setTimeout(()=>{M(v)},lG)},[v,M,j,$n]);we.useEffect(()=>{if(v.promise&&$e==="loading"||v.duration===1/0||v.type==="loading")return;let te;return E||w||zn?(()=>{if(wn.current<mn.current){const De=new Date().getTime()-mn.current;ye.current=ye.current-De}wn.current=new Date().getTime()})():(()=>{ye.current!==1/0&&(mn.current=new Date().getTime(),te=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Mn()},ye.current))})(),()=>clearTimeout(te)},[E,w,v,$e,zn,Mn]),we.useEffect(()=>{v.delete&&Mn()},[Mn,v.delete]);function na(){var te;if(G!=null&&G.loading){var xe;return we.createElement("div",{className:ks($==null?void 0:$.loader,v==null||(xe=v.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":$e==="loading"},G.loading)}return we.createElement(BY,{className:ks($==null?void 0:$.loader,v==null||(te=v.classNames)==null?void 0:te.loader),visible:$e==="loading"})}const Gr=v.icon||(G==null?void 0:G[$e])||FY($e);var tn,ft;return we.createElement("li",{tabIndex:0,ref:Ne,className:ks(F,dt,$==null?void 0:$.toast,v==null||(t=v.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[$e],v==null||(n=v.classNames)==null?void 0:n[$e]),"data-sonner-toast":"","data-rich-colors":(tn=v.richColors)!=null?tn:C,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":H,"data-promise":!!v.promise,"data-swiped":Se,"data-removed":z,"data-visible":Ie,"data-y-position":pn,"data-x-position":Pt,"data-index":_,"data-front":Oe,"data-swiping":K,"data-dismissible":lt,"data-type":$e,"data-invert":jn,"data-swipe-out":ge,"data-swipe-direction":V,"data-expanded":!!(E||le&&H),style:{"--index":_,"--toasts-before":_,"--z-index":R.length-_,"--offset":`${z?it:$n.current}px`,"--initial-height":le?"auto":`${Dt}px`,...O,...v.style},onDragEnd:()=>{se(!1),L(null),Un.current=null},onPointerDown:te=>{Ar||!lt||(ve.current=new Date,rt($n.current),te.target.setPointerCapture(te.pointerId),te.target.tagName!=="BUTTON"&&(se(!0),Un.current={x:te.clientX,y:te.clientY}))},onPointerUp:()=>{var te,xe,_e;if(ge||!lt)return;Un.current=null;const De=Number(((te=Ne.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ve=Number(((xe=Ne.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ht=new Date().getTime()-((_e=ve.current)==null?void 0:_e.getTime()),Ge=J==="x"?De:Ve,xt=Math.abs(Ge)/ht;if(Math.abs(Ge)>=oG||xt>.11){rt($n.current),v.onDismiss==null||v.onDismiss.call(v,v),B(J==="x"?De>0?"right":"left":Ve>0?"down":"up"),Mn(),fe(!0);return}else{var mt,yt;(mt=Ne.current)==null||mt.style.setProperty("--swipe-amount-x","0px"),(yt=Ne.current)==null||yt.style.setProperty("--swipe-amount-y","0px")}Ae(!1),se(!1),L(null)},onPointerMove:te=>{var xe,_e,De;if(!Un.current||!lt||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const ht=te.clientY-Un.current.y,Ge=te.clientX-Un.current.x;var xt;const mt=(xt=e.swipeDirections)!=null?xt:cG(U);!J&&(Math.abs(Ge)>1||Math.abs(ht)>1)&&L(Math.abs(Ge)>Math.abs(ht)?"x":"y");let yt={x:0,y:0};const zt=Ht=>1/(1.5+Math.abs(Ht)/20);if(J==="y"){if(mt.includes("top")||mt.includes("bottom"))if(mt.includes("top")&&ht<0||mt.includes("bottom")&&ht>0)yt.y=ht;else{const Ht=ht*zt(ht);yt.y=Math.abs(Ht)<Math.abs(ht)?Ht:ht}}else if(J==="x"&&(mt.includes("left")||mt.includes("right")))if(mt.includes("left")&&Ge<0||mt.includes("right")&&Ge>0)yt.x=Ge;else{const Ht=Ge*zt(Ge);yt.x=Math.abs(Ht)<Math.abs(Ge)?Ht:Ge}(Math.abs(yt.x)>0||Math.abs(yt.y)>0)&&Ae(!0),(_e=Ne.current)==null||_e.style.setProperty("--swipe-amount-x",`${yt.x}px`),(De=Ne.current)==null||De.style.setProperty("--swipe-amount-y",`${yt.y}px`)}},qe&&!v.jsx&&$e!=="loading"?we.createElement("button",{"aria-label":W,"data-disabled":Ar,"data-close-button":!0,onClick:Ar||!lt?()=>{}:()=>{Mn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:ks($==null?void 0:$.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(ft=G==null?void 0:G.close)!=null?ft:GY):null,($e||v.icon||v.promise)&&v.icon!==null&&((G==null?void 0:G[$e])!==null||v.icon)?we.createElement("div",{"data-icon":"",className:ks($==null?void 0:$.icon,v==null||(i=v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||na():null,v.type!=="loading"?Gr:null):null,we.createElement("div",{"data-content":"",className:ks($==null?void 0:$.content,v==null||(l=v.classNames)==null?void 0:l.content)},we.createElement("div",{"data-title":"",className:ks($==null?void 0:$.title,v==null||(u=v.classNames)==null?void 0:u.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?we.createElement("div",{"data-description":"",className:ks(ie,on,$==null?void 0:$.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),we.isValidElement(v.cancel)?v.cancel:v.cancel&&_f(v.cancel)?we.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||P,onClick:te=>{_f(v.cancel)&&lt&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,te),Mn())},className:ks($==null?void 0:$.cancelButton,v==null||(f=v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,we.isValidElement(v.action)?v.action:v.action&&_f(v.action)?we.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||k,onClick:te=>{_f(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,te),!te.defaultPrevented&&Mn())},className:ks($==null?void 0:$.actionButton,v==null||(p=v.classNames)==null?void 0:p.actionButton)},v.action.label):null)};function QN(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function dG(e,t){const n={};return[e,t].forEach((r,i)=>{const l=i===1,u=l?"--mobile-offset":"--offset",d=l?sG:rG;function f(p){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${u}-${p}`]=d:n[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):f(d)}),n}const xT=we.forwardRef(function(t,n){const{invert:r,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:p,mobileOffset:g,theme:v="light",richColors:b,duration:w,style:j,visibleToasts:N=nG,toastOptions:S,dir:_=QN(),gap:R=iG,icons:E,containerAriaLabel:M="Notifications"}=t,[C,D]=we.useState([]),O=we.useMemo(()=>Array.from(new Set([i].concat(C.filter(V=>V.position).map(V=>V.position)))),[C,i]),[P,k]=we.useState([]),[F,ie]=we.useState(!1),[Q,U]=we.useState(!1),[oe,le]=we.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=we.useRef(null),G=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=we.useRef(null),J=we.useRef(!1),L=we.useCallback(V=>{D(B=>{var H;return(H=B.find(I=>I.id===V.id))!=null&&H.delete||Cr.dismiss(V.id),B.filter(({id:I})=>I!==V.id)})},[]);return we.useEffect(()=>Cr.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{D(B=>B.map(H=>H.id===V.id?{...H,delete:!0}:H))});return}setTimeout(()=>{vx.flushSync(()=>{D(B=>{const H=B.findIndex(I=>I.id===V.id);return H!==-1?[...B.slice(0,H),{...B[H],...V},...B.slice(H+1)]:[V,...B]})})})}),[C]),we.useEffect(()=>{if(v!=="system"){le(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:B})=>{le(B?"dark":"light")})}catch{V.addListener(({matches:H})=>{try{le(H?"dark":"light")}catch(I){console.error(I)}})}},[v]),we.useEffect(()=>{C.length<=1&&ie(!1)},[C]),we.useEffect(()=>{const V=B=>{var H;if(l.every(q=>B[q]||B.code===q)){var z;ie(!0),(z=$.current)==null||z.focus()}B.code==="Escape"&&(document.activeElement===$.current||(H=$.current)!=null&&H.contains(document.activeElement))&&ie(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[l]),we.useEffect(()=>{if($.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,J.current=!1)}},[$.current]),we.createElement("section",{ref:n,"aria-label":`${M} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((V,B)=>{var H;const[I,z]=V.split("-");return C.length?we.createElement("ol",{key:V,dir:_==="auto"?QN():_,tabIndex:-1,ref:$,className:f,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":I,"data-lifted":F&&C.length>1&&!u,"data-x-position":z,style:{"--front-toast-height":`${((H=P[0])==null?void 0:H.height)||0}px`,"--width":`${aG}px`,"--gap":`${R}px`,...j,...dG(p,g)},onBlur:q=>{J.current&&!q.currentTarget.contains(q.relatedTarget)&&(J.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||J.current||(J.current=!0,W.current=q.relatedTarget)},onMouseEnter:()=>ie(!0),onMouseMove:()=>ie(!0),onMouseLeave:()=>{Q||ie(!1)},onDragEnd:()=>ie(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},C.filter(q=>!q.position&&B===0||q.position===V).map((q,K)=>{var se,ge;return we.createElement(uG,{key:q.id,icons:E,index:K,toast:q,defaultRichColors:b,duration:(se=S==null?void 0:S.duration)!=null?se:w,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:r,visibleToasts:N,closeButton:(ge=S==null?void 0:S.closeButton)!=null?ge:d,interacting:Q,position:V,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:L,toasts:C.filter(fe=>fe.position==q.position),heights:P.filter(fe=>fe.position==q.position),setHeights:k,expandByDefault:u,gap:R,expanded:F,swipeDirections:t.swipeDirections})})):null}))});var Fb="Progress",Vb=100,[fG,wK]=wr(Fb),[hG,mG]=fG(Fb),bT=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:l=pG,...u}=e;(i||i===0)&&!ZN(i)&&console.error(gG(`${i}`,"Progress"));const d=ZN(i)?i:Vb;r!==null&&!JN(r,d)&&console.error(vG(`${r}`,"Progress"));const f=JN(r,d)?r:null,p=ch(f)?l(f,d):void 0;return s.jsx(hG,{scope:n,value:f,max:d,children:s.jsx(tt.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":ch(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":jT(f,d),"data-value":f??void 0,"data-max":d,...u,ref:t})})});bT.displayName=Fb;var yT="ProgressIndicator",wT=h.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=mG(yT,n);return s.jsx(tt.div,{"data-state":jT(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});wT.displayName=yT;function pG(e,t){return`${Math.round(e/t*100)}%`}function jT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ch(e){return typeof e=="number"}function ZN(e){return ch(e)&&!isNaN(e)&&e>0}function JN(e,t){return ch(e)&&!isNaN(e)&&e<=t&&e>=0}function gG(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Vb}\`.`}function vG(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Vb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xG=bT,bG=wT;function yG({className:e,value:t,...n}){return s.jsx(xG,{"data-slot":"progress",className:Me("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:s.jsx(bG,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var Bb="Radio",[wG,NT]=wr(Bb),[jG,NG]=wG(Bb),ST=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:l,disabled:u,value:d="on",onCheck:f,form:p,...g}=e,[v,b]=h.useState(null),w=Rt(t,S=>b(S)),j=h.useRef(!1),N=v?p||!!v.closest("form"):!0;return s.jsxs(jG,{scope:n,checked:i,disabled:u,children:[s.jsx(tt.button,{type:"button",role:"radio","aria-checked":i,"data-state":CT(i),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:w,onClick:Pe(e.onClick,S=>{i||f==null||f(),N&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),N&&s.jsx(SG,{control:v,bubbles:!j.current,name:r,value:d,checked:i,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});ST.displayName=Bb;var _T="RadioIndicator",ET=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,l=NG(_T,n);return s.jsx(Yr,{present:r||l.checked,children:s.jsx(tt.span,{"data-state":CT(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})})});ET.displayName=_T;var SG=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,l=h.useRef(null),u=wb(n),d=Lx(t);return h.useEffect(()=>{const f=l.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&v){const b=new Event("click",{bubbles:r});v.call(f,n),f.dispatchEvent(b)}},[u,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function CT(e){return e?"checked":"unchecked"}var _G=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Hb="RadioGroup",[EG,jK]=wr(Hb,[_h,NT]),RT=_h(),TT=NT(),[CG,RG]=EG(Hb),MT=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:l,required:u=!1,disabled:d=!1,orientation:f,dir:p,loop:g=!0,onValueChange:v,...b}=e,w=RT(n),j=vh(p),[N,S]=pi({prop:l,defaultProp:i,onChange:v});return s.jsx(CG,{scope:n,name:r,required:u,disabled:d,value:N,onValueChange:S,children:s.jsx(L_,{asChild:!0,...w,orientation:f,dir:j,loop:g,children:s.jsx(tt.div,{role:"radiogroup","aria-required":u,"aria-orientation":f,"data-disabled":d?"":void 0,dir:j,...b,ref:t})})})});MT.displayName=Hb;var OT="RadioGroupItem",AT=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,l=RG(OT,n),u=l.disabled||r,d=RT(n),f=TT(n),p=h.useRef(null),g=Rt(t,p),v=l.value===i.value,b=h.useRef(!1);return h.useEffect(()=>{const w=N=>{_G.includes(N.key)&&(b.current=!0)},j=()=>b.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",j)}},[]),s.jsx(I_,{asChild:!0,...d,focusable:!u,active:v,children:s.jsx(ST,{disabled:u,required:l.required,checked:v,...f,...i,name:l.name,ref:g,onCheck:()=>l.onValueChange(i.value),onKeyDown:Pe(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Pe(i.onFocus,()=>{var w;b.current&&((w=p.current)==null||w.click())})})})});AT.displayName=OT;var TG="RadioGroupIndicator",DT=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=TT(n);return s.jsx(ET,{...i,...r,ref:t})});DT.displayName=TG;var MG=MT,OG=AT,AG=DT;function DG({className:e,...t}){return s.jsx(MG,{"data-slot":"radio-group",className:Me("grid gap-3",e),...t})}function PG({className:e,...t}){return s.jsx(OG,{"data-slot":"radio-group-item",className:Me("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(AG,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(d6,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const kG={logoUrl:null,labName:"Laboratoire XYZ",addressLine1:"123 Rue Principale",cityPostalCode:"75001 Paris",phone:"01 23 45 67 89"},LG=({templates:e,selectedTemplateId:t,onSelectTemplate:n,disabled:r=!1})=>s.jsx(DG,{value:t,onValueChange:n,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",disabled:r,children:e.map(i=>s.jsxs(Le,{htmlFor:i.id,className:Me("border-2 rounded-lg p-4 flex flex-col items-center gap-4 cursor-pointer transition-colors hover:border-primary/80",t===i.id&&"border-primary ring-2 ring-primary ring-offset-2",r&&"cursor-not-allowed opacity-50"),children:[s.jsx(PG,{value:i.id,id:i.id,className:"sr-only"}),s.jsx("span",{className:"font-medium text-sm text-center",children:i.name}),s.jsxs(Ce,{className:"w-full scale-75 origin-top border-dashed",children:[" ",s.jsx(Re,{className:"p-2",children:s.jsx(i.component,{data:kG,isPreview:!0})})]})]},i.id))}),IG="public",$G="header-logo",iv=[{id:"template1",name:"Classique (Sans Logo)",component:Zn},{id:"template2",name:"Centr (Logo au Dessus)",component:Aa},{id:"template3",name:"Centr (encercle)",component:Da},{id:"template4",name:"Centr (encercle en %)",component:Pa}],ov="template1",UG=()=>{var le;const[e,t]=h.useState(null),[n,r]=h.useState({}),[i,l]=h.useState(null),[u,d]=h.useState(ov),[f,p]=h.useState(null),[g,v]=h.useState(null),[b,w]=h.useState(!1),[j,N]=h.useState(null),[S,_]=h.useState(null),[R,E]=h.useState(!0),[M,C]=h.useState(!1),[D,O]=h.useState(null),P=h.useCallback(async()=>{E(!0),O(null);try{const{data:$,error:G}=await re.from("print_header_config").select("*").limit(1).maybeSingle();if(G)throw G;$?(t($.id),r({lab_name:$.lab_name,address_line1:$.address_line1,address_line2:$.address_line2,city_postal_code:$.city_postal_code,phone:$.phone,email:$.email,website:$.website}),l($.logo_url),d($.selected_template||ov)):(t(null),r({}),l(null),d(ov))}catch($){console.error("Erreur chargement configuration:",$),O($ instanceof Error?$.message:"Impossible de charger la configuration de l'en-tte.")}finally{E(!1)}},[]);h.useEffect(()=>{P()},[P]);const k=$=>{const{name:G,value:W}=$.target;r(J=>({...J,[G]:W}))},F=$=>{var W;const G=(W=$.target.files)==null?void 0:W[0];if(f&&(URL.revokeObjectURL(f),p(null)),G){v(G),_(null);const J=URL.createObjectURL(G);p(J)}else v(null)};h.useEffect(()=>()=>{f&&URL.revokeObjectURL(f)},[f]);const ie=async()=>{var $;if(!g)return i;w(!0),_(null),N(0);try{const G=(($=g.name.split(".").pop())==null?void 0:$.toLowerCase())||"png",W=`${IG}/${$G}.${G}`,{error:J}=await re.storage.from("logos").upload(W,g,{cacheControl:"3600",upsert:!0});if(J)throw J;const{data:L}=re.storage.from("logos").getPublicUrl(W);if(!(L!=null&&L.publicUrl))throw new Error("Impossible d'obtenir l'URL publique du logo.");const V=`${L.publicUrl}?t=${new Date().getTime()}`;return l(V),v(null),f&&(URL.revokeObjectURL(f),p(null)),V}catch(G){console.error("Erreur upload logo:",G);const W=G instanceof Error?G.message:"chec de l'upload du logo.";return _(W),nu.error("Erreur Upload Logo",{description:W}),i}finally{w(!1),N(null)}},Q=async $=>{var G,W,J,L,V,B,H;$.preventDefault(),O(null),_(null),C(!0);try{let I=i;if(g&&(I=await ie(),!I||S)){O(S||"L'upload du logo a chou. Veuillez ressayer."),C(!1);return}const z={lab_name:((G=n.lab_name)==null?void 0:G.trim())||null,address_line1:((W=n.address_line1)==null?void 0:W.trim())||null,address_line2:((J=n.address_line2)==null?void 0:J.trim())||null,city_postal_code:((L=n.city_postal_code)==null?void 0:L.trim())||null,phone:((V=n.phone)==null?void 0:V.trim())||null,email:((B=n.email)==null?void 0:B.trim())||null,website:((H=n.website)==null?void 0:H.trim())||null,logo_url:I,selected_template:u};let q=null,K=null;if(e){const{data:se,error:ge}=await re.from("print_header_config").update(z).eq("id",e).select().single();q=ge,K=se}else{const{data:se,error:ge}=await re.from("print_header_config").insert(z).select().single();q=ge,K=se,K!=null&&K.id&&t(K.id)}if(q)throw q;nu.success("Configuration Enregistre",{description:"L'en-tte d'impression a t mis  jour avec succs.",duration:3e3})}catch(I){console.error("Erreur sauvegarde configuration:",I);const z=I instanceof Error?I.message:"Une erreur est survenue lors de l'enregistrement.";O(z),nu.error("Erreur Sauvegarde",{description:z})}finally{C(!1)}},U=h.useMemo(()=>{var $;return(($=iv.find(G=>G.id===u))==null?void 0:$.component)||Zn},[u]),oe=h.useMemo(()=>({logoUrl:f||i,labName:n.lab_name,addressLine1:n.address_line1,addressLine2:n.address_line2,cityPostalCode:n.city_postal_code,phone:n.phone,email:n.email,website:n.website}),[n,i,f]);return R?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(X,{className:"h-8 w-3/4 mb-4"}),s.jsx(X,{className:"h-32 w-full"})," ",s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/2"})}),s.jsxs(Re,{className:"space-y-4",children:[s.jsx(X,{className:"h-9 w-full"}),s.jsx(X,{className:"h-9 w-full"}),s.jsx(X,{className:"h-9 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/2"})}),s.jsxs(Re,{className:"space-y-4",children:[s.jsx(X,{className:"h-16 w-32 mx-auto"}),s.jsx(X,{className:"h-9 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/2"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-24 w-full"})})]}),s.jsx(X,{className:"h-10 w-36 ml-auto"})," "]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Hr,{className:"h-6 w-6"}),"Configuration En-tte Impression/PDF"]}),D&&!M&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[D," ",s.jsx(ne,{variant:"link",onClick:P,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]}),s.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsxs(ut,{className:"flex items-center gap-2",children:[s.jsx(_6,{className:"h-5 w-5"})," Modle d'En-tte"]}),s.jsx(ur,{children:"Choisissez la disposition de l'en-tte pour vos rapports."})]}),s.jsx(Re,{children:s.jsx(LG,{templates:iv,selectedTemplateId:u,onSelectTemplate:d,disabled:M||b})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(ut,{children:"Informations du Laboratoire"}),s.jsx(ur,{children:"Ces informations apparatront dans l'en-tte choisi."})]}),s.jsxs(Re,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:"lab_name",children:"Nom du Laboratoire"}),s.jsx(Ke,{id:"lab_name",name:"lab_name",value:n.lab_name||"",onChange:k,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:"address_line1",children:"Adresse Ligne 1"}),s.jsx(Ke,{id:"address_line1",name:"address_line1",value:n.address_line1||"",onChange:k,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:"address_line2",children:"Adresse Ligne 2"}),s.jsx(Ke,{id:"address_line2",name:"address_line2",value:n.address_line2||"",onChange:k,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:"city_postal_code",children:"Ville & Code Postal"}),s.jsx(Ke,{id:"city_postal_code",name:"city_postal_code",value:n.city_postal_code||"",onChange:k,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:"phone",children:"Tlphone"}),s.jsx(Ke,{id:"phone",name:"phone",type:"tel",value:n.phone||"",onChange:k,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:"email",children:"E-mail"}),s.jsx(Ke,{id:"email",name:"email",type:"email",value:n.email||"",onChange:k,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Le,{htmlFor:"website",children:"Site Web"}),s.jsx(Ke,{id:"website",name:"website",type:"url",value:n.website||"",onChange:k,disabled:M})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(ut,{children:"Logo du Laboratoire"})}),s.jsxs(Re,{className:"space-y-4",children:[s.jsx(Le,{children:"Aperu Actuel / Nouveau"}),s.jsxs(_u,{className:"h-20 w-20 rounded-md border",children:[s.jsx(gh,{src:f||i||void 0,alt:"Logo",className:"object-contain"}),s.jsx(Eu,{className:"rounded-md text-muted-foreground",children:s.jsx(Mh,{})})]}),s.jsxs(Le,{htmlFor:"logo-upload",className:Me(wl({variant:"outline"}),"cursor-pointer w-full",b||M&&"cursor-not-allowed opacity-50"),children:[" ",s.jsx(W6,{className:"mr-2 h-4 w-4"})," ",g?"Changer le logo...":"Choisir un logo..."," "]}),s.jsx(Ke,{id:"logo-upload",type:"file",accept:"image/png, image/jpeg, image/gif, image/svg+xml",onChange:F,className:"hidden",disabled:b||M}),g&&!b&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fichier : ",g.name]}),b&&s.jsx(yG,{value:j,className:"w-full h-2"}),S&&!b&&s.jsxs(It,{variant:"destructive",className:"text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur Upload Prcdente"}),s.jsx(Ut,{children:S})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsxs(ut,{children:["Aperu de l'En-tte (Modle:"," ",((le=iv.find($=>$.id===u))==null?void 0:le.name)||u,")"]}),s.jsx(ur,{children:"Ceci est une prvisualisation base sur le modle slectionn et les informations saisies."})]}),s.jsx(Re,{children:s.jsx(U,{data:oe,isPreview:!0})})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(ne,{type:"submit",disabled:M||b,children:[M?s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Enregistrer la Configuration"]})})]})]})},zG={pending:"default",approved:"warning",paid:"success"},FG={pending:"En attente",approved:"Approuv",paid:"Pay"},lv=10,VG=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[i,l]=h.useState(null),[u,d]=h.useState(""),[f,p]=h.useState(1),[g,v]=h.useState(0),b=Iu(u,300),[w,j]=h.useState(null),[N,S]=h.useState(!1),[_,R]=h.useState(null),[E,M]=h.useState(()=>!sessionStorage.getItem("ristourne_access_granted")),[C,D]=h.useState(""),[O,P]=h.useState(null),[k,F]=h.useState(null),[ie,Q]=h.useState(!0);h.useEffect(()=>{(async()=>{Q(!0);const{data:H,error:I}=await re.from("settings").select("ristourne_access_code").limit(1).single();!I&&H&&H.ristourne_access_code?F(H.ristourne_access_code):F(null),Q(!1)})()},[]);const U=B=>{B.preventDefault(),C===k?(M(!1),D(""),P(null),sessionStorage.setItem("ristourne_access_granted","1")):P("Code incorrect. Veuillez ressayer.")},oe=async()=>{r(!0),l(null);try{const{count:B}=await re.from("ristourne").select("id",{count:"exact",head:!0});v(B||0);const H=(f-1)*lv,I=H+lv-1,{data:z,error:q}=await re.from("ristourne").select(`
          *,
          doctor:doctor_id (
            id,
            full_name,
            hospital
          )
        `).order("created_date",{ascending:!1}).range(H,I);if(q)throw q;t(z||[])}catch(B){console.error("Erreur lors de la rcupration des ristournes:",B),l((B instanceof Error?B.message:"")||"Une erreur est survenue lors du chargement des ristournes."),t([])}finally{r(!1)}};h.useEffect(()=>{oe()},[f]);const le=h.useMemo(()=>{let B=e;if(b){const H=b.toLowerCase();B=e.filter(I=>{var z,q;return((z=I.doctor)==null?void 0:z.full_name.toLowerCase().includes(H))||((q=I.doctor)==null?void 0:q.hospital)&&I.doctor.hospital.toLowerCase().includes(H)})}return B.slice().sort((H,I)=>new Date(I.created_date).getTime()-new Date(H.created_date).getTime())},[e,b]),$=Math.ceil(g/lv),G=f>1,W=f<$,J=B=>new Date(B).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),L=B=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(B),V=async()=>{if(w){S(!0),R(null);try{const{error:B}=await re.from("ristourne").delete().eq("id",w.id);if(B)throw B;j(null),oe()}catch(B){R(B.message||"Erreur lors de la suppression")}finally{S(!1)}}};return s.jsxs(s.Fragment,{children:[s.jsx(ro,{open:E,children:s.jsxs(so,{className:"max-w-[350px]",children:[s.jsx(ao,{children:s.jsx(io,{children:"Code d'accs requis"})}),s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsx(Ke,{type:"password",placeholder:"Entrer le code d'accs",value:C,onChange:B=>D(B.target.value),disabled:ie,autoFocus:!0}),O&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:O})]}),s.jsx(_l,{children:s.jsx(ne,{type:"submit",disabled:ie||!C,children:ie?"Chargement...":"Valider"})})]})]})}),!E&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(CE,{className:"h-6 w-6"}),"Gestion des Ristournes"]}),s.jsx(at,{to:"/ristournes/new",children:s.jsxs(ne,{children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Nouvelle Ristourne"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ke,{type:"search",placeholder:"Rechercher par mdecin ou hpital...",value:u,onChange:B=>d(B.target.value),className:"pl-10 w-full md:w-1/3 h-10",disabled:n})]}),n&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(X,{className:"h-12 w-full rounded-t-lg"}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"})]})]}),!n&&i&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsxs(Ut,{children:[i," ",s.jsx(ne,{variant:"link",onClick:oe,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]}),!n&&!i&&s.jsxs("div",{className:"border rounded-lg overflow-hidden bg-background",children:[s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{children:"Date"}),s.jsx(vt,{children:"Mdecin"}),s.jsx(vt,{children:"Hpital"}),s.jsx(vt,{children:"Montant Total"}),s.jsx(vt,{children:"Statut"}),s.jsx(vt,{className:"text-right",children:"Actions"})]})}),s.jsx(ea,{children:le.length>0?le.map(B=>{var H,I;return s.jsxs(Kt,{children:[s.jsx(Qe,{children:J(B.created_date)}),s.jsx(Qe,{className:"font-medium",children:(H=B.doctor)==null?void 0:H.full_name}),s.jsx(Qe,{children:((I=B.doctor)==null?void 0:I.hospital)||s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),s.jsx(Qe,{children:L(B.total_fee)}),s.jsx(Qe,{children:s.jsx(qr,{variant:zG[B.status],children:FG[B.status]})}),s.jsxs(Qe,{className:"text-right",children:[s.jsx(at,{to:`/ristournes/${B.id}`,children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(ds,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),s.jsx("span",{className:"sm:hidden",children:"diter"})]})}),s.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",onClick:()=>j(B),disabled:N,children:[s.jsx(Lu,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Supprimer"}),s.jsx("span",{className:"sm:hidden",children:"Del"})]})]})]},B.id)}):s.jsx(Kt,{children:s.jsx(Qe,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:u?"Aucune ristourne ne correspond  votre recherche.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx("p",{children:"Aucune ristourne n'a t cre."}),s.jsx(at,{to:"/ristournes/new",children:s.jsxs(ne,{variant:"link",className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"Crer une ristourne"]})})]})})})})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 px-2 border-t bg-muted text-xs",children:[s.jsxs("div",{children:["Page ",f," sur ",$]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(ne,{size:"sm",variant:"outline",onClick:()=>p(f-1),disabled:!G,children:"Prcdent"}),s.jsx(ne,{size:"sm",variant:"outline",onClick:()=>p(f+1),disabled:!W,children:"Suivant"})]}),s.jsxs("div",{children:[g," rsultats"]})]})]}),s.jsx(ro,{open:!!w,onOpenChange:()=>j(null),children:s.jsxs(so,{children:[s.jsx(ao,{children:s.jsx(io,{children:"Confirmer la suppression"})}),s.jsxs("div",{children:["Voulez-vous vraiment supprimer cette ristourne ? Cette action est irrversible.",_&&s.jsxs(It,{variant:"destructive",className:"mt-2",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:_})]})]}),s.jsxs(_l,{children:[s.jsx(ne,{variant:"outline",onClick:()=>j(null),disabled:N,children:"Annuler"}),s.jsx(ne,{variant:"destructive",onClick:V,loading:N,children:"Supprimer"})]})]})})]})]})},eS=()=>{const e=dr(),{ristourneId:t}=yr(),n=!!t,[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(40),[p,g]=h.useState(100),[v,b]=h.useState(!1),[w,j]=h.useState([]),[N,S]=h.useState(""),[_,R]=h.useState(0),[E,M]=h.useState("pending"),[C,D]=h.useState([]),[O,P]=h.useState(!0),[k,F]=h.useState(!1),[ie,Q]=h.useState(null),U=[{value:"pending",label:"En attente"},{value:"paid",label:"Pay"}];h.useEffect(()=>{(async()=>{try{const{data:q,error:K}=await re.from("doctor").select("*");if(K){Q("Erreur lors du chargement des mdecins"),console.error("Error fetching doctors:",K);return}if(D(q||[]),n&&t){const{data:se,error:ge}=await re.from("ristourne").select(`
              *,
              doctor:doctor_id(*),
              ristourne_patient_result(
                *,
                patient_result:patient_result_id(
                  *,
                  patient:patient_id(*)
                )
              )
            `).eq("id",t).single();if(ge){Q("Erreur lors du chargement de la ristourne"),console.error("Error fetching ristourne:",ge);return}if(se){i(se.doctor),S(se.notes||""),R(se.total_fee),M(se.status);const fe=se.ristourne_patient_result.map(Se=>({...Se.patient_result,calculatedFee:Se.fee_amount,isSelected:!0,isSelectedInitial:!0,patient:Se.patient_result.patient}));if(j(fe),se.doctor){const{data:Se}=await re.from("doctor_fee_config").select("*").eq("doctor_id",se.doctor.id).order("effective_date",{ascending:!1}).limit(1).single();Se&&(u(Se),f(Se.normal_price_percentage),g(Se.insurance_price_percentage),await W(se.doctor.id,Se,fe))}}}}catch(q){console.error("Error:",q),Q("Une erreur est survenue lors du chargement des donnes")}finally{P(!1)}})()},[n,t]);const oe=(z,q)=>{const K=z.normal_price?z.normal_price*q.normal_price_percentage/100:0,se=z.insurance_price?z.insurance_price*q.insurance_price_percentage/100:0;return Math.round(K+se)},le=h.useCallback((z,q)=>{if(!q)return z;const K=z.map(ge=>({...ge,calculatedFee:oe(ge,q)})),se=K.filter(ge=>ge.isSelected).reduce((ge,fe)=>ge+fe.calculatedFee,0);return R(se),K},[]),$=(z,q)=>{j(K=>{const se=K.map(ge=>ge.id===z?{...ge,isSelected:q}:ge);if(l){const ge=se.filter(fe=>fe.isSelected).reduce((fe,Se)=>fe+Se.calculatedFee,0);R(ge)}return se})},G=async()=>{if(r){b(!0);try{const z={doctor_id:r.id,normal_price_percentage:d,insurance_price_percentage:p,effective_date:new Date().toISOString()},{data:q,error:K}=await re.from("doctor_fee_config").insert(z).select().single();if(K)throw K;u(q),j(se=>le(se,q)),await W(r.id,q,w.filter(se=>se.isSelected))}catch(z){console.error("Error saving fee config:",z),Q(z.message||"Une erreur est survenue lors de la sauvegarde de la configuration")}finally{b(!1)}}},W=async(z,q,K)=>{let se=[];K&&K.length>0&&(se=K.map(ue=>ue.id));let ge=[];if(n&&t){const{data:ue,error:ye}=await re.from("ristourne_patient_result").select("patient_result_id, ristourne(status, id)");!ye&&Array.isArray(ue)&&(ge=ue.filter(ve=>ve.ristourne&&["paid","pending"].includes(ve.ristourne.status)&&ve.ristourne.id!==t).map(ve=>ve.patient_result_id))}else{const{data:ue,error:ye}=await re.from("ristourne_patient_result").select("patient_result_id, ristourne(status)");!ye&&Array.isArray(ue)&&(ge=ue.filter(ve=>ve.ristourne&&["paid","pending"].includes(ve.ristourne.status)).map(ve=>ve.patient_result_id))}let fe=re.from("patient_result").select("*, patient:patient_id(*)");if(fe=fe.eq("isFree",!1),se.length>0?(fe=fe.or(`paid_status.eq.unpaid,or(paid_status.eq.paid,id.in.(${se.join(",")}))`),fe=fe.eq("doctor_id",z)):fe=fe.eq("doctor_id",z).eq("paid_status","unpaid"),ge.length>0){const ue=ge.filter(ye=>!se.includes(ye));ue.length>0&&(fe=fe.not("id","in",`(${ue.join(",")})`))}const{data:Se,error:Ae}=await fe;if(Ae){Q("Erreur lors du chargement des rsultats"),console.error("Error fetching patient results:",Ae);return}const it=new Map((K==null?void 0:K.map(ue=>[ue.id,ue]))||[]),rt=(Se||[]).map(ue=>{const ye=it.get(ue.id);return{...ue,calculatedFee:(ye==null?void 0:ye.calculatedFee)||oe(ue,q),isSelected:!!ye}});j(rt);const Dt=rt.filter(ue=>ue.isSelected).reduce((ue,ye)=>ue+ye.calculatedFee,0);R(Dt)};h.useEffect(()=>{r?(async q=>{const{data:K,error:se}=await re.from("doctor_fee_config").select("*").eq("doctor_id",q).order("effective_date",{ascending:!1}).limit(1).single();if(se&&se.code!=="PGRST116"){Q("Erreur lors du chargement de la configuration des frais"),console.error("Error fetching doctor fee config:",se);return}K?(u(K),f(K.normal_price_percentage),g(K.insurance_price_percentage),await W(q,K,w)):(u(null),f(40),g(100),j([]))})(r.id):(u(null),j([]),R(0))},[r]);const J=z=>{const q=C.find(K=>K.id===z);i(q||null)},L=z=>{M(z)},V=async z=>{if(z.preventDefault(),!r){Q("Veuillez slectionner un mdecin");return}const q=w.filter(K=>K.isSelected);F(!0),Q(null);try{if(n){const fe=w.filter(Se=>Se.isSelectedInitial).map(Se=>Se.id).filter(Se=>!q.some(Ae=>Ae.id===Se));fe.length>0&&await re.from("patient_result").update({paid_status:"unpaid"}).in("id",fe)}const{data:K,error:se}=await re.rpc("handle_ristourne_upsert",{p_ristourne_id:t||null,p_doctor_id:r.id,p_notes:N,p_total_fee:_,p_status:E,p_patient_results:q.map(ge=>({patient_result_id:ge.id,fee_amount:ge.calculatedFee}))});if(se)throw se;e("/ristournes",{state:{message:`Ristourne ${n?"modifie":"cre"} avec succs.`}})}catch(K){console.error("Error saving ristourne:",K),Q(K.message||"Une erreur est survenue lors de la sauvegarde")}finally{F(!1)}};h.useEffect(()=>{n&&w.length>0&&j(z=>z.map(q=>({...q,isSelectedInitial:q.isSelectedInitial??q.isSelected})))},[n,w.length]);const B=w.length>0&&w.every(z=>z.isSelected),H=w.some(z=>z.isSelected),I=z=>{if(j(q=>q.map(K=>({...K,isSelected:z}))),l){const q=w.map(K=>({...K,isSelected:z})).filter(K=>K.isSelected).reduce((K,se)=>K+se.calculatedFee,0);R(q)}};return O?s.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{className:"h-10 w-10"}),s.jsx(X,{className:"h-10 w-40"})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-8 w-3/4"}),s.jsx(X,{className:"h-4 w-1/2"})]}),s.jsxs(Re,{className:"space-y-4",children:[s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-10 w-full"}),s.jsx(X,{className:"h-32 w-full"})]})]})]}):s.jsxs("div",{className:"ristourne-print-root container mx-auto p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsx(ne,{variant:"outline",size:"icon",onClick:()=>e("/ristournes"),children:s.jsx(Cn,{className:"h-4 w-4"})}),s.jsxs("h1",{className:"text-2xl font-bold",children:[n?"Modifier":"Nouvelle"," Ristourne"]}),s.jsx(ne,{variant:"default",className:"ml-auto",onClick:()=>window.print(),children:"Imprimer"})]}),ie&&s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Ut,{children:ie})]}),s.jsxs("div",{className:"ristourne-print-summary  hidden print:block",children:[s.jsxs("h1",{children:["Ristourne: ",(r==null?void 0:r.full_name)||"-"]}),s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Patient"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Prix"}),s.jsx("th",{children:"Prix AMO"}),s.jsx("th",{children:"Montant"})]})}),s.jsx("tbody",{children:w.filter(z=>z.isSelected&&z.paid_status==="paid").length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,children:"Aucun rsultat pay slectionn"})}):w.filter(z=>z.isSelected&&z.paid_status==="paid").map(z=>{var q,K;return s.jsxs("tr",{children:[s.jsx("td",{children:z.patient.full_name}),s.jsx("td",{children:z.result_date?ct(new Date(z.result_date),"dd/MM/yyyy"):""}),s.jsxs("td",{children:[(q=z.normal_price)==null?void 0:q.toLocaleString()," "]}),s.jsxs("td",{children:[(K=z.insurance_price)==null?void 0:K.toLocaleString()," "]}),s.jsxs("td",{children:[z.calculatedFee.toLocaleString()," "]})]},z.id)})})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs(qr,{variant:"secondary",className:"text-lg px-4 py-2",children:["Total: ",_.toLocaleString()," FCFA"]})})]}),s.jsxs("form",{className:"ristourne-print-area print:hidden",onSubmit:V,children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(ut,{children:"Slection du Mdecin"}),s.jsx(ur,{children:"Slectionnez le mdecin pour lequel vous souhaitez crer une ristourne"})]}),s.jsx(Re,{children:s.jsx("div",{className:"w-[30%]",children:s.jsx(vT,{name:"doctor",options:C.map(z=>({value:z.id,label:z.full_name})),value:C.map(z=>({value:z.id,label:z.full_name})).find(z=>z.value===(r==null?void 0:r.id))||null,onChange:z=>J(z==null?void 0:z.value),isDisabled:k||n,placeholder:"Slectionner un mdecin..."})})})]}),r&&s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(ut,{children:"Configuration des Frais"}),s.jsx(ur,{children:l?"Modifier la configuration des frais du mdecin":"Crer une nouvelle configuration des frais pour le mdecin"})]}),s.jsx(Re,{children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"normalPrice",children:"Pourcentage Prix Normal"}),s.jsx(Ke,{id:"normalPrice",type:"number",min:"0",max:"100",value:d,onChange:z=>f(Number(z.target.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Le,{htmlFor:"insurancePrice",children:"Pourcentage Prix Assurance"}),s.jsx(Ke,{id:"insurancePrice",type:"number",min:"0",max:"100",value:p,onChange:z=>g(Number(z.target.value))})]})]})}),s.jsx(Ns,{children:s.jsxs(ne,{type:"button",onClick:G,disabled:v,children:[v&&s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(Nl,{className:"mr-2 h-4 w-4"}),l?"Mettre  jour":"Enregistrer"]})})]}),r&&l&&s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(ut,{children:"Slection des Rsultats"}),s.jsx(ur,{children:"Slectionnez les rsultats  inclure dans la ristourne"})]}),s.jsxs(Re,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{className:"w-12",children:s.jsx(Sa,{checked:B,indeterminate:H&&!B,onCheckedChange:z=>I(!!z),disabled:k||w.length===0,"aria-label":"Tout slectionner"})}),s.jsx(vt,{children:"Patient"}),s.jsx(vt,{children:"Date"}),s.jsx(vt,{children:"Prix Normal"}),s.jsx(vt,{children:"Prix Assurance"}),s.jsx(vt,{className:"text-right",children:"Frais Calculs"})]})}),s.jsx(ea,{children:w.length===0?s.jsx(Kt,{children:s.jsx(Qe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucun rsultat non pay trouv pour ce mdecin"})}):w.map(z=>{var q,K;return s.jsxs(Kt,{children:[s.jsx(Qe,{children:s.jsx(Sa,{checked:z.isSelected,onCheckedChange:se=>$(z.id,se),disabled:k})}),s.jsx(Qe,{children:z.patient.full_name}),s.jsx(Qe,{children:z.result_date?ct(new Date(z.result_date),"dd/MM/yyyy"):""}),s.jsxs(Qe,{children:[(q=z.normal_price)==null?void 0:q.toLocaleString()," FCFA"]}),s.jsxs(Qe,{children:[(K=z.insurance_price)==null?void 0:K.toLocaleString()," FCFA"]}),s.jsxs(Qe,{className:"text-right font-medium",children:[z.calculatedFee.toLocaleString()," FCFA"]})]},z.id)})})]})}),s.jsx("div",{className:"mt-4 flex justify-end items-center gap-2 print:block",children:s.jsxs(qr,{variant:"secondary",className:"text-lg px-4 py-2",children:["Total: ",_.toLocaleString()," FCFA"]})})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(ut,{children:"Statut"}),s.jsx(ur,{children:"Slectionnez le statut de la ristourne"})]}),s.jsx(Re,{children:s.jsxs(gr,{value:E,onValueChange:L,children:[s.jsx(xr,{children:s.jsx(vr,{placeholder:"Slectionner un statut"})}),s.jsx(br,{children:U.map(z=>s.jsx(St,{value:z.value,children:z.label},z.value))})]})})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(ut,{children:"Notes"}),s.jsx(ur,{children:"Ajoutez des notes ou commentaires optionnels"})]}),s.jsx(Re,{children:s.jsx(wu,{value:N,onChange:z=>S(z.target.value),placeholder:"Notes ou commentaires...",disabled:k})})]}),s.jsx(Ce,{children:s.jsxs(Ns,{className:"flex justify-end space-x-4",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>e("/ristournes"),disabled:k,children:"Annuler"}),s.jsxs(ne,{type:"submit",disabled:k||!l,children:[k&&s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})]})})]})]})},BG=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(""),[i,l]=h.useState("category"),[u,d]=h.useState(!1),[f,p]=h.useState(null),[g,v]=h.useState(null),b=async()=>{d(!0),p(null);const{data:N,error:S}=await re.from("skip_range_check").select("id, value, type").order("type").order("value");!S&&N?t(N):p("Erreur lors du chargement des valeurs."),d(!1)};h.useEffect(()=>{b()},[]);const w=async N=>{if(N.preventDefault(),!n.trim())return;d(!0),p(null);const{error:S}=await re.from("skip_range_check").insert({value:n.trim(),type:i});S?p("Erreur lors de l'ajout."):(r(""),b()),d(!1)},j=async N=>{d(!0),p(null);const{error:S}=await re.from("skip_range_check").delete().eq("id",N);S?p("Erreur lors de la suppression."):b(),d(!1)};return s.jsx("div",{className:"max-w-xl mx-auto mt-10",children:s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(ut,{children:"Gestion des valeurs  ignorer pour le contrle des plages"})}),s.jsxs(Re,{children:[s.jsxs("form",{onSubmit:w,className:"flex gap-2 mb-6",children:[s.jsx(Ke,{placeholder:"Nom de la catgorie ou du test type",value:n,onChange:N=>r(N.target.value),disabled:u,required:!0}),s.jsxs(gr,{value:i,onValueChange:N=>l(N),children:[s.jsx(xr,{className:"w-32",children:s.jsx(vr,{})}),s.jsxs(br,{children:[s.jsx(St,{value:"category",children:"Catgorie"}),s.jsx(St,{value:"test_type",children:"Test Type"})]})]}),s.jsx(ne,{type:"submit",disabled:u,children:"Ajouter"})]}),f&&s.jsx("div",{className:"text-red-500 mb-2",children:f}),u?s.jsx("div",{children:"Chargement"}):s.jsx("ul",{className:"space-y-2",children:e.map(({id:N,value:S,type:_})=>s.jsxs("li",{className:"flex items-center justify-between border-b pb-2",children:[s.jsxs("span",{children:[s.jsxs("span",{className:"font-semibold",children:[_==="category"?"Catgorie":"Test Type",":"]})," ",S]}),s.jsxs(fu,{children:[s.jsx(Ih,{asChild:!0,children:s.jsx(ne,{variant:"destructive",size:"sm",disabled:u,onClick:()=>v(N),children:"Supprimer"})}),s.jsxs($h,{children:[s.jsxs(Uh,{children:[s.jsx(Fh,{children:"Confirmer la suppression"}),s.jsx(Vh,{children:"Voulez-vous vraiment supprimer cette valeur  ignorer ? Cette action est irrversible."})]}),s.jsxs(zh,{children:[s.jsx(Bh,{asChild:!0,children:s.jsx(ne,{variant:"outline",onClick:()=>v(null),children:"Annuler"})}),s.jsx(ib,{asChild:!0,children:s.jsx(ne,{variant:"destructive",onClick:async()=>{await j(N),v(null)},children:"Supprimer"})})]})]})]})]},N))})]})]})})},HG=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},qG=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},WG=()=>{const{resultId:e}=yr();dr();const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(null),[p,g]=h.useState(!0),[v,b]=h.useState(!1),[w,j]=h.useState(null),[N,S]=h.useState(null),[_,R]=h.useState(""),[E,M]=h.useState(!1),[C,D]=h.useState(""),[O,P]=h.useState(""),[k,F]=h.useState(!1),[ie,Q]=h.useState(null),U=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],oe="template1",[le,$]=h.useState(null),[G,W]=h.useState(!0),J=async()=>{if(!e){j("ID du rsultat manquant."),g(!1);return}g(!0),j(null),S(null),n(null),i(null),u(null),f(null),W(!0),$(null);try{const{data:q,error:K}=await re.from("patient_result").select("*").eq("id",e).single();if(K)throw K;if(!q)throw new Error("Rsultat non trouv.");n(q);const[se,ge,fe,Se]=await Promise.all([re.from("patient").select("*").eq("id",q.patient_id).single(),re.from("doctor").select("*").eq("id",q.doctor_id).single(),re.from("protidogramme").select("*").eq("result_id",e).maybeSingle(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);se.error&&console.warn("Erreur chargement patient:",se.error.message),ge.error&&console.warn("Erreur chargement mdecin:",ge.error.message),i(se.data),u(ge.data),f(fe.data||null),$(Se.data),W(!1)}catch(q){console.error("Erreur chargement dtails du rsultat:",q),j(q.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{g(!1)}};h.useEffect(()=>{J()},[e]),h.useEffect(()=>{D((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),P((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const L=h.useCallback(async q=>{if(e)try{const{error:K}=await re.from("patient_result").update({description:q}).eq("id",e);if(K)throw K}catch(K){console.error("Error saving description:",K)}},[e]);h.useEffect(()=>{const q=setTimeout(()=>{_!==(t==null?void 0:t.description)&&L(_)},1e3);return()=>clearTimeout(q)},[_,t==null?void 0:t.description,L]);const V=h.useCallback(async()=>{F(!0),Q(null);try{const q=C!==""?Number(C):null,K=O!==""?Number(O):null;if(C!==""&&isNaN(q)||O!==""&&isNaN(K)){Q("Les prix doivent tre des nombres valides."),F(!1);return}const{error:se,data:ge}=await re.from("patient_result").update({normal_price:q,insurance_price:K}).eq("id",t.id).select().single();if(se)throw se;n(fe=>fe&&{...fe,normal_price:q,insurance_price:K}),M(!1)}catch(q){Q(q.message||"Erreur lors de la sauvegarde des prix.")}finally{F(!1)}},[t,C,O]),B=async q=>{if(!(!t||q===t.status)){b(!0),S(null);try{const{data:K,error:se}=await re.from("patient_result").update({status:q}).eq("id",t.id).select().single();if(se)throw se;n(K||(ge=>ge?{...ge,status:q}:null))}catch(K){console.error("Erreur mise  jour statut:",K),S(K.message||"Impossible de mettre  jour le statut.")}finally{b(!1)}}},H=(q,K,se,ge)=>{const fe=q;return s.jsxs("div",{className:Me("flex items-start space-x-3",ge),children:[s.jsx(fe,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:K}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:se||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})},I=h.useMemo(()=>{var K;const q=(le==null?void 0:le.selected_template)||oe;return((K=U.find(se=>se.id===q))==null?void 0:K.component)||Zn},[le]),z=h.useMemo(()=>({logoUrl:(le==null?void 0:le.logo_url)||null,labName:le==null?void 0:le.lab_name,addressLine1:le==null?void 0:le.address_line1,addressLine2:le==null?void 0:le.address_line2,cityPostalCode:le==null?void 0:le.city_postal_code,phone:le==null?void 0:le.phone,email:le==null?void 0:le.email,website:le==null?void 0:le.website}),[le]);return p?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):w?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[w," ",s.jsx(ne,{variant:"link",onClick:J,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:r?`/patients/${r.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",r?` ${r.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[le?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(I,{data:z,isPreview:!1,reportTitle:"RAPPORT DE RSULTATS"})}):s.jsxs(It,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tte Manquant"}),s.jsxs(Ut,{children:["La configuration de l'en-tte d'impression n'a pas t trouve."," ",s.jsx(at,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(us,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[H(Ye,"NOM PRENOM",r==null?void 0:r.full_name),H(Ye,"IDENTIFIANT Unique",r==null?void 0:r.patient_unique_id),H(fn,"Date Naissance",r!=null&&r.date_of_birth?ct(Jt(r.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:H(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[H(Yt,"NOM PRENOM",l==null?void 0:l.full_name),H(yn,"Tlphone",l==null?void 0:l.phone),H(Ye,"Provenance",l==null?void 0:l.hospital)]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[H(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),E?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:q=>D(q.target.value),disabled:k}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),E?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:O,onChange:q=>P(q.target.value),disabled:k}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:O,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:E?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:V,disabled:k,children:[k?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>M(!1),disabled:k,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>M(!0),children:"Modifier Prix"})}),ie&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:ie})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:t.status??"",onValueChange:q=>B(q),disabled:v,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),v&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),N&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:N}),s.jsx(qr,{variant:HG(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:qG(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]}),H(Ye,"NOM PRENOM",r==null?void 0:r.full_name),H(Ye,"ID Unique",r==null?void 0:r.patient_unique_id),H(yn,"Tlphone",r==null?void 0:r.phone)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(ir,{className:"h-4 w-4"})," Mdecin"]}),H(Yt,"NOM PRENOM",l==null?void 0:l.full_name),H(yn,"Tlphone",l==null?void 0:l.phone),H(Ye,"Hpital",l==null?void 0:l.hospital)]})]}),s.jsxs(Ce,{className:"shadow print:shadow-none print:border-none",children:[s.jsx(Te,{className:"flex-row items-center gap-2 print:hidden",children:s.jsx(ut,{className:"flex-1 text-lg",children:"Protidogramme"})}),s.jsx(Re,{children:s.jsx(YG,{})})]})]})," "]}):s.jsx("div",{children:"Rsultat non trouv."})},YG=()=>{const{resultId:e}=yr(),[t,n]=h.useState(null),[r,i]=h.useState(!0),[l,u]=h.useState(null),[d,f]=h.useState(!1),[p,g]=h.useState(""),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(!1),[_,R]=h.useState(null),E=h.useRef(null);h.useEffect(()=>{e&&(i(!0),u(null),re.from("protidogramme").select("*").eq("result_id",e).single().then(({data:P,error:k})=>{k&&k.code!=="PGRST116"&&u("Erreur de chargement"),n(P),g((P==null?void 0:P.description)||""),j(P!=null&&P.image?M(P.image):null),i(!1)}))},[e,d]);function M(P){return re.storage.from("images").getPublicUrl(P).data.publicUrl}function C(P){var F;const k=((F=P.target.files)==null?void 0:F[0])||null;b(k),j(k?URL.createObjectURL(k):null)}async function D(P){if(P.preventDefault(),!e)return;S(!0),R(null);let k=(t==null?void 0:t.image)||null;try{if(v){const ie=v.name.split(".").pop(),Q=`protidogramme/${e}_${Date.now()}.${ie}`,{error:U}=await re.storage.from("images").upload(Q,v,{upsert:!0});if(U){R("Erreur lors de l'upload de l'image"),S(!1),console.error(U);return}k=Q}const{error:F}=await re.from("protidogramme").upsert({result_id:e,image:k,description:p,updated_at:new Date().toISOString()},{onConflict:"result_id"});if(F){R("Erreur lors de la sauvegarde"),S(!1),console.error(F);return}f(!1),b(null)}catch(F){R("Erreur inattendue lors de la sauvegarde"),console.error(F)}finally{S(!1)}}function O(){window.print()}return r?s.jsxs("div",{className:"max-w-xl mx-auto py-10",children:[s.jsx(X,{className:"h-40 w-full mb-4"}),s.jsx(X,{className:"h-6 w-1/2"})]}):s.jsxs("div",{className:"max-w-xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 print:hidden",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Protidogramme"}),s.jsx("div",{className:"flex gap-2",children:!d&&s.jsxs(ne,{variant:"outline",size:"sm",onClick:O,children:[s.jsx(Oh,{className:"w-4 h-4 mr-1"})," Imprimer"]})})]}),s.jsxs(Ce,{className:"shadow print:shadow-none print:border-none",children:[s.jsxs(Te,{className:"flex-row items-center gap-2 print:hidden",children:[s.jsx(ut,{className:"flex-1 text-lg",children:d?t?"Modifier":"Ajouter":"Aperu"}),!d&&s.jsxs(ne,{size:"sm",variant:"secondary",onClick:()=>f(!0),children:[s.jsx(ds,{className:"w-4 h-4 mr-1"})," Modifier"]})]}),s.jsx(Re,{children:d?s.jsxs("form",{className:"space-y-4",onSubmit:D,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Image"}),w&&s.jsx("img",{src:w,alt:"Aperu",className:"max-h-60 rounded  mb-2"}),s.jsx(Ke,{type:"file",accept:"image/*",onChange:C,ref:E}),_&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:_})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Description"}),s.jsx(wu,{value:p,onChange:P=>g(P.target.value),rows:4,required:!0,className:"resize-vertical"})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(ne,{type:"submit",disabled:N,children:N?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})}),s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>{f(!1),R(null),b(null),j(t!=null&&t.image?M(t.image):null),g((t==null?void 0:t.description)||"")},children:[s.jsx(Ah,{className:"w-4 h-4 mr-1"})," Annuler"]})]})]}):s.jsxs("div",{className:"print:block",children:[(t==null?void 0:t.image)&&s.jsx("img",{src:M(t.image),alt:"Protidogramme",className:"max-h-96 mb-4 rounded border mx-auto print:max-h-[450px]",style:{maxWidth:"100%"}}),s.jsx("div",{className:"prose prose-sm print:prose print:max-w-full print:break-words",children:t!=null&&t.description?s.jsxs("div",{children:[" ",t.description.split(`
`).map(P=>s.jsxs("div",{children:[" ",P," "]},P))," "]}):s.jsx("span",{className:"text-muted-foreground",children:"Aucune description"})}),s.jsx("div",{className:"mt-4",children:s.jsx(Hl,{date:new Date().toISOString()||""})})]})})]})]})},GG=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},XG=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},KG=()=>{const{resultId:e}=yr();dr();const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(!0),[p,g]=h.useState(!1),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(""),[_,R]=h.useState(!1),[E,M]=h.useState(""),[C,D]=h.useState(""),[O,P]=h.useState(!1),[k,F]=h.useState(null),ie=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],Q="template1",[U,oe]=h.useState(null),[le,$]=h.useState(!0),[G,W]=h.useState(null),[J,L]=h.useState(!0);h.useEffect(()=>{(async()=>{if(L(!0),!e)return;const{data:Ne,error:Oe}=await re.from("atbs_result").select("id, nature_prelevement, souche").eq("result_id",e).single();Ne&&W(Ne.id),L(!1)})()},[e]);const V=async()=>{if(!e){b("ID du rsultat manquant."),f(!1);return}f(!0),b(null),j(null),n(null),i(null),u(null),$(!0),oe(null);try{const{data:ve,error:Ne}=await re.from("patient_result").select("*").eq("id",e).single();if(Ne)throw Ne;if(!ve)throw new Error("Rsultat non trouv.");n(ve);const[Oe,Ie,$e]=await Promise.all([re.from("patient").select("*").eq("id",ve.patient_id).single(),re.from("doctor").select("*").eq("id",ve.doctor_id).single(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);Oe.error&&console.warn("Erreur chargement patient:",Oe.error.message),Ie.error&&console.warn("Erreur chargement mdecin:",Ie.error.message),i(Oe.data),u(Ie.data),oe($e.data),$(!1)}catch(ve){console.error("Erreur chargement dtails du rsultat:",ve),b(ve.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{f(!1)}};h.useEffect(()=>{V()},[e]),h.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),D((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const B=h.useCallback(async ve=>{if(e)try{const{error:Ne}=await re.from("patient_result").update({description:ve}).eq("id",e);if(Ne)throw Ne}catch(Ne){console.error("Error saving description:",Ne)}},[e]);h.useEffect(()=>{const ve=setTimeout(()=>{N!==(t==null?void 0:t.description)&&B(N)},1e3);return()=>clearTimeout(ve)},[N,t==null?void 0:t.description,B]);const H=h.useCallback(async()=>{P(!0),F(null);try{const ve=E!==""?Number(E):null,Ne=C!==""?Number(C):null;if(E!==""&&isNaN(ve)||C!==""&&isNaN(Ne)){F("Les prix doivent tre des nombres valides."),P(!1);return}const{error:Oe,data:Ie}=await re.from("patient_result").update({normal_price:ve,insurance_price:Ne}).eq("id",t.id).select().single();if(Oe)throw Oe;n($e=>$e&&{...$e,normal_price:ve,insurance_price:Ne}),R(!1)}catch(ve){F(ve.message||"Erreur lors de la sauvegarde des prix.")}finally{P(!1)}},[t,E,C]),I=async ve=>{if(!(!t||ve===t.status)){g(!0),j(null);try{const{data:Ne,error:Oe}=await re.from("patient_result").update({status:ve}).eq("id",t.id).select().single();if(Oe)throw Oe;n(Ne||(Ie=>Ie?{...Ie,status:ve}:null))}catch(Ne){console.error("Erreur mise  jour statut:",Ne),j(Ne.message||"Impossible de mettre  jour le statut.")}finally{g(!1)}}},[z,q]=h.useState([]),[K,se]=h.useState(!1);h.useEffect(()=>{e&&(se(!0),re.from("atbs_result").select("*").eq("result_id",e).then(({data:ve})=>{q(ve||[]),se(!1)}))},[e]);const[ge,fe]=h.useState([]),Se=ve=>{fe(Ne=>Ne.includes(ve)?Ne.filter(Oe=>Oe!==ve):[...Ne,ve])},Ae=(ve,Ne,Oe,Ie)=>{const $e=ve;return s.jsxs("div",{className:Me("flex items-start space-x-3",Ie),children:[s.jsx($e,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:Ne}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:Oe||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})},it=h.useMemo(()=>{var Ne;const ve=(U==null?void 0:U.selected_template)||Q;return((Ne=ie.find(Oe=>Oe.id===ve))==null?void 0:Ne.component)||Zn},[U]),rt=h.useMemo(()=>({logoUrl:(U==null?void 0:U.logo_url)||null,labName:U==null?void 0:U.lab_name,addressLine1:U==null?void 0:U.address_line1,addressLine2:U==null?void 0:U.address_line2,cityPostalCode:U==null?void 0:U.city_postal_code,phone:U==null?void 0:U.phone,email:U==null?void 0:U.email,website:U==null?void 0:U.website}),[U]),[Dt,ue]=h.useState(!1),ye=async()=>{if(e){ue(!0);try{const{data:ve,error:Ne}=await re.from("atbs_result").insert({result_id:e}).select("id");if(Ne||!ve||!ve[0])throw Ne;const Oe=ve[0].id,{data:Ie,error:$e}=await re.from("atbs").select("id");if($e||!Ie)throw $e;const lt=Ie.map(dt=>({atbs_result_id:Oe,atb_id:dt.id}));lt.length>0&&await re.from("atbs_result_atb").insert(lt),window.location.reload()}catch{ue(!1)}}};return h.useEffect(()=>!e||d?void 0:((async()=>{const{data:Ne,error:Oe}=await re.from("atbs_result").select("id").eq("result_id",e);if(Oe){console.error("Erreur lors de la vrification d'atbs_result:",Oe);return}if(Ne&&Ne.length>0)return;const{data:Ie,error:$e}=await re.from("atbs_result").insert({result_id:e}).select("id").single();if($e||!Ie){console.error("Erreur lors de la cration d'atbs_result:",$e);return}const{data:lt,error:dt}=await re.from("atbs").select("id");if(dt||!lt){console.error("Erreur lors de la rcupration des ATBs:",dt);return}const on=lt.map(_t=>({atbs_result_id:Ie.id,atb_id:_t.id}));if(on.length>0){const{error:_t}=await re.from("atbs_result_atb").insert(on);_t&&console.error("Erreur lors de la cration des atbs_result_atb:",_t)}})(),()=>{}),[e,d]),d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):v?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[v," ",s.jsx(ne,{variant:"link",onClick:V,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:r?`/patients/${r.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",r?` ${r.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]}),s.jsxs("div",{className:"flex justify-end",children:[s.jsx(ne,{variant:"default",onClick:()=>window.print(),children:"Imprimer"}),s.jsx(ne,{variant:"secondary",onClick:ye,disabled:Dt,children:Dt?"Cration...":"Crer un nouvel ATB Rsultat"})]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[U?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(it,{data:rt,isPreview:!1,reportTitle:"RAPPORT DE RSULTATS"})}):s.jsxs(It,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tte Manquant"}),s.jsxs(Ut,{children:["La configuration de l'en-tte d'impression n'a pas t trouve."," ",s.jsx(at,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(us,{className:"my-2 print:my-0 print:border-none print:hidden"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ae(Ye,"NOM PRENOM",r==null?void 0:r.full_name),Ae(Ye,"IDENTIFIANT Unique",r==null?void 0:r.patient_unique_id),Ae(fn,"Date Naissance",r!=null&&r.date_of_birth?ct(Jt(r.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:Ae(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ae(Yt,"NOM PRENOM",l==null?void 0:l.full_name),Ae(yn,"Tlphone",l==null?void 0:l.phone),Ae(Ye,"Provenance",l==null?void 0:l.hospital)]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ae(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:E,onChange:ve=>M(ve.target.value),disabled:O}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:E,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:ve=>D(ve.target.value),disabled:O}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:_?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:H,disabled:O,children:[O?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!1),disabled:O,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!0),children:"Modifier Prix"})}),k&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:k})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:t.status??"",onValueChange:ve=>I(ve),disabled:p,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(qr,{variant:GG(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:XG(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]}),Ae(Ye,"NOM PRENOM",r==null?void 0:r.full_name),Ae(Ye,"ID Unique",r==null?void 0:r.patient_unique_id),Ae(yn,"Tlphone",r==null?void 0:r.phone)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(ir,{className:"h-4 w-4"})," Mdecin"]}),Ae(Yt,"NOM PRENOM",l==null?void 0:l.full_name),Ae(yn,"Tlphone",l==null?void 0:l.phone),Ae(Ye,"Hpital",l==null?void 0:l.hospital)]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[s.jsx(Ke,{className:"text-2xl font-bold text-center w-auto",value:N||"ANTIBIOGRAMME",onChange:ve=>S(ve.target.value),style:{maxWidth:400}}),s.jsx("div",{className:"w-full mt-0",children:K?s.jsx("div",{className:"text-center",children:"Chargement des antibiogrammes..."}):z.length===0?s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[s.jsx("div",{className:"text-center text-muted-foreground",children:"Aucun antibiogramme trouv."}),s.jsx(ne,{onClick:()=>window.location.reload(),className:"mx-auto",children:"Creer"})]}):s.jsx("div",{className:"flex flex-col gap-8 mt-0",children:z.map(ve=>s.jsxs("div",{className:ge.length>0&&!ge.includes(ve.id)?"print:hidden":"",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 print:hidden",children:[s.jsx("input",{type:"checkbox",checked:ge.length===0||ge.includes(ve.id),onChange:()=>Se(ve.id),id:`print-checkbox-${ve.id}`}),s.jsx("label",{htmlFor:`print-checkbox-${ve.id}`,className:"text-sm",children:"Inclure pour impression"})]}),s.jsx(QG,{resultId:ve.id})]},ve.id))})})]})," ",s.jsx("style",{children:`
        @media print {
          .report-content table {
            font-size: 16px;
            width: 100%;
          }
          .report-content th, .report-content td {
            padding: 4px 4px !important;
            font-size: 16px;
          }
          .report-content {
            padding: 2px !important;
            margin: 0 !important;
          }
          .report-content table {
            border-collapse: collapse;
          }
          .report-content th, .report-content td {
            border: 1px solid #ccc;
          }
        }
      `})]})]}):s.jsx("div",{children:"Rsultat non trouv."})},QG=({resultId:e})=>{const[t,n]=h.useState([]),[r,i]=h.useState(null),[l,u]=h.useState([]),[d,f]=h.useState({}),[p,g]=h.useState(!0),[v,b]=h.useState(!1),[w,j]=h.useState(null),[N,S]=h.useState(""),[_,R]=h.useState("");h.useEffect(()=>{(async()=>{if(g(!0),!e)return;const{data:D}=await re.from("atbs_result").select("*").eq("id",e);if(!D||D.length===0){g(!1);return}const O=D[0].id;i(O),S(D[0].nature_prelement),R(D[0].souche);const{data:P}=await re.from("atbs").select("id, name");n(P||[]);const{data:k}=await re.from("atbs_result_atb").select("id, atb_id, sensible, intermediaire, resistant").eq("atbs_result_id",O);u(k||[]);const F={};(k||[]).forEach(ie=>{F[ie.atb_id]={S:!!ie.sensible,I:!!ie.intermediaire,R:!!ie.resistant}}),f(F),g(!1)})()},[e]);const E=(C,D)=>{f(O=>{var P;return{...O,[C]:{...O[C],[D]:!((P=O[C])!=null&&P[D])}}})},M=async()=>{var C,D,O;if(r){b(!0),j(null);try{for(const P of t){const k=l.find(F=>F.atb_id===P.id);k&&await re.from("atbs_result_atb").update({sensible:((C=d[P.id])==null?void 0:C.S)||!1,intermediaire:((D=d[P.id])==null?void 0:D.I)||!1,resistant:((O=d[P.id])==null?void 0:O.R)||!1}).eq("id",k.id)}await re.from("atbs_result").update({nature_prelement:N,souche:_}).eq("id",r),j("success")}catch{j("error")}b(!1)}};return p?s.jsx("div",{className:"text-center",children:"Chargement du tableau..."}):r?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("div",{className:"flex gap-4 w-full justify-center",children:[s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx(Le,{htmlFor:"nature_prelevement",className:"text-lg font-bold print:-mb-2",children:"Nature du prlvement"}),s.jsx(Ke,{id:"nature_prelevement",value:N,onChange:C=>S(C.target.value),style:{minWidth:220},className:"print:border-none print:bg-transparent"})]}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx(Le,{htmlFor:"souche",className:"text-lg font-bold print:-mb-2",children:"Souche tudie"}),s.jsx(Ke,{id:"souche",value:_,onChange:C=>R(C.target.value),style:{minWidth:180},className:"print:border-none print:bg-transparent"})]})]}),s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsxs(Kt,{children:[s.jsx(vt,{className:"text-left",children:"Dnomination"}),s.jsx(vt,{className:"text-center",children:"S"}),s.jsx(vt,{className:"text-center",children:"I"}),s.jsx(vt,{className:"text-center",children:"R"})]})}),s.jsx(ea,{children:t.map((C,D)=>{var O,P,k,F,ie,Q;return s.jsxs(Kt,{className:D%2===0?"bg-muted/50":"",children:[s.jsx(Qe,{children:C.name}),s.jsxs(Qe,{className:"text-center",children:[s.jsx(Sa,{className:"print:hidden",checked:!!((O=d[C.id])!=null&&O.S),onCheckedChange:()=>E(C.id,"S")}),s.jsx("p",{className:"hidden print:inline",children:((P=d[C.id])==null?void 0:P.S)&&s.jsx(s.Fragment,{children:"S"})})]}),s.jsxs(Qe,{className:"text-center",children:[s.jsx(Sa,{className:"print:hidden",checked:!!((k=d[C.id])!=null&&k.I),onCheckedChange:()=>E(C.id,"I")}),s.jsx("p",{className:"hidden print:inline",children:((F=d[C.id])==null?void 0:F.I)&&s.jsx(s.Fragment,{children:"I"})})]}),s.jsxs(Qe,{className:"text-center",children:[s.jsx(Sa,{checked:!!((ie=d[C.id])!=null&&ie.R),onCheckedChange:()=>E(C.id,"R"),className:"print:hidden"}),s.jsx("p",{className:"hidden print:inline",children:((Q=d[C.id])==null?void 0:Q.R)&&s.jsx(s.Fragment,{children:"R"})})]})]},C.id)})})]}),s.jsx("div",{className:"mt-2 text-sm  font-semibold text-center",children:"S = sensible  |  I = intermdiaire  |  R = rsistant"}),s.jsxs("div",{className:"flex flex-col items-center mt-4 print:hidden",children:[s.jsx(ne,{disabled:v,onClick:M,children:v?"Enregistrement...":"Enregistrer les modifications"}),w==="success"&&s.jsx("span",{className:"text-green-600 mt-2 print:hidden",children:"Modifications enregistres !"}),w==="error"&&s.jsx("span",{className:"text-red-600 mt-2 print:hidden",children:"Erreur lors de l'enregistrement."})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Hl,{date:new Date().toISOString()||""})})]}):s.jsx("div",{className:"text-center text-muted-foreground",children:"Aucun antibiogramme trouv."})},ZG=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!1),[i,l]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(""),[g,v]=h.useState(null),[b,w]=h.useState(null),j=async()=>{r(!0);const{data:E,error:M}=await re.from("atbs").select("*").order("name");M?v(M.message):t(E||[]),r(!1)};h.useEffect(()=>{j()},[]);const N=async()=>{if(!i.trim())return;r(!0);const{error:E}=await re.from("atbs").insert({name:i.trim()});E&&v(E.message),l(""),j(),r(!1)},S=E=>{d(E.id),p(E.name),v(null)},_=async E=>{if(!f.trim())return;r(!0);const{error:M}=await re.from("atbs").update({name:f.trim()}).eq("id",E);M&&v(M.message),d(null),p(""),j(),r(!1)},R=async E=>{r(!0);const{error:M}=await re.from("atbs").delete().eq("id",E);M&&v(M.message),j(),r(!1),w(null)};return s.jsxs("div",{className:"max-w-xl mx-auto mt-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestion des ATBs"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(Ke,{value:i,onChange:E=>l(E.target.value),placeholder:"Nom de l'ATB",disabled:n,onKeyDown:E=>{E.key==="Enter"&&N()}}),s.jsxs(ne,{onClick:N,disabled:n||!i.trim(),children:[s.jsx(Af,{className:"w-4 h-4 mr-1"})," Ajouter"]})]}),g&&s.jsx("div",{className:"text-red-500 mb-2",children:g}),s.jsxs("table",{className:"min-w-full border",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-2 border",children:"Nom"}),s.jsx("th",{className:"text-left p-2 border",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(E=>s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 border",children:u===E.id?s.jsx(Ke,{value:f,onChange:M=>p(M.target.value),onKeyDown:M=>{M.key==="Enter"&&_(E.id),M.key==="Escape"&&d(null)},autoFocus:!0}):E.name}),s.jsx("td",{className:"p-2 border",children:u===E.id?s.jsx(ne,{size:"sm",onClick:()=>_(E.id),disabled:n||!f.trim(),children:"Enregistrer"}):s.jsxs(s.Fragment,{children:[s.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>S(E),children:s.jsx(AE,{className:"w-4 h-4"})}),s.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>w(E.id),disabled:n,children:s.jsx(ml,{className:"w-4 h-4"})})]})})]},E.id))})]}),s.jsx(ro,{open:!!b,onOpenChange:E=>!E&&w(null),children:s.jsxs(so,{children:[s.jsx(ao,{children:s.jsx(io,{children:"Confirmer la suppression"})}),s.jsx("div",{children:"tes-vous sr de vouloir supprimer cet ATB?"}),s.jsxs(_l,{children:[s.jsx(ne,{variant:"destructive",onClick:()=>b&&R(b),disabled:n,children:"Supprimer"}),s.jsx(ne,{variant:"ghost",onClick:()=>w(null),disabled:n,children:"Annuler"})]})]})})]})},JG=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},eX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},tX=()=>{var An;const{resultId:e}=yr();dr();const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(!0),[p,g]=h.useState(!1),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(""),[_,R]=h.useState(!1),[E,M]=h.useState(""),[C,D]=h.useState(""),[O,P]=h.useState(!1),[k,F]=h.useState(null),[ie,Q]=h.useState([]),[U,oe]=h.useState(!0),[le,$]=h.useState(""),[G,W]=h.useState(!1),[J,L]=h.useState(null);h.useEffect(()=>{(async()=>{oe(!0);const{data:Ee,error:ke}=await re.from("ecb_model").select("id, name, description, structure");ke||Q(Ee||[]),oe(!1)})()},[]);const V=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],B="template1",[H,I]=h.useState(null),[z,q]=h.useState(!0),K=async()=>{if(!e){b("ID du rsultat manquant."),f(!1);return}f(!0),b(null),j(null),n(null),i(null),u(null),q(!0),I(null);try{const{data:he,error:Ee}=await re.from("patient_result").select("*").eq("id",e).single();if(Ee)throw Ee;if(!he)throw new Error("Rsultat non trouv.");n(he);const[ke,kt,vn]=await Promise.all([re.from("patient").select("*").eq("id",he.patient_id).single(),re.from("doctor").select("*").eq("id",he.doctor_id).single(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);ke.error&&console.warn("Erreur chargement patient:",ke.error.message),kt.error&&console.warn("Erreur chargement mdecin:",kt.error.message),i(ke.data),u(kt.data),I(vn.data),q(!1)}catch(he){console.error("Erreur chargement dtails du rsultat:",he),b(he.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{f(!1)}};h.useEffect(()=>{K()},[e]),h.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),D((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const se=h.useCallback(async he=>{if(e)try{const{error:Ee}=await re.from("patient_result").update({description:he}).eq("id",e);if(Ee)throw Ee}catch(Ee){console.error("Error saving description:",Ee)}},[e]);h.useEffect(()=>{const he=setTimeout(()=>{N!==(t==null?void 0:t.description)&&se(N)},1e3);return()=>clearTimeout(he)},[N,t==null?void 0:t.description,se]);const ge=h.useCallback(async()=>{P(!0),F(null);try{const he=E!==""?Number(E):null,Ee=C!==""?Number(C):null;if(E!==""&&isNaN(he)||C!==""&&isNaN(Ee)){F("Les prix doivent tre des nombres valides."),P(!1);return}const{error:ke,data:kt}=await re.from("patient_result").update({normal_price:he,insurance_price:Ee}).eq("id",t.id).select().single();if(ke)throw ke;n(vn=>vn&&{...vn,normal_price:he,insurance_price:Ee}),R(!1)}catch(he){F(he.message||"Erreur lors de la sauvegarde des prix.")}finally{P(!1)}},[t,E,C]),fe=async he=>{if(!(!t||he===t.status)){g(!0),j(null);try{const{data:Ee,error:ke}=await re.from("patient_result").update({status:he}).eq("id",t.id).select().single();if(ke)throw ke;n(Ee||(kt=>kt?{...kt,status:he}:null))}catch(Ee){console.error("Erreur mise  jour statut:",Ee),j(Ee.message||"Impossible de mettre  jour le statut.")}finally{g(!1)}}},Se=(he,Ee,ke,kt)=>{const vn=he;return s.jsxs("div",{className:Me("flex items-start space-x-3",kt),children:[s.jsx(vn,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:Ee}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:ke||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})},Ae=h.useMemo(()=>{var Ee;const he=(H==null?void 0:H.selected_template)||B;return((Ee=V.find(ke=>ke.id===he))==null?void 0:Ee.component)||Zn},[H]),it=h.useMemo(()=>({logoUrl:(H==null?void 0:H.logo_url)||null,labName:H==null?void 0:H.lab_name,addressLine1:H==null?void 0:H.address_line1,addressLine2:H==null?void 0:H.address_line2,cityPostalCode:H==null?void 0:H.city_postal_code,phone:H==null?void 0:H.phone,email:H==null?void 0:H.email,website:H==null?void 0:H.website}),[H]),[rt,Dt]=h.useState([]),[ue,ye]=h.useState({}),[ve,Ne]=h.useState({}),[Oe,Ie]=h.useState(!0),[$e,lt]=h.useState(null),[dt,on]=h.useState({}),[_t,qe]=h.useState(null),[st,mn]=h.useState(null),[$n,wn]=h.useState(null),[Un,pn]=h.useState(""),[Pt,Tn]=h.useState(null),zn=(he,Ee)=>{wn(he),pn(Ee)},jn=()=>{wn(null),pn("")},Ar=async he=>{Tn(he),await re.from("ecb").update({title:Un}).eq("id",he),Tn(null),wn(null),pn(""),await Mn()},Mn=h.useCallback(async()=>{if(!e)return;Ie(!0);const{data:he,error:Ee}=await re.from("ecb").select("*").eq("result_id",e).order("created_at",{ascending:!0});if(Ee){Ie(!1);return}Dt(he||[]);const ke=(he||[]).map(Ft=>Ft.id),{data:kt}=await re.from("ecb_section").select("*").in("ecb_id",ke.length?ke:["00000000-0000-0000-0000-000000000000"]).order("position",{ascending:!0}),vn={};(kt||[]).forEach(Ft=>{vn[Ft.ecb_id]||(vn[Ft.ecb_id]=[]),vn[Ft.ecb_id].push(Ft)}),ye(vn);const Jn=(kt||[]).map(Ft=>Ft.id),{data:Nr}=await re.from("ecb_value").select("*").in("section_id",Jn.length?Jn:["00000000-0000-0000-0000-000000000000"]).order("position",{ascending:!0}),Hn={};(Nr||[]).forEach(Ft=>{Hn[Ft.section_id]||(Hn[Ft.section_id]=[]),Hn[Ft.section_id].push(Ft)}),Ne(Hn),Ie(!1)},[e]);h.useEffect(()=>{Mn()},[Mn,G]);const na=he=>{lt(he);let Ee={};(ue[he]||[]).forEach(ke=>{(ve[ke.id]||[]).forEach(kt=>{Ee[kt.id]=kt.value??""})}),on(Ee)},Gr=()=>{lt(null),on({})},tn=(he,Ee)=>{on(ke=>({...ke,[he]:Ee}))},ft=async he=>{qe(he);const Ee=Object.entries(dt).map(([ke,kt])=>re.from("ecb_value").update({value:kt}).eq("id",ke));await Promise.all(Ee),qe(null),lt(null),on({}),await Mn()},te=he=>{mn(he),setTimeout(()=>window.print(),100)};function xe(){if(typeof window<"u")try{const he=window.localStorage.getItem("ecb_bold_toggles");return he?JSON.parse(he):{}}catch{return{}}return{}}const[_e,De]=h.useState(xe);h.useEffect(()=>{window.localStorage.setItem("ecb_bold_toggles",JSON.stringify(_e))},[_e]);const Ve=he=>{De(Ee=>{var ke;return{...Ee,[he]:{...Ee[he],labelBold:!((ke=Ee[he])!=null&&ke.labelBold)}}})},ht=he=>{De(Ee=>{var ke;return{...Ee,[he]:{...Ee[he],valueBold:!((ke=Ee[he])!=null&&ke.valueBold)}}})};function Ge(he){if(typeof window<"u")try{const Ee=window.localStorage.getItem("ecb_section_bold_toggles"),ke=Ee?JSON.parse(Ee):{};for(const kt of he)kt in ke||(ke[kt]=!0);return ke}catch{return Object.fromEntries(he.map(Ee=>[Ee,!0]))}return Object.fromEntries(he.map(Ee=>[Ee,!0]))}const xt=Object.values(ue||{}).flat().map(he=>he.id),[mt,yt]=h.useState(()=>Ge(xt));h.useEffect(()=>{window.localStorage.setItem("ecb_section_bold_toggles",JSON.stringify(mt))},[mt]),h.useEffect(()=>{yt(he=>{let Ee=!1;const ke={...he};for(const kt of xt)kt in ke||(ke[kt]=!0,Ee=!0);return Ee?ke:he})},[xt.length]);const zt=he=>{yt(Ee=>({...Ee,[he]:!Ee[he]}))};function Ht(){if(typeof window<"u")try{const he=window.localStorage.getItem("ecb_abnormal_cells");return he?JSON.parse(he):{}}catch{return{}}return{}}const[sn,On]=h.useState(Ht);h.useEffect(()=>{window.localStorage.setItem("ecb_abnormal_cells",JSON.stringify(sn))},[sn]);const gn=he=>{On(Ee=>({...Ee,[he]:!Ee[he]}))};return d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx("div",{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx("div",{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):v?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[v," ",s.jsx(ne,{variant:"link",onClick:K,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:r?`/patients/${r.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",r?` ${r.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[H?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(Ae,{data:it,isPreview:!1,reportTitle:"RAPPORT DE RSULTATS"})}):s.jsxs(It,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tte Manquant"}),s.jsxs(Ut,{children:["La configuration de l'en-tte d'impression n'a pas t trouve."," ",s.jsx(at,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(us,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Se(Ye,"NOM PRENOM",r==null?void 0:r.full_name),Se(Ye,"IDENTIFIANT Unique",r==null?void 0:r.patient_unique_id),Se(fn,"Date Naissance",r!=null&&r.date_of_birth?ct(Jt(r.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:Se(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Se(Yt,"NOM PRENOM",l==null?void 0:l.full_name),Se(yn,"Tlphone",l==null?void 0:l.phone),Se(Ye,"Provenance",l==null?void 0:l.hospital)]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4 print:hidden",children:[s.jsx("div",{className:"pb-2",children:s.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Se(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:E,onChange:he=>M(he.target.value),disabled:O}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:E,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:he=>D(he.target.value),disabled:O}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:_?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:ge,disabled:O,children:[O?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!1),disabled:O,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!0),children:"Modifier Prix"})}),k&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:k})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:t.status??"",onValueChange:he=>fe(he),disabled:p,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(qr,{variant:JG(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:eX(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]}),Se(Ye,"NOM PRENOM",r==null?void 0:r.full_name),Se(Ye,"ID Unique",r==null?void 0:r.patient_unique_id),Se(yn,"Tlphone",r==null?void 0:r.phone)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(ir,{className:"h-4 w-4"})," Mdecin"]}),Se(Yt,"NOM PRENOM",l==null?void 0:l.full_name),Se(yn,"Tlphone",l==null?void 0:l.phone),Se(Ye,"Hpital",l==null?void 0:l.hospital)]})]}),s.jsxs("div",{className:"page-content",children:[s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx("div",{className:"font-semibold",children:"Crer un nouvel ECB"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Le,{htmlFor:"ecb-model-select",children:"Slectionner un modle"}),s.jsxs(gr,{value:le,onValueChange:$,disabled:U||G,children:[s.jsx(xr,{id:"ecb-model-select",className:"w-full",children:s.jsx(vr,{placeholder:U?"Chargement...":"Choisir un modle"})}),s.jsx(br,{children:ie.map(he=>s.jsx(St,{value:he.id,children:he.name},he.id))})]}),le&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:(An=ie.find(he=>he.id===le))==null?void 0:An.description})]}),s.jsxs(ne,{onClick:async()=>{var he;W(!0),L(null);try{if(!le||!e)throw new Error("Slectionner un modle.");const Ee=ie.find(Ft=>Ft.id===le);if(!Ee)throw new Error("Modle non trouv.");const{data:ke,error:kt}=await re.from("ecb").insert({result_id:e,model_id:Ee.id,title:Ee.name,created_by:((he=(await re.auth.getUser()).data.user)==null?void 0:he.id)||null}).select().single();if(kt)throw kt;const vn=Ee.structure;let Jn=[],Nr=[],Hn=0;for(const Ft of vn){const La=crypto.randomUUID();Jn.push({id:La,ecb_id:ke.id,section_title:Ft.title,position:Hn});let ra=0;for(const Dn of Ft.labels)Nr.push({section_id:La,label:Dn,value:null,position:ra}),ra++;Hn++}if(Jn.length){const{error:Ft}=await re.from("ecb_section").insert(Jn);if(Ft)throw Ft}if(Nr.length){const{error:Ft}=await re.from("ecb_value").insert(Nr);if(Ft)throw Ft}await Mn(),$("")}catch(Ee){L(Ee.message||"Erreur lors de la cration de l''ECB.")}finally{W(!1)}},disabled:!le||G,className:"min-w-[120px]",children:[G?s.jsx(At,{className:"h-4 w-4 animate-spin mr-2"}):null,"Crer"]})]}),J&&s.jsx("div",{className:"text-xs text-destructive mt-2",children:J})]})]}),Oe?s.jsx(X,{className:"h-12 w-full"}):rt.length===0?s.jsx("div",{className:"text-muted-foreground text-sm",children:"Aucun ECB trouv pour ce rsultat."}):s.jsx("div",{className:"space-y-6 print:space-y-0",children:rt.map(he=>s.jsxs("div",{className:"relative  p-4",children:[s.jsxs("div",{className:"print:hidden flex flex-row items-center justify-between border-b pb-2 mb-2 print:mb-0",children:[s.jsxs("div",{className:"print:hidden",children:[s.jsx("div",{className:"font-semibold text-base flex items-center gap-2",children:$n===he.id?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:Un,onChange:Ee=>pn(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&Ar(he.id),Ee.key==="Escape"&&jn()},disabled:Pt===he.id,className:"text-base w-48",autoFocus:!0}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>Ar(he.id),disabled:Pt===he.id,children:Pt===he.id?s.jsx(At,{className:"h-3 w-3 animate-spin"}):"Enregistrer"}),s.jsx(ne,{size:"xs",variant:"ghost",onClick:jn,disabled:Pt===he.id,children:"Annuler"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:he.title}),s.jsx(ne,{size:"xs",variant:"ghost",onClick:()=>zn(he.id,he.title),className:"ml-1",children:s.jsx(ds,{className:"h-3 w-3"})})]})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cr le"," ",ct(Jt(he.created_at),"Pp",{locale:Qt})]})]}),s.jsx("div",{className:"flex gap-2 print:hidden",children:$e===he.id?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>ft(he.id),disabled:_t===he.id,children:[_t===he.id?s.jsx(At,{className:"h-4 w-4 animate-spin mr-2"}):null,"Enregistrer toutes les modifications"]}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:Gr,disabled:_t===he.id,children:"Annuler"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>na(he.id),children:[s.jsx(ds,{className:"h-4 w-4 mr-1"})," Modifier"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>te(he.id),children:[s.jsx(Oh,{className:"h-4 w-4 mr-1"})," Imprimer"]})]})})]}),s.jsx("div",{className:"print:hidden",children:(ue[he.id]||[]).map(Ee=>s.jsxs("div",{className:"mb-4 print:mb-0",children:[s.jsxs("div",{className:"font-semibold mb-2 text-lg flex items-center gap-1",children:[Ee.section_title,s.jsx(ne,{size:"icon",variant:mt[Ee.id]?"default":"ghost",className:"h-5 w-5 p-0",title:mt[Ee.id]?"Dfinir en normal":"Mettre en gras",onClick:()=>zt(Ee.id),type:"button",tabIndex:-1,children:s.jsx("b",{children:"B"})})]}),s.jsx("div",{className:"grid grid-cols-1  gap-2",children:(ve[Ee.id]||[]).map(ke=>{var kt,vn,Jn,Nr,Hn;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Le,{className:"w-40 text-md font-medium flex items-center gap-1",children:[ke.label,s.jsx(ne,{size:"icon",variant:(kt=_e[ke.id])!=null&&kt.labelBold?"default":"ghost",className:"h-5 w-5 p-0",title:(vn=_e[ke.id])!=null&&vn.labelBold?"Dfinir en normal":"Mettre en gras",onClick:()=>Ve(ke.id),type:"button",tabIndex:-1,children:s.jsx("b",{children:"B"})})]}),$e===he.id?s.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[s.jsx(Ke,{value:dt[ke.id]??"",onChange:Ft=>tn(ke.id,Ft.target.value),disabled:_t===he.id,className:"text-xs flex-1"}),s.jsx(ne,{size:"icon",variant:(Jn=_e[ke.id])!=null&&Jn.valueBold?"default":"ghost",className:"h-5 w-5 p-0",title:(Nr=_e[ke.id])!=null&&Nr.valueBold?"Dfinir en normal":"Mettre en gras",onClick:()=>ht(ke.id),type:"button",tabIndex:-1,children:s.jsx("b",{children:"B"})}),s.jsx(ne,{size:"icon",variant:sn[ke.id]?"destructive":"ghost",className:"h-5 w-5 p-0",title:sn[ke.id]?"Cellule anormale":"Marquer comme anormale",onClick:()=>gn(ke.id),type:"button",tabIndex:-1,children:s.jsx("span",{style:{fontWeight:"bold"},children:"!"})})]}):s.jsx("span",{className:`text-xs flex-1 ${(Hn=_e[ke.id])!=null&&Hn.valueBold?"font-bold":""} ${sn[ke.id]?"bg-gray-200 font-bold":""}`,children:ke.value??s.jsx("span",{className:"italic text-muted-foreground",children:"(vide)"})})]},ke.id)})})]},Ee.id))}),st===he.id&&s.jsxs("div",{className:"hidden print:block bg-white p-4 print:p-0",children:[s.jsx("div",{className:"font-semibold text-lg text-center mb-1",children:he.title}),s.jsx("table",{className:"w-full border-collapse print-ecb-table",children:s.jsx("tbody",{children:(ue[he.id]||[]).map(Ee=>s.jsxs(we.Fragment,{children:[s.jsx("tr",{children:s.jsx("td",{colSpan:2,className:`text-xs mb-1 py-2 print-ecb-section-title ${mt[Ee.id]?"font-bold":"font-normal"}`,children:Ee.section_title})}),(ve[Ee.id]||[]).map(ke=>{var kt,vn;return s.jsxs("tr",{children:[s.jsx("td",{className:`align-top pr-4 pb-1 text-xs print-ecb-label ${(kt=_e[ke.id])!=null&&kt.labelBold?"font-bold":"font-normal"}`,style:{width:"35%"},children:ke.label}),s.jsx("td",{className:`align-top pb-1 text-xs print-ecb-value ${(vn=_e[ke.id])!=null&&vn.valueBold?"font-bold":"font-normal"} ${sn[ke.id]?"print-ecb-abnormal-cell":""}`,children:ke.value?s.jsx("div",{className:"flex items-center justify-between",children:ke.value.split(";").map((Jn,Nr)=>s.jsx("div",{children:Jn},Nr))}):s.jsx("span",{className:"italic text-muted-foreground",children:"(vide)"})})]},ke.id)})]},Ee.id))})}),s.jsx("div",{className:"mt-4",children:s.jsx(Hl,{date:new Date().toISOString()})}),s.jsx("style",{jsx:!0,global:!0,children:`
                        @media print {
                          .print-ecb-table {
                            width: 100%;
                            border-collapse: collapse;
                            font-size: 13.5px;
                          }
                          .print-ecb-label {
                            text-align: left;
                            padding-right: 16px;
                            vertical-align: top;
                            width: 35%;
                            font-size: 13.5px;
                          }
                          .print-ecb-section-title {
                            background: #f6f6f6;
                            font-size: 14px;
                            font-weight: bold;
                            padding-top: 12px;
                            padding-bottom: 6px;
                            text-align: left;
                            border-bottom: 1px solid #e5e5e5;
                          }
                          .print-ecb-value {
                            text-align: left;
                            vertical-align: top;
                            word-break: break-word;
                            font-size: 13.5px;
                          }
                          .print-ecb-abnormal-cell {
                            background: #e5e5e5 !important;
                            font-weight: bold !important;
                          }
                          .print-ecb-table td {
                            padding-top: 3px;
                            padding-bottom: 3px;
                          }
                        }
                      `})]})]},he.id))})]})]})," "]}):s.jsx("div",{children:"Rsultat non trouv."})},nX=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!1),[i,l]=h.useState(null),[u,d]=h.useState(""),[f,p]=h.useState(""),[g,v]=h.useState(""),[b,w]=h.useState(""),[j,N]=h.useState(!1),[S,_]=h.useState(null),[R,E]=h.useState([]),[M,C]=h.useState(null),[D,O]=h.useState(null),P=async()=>{r(!0);const{data:B,error:H}=await re.from("ecb_model").select("id, name, description, structure, created_at").order("created_at");H||t(B||[]),r(!1)};h.useEffect(()=>{P()},[]);const k=B=>{l(B.id),d(B.name),p(B.description||"")},F=async B=>{N(!0),await re.from("ecb_model").update({name:u,description:f}).eq("id",B),l(null),d(""),p(""),N(!1),P()},ie=async B=>{N(!0),await re.from("ecb_model").delete().eq("id",B),P(),N(!1),O(null)},Q=async()=>{g.trim()&&(N(!0),await re.from("ecb_model").insert({name:g.trim(),description:b.trim(),structure:JSON.stringify([])}),v(""),w(""),N(!1),P())},U=B=>{_(B),E(Array.isArray(B.structure)?B.structure:[]),C(null)},oe=()=>{_(null),E([]),C(null)},le=async()=>{if(S){for(const B of R){if(!B.title.trim()){C("Titre de section requis");return}if(!Array.isArray(B.labels)||B.labels.some(H=>!H.trim())){C("Chaque section doit avoir des labels non vides");return}}N(!0),await re.from("ecb_model").update({structure:R}).eq("id",S.id),N(!1),oe(),P()}},$=()=>E([...R,{title:"Nouvelle section",labels:["Label 1"]}]),G=B=>E(R.filter((H,I)=>I!==B)),W=(B,H)=>E(R.map((I,z)=>z===B?{...I,title:H}:I)),J=B=>E(R.map((H,I)=>I===B?{...H,labels:[...H.labels,"Nouveau label"]}:H)),L=(B,H,I)=>E(R.map((z,q)=>q===B?{...z,labels:z.labels.map((K,se)=>se===H?I:K)}:z)),V=(B,H)=>E(R.map((I,z)=>z===B?{...I,labels:I.labels.filter((q,K)=>K!==H)}:I));return s.jsxs("div",{className:"w-full mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestion des Modles ECB"}),s.jsxs("div",{className:"mb-6 flex gap-2",children:[s.jsx(Ke,{value:g,onChange:B=>v(B.target.value),placeholder:"Nouveau modle",className:"flex-1"}),s.jsx(Ke,{value:b,onChange:B=>w(B.target.value),placeholder:"Description (optionnelle)",className:"flex-1"}),s.jsxs(ne,{onClick:Q,disabled:j||!g.trim(),children:[s.jsx(Af,{className:"w-4 h-4 mr-1"})," Ajouter"]})]}),s.jsx("div",{className:"bg-white rounded shadow p-4",children:n?s.jsx("div",{children:"Chargement..."}):s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2",children:"Nom du modle"}),s.jsx("th",{className:"text-left py-2",children:"Description"}),s.jsx("th",{className:"text-left py-2",children:"Structure"}),s.jsx("th",{className:"w-48"})]})}),s.jsx("tbody",{children:e.map(B=>s.jsxs(we.Fragment,{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"py-2",children:i===B.id?s.jsx(Ke,{value:u,onChange:H=>d(H.target.value),className:"inline-block w-auto",onKeyDown:H=>{H.key==="Enter"&&F(B.id),H.key==="Escape"&&l(null)},autoFocus:!0}):s.jsx("span",{children:B.name})}),s.jsx("td",{className:"py-2",children:i===B.id?s.jsx(Ke,{value:f,onChange:H=>p(H.target.value),className:"inline-block w-auto",onKeyDown:H=>{H.key==="Enter"&&F(B.id),H.key==="Escape"&&l(null)}}):s.jsx("span",{children:B.description})}),s.jsx("td",{className:"py-2",children:s.jsx(ne,{size:"sm",variant:"outline",onClick:()=>U(B),children:"diter Structure"})}),s.jsx("td",{children:i===B.id?s.jsx(ne,{size:"sm",onClick:()=>F(B.id),disabled:j||!u.trim(),children:"Enregistrer"}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>k(B),children:s.jsx(AE,{className:"w-4 h-4"})}),s.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>O(B.id),children:s.jsx(ml,{className:"w-4 h-4"})})]})})]}),S&&S.id===B.id&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,children:s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 border rounded p-4 bg-muted",children:[s.jsx("div",{className:"mb-2 font-semibold text-lg",children:"diter la structure du modle"}),R.map((H,I)=>s.jsxs("div",{className:"border rounded p-3 mb-2",children:[s.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[s.jsx(Ke,{value:H.title,onChange:z=>W(I,z.target.value),placeholder:"Titre de section",className:"flex-1"}),s.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>G(I),children:s.jsx(ml,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"ml-4 space-y-1",children:[H.labels.map((z,q)=>s.jsxs("div",{className:"flex gap-2 items-center mb-1",children:[s.jsx(Ke,{value:z,onChange:K=>L(I,q,K.target.value),placeholder:"Label",className:"flex-1"}),s.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>V(I,q),children:s.jsx(ml,{className:"w-4 h-4"})})]},q)),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>J(I),children:[s.jsx(Af,{className:"w-4 h-4 mr-1"})," Ajouter Label"]})]})]},I)),s.jsxs(ne,{size:"sm",variant:"secondary",onClick:$,children:[s.jsx(Af,{className:"w-4 h-4 mr-1"})," Ajouter Section"]}),M&&s.jsx("div",{className:"text-red-500 text-sm",children:M}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(ne,{onClick:le,disabled:j,children:"Enregistrer la structure"}),s.jsx(ne,{variant:"ghost",onClick:oe,children:"Annuler"})]})]})})})]},B.id))})]})}),s.jsx(ro,{open:!!D,onOpenChange:B=>!B&&O(null),children:s.jsxs(so,{children:[s.jsx(ao,{children:s.jsx(io,{children:"Confirmer la suppression"})}),s.jsx("div",{children:"tes-vous sr de vouloir supprimer ce modle ECB?"}),s.jsxs(_l,{children:[s.jsx(ne,{variant:"destructive",onClick:()=>D&&ie(D),disabled:j,children:"Supprimer"}),s.jsx(ne,{variant:"ghost",onClick:()=>O(null),disabled:j,children:"Annuler"})]})]})})]})},rX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},sX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},aX=()=>{const{resultId:e}=yr();dr();const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(!0),[p,g]=h.useState(!1),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(""),[_,R]=h.useState(!1),[E,M]=h.useState(""),[C,D]=h.useState(""),[O,P]=h.useState(!1),[k,F]=h.useState(null),ie=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],Q="template1",[U,oe]=h.useState(null),[le,$]=h.useState(!0),G=async()=>{if(!e){b("ID du rsultat manquant."),f(!1);return}f(!0),b(null),j(null),n(null),i(null),u(null),$(!0),oe(null);try{const{data:I,error:z}=await re.from("patient_result").select("*").eq("id",e).single();if(z)throw z;if(!I)throw new Error("Rsultat non trouv.");n(I);const[q,K,se]=await Promise.all([re.from("patient").select("*").eq("id",I.patient_id).single(),re.from("doctor").select("*").eq("id",I.doctor_id).single(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);q.error&&console.warn("Erreur chargement patient:",q.error.message),K.error&&console.warn("Erreur chargement mdecin:",K.error.message),i(q.data),u(K.data),oe(se.data),$(!1)}catch(I){console.error("Erreur chargement dtails du rsultat:",I),b(I.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{f(!1)}};h.useEffect(()=>{G()},[e]),h.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),D((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const W=h.useCallback(async I=>{if(e)try{const{error:z}=await re.from("patient_result").update({description:I}).eq("id",e);if(z)throw z}catch(z){console.error("Error saving description:",z)}},[e]);h.useEffect(()=>{const I=setTimeout(()=>{N!==(t==null?void 0:t.description)&&W(N)},1e3);return()=>clearTimeout(I)},[N,t==null?void 0:t.description,W]);const J=h.useCallback(async()=>{P(!0),F(null);try{const I=E!==""?Number(E):null,z=C!==""?Number(C):null;if(E!==""&&isNaN(I)||C!==""&&isNaN(z)){F("Les prix doivent tre des nombres valides."),P(!1);return}const{error:q,data:K}=await re.from("patient_result").update({normal_price:I,insurance_price:z}).eq("id",t.id).select().single();if(q)throw q;n(se=>se&&{...se,normal_price:I,insurance_price:z}),R(!1)}catch(I){F(I.message||"Erreur lors de la sauvegarde des prix.")}finally{P(!1)}},[t,E,C]),L=async I=>{if(!(!t||I===t.status)){g(!0),j(null);try{const{data:z,error:q}=await re.from("patient_result").update({status:I}).eq("id",t.id).select().single();if(q)throw q;n(z||(K=>K?{...K,status:I}:null))}catch(z){console.error("Erreur mise  jour statut:",z),j(z.message||"Impossible de mettre  jour le statut.")}finally{g(!1)}}},V=(I,z,q,K)=>{const se=I;return s.jsxs("div",{className:Me("flex items-start space-x-3",K),children:[s.jsx(se,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:z}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:q||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})},B=h.useMemo(()=>{var z;const I=(U==null?void 0:U.selected_template)||Q;return((z=ie.find(q=>q.id===I))==null?void 0:z.component)||Zn},[U]),H=h.useMemo(()=>({logoUrl:(U==null?void 0:U.logo_url)||null,labName:U==null?void 0:U.lab_name,addressLine1:U==null?void 0:U.address_line1,addressLine2:U==null?void 0:U.address_line2,cityPostalCode:U==null?void 0:U.city_postal_code,phone:U==null?void 0:U.phone,email:U==null?void 0:U.email,website:U==null?void 0:U.website}),[U]);return d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):v?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[v," ",s.jsx(ne,{variant:"link",onClick:G,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:r?`/patients/${r.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",r?` ${r.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[U?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(B,{data:H,isPreview:!1,reportTitle:"RAPPORT DE RSULTATS"})}):s.jsxs(It,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tte Manquant"}),s.jsxs(Ut,{children:["La configuration de l'en-tte d'impression n'a pas t trouve."," ",s.jsx(at,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(us,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(Ye,"NOM PRENOM",r==null?void 0:r.full_name),V(Ye,"IDENTIFIANT Unique",r==null?void 0:r.patient_unique_id),V(fn,"Date Naissance",r!=null&&r.date_of_birth?ct(Jt(r.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:V(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(Yt,"NOM PRENOM",l==null?void 0:l.full_name),V(yn,"Tlphone",l==null?void 0:l.phone),V(Ye,"Provenance",l==null?void 0:l.hospital)]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:E,onChange:I=>M(I.target.value),disabled:O}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:E,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:I=>D(I.target.value),disabled:O}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:_?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:O,children:[O?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!1),disabled:O,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!0),children:"Modifier Prix"})}),k&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:k})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:t.status??"",onValueChange:I=>L(I),disabled:p,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(qr,{variant:rX(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:sX(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]}),V(Ye,"NOM PRENOM",r==null?void 0:r.full_name),V(Ye,"ID Unique",r==null?void 0:r.patient_unique_id),V(yn,"Tlphone",r==null?void 0:r.phone)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(ir,{className:"h-4 w-4"})," Mdecin"]}),V(Yt,"NOM PRENOM",l==null?void 0:l.full_name),V(yn,"Tlphone",l==null?void 0:l.phone),V(Ye,"Hpital",l==null?void 0:l.hospital)]})]}),s.jsx(iX,{resultId:e})]})," "]}):s.jsx("div",{children:"Rsultat non trouv."})},iX=({resultId:e})=>{var S,_,R,E;const[t,n]=h.useState(null),[r,i]=h.useState(!0),[l,u]=h.useState(null),d="Pas de virus dtect ou 366 copies/ml; 1.82 log",[f,p]=h.useState((t==null?void 0:t.value)??d),[g,v]=h.useState(!1),[b,w]=h.useState(!1);h.useEffect(()=>{(async()=>{i(!0),u(null);try{const{data:C,error:D}=await re.from("vhb").select("*").eq("result_id",e).maybeSingle();if(D)throw D;n(C),p((C==null?void 0:C.value)||d)}catch(C){u(C.message||"Erreur lors du chargement du VHB.")}finally{i(!1)}})()},[e]);const j=async()=>{w(!0),u(null);try{const{data:M,error:C}=await re.from("vhb").insert({result_id:e,value:f}).select().single();if(C)throw C;n(M),v(!1)}catch(M){u(M.message||"Erreur lors de la cration du VHB.")}finally{w(!1)}},N=async()=>{if(t){w(!0),u(null);try{const{data:M,error:C}=await re.from("vhb").update({value:f}).eq("id",t.id).select().single();if(C)throw C;n(M),v(!1)}catch(M){u(M.message||"Erreur lors de la mise  jour du VHB.")}finally{w(!1)}}};return r?s.jsx("div",{children:"Chargement du VHB..."}):l?s.jsx("div",{className:"text-destructive",children:l}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"print:hidden flex justify-end",children:s.jsx(ne,{onClick:()=>window.print(),variant:"outline",size:"sm",children:"Imprimer"})}),s.jsx("div",{className:"print:hidden",children:t?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"VHB"}),g?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:f,onChange:M=>p(M.target.value),disabled:b,placeholder:"Pas de virus dtect ou 366 copies/ml; 1.82 log"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(Pas de virus dtect ou 366 copies/ml; 1.82 log)"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(ne,{onClick:N,disabled:b||!f,children:b?"Sauvegarde...":"Sauvegarder"}),s.jsx(ne,{variant:"outline",onClick:()=>{v(!1),p(t.value)},disabled:b,children:"Annuler"})]})]}):s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-mono text-lg",children:t.value}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>v(!0),children:"Modifier"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Crer VHB"}),s.jsx(Ke,{value:f,onChange:M=>p(M.target.value),placeholder:"Pas de virus dtect ou 366 copies/ml; 1.82 log",disabled:b}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(Pas de virus dtect ou 366 copies/ml; 1.82 log)"}),s.jsx(ne,{onClick:j,disabled:b||!f,className:"mt-2",children:b?"Cration...":"Crer"})]})}),s.jsx("h2",{className:" text-3xl text-center mb-4 print:pt-4 font-bold uppercase mx-auto tracking-tight print:block  print:text-center",children:"VIROLOGIE"}),t!=null&&t.value&&(t.value.includes("Pas de virus")||t.value.includes("virus"))?s.jsxs("div",{className:" print:block mt-8 text-black text-lg",children:[s.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[s.jsx("span",{className:"font-bold underline",children:"EXAMENS"}),s.jsx("span",{className:"font-bold underline",children:"RESULTATS"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"font-bold text-xl underline",children:"CHARGE VIRALE HEPATITE B"})}),s.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[s.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-semibold",children:"Charge viraleVHB"}),s.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps rel)"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-bold text-2xl",children:((S=t.value.match(/([\d,.]+\s*copies\/ml)/i))==null?void 0:S[1])||t.value}),s.jsx("span",{className:"text-xs mt-1",children:"( Pour 0.5 ml d'chantillon )"}),s.jsx("span",{className:"font-bold text-2xl mt-8",children:((_=t.value.split(";")[1])==null?void 0:_.trim())||""})]})]})]}):t!=null&&t.value?s.jsxs("div",{className:" mt-8 text-black text-lg positive format",children:[s.jsxs("div",{className:"flex flex-row justify-between mb-2",children:[s.jsx("span",{className:"font-bold underline text-xl",children:"EXAMENS"}),s.jsx("span",{className:"font-bold underline text-xl",children:"RESULTATS"})]}),s.jsx("div",{className:"w-full mb-6",children:s.jsx("div",{className:"font-bold text-2xl underline",children:"CHARGE VIRALE HEPATITE B"})}),s.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[s.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-semibold text-xl",children:"Charge viraleVHB"}),s.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps rel)"}),s.jsx("span",{className:"font-semibold mt-13 text-2xl",children:"Soit"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-bold text-2xl",children:((R=t.value.match(/([\d,.]+\s*copies\/ml)/i))==null?void 0:R[1])||t.value}),s.jsx("span",{className:"text-xs mt-1",children:"(limite de dtection <35 pour 0.5 ml)"}),s.jsx("span",{className:"text-xs",children:"(d'chantillon, 1 UI= 3.41 copie/ml)"}),s.jsx("span",{className:"font-bold text-2xl mt-5",children:((E=t.value.split(";")[1])==null?void 0:E.trim())||""})]})]})]}):null,s.jsx("div",{className:" mt-20",children:s.jsx(Hl,{date:new Date().toISOString()})})]})},oX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},lX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},cX=()=>{const{resultId:e}=yr();dr();const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(!0),[p,g]=h.useState(!1),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(""),[_,R]=h.useState(!1),[E,M]=h.useState(""),[C,D]=h.useState(""),[O,P]=h.useState(!1),[k,F]=h.useState(null),ie=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],Q="template1",[U,oe]=h.useState(null),[le,$]=h.useState(!0),G=async()=>{if(!e){b("ID du rsultat manquant."),f(!1);return}f(!0),b(null),j(null),n(null),i(null),u(null),$(!0),oe(null);try{const{data:I,error:z}=await re.from("patient_result").select("*").eq("id",e).single();if(z)throw z;if(!I)throw new Error("Rsultat non trouv.");n(I);const[q,K,se]=await Promise.all([re.from("patient").select("*").eq("id",I.patient_id).single(),re.from("doctor").select("*").eq("id",I.doctor_id).single(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);q.error&&console.warn("Erreur chargement patient:",q.error.message),K.error&&console.warn("Erreur chargement mdecin:",K.error.message),i(q.data),u(K.data),oe(se.data),$(!1)}catch(I){console.error("Erreur chargement dtails du rsultat:",I),b(I.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{f(!1)}};h.useEffect(()=>{G()},[e]),h.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),D((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const W=h.useCallback(async I=>{if(e)try{const{error:z}=await re.from("patient_result").update({description:I}).eq("id",e);if(z)throw z}catch(z){console.error("Error saving description:",z)}},[e]);h.useEffect(()=>{const I=setTimeout(()=>{N!==(t==null?void 0:t.description)&&W(N)},1e3);return()=>clearTimeout(I)},[N,t==null?void 0:t.description,W]);const J=h.useCallback(async()=>{P(!0),F(null);try{const I=E!==""?Number(E):null,z=C!==""?Number(C):null;if(E!==""&&isNaN(I)||C!==""&&isNaN(z)){F("Les prix doivent tre des nombres valides."),P(!1);return}const{error:q,data:K}=await re.from("patient_result").update({normal_price:I,insurance_price:z}).eq("id",t.id).select().single();if(q)throw q;n(se=>se&&{...se,normal_price:I,insurance_price:z}),R(!1)}catch(I){F(I.message||"Erreur lors de la sauvegarde des prix.")}finally{P(!1)}},[t,E,C]),L=async I=>{if(!(!t||I===t.status)){g(!0),j(null);try{const{data:z,error:q}=await re.from("patient_result").update({status:I}).eq("id",t.id).select().single();if(q)throw q;n(z||(K=>K?{...K,status:I}:null))}catch(z){console.error("Erreur mise  jour statut:",z),j(z.message||"Impossible de mettre  jour le statut.")}finally{g(!1)}}},V=(I,z,q,K)=>{const se=I;return s.jsxs("div",{className:Me("flex items-start space-x-3",K),children:[s.jsx(se,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:z}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:q||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})},B=h.useMemo(()=>{var z;const I=(U==null?void 0:U.selected_template)||Q;return((z=ie.find(q=>q.id===I))==null?void 0:z.component)||Zn},[U]),H=h.useMemo(()=>({logoUrl:(U==null?void 0:U.logo_url)||null,labName:U==null?void 0:U.lab_name,addressLine1:U==null?void 0:U.address_line1,addressLine2:U==null?void 0:U.address_line2,cityPostalCode:U==null?void 0:U.city_postal_code,phone:U==null?void 0:U.phone,email:U==null?void 0:U.email,website:U==null?void 0:U.website}),[U]);return d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):v?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[v," ",s.jsx(ne,{variant:"link",onClick:G,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:r?`/patients/${r.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",r?` ${r.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[U?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(B,{data:H,isPreview:!1,reportTitle:"RAPPORT DE RSULTATS"})}):s.jsxs(It,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tte Manquant"}),s.jsxs(Ut,{children:["La configuration de l'en-tte d'impression n'a pas t trouve."," ",s.jsx(at,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(us,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(Ye,"NOM PRENOM",r==null?void 0:r.full_name),V(Ye,"IDENTIFIANT Unique",r==null?void 0:r.patient_unique_id),V(fn,"Date Naissance",r!=null&&r.date_of_birth?ct(Jt(r.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:V(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(Yt,"NOM PRENOM",l==null?void 0:l.full_name),V(yn,"Tlphone",l==null?void 0:l.phone),V(Ye,"Provenance",l==null?void 0:l.hospital)]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:E,onChange:I=>M(I.target.value),disabled:O}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:E,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:I=>D(I.target.value),disabled:O}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:_?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:O,children:[O?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!1),disabled:O,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!0),children:"Modifier Prix"})}),k&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:k})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:t.status??"",onValueChange:I=>L(I),disabled:p,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(qr,{variant:oX(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:lX(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]}),V(Ye,"NOM PRENOM",r==null?void 0:r.full_name),V(Ye,"ID Unique",r==null?void 0:r.patient_unique_id),V(yn,"Tlphone",r==null?void 0:r.phone)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(ir,{className:"h-4 w-4"})," Mdecin"]}),V(Yt,"NOM PRENOM",l==null?void 0:l.full_name),V(yn,"Tlphone",l==null?void 0:l.phone),V(Ye,"Hpital",l==null?void 0:l.hospital)]})]}),s.jsx(uX,{resultId:e})]})," "]}):s.jsx("div",{children:"Rsultat non trouv."})},uX=({resultId:e})=>{const[t,n]=h.useState(null),[r,i]=h.useState(!0),[l,u]=h.useState(null),[d,f]=h.useState((t==null?void 0:t.value)??"1 350 000 copies/ml; 6.13 log10 ou Pas de virus dtect"),[p,g]=h.useState(!1),[v,b]=h.useState(!1);h.useEffect(()=>{(async()=>{i(!0),u(null);try{const{data:S,error:_}=await re.from("vih").select("*").eq("result_id",e).maybeSingle();if(_)throw _;n(S),f((S==null?void 0:S.value)||"1 350 000 copies/ml; 6.13 log10 ou Pas de virus dtect")}catch(S){u(S.message||"Erreur lors du chargement du VIH.")}finally{i(!1)}})()},[e]);const w=async()=>{b(!0),u(null);try{const{data:N,error:S}=await re.from("vih").insert({result_id:e,value:d}).select().single();if(S)throw S;n(N),g(!1)}catch(N){u(N.message||"Erreur lors de la cration du VIH.")}finally{b(!1)}},j=async()=>{if(t){b(!0),u(null);try{const{data:N,error:S}=await re.from("vih").update({value:d}).eq("id",t.id).select().single();if(S)throw S;n(N),g(!1)}catch(N){u(N.message||"Erreur lors de la mise  jour du VIH.")}finally{b(!1)}}};return r?s.jsx("div",{children:"Chargement du VIH..."}):l?s.jsx("div",{className:"text-destructive",children:l}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"print:hidden flex justify-end",children:s.jsx(ne,{onClick:()=>window.print(),variant:"outline",size:"sm",children:"Imprimer"})}),s.jsx("div",{className:"print:hidden",children:t?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"VIH"}),p?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:d,onChange:N=>f(N.target.value),disabled:v,placeholder:"ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus dtect"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus dtect)"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(ne,{onClick:j,disabled:v||!d,children:v?"Sauvegarde...":"Sauvegarder"}),s.jsx(ne,{variant:"outline",onClick:()=>{g(!1),f(t.value)},disabled:v,children:"Annuler"})]})]}):s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-mono text-lg",children:t.value}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>g(!0),children:"Modifier"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Crer VIH"}),s.jsx(Ke,{value:d,onChange:N=>f(N.target.value),placeholder:"ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus dtect",disabled:v}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus dtect)"}),s.jsx(ne,{onClick:w,disabled:v||!d,className:"mt-2",children:v?"Cration...":"Crer"})]})}),s.jsx("h2",{className:" text-3xl text-center mb-4 print:pt-4 font-bold uppercase mx-auto tracking-tight print:block  print:text-center",children:"VIROLOGIE"}),t!=null&&t.value?s.jsxs("div",{className:"print:block mt-8 text-black text-lg",children:[s.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[s.jsx("span",{className:"font-bold underline",children:"EXAMENS"}),s.jsx("span",{className:"font-bold underline",children:"RESULTATS"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"font-bold text-xl underline",children:"CHARGE VIRALE VIH"})}),s.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[s.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-semibold",children:"Charge viraleVIH"}),s.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps rel)"}),!t.value.includes("virus")&&s.jsx("span",{className:"font-semibold mt-20",children:"Soit"})]}),s.jsx("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:(()=>{if(/pas de virus dtect/i.test(t.value))return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-bold text-2xl",children:"Pas de virus dtect"}),s.jsx("span",{className:"text-xs mt-1",children:"(pour 1 ml d'chantillon)"})]});const N=t.value.match(/([\d\s]+copies\/ml)/i),S=t.value.match(/;\s*([\d.]+)\s*log10/i);return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-bold text-2xl",children:N?N[1].trim():t.value}),s.jsxs("span",{className:"text-xs font-normal",children:[" ","(limite de dtection <40 pour 0.6 ml)"]}),s.jsx("span",{className:"text-xs mt-1",children:"(d'chantillon, 1 copie /ml = 0.58* 1UI/ml)"}),s.jsxs("div",{className:"flex flex-row justify-between w-full mt-8 ",children:[s.jsx("span",{}),s.jsxs("span",{className:"font-bold text-2xl",children:[S?S[1]:""," log",s.jsx("sub",{children:"10"})]})]})]})})()})]})]}):null,s.jsx("div",{className:" mt-20",children:s.jsx(Hl,{date:new Date().toISOString()})})]})},dX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},fX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},hX=()=>{const{resultId:e}=yr();dr();const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(!0),[p,g]=h.useState(!1),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(""),[_,R]=h.useState(!1),[E,M]=h.useState(""),[C,D]=h.useState(""),[O,P]=h.useState(!1),[k,F]=h.useState(null),ie=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],Q="template1",[U,oe]=h.useState(null),[le,$]=h.useState(!0),G=async()=>{if(!e){b("ID du rsultat manquant."),f(!1);return}f(!0),b(null),j(null),n(null),i(null),u(null),$(!0),oe(null);try{const{data:I,error:z}=await re.from("patient_result").select("*").eq("id",e).single();if(z)throw z;if(!I)throw new Error("Rsultat non trouv.");n(I);const[q,K,se]=await Promise.all([re.from("patient").select("*").eq("id",I.patient_id).single(),re.from("doctor").select("*").eq("id",I.doctor_id).single(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);q.error&&console.warn("Erreur chargement patient:",q.error.message),K.error&&console.warn("Erreur chargement mdecin:",K.error.message),i(q.data),u(K.data),oe(se.data),$(!1)}catch(I){console.error("Erreur chargement dtails du rsultat:",I),b(I.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{f(!1)}};h.useEffect(()=>{G()},[e]),h.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),D((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const W=h.useCallback(async I=>{if(e)try{const{error:z}=await re.from("patient_result").update({description:I}).eq("id",e);if(z)throw z}catch(z){console.error("Error saving description:",z)}},[e]);h.useEffect(()=>{const I=setTimeout(()=>{N!==(t==null?void 0:t.description)&&W(N)},1e3);return()=>clearTimeout(I)},[N,t==null?void 0:t.description,W]);const J=h.useCallback(async()=>{P(!0),F(null);try{const I=E!==""?Number(E):null,z=C!==""?Number(C):null;if(E!==""&&isNaN(I)||C!==""&&isNaN(z)){F("Les prix doivent tre des nombres valides."),P(!1);return}const{error:q,data:K}=await re.from("patient_result").update({normal_price:I,insurance_price:z}).eq("id",t.id).select().single();if(q)throw q;n(se=>se&&{...se,normal_price:I,insurance_price:z}),R(!1)}catch(I){F(I.message||"Erreur lors de la sauvegarde des prix.")}finally{P(!1)}},[t,E,C]),L=async I=>{if(!(!t||I===t.status)){g(!0),j(null);try{const{data:z,error:q}=await re.from("patient_result").update({status:I}).eq("id",t.id).select().single();if(q)throw q;n(z||(K=>K?{...K,status:I}:null))}catch(z){console.error("Erreur mise  jour statut:",z),j(z.message||"Impossible de mettre  jour le statut.")}finally{g(!1)}}},V=(I,z,q,K)=>{const se=I;return s.jsxs("div",{className:Me("flex items-start space-x-3",K),children:[s.jsx(se,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:z}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:q||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})},B=h.useMemo(()=>{var z;const I=(U==null?void 0:U.selected_template)||Q;return((z=ie.find(q=>q.id===I))==null?void 0:z.component)||Zn},[U]),H=h.useMemo(()=>({logoUrl:(U==null?void 0:U.logo_url)||null,labName:U==null?void 0:U.lab_name,addressLine1:U==null?void 0:U.address_line1,addressLine2:U==null?void 0:U.address_line2,cityPostalCode:U==null?void 0:U.city_postal_code,phone:U==null?void 0:U.phone,email:U==null?void 0:U.email,website:U==null?void 0:U.website}),[U]);return d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):v?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[v," ",s.jsx(ne,{variant:"link",onClick:G,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:r?`/patients/${r.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",r?` ${r.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[U?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(B,{data:H,isPreview:!1,reportTitle:"RAPPORT DE RSULTATS"})}):s.jsxs(It,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tte Manquant"}),s.jsxs(Ut,{children:["La configuration de l'en-tte d'impression n'a pas t trouve."," ",s.jsx(at,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(us,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(Ye,"NOM PRENOM",r==null?void 0:r.full_name),V(Ye,"IDENTIFIANT Unique",r==null?void 0:r.patient_unique_id),V(fn,"Date Naissance",r!=null&&r.date_of_birth?ct(Jt(r.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:V(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(Yt,"NOM PRENOM",l==null?void 0:l.full_name),V(yn,"Tlphone",l==null?void 0:l.phone),V(Ye,"Provenance",l==null?void 0:l.hospital)]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[V(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:E,onChange:I=>M(I.target.value),disabled:O}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:E,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:I=>D(I.target.value),disabled:O}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:_?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:O,children:[O?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!1),disabled:O,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!0),children:"Modifier Prix"})}),k&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:k})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:t.status??"",onValueChange:I=>L(I),disabled:p,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(qr,{variant:dX(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:fX(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]}),V(Ye,"NOM PRENOM",r==null?void 0:r.full_name),V(Ye,"ID Unique",r==null?void 0:r.patient_unique_id),V(yn,"Tlphone",r==null?void 0:r.phone)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(ir,{className:"h-4 w-4"})," Mdecin"]}),V(Yt,"NOM PRENOM",l==null?void 0:l.full_name),V(yn,"Tlphone",l==null?void 0:l.phone),V(Ye,"Hpital",l==null?void 0:l.hospital)]})]}),s.jsx(mX,{resultId:e})]})]}):s.jsx("div",{children:"Rsultat non trouv."})};function mX({resultId:e}){const[t,n]=h.useState(!0),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(!1),[p,g]=h.useState(null),[v,b]=h.useState({diagnostic_clinique:"",biopsie_chirurgicale:"",fixateur_utilise:"",etude_macroscopique:"",etude_histologique:"",conclusion:"",bottom_text:""}),[w,j]=h.useState({cityDate:`BAMAKO, LE ${ct(new Date,"dd/MM/yyyy")}`,doctor:"Dr, Bourama COULIBALY"});h.useEffect(()=>{const R=localStorage.getItem("anapath_city_date"),E=localStorage.getItem("anapath_doctor");j({cityDate:R||"BAMAKO, LE 4/06/2024",doctor:E||"Dr, Bourama COULIBALY"})},[]),h.useEffect(()=>{localStorage.setItem("anapath_city_date",w.cityDate),localStorage.setItem("anapath_doctor",w.doctor)},[w]);const N=R=>{const{name:E,value:M}=R.target;j(C=>({...C,[E]:M}))};h.useEffect(()=>{async function R(){n(!0),i(null);const{data:E,error:M}=await re.from("anapath").select("*").eq("result_id",e).maybeSingle();if(M){i("Erreur lors du chargement: "+M.message),n(!1);return}if(E){u(E),b({diagnostic_clinique:E.diagnostic_clinique||"",biopsie_chirurgicale:E.biopsie_chirurgicale||"",fixateur_utilise:E.fixateur_utilise||"",etude_macroscopique:E.etude_macroscopique||"",etude_histologique:E.etude_histologique||"",conclusion:E.conclusion||"",bottom_text:E.bottom_text||""}),n(!1);return}const{data:C,error:D}=await re.from("anapath").insert([{result_id:e}]).select().maybeSingle();if(D)if(D.code==="23505"||D.message&&D.message.includes("duplicate key value")){const{data:O,error:P}=await re.from("anapath").select("*").eq("result_id",e).maybeSingle();P?i("Erreur lors du chargement aprs duplication: "+P.message):O?(u(O),b({diagnostic_clinique:O.diagnostic_clinique||"",biopsie_chirurgicale:O.biopsie_chirurgicale||"",fixateur_utilise:O.fixateur_utilise||"",etude_macroscopique:O.etude_macroscopique||"",etude_histologique:O.etude_histologique||"",conclusion:O.conclusion||"",bottom_text:O.bottom_text||""})):i("Erreur inattendue lors de la rcupration aprs duplication.")}else i("Erreur lors de la cration: "+D.message);else u(C),b({diagnostic_clinique:C.diagnostic_clinique||"",biopsie_chirurgicale:C.biopsie_chirurgicale||"",fixateur_utilise:C.fixateur_utilise||"",etude_macroscopique:C.etude_macroscopique||"",etude_histologique:C.etude_histologique||"",conclusion:C.conclusion||"",bottom_text:C.bottom_text||""});n(!1)}e&&R()},[e]);const S=R=>{const{name:E,value:M}=R.target;b(C=>({...C,[E]:M}))},_=async()=>{if(!l)return;f(!0),g(null);const{error:R}=await re.from("anapath").update(v).eq("id",l.id);f(!1),g(R?"Erreur lors de la sauvegarde: "+R.message:"Modifications enregistres !")};return t?s.jsx("div",{children:"Chargement..."}):r?s.jsx("div",{className:"text-red-500",children:r}):l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:s.jsxs(ne,{onClick:()=>window.print(),variant:"outline",children:[s.jsx(Oh,{className:"mr-2 h-4 w-4"})," Imprimer"]})}),s.jsxs("div",{className:"w-full mx-auto bg-white p-8 rounded shadow print:bg-white print:shadow-none print:p-0 print:max-w-full print:text-black print:font-serif print:leading-relaxed print:text-[16pt] print:rounded-none",style:{minHeight:"29.7cm",minWidth:"21cm"},children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6 uppercase print:text-[20pt] print:mb-8 print:font-bold",children:"EXAMEN ANATOMO-PATHOLOGIQUE"}),s.jsxs("div",{className:"mb-4 print:mb-6",children:[s.jsx("h2",{className:"font-bold mb-2 print:mb-1 print:text-[17pt] uppercase",children:"Rsum de lObservation Clinique :"}),s.jsxs("div",{className:"ml-4 space-y-2 print:ml-0 print:space-y-1",children:[s.jsxs("div",{children:["Diagnostic Clinique :",s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:v.diagnostic_clinique}),s.jsx("input",{name:"diagnostic_clinique",value:v.diagnostic_clinique,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Diagnostic Clinique",disabled:d})]})]}),s.jsxs("div",{children:["Biopsie Chirurgicale :",s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:v.biopsie_chirurgicale}),s.jsx("input",{name:"biopsie_chirurgicale",value:v.biopsie_chirurgicale,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Biopsie Chirurgicale",disabled:d})]})]}),s.jsxs("div",{children:["Fixateur Utilis :",s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:v.fixateur_utilise}),s.jsx("input",{name:"fixateur_utilise",value:v.fixateur_utilise,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Fixateur Utilis",disabled:d})]})]})]})]}),s.jsxs("div",{className:"mb-4 print:mb-6",children:[s.jsx("h2",{className:"font-bold mb-2 uppercase print:mb-1 print:text-[17pt]",children:"COMPTE RENDU HISTOPATHOLOGIQUE :"}),s.jsxs("div",{className:"ml-4 space-y-2 print:ml-0 print:space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-bold print:text-[16pt]",children:"I. Etude Macroscopique :"}),s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:v.etude_macroscopique}),s.jsx("textarea",{name:"etude_macroscopique",value:v.etude_macroscopique,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Etude Macroscopique",rows:2,disabled:d})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold print:text-[16pt]",children:"2-Etude Histologique :"}),s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:v.etude_histologique}),s.jsx("textarea",{name:"etude_histologique",value:v.etude_histologique,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Etude Histologique",rows:2,disabled:d})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold underline print:text-[16pt]",children:"3-Conclusion :"}),s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:v.conclusion}),s.jsx("textarea",{name:"conclusion",value:v.conclusion,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Conclusion",rows:2,disabled:d})]})]}),s.jsx("div",{children:s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:v.bottom_text}),s.jsx("textarea",{name:"bottom_text",value:v.bottom_text,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"OLGA/OLGIM...",rows:1,disabled:d})]})})]})]}),s.jsxs("div",{className:"mt-8 flex flex-col items-end print:mt-12 print:items-end",children:[s.jsxs("span",{className:"print:text-[15pt]",children:[s.jsx("span",{className:"hidden print:inline",children:w.cityDate}),s.jsx("input",{name:"cityDate",value:w.cityDate,onChange:N,className:"border-b border-gray-300 focus:outline-none bg-transparent w-auto text-right print:hidden"})]}),s.jsxs("span",{className:"print:text-[15pt]",children:[s.jsx("span",{className:"hidden print:inline",children:w.doctor}),s.jsx("input",{name:"doctor",value:w.doctor,onChange:N,className:"border-b border-gray-300 focus:outline-none bg-transparent w-auto text-right print:hidden"})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-4 print:hidden",children:[s.jsx(ne,{onClick:_,disabled:d,variant:"default",children:d?"Enregistrement...":"Enregistrer"}),p&&s.jsx("span",{className:p.startsWith("Erreur")?"text-red-500":"text-green-600",children:p})]})]}),s.jsx("div",{className:"print:block hidden page-break-after"})]}):s.jsx("div",{children:"Entre Anapath non trouve."})}const pX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},gX=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},vX=()=>{const{resultId:e}=yr();dr();const[t,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState(null),[d,f]=h.useState(!0),[p,g]=h.useState(!1),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(""),[_,R]=h.useState(!1),[E,M]=h.useState(""),[C,D]=h.useState(""),[O,P]=h.useState(!1),[k,F]=h.useState(null),ie=[{id:"template1",component:Zn},{id:"template2",component:Aa},{id:"template3",component:Da},{id:"template4",component:Pa}],Q="template1",[U,oe]=h.useState(null),[le,$]=h.useState(!0),G=async()=>{if(!e){b("ID du rsultat manquant."),f(!1);return}f(!0),b(null),j(null),n(null),i(null),u(null),$(!0),oe(null);try{const{data:H,error:I}=await re.from("patient_result").select("*").eq("id",e).single();if(I)throw I;if(!H)throw new Error("Rsultat non trouv.");n(H);const[z,q,K]=await Promise.all([re.from("patient").select("*").eq("id",H.patient_id).single(),re.from("doctor").select("*").eq("id",H.doctor_id).single(),re.from("print_header_config").select("*").limit(1).maybeSingle()]);z.error&&console.warn("Erreur chargement patient:",z.error.message),q.error&&console.warn("Erreur chargement mdecin:",q.error.message),i(z.data),u(q.data),oe(K.data),$(!1)}catch(H){console.error("Erreur chargement dtails du rsultat:",H),b(H.message||"Une erreur est survenue lors du chargement du rsultat.")}finally{f(!1)}};h.useEffect(()=>{G()},[e]),h.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),D((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const W=h.useCallback(async H=>{if(e)try{const{error:I}=await re.from("patient_result").update({description:H}).eq("id",e);if(I)throw I}catch(I){console.error("Error saving description:",I)}},[e]);h.useEffect(()=>{const H=setTimeout(()=>{N!==(t==null?void 0:t.description)&&W(N)},1e3);return()=>clearTimeout(H)},[N,t==null?void 0:t.description,W]);const J=h.useCallback(async()=>{P(!0),F(null);try{const H=E!==""?Number(E):null,I=C!==""?Number(C):null;if(E!==""&&isNaN(H)||C!==""&&isNaN(I)){F("Les prix doivent tre des nombres valides."),P(!1);return}const{error:z,data:q}=await re.from("patient_result").update({normal_price:H,insurance_price:I}).eq("id",t.id).select().single();if(z)throw z;n(K=>K&&{...K,normal_price:H,insurance_price:I}),R(!1)}catch(H){F(H.message||"Erreur lors de la sauvegarde des prix.")}finally{P(!1)}},[t,E,C]),L=async H=>{if(!(!t||H===t.status)){g(!0),j(null);try{const{data:I,error:z}=await re.from("patient_result").update({status:H}).eq("id",t.id).select().single();if(z)throw z;n(I||(q=>q?{...q,status:H}:null))}catch(I){console.error("Erreur mise  jour statut:",I),j(I.message||"Impossible de mettre  jour le statut.")}finally{g(!1)}}},V=()=>{window.print()},B=(H,I,z,q)=>{const K=H;return s.jsxs("div",{className:Me("flex items-start space-x-3",q),children:[s.jsx(K,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:I}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:z||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spcifi"})})]})]})};return h.useMemo(()=>{var I;const H=(U==null?void 0:U.selected_template)||Q;return((I=ie.find(z=>z.id===H))==null?void 0:I.component)||Zn},[U]),h.useMemo(()=>({logoUrl:(U==null?void 0:U.logo_url)||null,labName:U==null?void 0:U.lab_name,addressLine1:U==null?void 0:U.address_line1,addressLine2:U==null?void 0:U.address_line2,cityPostalCode:U==null?void 0:U.city_postal_code,phone:U==null?void 0:U.phone,email:U==null?void 0:U.email,website:U==null?void 0:U.website}),[U]),d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(X,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Te,{children:[s.jsx(X,{className:"h-5 w-24"}),s.jsx(X,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Re,{className:"space-y-3",children:[s.jsx(X,{className:"h-8 w-full"}),s.jsx(X,{className:"h-8 w-full"})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]}),s.jsxs(Ce,{children:[s.jsx(Te,{children:s.jsx(X,{className:"h-6 w-1/3"})}),s.jsx(Re,{children:s.jsx(X,{className:"h-20 w-full"})})]})]}):v?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(at,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(It,{variant:"destructive",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Ut,{children:[v," ",s.jsx(ne,{variant:"link",onClick:G,className:"p-0 h-auto text-destructive-foreground underline",children:"Ressayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(at,{to:r?`/patients/${r.id}`:"/patients",children:s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",r?` ${r.full_name}`:" la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(Hr,{className:"h-6 w-6 text-primary"}),"Dtails du Rsultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[B(Ye,"NOM PRENOM",r==null?void 0:r.full_name),B(Ye,"IDENTIFIANT Unique",r==null?void 0:r.patient_unique_id),B(fn,"Date Naissance",r!=null&&r.date_of_birth?ct(Jt(r.date_of_birth),"P",{locale:Qt}):null),s.jsx("div",{className:"hidden print:block",children:B(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null)})]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(ir,{className:"h-4 w-4"}),"Mdecin"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[B(Yt,"NOM PRENOM",l==null?void 0:l.full_name),B(yn,"Tlphone",l==null?void 0:l.phone),B(Ye,"Provenance",l==null?void 0:l.hospital)]})]}),s.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Te,{className:"pb-2 print:pb-1",children:s.jsxs(ut,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Qs,{className:"h-4 w-4"}),"Rsultat Info"]})}),s.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[B(fn,"Date Rsultat",t.result_date?ct(Jt(t.result_date),"Pp",{locale:Qt}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:E,onChange:H=>M(H.target.value),disabled:O}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:E,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:H=>D(H.target.value),disabled:O}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:_?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:O,children:[O?s.jsx(At,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!1),disabled:O,children:"Annuler"})]}):s.jsx(ne,{size:"xs",variant:"outline",onClick:()=>R(!0),children:"Modifier Prix"})}),k&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:k})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ye,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(gr,{value:t.status??"",onValueChange:H=>L(H),disabled:p,children:[s.jsxs(xr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(vr,{placeholder:"Changer statut..."})," "]}),s.jsxs(br,{children:[s.jsx(St,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(St,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(St,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(qr,{variant:pX(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:gX(t.status)})]})]})]})]})]}),s.jsx("div",{className:"flex items-center justify-end  print:hidden",children:s.jsx(ne,{onClick:V,className:"",children:"Imprimer"})}),s.jsx(xX,{})]})]}):s.jsx("div",{children:"Rsultat non trouv."})},xX=()=>s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-4 space-y-1",children:[s.jsx(yX,{}),s.jsx(wX,{}),s.jsx(ll,{children:s.jsx(bX,{})}),s.jsxs(ll,{children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[s.jsx(cv,{label:"Dlai d'abstinence",value:"3 (j)"}),s.jsx(cv,{label:"Lieu de Recueil",value:"Laboratoire"}),s.jsx(cv,{label:"Mode de Recueil",value:"Masturbation"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 ",children:[s.jsx($r,{label:"Volume",value:"1 ml",ref:"VN: 1.5 - 6 ml"}),s.jsx($r,{label:"pH",value:"-",ref:"VN: 7.2 - 8.5"}),s.jsx($r,{label:"Viscosit",value:"Normale"}),s.jsx($r,{label:"Couleur",value:"Normale"}),s.jsx($r,{label:"Odeur",value:"Normale"})]}),s.jsxs("div",{className:"grid grid-cols-2 pt-1 gap-2",children:[s.jsx($r,{label:"Agglutinats spontans",value:"Absence"}),s.jsx($r,{label:"Agrgats multiples",value:"Absence"})]})]}),s.jsxs(ll,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(jt,{type:"section",children:"MOBILIT DES SPERMATOZODES APRS 1 HEURE"}),s.jsx(nm,{children:s.jsx(jt,{type:"text",children:"Normale [a+b+c]  40%"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 ",children:[s.jsx($r,{label:"Rapides et progressifs (a)",value:"15%",ref:"VN:Vitesse > 25 ms"}),s.jsx($r,{label:"Lents et progressifs (b)",value:"15%",ref:"VN:Vitesse < 25 ms"}),s.jsx($r,{label:"Mobiles sur place (c)",value:"5%"}),s.jsx($r,{label:"Immobiles (d)",value:"80%"})]})]}),s.jsxs(ll,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{type:"section",children:"CULOT DE CENTRIFUGATION:"}),s.jsx(jt,{type:"text",children:"AUCUN SPERMATOZOIDE OBSERV"})]}),s.jsx(jt,{type:"section",children:"NUMRATION/CONCENTRATION DE SPERMATOZODES PAR MILLILITRE DE SPERME"}),s.jsx(NX,{}),s.jsx(jt,{type:"text",children:"Identification des cellules rondes: Cellules pithliales"})]}),s.jsxs(ll,{children:[s.jsx(jt,{type:"section",children:"VITALITE ou Test de Williams"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx($r,{label:"% de spermatozodes Vivants",value:"40%",ref:"VN:  58%"}),s.jsx($r,{label:"% de spermatozodes Morts",value:"60%"})]})]}),s.jsxs(ll,{children:[s.jsx(jt,{type:"section",children:"SPERMOCYTOGRAMME (Critres de David et Kruger)"}),s.jsx(SX,{})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(jt,{type:"section",className:"uppercase",children:["Conclusion:"," "]}),s.jsx(jt,{type:"text",children:"Le Biologiste"})]}),s.jsx(jX,{})]})}),jt=({children:e,type:t,className:n})=>s.jsx("span",{className:Me("inline-block text-base leading-4",t==="header"&&"font-bold print:text-[14pt] text-[#9b87f5] print:text-black",t==="section"&&" print:text-[10pt] text-[#9b87f5] print:text-black font-bold",t==="text"&&"font-normal print:text-[9pt]",n),children:e});function nm({children:e,primary:t,bg:n}){return s.jsx("div",{className:`border border-slate-${t?300:200} rounded-full px-2  ${n?"bg-slate-50":""}`,children:e})}function $r({label:e,value:t,ref:n}){return s.jsx("div",{className:"bg-gray-50 px-2 rounded-lg",children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between py-1",children:[s.jsx(jt,{type:"text",children:e}),s.jsx(nm,{children:s.jsx(jt,{type:"text",children:n})})]}),s.jsx(jt,{type:"text",className:"font-bold",children:t})]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center gap-2 py-1",children:[s.jsxs(jt,{type:"text",children:[e,":"]}),s.jsx(jt,{type:"text",children:t})]})})})}function cv({label:e,value:t}){return s.jsx(nm,{children:s.jsxs("div",{className:"flex items-center gap-2 ml-1",children:[s.jsxs(jt,{type:"text",className:"text-muted-foreground leading-5",children:[e,":"]}),s.jsx(jt,{type:"text",className:"font-bold leading-5",children:t})]})})}function PT({columns:e,data:t,borderVisible:n=!0}){return s.jsx("div",{className:`${n?"border-visible":"border-none"}`,children:s.jsxs("table",{className:"w-full  ",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left",children:e.map((r,i)=>s.jsx("th",{children:s.jsx(jt,{type:"text",className:"font-bold",children:r})},i))})}),s.jsx("tbody",{children:t.map((r,i)=>s.jsx("tr",{children:e.map((l,u)=>s.jsx("td",{children:s.jsx(jt,{type:"text",children:r[l]})},u))},i))})]})})}function bX(){return s.jsx("div",{className:"border-none",children:s.jsxs("table",{className:"w-full  ",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{children:s.jsx(jt,{type:"text",className:"text-muted-foreground",children:"Prnom et Nom"})}),s.jsx("th",{children:s.jsx(jt,{type:"text",className:"text-muted-foreground",children:"ge"})}),s.jsx("th",{children:s.jsx(jt,{type:"text",className:"text-muted-foreground",children:"Profession"})}),s.jsx("th",{children:s.jsx(jt,{type:"text",className:"text-muted-foreground",children:"Rsidence"})}),s.jsx("th",{children:s.jsx(jt,{type:"text",className:"text-muted-foreground",children:"Ethnie"})})]})}),s.jsx("tbody",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("td",{children:s.jsx(jt,{type:"text",className:"font-bold",children:"Naouma TRAORE"})}),s.jsx("td",{children:s.jsx(jt,{type:"text",className:"font-bold",children:"- ans"})}),s.jsx("td",{children:s.jsx(jt,{type:"text",className:"font-bold",children:"-"})}),s.jsx("td",{children:s.jsx(jt,{type:"text",className:"font-bold",children:"-"})}),s.jsx("td",{children:s.jsx(jt,{type:"text",className:"font-bold",children:"-"})})]})})]})})}function yX(){return s.jsxs("div",{className:"flex flex-col items-center border border-slate-300 rounded-lg",children:[s.jsx(jt,{type:"header",className:" text-center tracking-wider pt-2 ",children:"DCLIC SANT"}),s.jsx(jt,{type:"text",children:"MEDINA COURA RUE: 1 PORTE: 28 BAMAKO - MALI TEL: 92906964/67737350"}),s.jsx(jt,{type:"text",children:"LABORATOIRE - ECHOGRAPHIES - CONSULTATIONS"})]})}function wX(){const e=new Date,t=e.getFullYear(),n=e.getDate(),r=e.getMonth(),l=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][r];return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(jt,{type:"section",className:"uppercase",children:["Spermogramme ",t]}),s.jsx(nm,{bg:!0,children:s.jsxs(jt,{type:"text",children:["N: 022/24 du ",n," ",l]})})]})}function jX(){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(jt,{type:"text",className:"font-bold -ml-[200px]",children:"OLIGO-ASTHENO-NECROZOOSPERMIE SEVERE"}),s.jsx(jt,{type:"text",className:"font-bold -ml-[200px]",children:"HYPOSPERMIE"}),s.jsx(jt,{type:"text",className:"font-bold -ml-[200px]",children:"INTERET DE BILAN INFECTIEUX"}),s.jsx(jt,{type:"text",className:"font-bold -ml-[200px]",children:"EXAMEN DE CONTROLE A REALISER DANS 03 MOIS"})]})})}const ll=({children:e})=>s.jsx("div",{className:"border border-slate-300 rounded-lg px-2 py-1",children:e});function NX(){const e=["Paramtres","Rsultats","Ref."],t=[{Paramtres:"Nombre de Spermatozodes / millilitre de sperme",Rsultats:"5 millions","Ref.":"> 15 millions/ml"},{Paramtres:"Nombre de Spermatozodes dans l'jaculat",Rsultats:"+","Ref.":"  39.10^6 / ml"},{Paramtres:"Cellules rondes",Rsultats:"+","Ref.":" 5000 / ml"},{Paramtres:"Leucocytes",Rsultats:"+","Ref.":" 10^6 / ml"}];return s.jsx(PT,{columns:e,data:t})}function SX(){const e=["Paramtres","Rsultats","Ref."],t=[{Paramtres:"% de spermatozodes de formes typiques",Rsultats:"-%","Ref.":" 4%"},{Paramtres:"% de spermatozodes prsentant une anomalie de la tte",Rsultats:"-%","Ref.":"-"},{Paramtres:"% de spermatozodes prsentant une anomalie de la pice intermdiaire",Rsultats:"-%","Ref.":"-"},{Paramtres:"% de spermatozodes prsentant une anomalie de la flagelle",Rsultats:"-%","Ref.":"-"},{Paramtres:"% de spermatozodes de formes immatures",Rsultats:"-%","Ref.":"-"}];return s.jsx(PT,{columns:e,data:t})}var _X=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gu=_X.reduce((e,t)=>{const n=Cu(`Primitive.${t}`),r=h.forwardRef((i,l)=>{const{asChild:u,...d}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...d,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function tS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EX(...e){return t=>{let n=!1;const r=e.map(i=>{const l=tS(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():tS(e[i],null)}}}}function po(...e){return h.useCallback(EX(...e),e)}var lx=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{};function CX(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Xu=e=>{const{present:t,children:n}=e,r=RX(t),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),l=po(r.ref,TX(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:l}):null};Xu.displayName="Presence";function RX(e){const[t,n]=h.useState(),r=h.useRef(null),i=h.useRef(e),l=h.useRef("none"),u=e?"mounted":"unmounted",[d,f]=CX(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const p=Ef(r.current);l.current=d==="mounted"?p:"none"},[d]),lx(()=>{const p=r.current,g=i.current;if(g!==e){const b=l.current,w=Ef(p);e?f("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),lx(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,v=w=>{const N=Ef(r.current).includes(w.animationName);if(w.target===t&&N&&(f("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},b=w=>{w.target===t&&(l.current=Ef(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:h.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function Ef(e){return(e==null?void 0:e.animationName)||"none"}function TX(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function MX(e,t=[]){let n=[];function r(l,u){const d=h.createContext(u),f=n.length;n=[...n,u];const p=v=>{var _;const{scope:b,children:w,...j}=v,N=((_=b==null?void 0:b[e])==null?void 0:_[f])||d,S=h.useMemo(()=>j,Object.values(j));return s.jsx(N.Provider,{value:S,children:w})};p.displayName=l+"Provider";function g(v,b){var N;const w=((N=b==null?void 0:b[e])==null?void 0:N[f])||d,j=h.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[p,g]}const i=()=>{const l=n.map(u=>h.createContext(u));return function(d){const f=(d==null?void 0:d[e])||l;return h.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return i.scopeName=e,[r,OX(i,...t)]}function OX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const v=f(l)[`__scope${p}`];return{...d,...v}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Zi(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var AX=h.createContext(void 0);function DX(e){const t=h.useContext(AX);return e||t||"ltr"}function PX(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ji(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function kX(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var qb="ScrollArea",[kT,NK]=MX(qb),[LX,hs]=kT(qb),LT=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:l=600,...u}=e,[d,f]=h.useState(null),[p,g]=h.useState(null),[v,b]=h.useState(null),[w,j]=h.useState(null),[N,S]=h.useState(null),[_,R]=h.useState(0),[E,M]=h.useState(0),[C,D]=h.useState(!1),[O,P]=h.useState(!1),k=po(t,ie=>f(ie)),F=DX(i);return s.jsx(LX,{scope:n,type:r,dir:F,scrollHideDelay:l,scrollArea:d,viewport:p,onViewportChange:g,content:v,onContentChange:b,scrollbarX:w,onScrollbarXChange:j,scrollbarXEnabled:C,onScrollbarXEnabledChange:D,scrollbarY:N,onScrollbarYChange:S,scrollbarYEnabled:O,onScrollbarYEnabledChange:P,onCornerWidthChange:R,onCornerHeightChange:M,children:s.jsx(Gu.div,{dir:F,...u,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});LT.displayName=qb;var IT="ScrollAreaViewport",$T=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...l}=e,u=hs(IT,n),d=h.useRef(null),f=po(t,d,u.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Gu.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});$T.displayName=IT;var ta="ScrollAreaScrollbar",UT=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=hs(ta,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=i,d=e.orientation==="horizontal";return h.useEffect(()=>(d?l(!0):u(!0),()=>{d?l(!1):u(!1)}),[d,l,u]),i.type==="hover"?s.jsx(IX,{...r,ref:t,forceMount:n}):i.type==="scroll"?s.jsx($X,{...r,ref:t,forceMount:n}):i.type==="auto"?s.jsx(zT,{...r,ref:t,forceMount:n}):i.type==="always"?s.jsx(Wb,{...r,ref:t}):null});UT.displayName=ta;var IX=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=hs(ta,e.__scopeScrollArea),[l,u]=h.useState(!1);return h.useEffect(()=>{const d=i.scrollArea;let f=0;if(d){const p=()=>{window.clearTimeout(f),u(!0)},g=()=>{f=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Xu,{present:n||l,children:s.jsx(zT,{"data-state":l?"visible":"hidden",...r,ref:t})})}),$X=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=hs(ta,e.__scopeScrollArea),l=e.orientation==="horizontal",u=sm(()=>f("SCROLL_END"),100),[d,f]=kX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,i.scrollHideDelay,f]),h.useEffect(()=>{const p=i.viewport,g=l?"scrollLeft":"scrollTop";if(p){let v=p[g];const b=()=>{const w=p[g];v!==w&&(f("SCROLL"),u()),v=w};return p.addEventListener("scroll",b),()=>p.removeEventListener("scroll",b)}},[i.viewport,l,f,u]),s.jsx(Xu,{present:n||d!=="hidden",children:s.jsx(Wb,{"data-state":d==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ji(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ji(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),zT=h.forwardRef((e,t)=>{const n=hs(ta,e.__scopeScrollArea),{forceMount:r,...i}=e,[l,u]=h.useState(!1),d=e.orientation==="horizontal",f=sm(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?p:g)}},10);return Tl(n.viewport,f),Tl(n.content,f),s.jsx(Xu,{present:r||l,children:s.jsx(Wb,{"data-state":l?"visible":"hidden",...i,ref:t})})}),Wb=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=hs(ta,e.__scopeScrollArea),l=h.useRef(null),u=h.useRef(0),[d,f]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=qT(d.viewport,d.content),g={...r,sizes:d,onSizesChange:f,hasThumb:p>0&&p<1,onThumbChange:b=>l.current=b,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:b=>u.current=b};function v(b,w){return HX(b,u.current,d,w)}return n==="horizontal"?s.jsx(UX,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const b=i.viewport.scrollLeft,w=nS(b,d,i.dir);l.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollLeft=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollLeft=v(b,i.dir))}}):n==="vertical"?s.jsx(zX,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const b=i.viewport.scrollTop,w=nS(b,d);l.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollTop=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollTop=v(b))}}):null}),UX=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,l=hs(ta,e.__scopeScrollArea),[u,d]=h.useState(),f=h.useRef(null),p=po(t,f,l.onScrollbarXChange);return h.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),s.jsx(VT,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":rm(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,v)=>{if(l.viewport){const b=l.viewport.scrollLeft+g.deltaX;e.onWheelScroll(b),YT(b,v)&&g.preventDefault()}},onResize:()=>{f.current&&l.viewport&&u&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:dh(u.paddingLeft),paddingEnd:dh(u.paddingRight)}})}})}),zX=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,l=hs(ta,e.__scopeScrollArea),[u,d]=h.useState(),f=h.useRef(null),p=po(t,f,l.onScrollbarYChange);return h.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),s.jsx(VT,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":rm(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,v)=>{if(l.viewport){const b=l.viewport.scrollTop+g.deltaY;e.onWheelScroll(b),YT(b,v)&&g.preventDefault()}},onResize:()=>{f.current&&l.viewport&&u&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:dh(u.paddingTop),paddingEnd:dh(u.paddingBottom)}})}})}),[FX,FT]=kT(ta),VT=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:p,onWheelScroll:g,onResize:v,...b}=e,w=hs(ta,n),[j,N]=h.useState(null),S=po(t,k=>N(k)),_=h.useRef(null),R=h.useRef(""),E=w.viewport,M=r.content-r.viewport,C=Zi(g),D=Zi(f),O=sm(v,10);function P(k){if(_.current){const F=k.clientX-_.current.left,ie=k.clientY-_.current.top;p({x:F,y:ie})}}return h.useEffect(()=>{const k=F=>{const ie=F.target;(j==null?void 0:j.contains(ie))&&C(F,M)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[E,j,M,C]),h.useEffect(D,[r,D]),Tl(j,O),Tl(w.content,O),s.jsx(FX,{scope:n,scrollbar:j,hasThumb:i,onThumbChange:Zi(l),onThumbPointerUp:Zi(u),onThumbPositionChange:D,onThumbPointerDown:Zi(d),children:s.jsx(Gu.div,{...b,ref:S,style:{position:"absolute",...b.style},onPointerDown:Ji(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),_.current=j.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),P(k))}),onPointerMove:Ji(e.onPointerMove,P),onPointerUp:Ji(e.onPointerUp,k=>{const F=k.target;F.hasPointerCapture(k.pointerId)&&F.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=R.current,w.viewport&&(w.viewport.style.scrollBehavior=""),_.current=null})})})}),uh="ScrollAreaThumb",BT=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=FT(uh,e.__scopeScrollArea);return s.jsx(Xu,{present:n||i.hasThumb,children:s.jsx(VX,{ref:t,...r})})}),VX=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,l=hs(uh,n),u=FT(uh,n),{onThumbPositionChange:d}=u,f=po(t,v=>u.onThumbChange(v)),p=h.useRef(void 0),g=sm(()=>{p.current&&(p.current(),p.current=void 0)},100);return h.useEffect(()=>{const v=l.viewport;if(v){const b=()=>{if(g(),!p.current){const w=qX(v,d);p.current=w,d()}};return d(),v.addEventListener("scroll",b),()=>v.removeEventListener("scroll",b)}},[l.viewport,g,d]),s.jsx(Gu.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ji(e.onPointerDownCapture,v=>{const w=v.target.getBoundingClientRect(),j=v.clientX-w.left,N=v.clientY-w.top;u.onThumbPointerDown({x:j,y:N})}),onPointerUp:Ji(e.onPointerUp,u.onThumbPointerUp)})});BT.displayName=uh;var Yb="ScrollAreaCorner",HT=h.forwardRef((e,t)=>{const n=hs(Yb,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(BX,{...e,ref:t}):null});HT.displayName=Yb;var BX=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=hs(Yb,n),[l,u]=h.useState(0),[d,f]=h.useState(0),p=!!(l&&d);return Tl(i.scrollbarX,()=>{var v;const g=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(g),f(g)}),Tl(i.scrollbarY,()=>{var v;const g=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(g),u(g)}),p?s.jsx(Gu.div,{...r,ref:t,style:{width:l,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function dh(e){return e?parseInt(e,10):0}function qT(e,t){const n=e/t;return isNaN(n)?0:n}function rm(e){const t=qT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function HX(e,t,n,r="ltr"){const i=rm(n),l=i/2,u=t||l,d=i-u,f=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-d,g=n.content-n.viewport,v=r==="ltr"?[0,g]:[g*-1,0];return WT([f,p],v)(e)}function nS(e,t,n="ltr"){const r=rm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-i,u=t.content-t.viewport,d=l-r,f=n==="ltr"?[0,u]:[u*-1,0],p=PX(e,f);return WT([0,u],[0,d])(p)}function WT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function YT(e,t){return e>0&&e<t}var qX=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const l={left:e.scrollLeft,top:e.scrollTop},u=n.left!==l.left,d=n.top!==l.top;(u||d)&&t(),n=l,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function sm(e,t){const n=Zi(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Tl(e,t){const n=Zi(t);lx(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var WX=LT,YX=$T,GX=HT;function rS({className:e,children:t,...n}){return s.jsxs(WX,{"data-slot":"scroll-area",className:Me("relative",e),...n,children:[s.jsx(YX,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx(XX,{}),s.jsx(GX,{})]})}function XX({className:e,orientation:t="vertical",...n}){return s.jsx(UT,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Me("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:s.jsx(BT,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function KX(){const[e,t]=h.useState([]),[n,r]=h.useState(null),[i,l]=h.useState([]),[u,d]=h.useState(!0),[f,p]=h.useState(!1);h.useEffect(()=>{(async()=>{d(!0);const{data:w,error:j}=await re.from("abbre_models").select("*").order("name",{ascending:!0});j?(nu.error("chec du chargement des modles",{description:j.message}),t([])):t(w||[]),d(!1)})()},[]);const g=async b=>{if((n==null?void 0:n.id)===b.id)return;r(b),l([]),p(!0);const{data:w,error:j}=await re.from("test_type").select("id, name").like("name",`%${b.name}%`);j?(nu.error(`chec du chargement des types de test pour ${b.name}`,{description:j.message}),l([])):l((w||[]).filter(N=>N.name.includes(b.name))),p(!1)},v=(b,w,j)=>s.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-muted-foreground py-10",children:[s.jsx("div",{className:"mb-4 text-4xl",children:b}),s.jsx("h3",{className:"text-lg font-semibold",children:w}),s.jsx("p",{className:"text-sm",children:j})]});return s.jsxs(s.Fragment,{children:[s.jsx(xT,{richColors:!0,position:"top-right"}),s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsxs("header",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Visualiseur de Modles d'Abrviation"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Parcourez les modles et leurs types de test associs."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[s.jsxs(Ce,{className:"md:col-span-1 h-fit md:sticky md:top-8",children:[s.jsxs(Te,{children:[s.jsxs(ut,{className:"flex items-center",children:[s.jsx(Qs,{className:"mr-2 h-5 w-5 text-primary"}),"Modles"]}),s.jsx(ur,{children:"Slectionnez un modle pour voir ses dtails."})]}),s.jsx(Re,{children:u?s.jsxs("div",{className:"flex items-center justify-center py-10",children:[s.jsx(At,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2",children:"Chargement des modles..."})]}):e.length>0?s.jsx(rS,{className:"h-[calc(100vh-200px)] md:h-[60vh] pr-3",children:s.jsx("ul",{className:"space-y-2",children:e.map(b=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>g(b),className:`w-full text-left px-4 py-3 rounded-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
                            ${(n==null?void 0:n.id)===b.id?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-muted hover:bg-muted/80"}`,children:[s.jsx("span",{className:"font-medium",children:b.name}),b.description&&s.jsx("p",{className:`text-xs mt-1 ${(n==null?void 0:n.id)===b.id?"text-primary-foreground/80":"text-muted-foreground"}`,children:b.description})]})},b.id))})}):v(s.jsx(Ag,{}),"Aucun Modle Trouv","Aucun modle d'abrviation n'est disponible.")})]}),s.jsxs(Ce,{className:"md:col-span-2",children:[s.jsxs(Te,{children:[s.jsxs(ut,{className:"flex items-center",children:[s.jsx(Hr,{className:"mr-2 h-5 w-5 text-primary"}),"Types de Test Associs"]}),s.jsx(ur,{children:n?`Affichage des types de test associs  "${n.name}"`:"Slectionnez un modle dans la liste pour voir ses types de test associs."})]}),s.jsx(Re,{className:"min-h-[200px]",children:n?f?s.jsxs("div",{className:"flex items-center justify-center py-10",children:[s.jsx(At,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"ml-2",children:"Chargement des types de test..."})]}):i.length>0?s.jsx(rS,{className:"h-[calc(100vh-220px)] md:h-[60vh]",children:s.jsxs(Zs,{children:[s.jsx(Js,{children:s.jsx(Kt,{children:s.jsx(vt,{children:"Nom du Type de Test"})})}),s.jsx(ea,{children:i.map(b=>s.jsx(Kt,{children:s.jsx(Qe,{children:b.name.split(n.name).map((w,j,N)=>s.jsxs("span",{children:[w,j<N.length-1&&s.jsx(qr,{variant:"secondary",className:"mx-1 font-semibold bg-primary/10 text-primary border-primary/30",children:n.name})]},j))})},b.id))})]})}):v(s.jsx(Ag,{}),"Aucun Type de Test Associ",`Aucun type de test incluant "${n.name}" n'a t trouv.`):v(s.jsx(Ag,{}),"Aucun Modle Slectionn","Veuillez slectionner un modle dans la liste de gauche.")})]})]})]})]})}function QX(){return s.jsx(KX,{})}function ZX(){return s.jsx(s.Fragment,{children:s.jsxs(sD,{children:[s.jsx(Mt,{path:"/login",element:s.jsx(O8,{})}),s.jsx(Mt,{element:s.jsx(_8,{}),children:s.jsxs(Mt,{element:s.jsx(S8,{}),children:[s.jsx(Mt,{index:!0,element:s.jsx(H1,{})}),s.jsx(Mt,{path:"/patients",element:s.jsx(H1,{})}),s.jsx(Mt,{path:"/patients/new",element:s.jsx(nN,{})})," ",s.jsx(Mt,{path:"/patients/:patientId",element:s.jsx(vF,{})}),s.jsx(Mt,{path:"/patients/:patientId/edit",element:s.jsx(nN,{})})," ",s.jsx(Mt,{path:"/patients/:patientId/results/new",element:s.jsx(YN,{})}),s.jsx(Mt,{path:"/results/:resultId",element:s.jsx(iq,{})}),s.jsx(Mt,{path:"/results/:resultId/edit",element:s.jsx(YN,{})}),s.jsx(Mt,{path:"/doctors",element:s.jsx(xF,{})}),s.jsx(Mt,{path:"/doctors/new",element:s.jsx(XN,{})})," ",s.jsx(Mt,{path:"/doctors/:doctorId/edit",element:s.jsx(XN,{})})," ",s.jsx(Mt,{path:"/test-types",element:s.jsx($Y,{})}),s.jsx(Mt,{path:"/test-types/new",element:s.jsx(GN,{})}),s.jsx(Mt,{path:"/test-types/:testTypeId/edit",element:s.jsx(GN,{})}),s.jsx(Mt,{path:"/categories",element:s.jsx(UY,{})})," ",s.jsx(Mt,{path:"/ristournes",element:s.jsx(VG,{})}),s.jsx(Mt,{path:"/ristournes/new",element:s.jsx(eS,{})}),s.jsx(Mt,{path:"/ristournes/:ristourneId",element:s.jsx(eS,{})}),s.jsx(Mt,{path:"/settings/print-header",element:s.jsx(UG,{})}),s.jsx(Mt,{path:"/protidogramme/:resultId",element:s.jsx(WG,{})}),s.jsx(Mt,{path:"/skip-range-management",element:s.jsx(BG,{})}),s.jsx(Mt,{path:"/atbs",element:s.jsx(ZG,{})}),s.jsx(Mt,{path:"/atb/:resultId",element:s.jsx(KG,{})}),s.jsx(Mt,{path:"/ecb/:resultId",element:s.jsx(tX,{})}),s.jsx(Mt,{path:"/ecb-models",element:s.jsx(nX,{})}),s.jsx(Mt,{path:"/vhb/:resultId",element:s.jsx(aX,{})}),s.jsx(Mt,{path:"/vih/:resultId",element:s.jsx(cX,{})}),s.jsx(Mt,{path:"/anapath/:resultId",element:s.jsx(hX,{})}),s.jsx(Mt,{path:"/spermogramme/:resultId",element:s.jsx(vX,{})}),s.jsx(Mt,{path:"/abbreviations",element:s.jsx(QX,{})})]})}),s.jsx(Mt,{path:"*",element:s.jsx(bF,{})})]})})}var JX=(e,t,n,r,i,l,u,d)=>{let f=document.documentElement,p=["light","dark"];function g(w){(Array.isArray(e)?e:[e]).forEach(j=>{let N=j==="class",S=N&&l?i.map(_=>l[_]||_):i;N?(f.classList.remove(...S),f.classList.add(l&&l[w]?l[w]:w)):f.setAttribute(j,w)}),v(w)}function v(w){d&&p.includes(w)&&(f.style.colorScheme=w)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let w=localStorage.getItem(t)||n,j=u&&w==="system"?b():w;g(j)}catch{}},eK=h.createContext(void 0),tK={setTheme:e=>{},themes:[]},nK=()=>{var e;return(e=h.useContext(eK))!=null?e:tK};h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:l,value:u,themes:d,nonce:f,scriptProps:p})=>{let g=JSON.stringify([n,t,l,e,d,u,r,i]).slice(1,-1);return h.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${JX.toString()})(${g})`}})});const rK=({...e})=>{const{theme:t="system"}=nK();return s.jsx(xT,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};fA.createRoot(document.getElementById("root")).render(s.jsx(we.StrictMode,{children:s.jsx(CD,{children:s.jsxs(Fk,{children:[s.jsx(rK,{richColors:!0,position:"top-right"})," ",s.jsx(ZX,{})]})})}));export{fh as g};
