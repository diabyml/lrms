function cM(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uM(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var Dp={exports:{}},Nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function dM(){if(Mw)return Nc;Mw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var h in i)h!=="key"&&(l[h]=i[h])}else l=i;return i=l.ref,{$$typeof:e,type:s,key:u,ref:i!==void 0?i:null,props:l}}return Nc.Fragment=t,Nc.jsx=n,Nc.jsxs=n,Nc}var Ow;function fM(){return Ow||(Ow=1,Dp.exports=dM()),Dp.exports}var r=fM(),Pp={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function hM(){if(Aw)return ht;Aw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(D,F,B){this.props=D,this.context=F,this.refs=N,this.updater=B||w}S.prototype.isReactComponent={},S.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _(){}_.prototype=S.prototype;function E(D,F,B){this.props=D,this.context=F,this.refs=N,this.updater=B||w}var C=E.prototype=new _;C.constructor=E,j(C,S.prototype),C.isPureReactComponent=!0;var M=Array.isArray,R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function k(D,F,B,H,P,z){return B=z.ref,{$$typeof:e,type:D,key:F,ref:B!==void 0?B:null,props:z}}function L(D,F){return k(D.type,F,void 0,void 0,void 0,D.props)}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function Y(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(B){return F[B]})}var oe=/\/+/g;function Q(D,F){return typeof D=="object"&&D!==null&&D.key!=null?Y(""+D.key):F.toString(36)}function $(){}function ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then($,$):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function le(D,F,B,H,P){var z=typeof D;(z==="undefined"||z==="boolean")&&(D=null);var V=!1;if(D===null)V=!0;else switch(z){case"bigint":case"string":case"number":V=!0;break;case"object":switch(D.$$typeof){case e:case t:V=!0;break;case g:return V=D._init,le(V(D._payload),F,B,H,P)}}if(V)return P=P(D),V=H===""?"."+Q(D,0):H,M(P)?(B="",V!=null&&(B=V.replace(oe,"$&/")+"/"),le(P,F,B,"",function(ge){return ge})):P!=null&&(U(P)&&(P=L(P,B+(P.key==null||D&&D.key===P.key?"":(""+P.key).replace(oe,"$&/")+"/")+V)),F.push(P)),1;V=0;var K=H===""?".":H+":";if(M(D))for(var re=0;re<D.length;re++)H=D[re],z=K+Q(H,re),V+=le(H,F,B,z,P);else if(re=y(D),typeof re=="function")for(D=re.call(D),re=0;!(H=D.next()).done;)H=H.value,z=K+Q(H,re++),V+=le(H,F,B,z,P);else if(z==="object"){if(typeof D.then=="function")return le(ie(D),F,B,H,P);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return V}function I(D,F,B){if(D==null)return D;var H=[],P=0;return le(D,H,"","",function(z){return F.call(B,z,P++)}),H}function W(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(B){(D._status===0||D._status===-1)&&(D._status=1,D._result=B)},function(B){(D._status===0||D._status===-1)&&(D._status=2,D._result=B)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var q=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function J(){}return ht.Children={map:I,forEach:function(D,F,B){I(D,function(){F.apply(this,arguments)},B)},count:function(D){var F=0;return I(D,function(){F++}),F},toArray:function(D){return I(D,function(F){return F})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ht.Component=S,ht.Fragment=n,ht.Profiler=i,ht.PureComponent=E,ht.StrictMode=s,ht.Suspense=f,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ht.act=function(){throw Error("act(...) is not supported in production builds of React.")},ht.cache=function(D){return function(){return D.apply(null,arguments)}},ht.cloneElement=function(D,F,B){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var H=j({},D.props),P=D.key,z=void 0;if(F!=null)for(V in F.ref!==void 0&&(z=void 0),F.key!==void 0&&(P=""+F.key),F)!A.call(F,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&F.ref===void 0||(H[V]=F[V]);var V=arguments.length-2;if(V===1)H.children=B;else if(1<V){for(var K=Array(V),re=0;re<V;re++)K[re]=arguments[re+2];H.children=K}return k(D.type,P,void 0,void 0,z,H)},ht.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},ht.createElement=function(D,F,B){var H,P={},z=null;if(F!=null)for(H in F.key!==void 0&&(z=""+F.key),F)A.call(F,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(P[H]=F[H]);var V=arguments.length-2;if(V===1)P.children=B;else if(1<V){for(var K=Array(V),re=0;re<V;re++)K[re]=arguments[re+2];P.children=K}if(D&&D.defaultProps)for(H in V=D.defaultProps,V)P[H]===void 0&&(P[H]=V[H]);return k(D,z,void 0,void 0,null,P)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(D){return{$$typeof:h,render:D}},ht.isValidElement=U,ht.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:W}},ht.memo=function(D,F){return{$$typeof:m,type:D,compare:F===void 0?null:F}},ht.startTransition=function(D){var F=R.T,B={};R.T=B;try{var H=D(),P=R.S;P!==null&&P(B,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(J,q)}catch(z){q(z)}finally{R.T=F}},ht.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ht.use=function(D){return R.H.use(D)},ht.useActionState=function(D,F,B){return R.H.useActionState(D,F,B)},ht.useCallback=function(D,F){return R.H.useCallback(D,F)},ht.useContext=function(D){return R.H.useContext(D)},ht.useDebugValue=function(){},ht.useDeferredValue=function(D,F){return R.H.useDeferredValue(D,F)},ht.useEffect=function(D,F){return R.H.useEffect(D,F)},ht.useId=function(){return R.H.useId()},ht.useImperativeHandle=function(D,F,B){return R.H.useImperativeHandle(D,F,B)},ht.useInsertionEffect=function(D,F){return R.H.useInsertionEffect(D,F)},ht.useLayoutEffect=function(D,F){return R.H.useLayoutEffect(D,F)},ht.useMemo=function(D,F){return R.H.useMemo(D,F)},ht.useOptimistic=function(D,F){return R.H.useOptimistic(D,F)},ht.useReducer=function(D,F,B){return R.H.useReducer(D,F,B)},ht.useRef=function(D){return R.H.useRef(D)},ht.useState=function(D){return R.H.useState(D)},ht.useSyncExternalStore=function(D,F,B){return R.H.useSyncExternalStore(D,F,B)},ht.useTransition=function(){return R.H.useTransition()},ht.version="19.0.0",ht}var kw;function jv(){return kw||(kw=1,Pp.exports=hM()),Pp.exports}var p=jv();const we=Ff(p),kg=cM({__proto__:null,default:we},[p]);var Lp={exports:{}},Sc={},Ip={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function mM(){return Dw||(Dw=1,function(e){function t(I,W){var q=I.length;I.push(W);e:for(;0<q;){var J=q-1>>>1,D=I[J];if(0<i(D,W))I[J]=W,I[q]=D,q=J;else break e}}function n(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var W=I[0],q=I.pop();if(q!==W){I[0]=q;e:for(var J=0,D=I.length,F=D>>>1;J<F;){var B=2*(J+1)-1,H=I[B],P=B+1,z=I[P];if(0>i(H,q))P<D&&0>i(z,H)?(I[J]=z,I[P]=q,J=P):(I[J]=H,I[B]=q,J=B);else if(P<D&&0>i(z,q))I[J]=z,I[P]=q,J=P;else break e}}return W}function i(I,W){var q=I.sortIndex-W.sortIndex;return q!==0?q:I.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,x=null,y=3,w=!1,j=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(I){for(var W=n(m);W!==null;){if(W.callback===null)s(m);else if(W.startTime<=I)s(m),W.sortIndex=W.expirationTime,t(f,W);else break;W=n(m)}}function M(I){if(N=!1,C(I),!j)if(n(f)!==null)j=!0,ie();else{var W=n(m);W!==null&&le(M,W.startTime-I)}}var R=!1,A=-1,k=5,L=-1;function U(){return!(e.unstable_now()-L<k)}function Y(){if(R){var I=e.unstable_now();L=I;var W=!0;try{e:{j=!1,N&&(N=!1,_(A),A=-1),w=!0;var q=y;try{t:{for(C(I),x=n(f);x!==null&&!(x.expirationTime>I&&U());){var J=x.callback;if(typeof J=="function"){x.callback=null,y=x.priorityLevel;var D=J(x.expirationTime<=I);if(I=e.unstable_now(),typeof D=="function"){x.callback=D,C(I),W=!0;break t}x===n(f)&&s(f),C(I)}else s(f);x=n(f)}if(x!==null)W=!0;else{var F=n(m);F!==null&&le(M,F.startTime-I),W=!1}}break e}finally{x=null,y=q,w=!1}W=void 0}}finally{W?oe():R=!1}}}var oe;if(typeof E=="function")oe=function(){E(Y)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,$=Q.port2;Q.port1.onmessage=Y,oe=function(){$.postMessage(null)}}else oe=function(){S(Y,0)};function ie(){R||(R=!0,oe())}function le(I,W){A=S(function(){I(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,ie())},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(I){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var q=y;y=W;try{return I()}finally{y=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,W){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=y;y=I;try{return W()}finally{y=q}},e.unstable_scheduleCallback=function(I,W,q){var J=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?J+q:J):q=J,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,I={id:g++,callback:W,priorityLevel:I,startTime:q,expirationTime:D,sortIndex:-1},q>J?(I.sortIndex=q,t(m,I),n(f)===null&&I===n(m)&&(N?(_(A),A=-1):N=!0,le(M,q-J))):(I.sortIndex=D,t(f,I),j||w||(j=!0,ie())),I},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(I){var W=y;return function(){var q=y;y=W;try{return I.apply(this,arguments)}finally{y=q}}}}($p)),$p}var Pw;function pM(){return Pw||(Pw=1,Ip.exports=mM()),Ip.exports}var zp={exports:{}},or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function gM(){if(Lw)return or;Lw=1;var e=jv();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,or.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,g)},or.flushSync=function(f){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=m,s.p=g,s.d.f()}},or.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},or.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},or.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=h(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:w}):g==="script"&&s.d.X(f,{crossOrigin:x,integrity:y,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},or.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},or.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=h(g,m.crossOrigin);s.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},or.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},or.requestFormReset=function(f){s.d.r(f)},or.unstable_batchedUpdates=function(f,m){return f(m)},or.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},or.useFormStatus=function(){return u.H.useHostTransitionStatus()},or.version="19.0.0",or}var Iw;function rN(){if(Iw)return zp.exports;Iw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zp.exports=gM(),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function vM(){if($w)return Sc;$w=1;var e=pM(),t=jv(),n=rN();function s(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function A(a){return a===null||typeof a!="object"?null:(a=R&&a[R]||a["@@iterator"],typeof a=="function"?a:null)}var k=Symbol.for("react.client.reference");function L(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===k?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f:return"Fragment";case h:return"Portal";case g:return"Profiler";case m:return"StrictMode";case N:return"Suspense";case S:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case w:return(a.displayName||"Context")+".Provider";case y:return(a._context.displayName||"Context")+".Consumer";case j:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return o=a.displayName||null,o!==null?o:L(a.type)||"Memo";case E:o=a._payload,a=a._init;try{return L(a(o))}catch{}}return null}var U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=Object.assign,oe,Q;function $(a){if(oe===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);oe=o&&o[1]||"",Q=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+a+Q}var ie=!1;function le(a,o){if(!a||ie)return"";ie=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(he){var ue=he}Reflect.construct(a,[],je)}else{try{je.call()}catch(he){ue=he}a.call(je.prototype)}}else{try{throw Error()}catch(he){ue=he}(je=a())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(he){if(he&&ue&&typeof he.stack=="string")return[he.stack,ue.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),T=b[0],O=b[1];if(T&&O){var G=T.split(`
`),ee=O.split(`
`);for(v=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(d===G.length||v===ee.length)for(d=G.length-1,v=ee.length-1;1<=d&&0<=v&&G[d]!==ee[v];)v--;for(;1<=d&&0<=v;d--,v--)if(G[d]!==ee[v]){if(d!==1||v!==1)do if(d--,v--,0>v||G[d]!==ee[v]){var pe=`
`+G[d].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=d&&0<=v);break}}}finally{ie=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?$(c):""}function I(a){switch(a.tag){case 26:case 27:case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 15:return a=le(a.type,!1),a;case 11:return a=le(a.type.render,!1),a;case 1:return a=le(a.type,!0),a;default:return""}}function W(a){try{var o="";do o+=I(a),a=a.return;while(a);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function q(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function J(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function D(a){if(q(a)!==a)throw Error(s(188))}function F(a){var o=a.alternate;if(!o){if(o=q(a),o===null)throw Error(s(188));return o!==a?null:a}for(var c=a,d=o;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return D(v),a;if(b===d)return D(v),o;b=b.sibling}throw Error(s(188))}if(c.return!==d.return)c=v,d=b;else{for(var T=!1,O=v.child;O;){if(O===c){T=!0,c=v,d=b;break}if(O===d){T=!0,d=v,c=b;break}O=O.sibling}if(!T){for(O=b.child;O;){if(O===c){T=!0,c=b,d=v;break}if(O===d){T=!0,d=b,c=v;break}O=O.sibling}if(!T)throw Error(s(189))}}if(c.alternate!==d)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?a:o}function B(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=B(a),o!==null)return o;a=a.sibling}return null}var H=Array.isArray,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},V=[],K=-1;function re(a){return{current:a}}function ge(a){0>K||(a.current=V[K],V[K]=null,K--)}function de(a,o){K++,V[K]=a.current,a.current=o}var Ne=re(null),Oe=re(null),ot=re(null),rt=re(null);function me(a,o){switch(de(ot,o),de(Oe,a),de(Ne,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?aw(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=aw(a),o=iw(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ge(Ne),de(Ne,o)}function ve(){ge(Ne),ge(Oe),ge(ot)}function Pe(a){a.memoizedState!==null&&de(rt,a);var o=Ne.current,c=iw(o,a.type);o!==c&&(de(Oe,a),de(Ne,c))}function ye(a){Oe.current===a&&(ge(Ne),ge(Oe)),rt.current===a&&(ge(rt),xc._currentValue=z)}var Se=Object.prototype.hasOwnProperty,De=e.unstable_scheduleCallback,Qe=e.unstable_cancelCallback,Ve=e.unstable_shouldYield,St=e.unstable_requestPaint,Rt=e.unstable_now,Qt=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,it=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,Bn=e.unstable_LowPriority,In=e.unstable_IdlePriority,wn=e.log,pn=e.unstable_setDisableYieldValue,ln=null,Zt=null;function ur(a){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ln,a,void 0,(a.current.flags&128)===128)}catch{}}function $n(a){if(typeof wn=="function"&&pn(a),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ln,a)}catch{}}var jn=Math.clz32?Math.clz32:Xs,Ar=Math.log,Tn=Math.LN2;function Xs(a){return a>>>=0,a===0?32:31-(Ar(a)/Tn|0)|0}var Yr=128,tn=4194304;function ut(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function te(a,o){var c=a.pendingLanes;if(c===0)return 0;var d=0,v=a.suspendedLanes,b=a.pingedLanes,T=a.warmLanes;a=a.finishedLanes!==0;var O=c&134217727;return O!==0?(c=O&~v,c!==0?d=ut(c):(b&=O,b!==0?d=ut(b):a||(T=O&~T,T!==0&&(d=ut(T))))):(O=c&~v,O!==0?d=ut(O):b!==0?d=ut(b):a||(T=c&~T,T!==0&&(d=ut(T)))),d===0?0:o!==0&&o!==d&&(o&v)===0&&(v=d&-d,T=o&-o,v>=T||v===32&&(T&4194176)!==0)?o:d}function xe(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function _e(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(){var a=Yr;return Yr<<=1,(Yr&4194176)===0&&(Yr=128),a}function Be(){var a=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),a}function dt(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function We(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function gt(a,o,c,d,v,b){var T=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var O=a.entanglements,G=a.expirationTimes,ee=a.hiddenUpdates;for(c=T&~c;0<c;){var pe=31-jn(c),je=1<<pe;O[pe]=0,G[pe]=-1;var ue=ee[pe];if(ue!==null)for(ee[pe]=null,pe=0;pe<ue.length;pe++){var he=ue[pe];he!==null&&(he.lane&=-536870913)}c&=~je}d!==0&&ft(a,d,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(T&~o))}function ft(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-jn(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|c&4194218}function bt(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var d=31-jn(c),v=1<<d;v&o|a[d]&o&&(a[d]|=o),c&=~v}}function It(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Bt(){var a=P.p;return a!==0?a:(a=window.event,a===void 0?32:Sw(a.type))}function sn(a,o){var c=P.p;try{return P.p=a,o()}finally{P.p=c}}var Mn=Math.random().toString(36).slice(2),gn="__reactFiber$"+Mn,On="__reactProps$"+Mn,fe="__reactContainer$"+Mn,Ee="__reactEvents$"+Mn,Le="__reactListeners$"+Mn,Ot="__reactHandles$"+Mn,vn="__reactResources$"+Mn,Zn="__reactMarker$"+Mn;function jr(a){delete a[gn],delete a[On],delete a[Ee],delete a[Le],delete a[Ot]}function Hn(a){var o=a[gn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[fe]||c[gn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=cw(a);a!==null;){if(c=a[gn])return c;a=cw(a)}return o}a=c,c=a.parentNode}return null}function $t(a){if(a=a[gn]||a[fe]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Aa(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(s(33))}function Ks(a){var o=a[vn];return o||(o=a[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function An(a){a[Zn]=!0}var sb=new Set,ab={};function yi(a,o){so(a,o),so(a+"Capture",o)}function so(a,o){for(ab[a]=o,a=0;a<o.length;a++)sb.add(o[a])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ib={},ob={};function rR(a){return Se.call(ob,a)?!0:Se.call(ib,a)?!1:nR.test(a)?ob[a]=!0:(ib[a]=!0,!1)}function Ou(a,o,c){if(rR(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Au(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function Zs(a,o,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+d)}}function Gr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function lb(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function sR(a){var o=lb(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),d=""+a[o];if(!a.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,b=c.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(T){d=""+T,b.call(this,T)}}),Object.defineProperty(a,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ku(a){a._valueTracker||(a._valueTracker=sR(a))}function cb(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return a&&(d=lb(a)?a.checked?"true":"false":a.value),a=d,a!==c?(o.setValue(a),!0):!1}function Du(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var aR=/[\n"\\]/g;function Wr(a){return a.replace(aR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ah(a,o,c,d,v,b,T,O){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),o!=null?T==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Gr(o)):a.value!==""+Gr(o)&&(a.value=""+Gr(o)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),o!=null?kh(a,T,Gr(o)):c!=null?kh(a,T,Gr(c)):d!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+Gr(O):a.removeAttribute("name")}function ub(a,o,c,d,v,b,T,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;c=c!=null?""+Gr(c):"",o=o!=null?""+Gr(o):c,O||o===a.value||(a.value=o),a.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=O?a.checked:!!d,a.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T)}function kh(a,o,c){o==="number"&&Du(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ao(a,o,c,d){if(a=a.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=o.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&d&&(a[c].defaultSelected=!0)}else{for(c=""+Gr(c),o=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function db(a,o,c){if(o!=null&&(o=""+Gr(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Gr(c):""}function fb(a,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(s(92));if(H(d)){if(1<d.length)throw Error(s(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Gr(o),a.defaultValue=c,d=a.textContent,d===c&&d!==""&&d!==null&&(a.value=d)}function io(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var iR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hb(a,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,c):typeof c!="number"||c===0||iR.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function mb(a,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(a=a.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&c[v]!==d&&hb(a,v,d)}else for(var b in o)o.hasOwnProperty(b)&&hb(a,b,o[b])}function Dh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pu(a){return lR.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ph=null;function Lh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var oo=null,lo=null;function pb(a){var o=$t(a);if(o&&(a=o.stateNode)){var c=a[On]||null;e:switch(a=o.stateNode,o.type){case"input":if(Ah(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Wr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==a&&d.form===a.form){var v=d[On]||null;if(!v)throw Error(s(90));Ah(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===a.form&&cb(d)}break e;case"textarea":db(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ao(a,!!c.multiple,o,!1)}}}var Ih=!1;function gb(a,o,c){if(Ih)return a(o,c);Ih=!0;try{var d=a(o);return d}finally{if(Ih=!1,(oo!==null||lo!==null)&&(xd(),oo&&(o=oo,a=lo,lo=oo=null,pb(o),a)))for(o=0;o<a.length;o++)pb(a[o])}}function Al(a,o){var c=a.stateNode;if(c===null)return null;var d=c[On]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var $h=!1;if(Qs)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){$h=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{$h=!1}var ka=null,zh=null,Lu=null;function vb(){if(Lu)return Lu;var a,o=zh,c=o.length,d,v="value"in ka?ka.value:ka.textContent,b=v.length;for(a=0;a<c&&o[a]===v[a];a++);var T=c-a;for(d=1;d<=T&&o[c-d]===v[b-d];d++);return Lu=v.slice(a,1<d?1-d:void 0)}function Iu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function $u(){return!0}function xb(){return!1}function Nr(a){function o(c,d,v,b,T){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(c=a[O],this[O]=c?c(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?$u:xb,this.isPropagationStopped=xb,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),o}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=Nr(wi),Dl=Y({},wi,{view:0,detail:0}),cR=Nr(Dl),Uh,Fh,Pl,Uu=Y({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pl&&(Pl&&a.type==="mousemove"?(Uh=a.screenX-Pl.screenX,Fh=a.screenY-Pl.screenY):Fh=Uh=0,Pl=a),Uh)},movementY:function(a){return"movementY"in a?a.movementY:Fh}}),bb=Nr(Uu),uR=Y({},Uu,{dataTransfer:0}),dR=Nr(uR),fR=Y({},Dl,{relatedTarget:0}),Bh=Nr(fR),hR=Y({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),mR=Nr(hR),pR=Y({},wi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gR=Nr(pR),vR=Y({},wi,{data:0}),yb=Nr(vR),xR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wR(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=yR[a])?!!o[a]:!1}function Hh(){return wR}var jR=Y({},Dl,{key:function(a){if(a.key){var o=xR[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Iu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bR[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hh,charCode:function(a){return a.type==="keypress"?Iu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Iu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),NR=Nr(jR),SR=Y({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wb=Nr(SR),_R=Y({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hh}),ER=Nr(_R),CR=Y({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),RR=Nr(CR),TR=Y({},Uu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),MR=Nr(TR),OR=Y({},wi,{newState:0,oldState:0}),AR=Nr(OR),kR=[9,13,27,32],Vh=Qs&&"CompositionEvent"in window,Ll=null;Qs&&"documentMode"in document&&(Ll=document.documentMode);var DR=Qs&&"TextEvent"in window&&!Ll,jb=Qs&&(!Vh||Ll&&8<Ll&&11>=Ll),Nb=" ",Sb=!1;function _b(a,o){switch(a){case"keyup":return kR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var co=!1;function PR(a,o){switch(a){case"compositionend":return Eb(o);case"keypress":return o.which!==32?null:(Sb=!0,Nb);case"textInput":return a=o.data,a===Nb&&Sb?null:a;default:return null}}function LR(a,o){if(co)return a==="compositionend"||!Vh&&_b(a,o)?(a=vb(),Lu=zh=ka=null,co=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return jb&&o.locale!=="ko"?null:o.data;default:return null}}var IR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!IR[a.type]:o==="textarea"}function Rb(a,o,c,d){oo?lo?lo.push(d):lo=[d]:oo=d,o=Nd(o,"onChange"),0<o.length&&(c=new zu("onChange","change",null,c,d),a.push({event:c,listeners:o}))}var Il=null,$l=null;function $R(a){ew(a,0)}function Fu(a){var o=Aa(a);if(cb(o))return a}function Tb(a,o){if(a==="change")return o}var Mb=!1;if(Qs){var qh;if(Qs){var Yh="oninput"in document;if(!Yh){var Ob=document.createElement("div");Ob.setAttribute("oninput","return;"),Yh=typeof Ob.oninput=="function"}qh=Yh}else qh=!1;Mb=qh&&(!document.documentMode||9<document.documentMode)}function Ab(){Il&&(Il.detachEvent("onpropertychange",kb),$l=Il=null)}function kb(a){if(a.propertyName==="value"&&Fu($l)){var o=[];Rb(o,$l,a,Lh(a)),gb($R,o)}}function zR(a,o,c){a==="focusin"?(Ab(),Il=o,$l=c,Il.attachEvent("onpropertychange",kb)):a==="focusout"&&Ab()}function UR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fu($l)}function FR(a,o){if(a==="click")return Fu(o)}function BR(a,o){if(a==="input"||a==="change")return Fu(o)}function HR(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var kr=typeof Object.is=="function"?Object.is:HR;function zl(a,o){if(kr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!Se.call(o,v)||!kr(a[v],o[v]))return!1}return!0}function Db(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Pb(a,o){var c=Db(a);a=0;for(var d;c;){if(c.nodeType===3){if(d=a+c.textContent.length,a<=o&&d>=o)return{node:c,offset:o-a};a=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Db(c)}}function Lb(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Lb(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Ib(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Du(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Du(a.document)}return o}function Gh(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function VR(a,o){var c=Ib(o);o=a.focusedElem;var d=a.selectionRange;if(c!==o&&o&&o.ownerDocument&&Lb(o.ownerDocument.documentElement,o)){if(d!==null&&Gh(o)){if(a=d.start,c=d.end,c===void 0&&(c=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(c,o.value.length);else if(c=(a=o.ownerDocument||document)&&a.defaultView||window,c.getSelection){c=c.getSelection();var v=o.textContent.length,b=Math.min(d.start,v);d=d.end===void 0?b:Math.min(d.end,v),!c.extend&&b>d&&(v=d,d=b,b=v),v=Pb(o,b);var T=Pb(o,d);v&&T&&(c.rangeCount!==1||c.anchorNode!==v.node||c.anchorOffset!==v.offset||c.focusNode!==T.node||c.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),c.removeAllRanges(),b>d?(c.addRange(a),c.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),c.addRange(a)))}}for(a=[],c=o;c=c.parentNode;)c.nodeType===1&&a.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)c=a[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var qR=Qs&&"documentMode"in document&&11>=document.documentMode,uo=null,Wh=null,Ul=null,Xh=!1;function $b(a,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xh||uo==null||uo!==Du(d)||(d=uo,"selectionStart"in d&&Gh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ul&&zl(Ul,d)||(Ul=d,d=Nd(Wh,"onSelect"),0<d.length&&(o=new zu("onSelect","select",null,o,c),a.push({event:o,listeners:d}),o.target=uo)))}function ji(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var fo={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},Kh={},zb={};Qs&&(zb=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Ni(a){if(Kh[a])return Kh[a];if(!fo[a])return a;var o=fo[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in zb)return Kh[a]=o[c];return a}var Ub=Ni("animationend"),Fb=Ni("animationiteration"),Bb=Ni("animationstart"),YR=Ni("transitionrun"),GR=Ni("transitionstart"),WR=Ni("transitioncancel"),Hb=Ni("transitionend"),Vb=new Map,qb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fs(a,o){Vb.set(a,o),yi(o,[a])}var Xr=[],ho=0,Qh=0;function Bu(){for(var a=ho,o=Qh=ho=0;o<a;){var c=Xr[o];Xr[o++]=null;var d=Xr[o];Xr[o++]=null;var v=Xr[o];Xr[o++]=null;var b=Xr[o];if(Xr[o++]=null,d!==null&&v!==null){var T=d.pending;T===null?v.next=v:(v.next=T.next,T.next=v),d.pending=v}b!==0&&Yb(c,v,b)}}function Hu(a,o,c,d){Xr[ho++]=a,Xr[ho++]=o,Xr[ho++]=c,Xr[ho++]=d,Qh|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Zh(a,o,c,d){return Hu(a,o,c,d),Vu(a)}function Da(a,o){return Hu(a,null,null,o),Vu(a)}function Yb(a,o,c){a.lanes|=c;var d=a.alternate;d!==null&&(d.lanes|=c);for(var v=!1,b=a.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;v&&o!==null&&a.tag===3&&(b=a.stateNode,v=31-jn(c),b=b.hiddenUpdates,a=b[v],a===null?b[v]=[o]:a.push(o),o.lane=c|536870912)}function Vu(a){if(50<dc)throw dc=0,sp=null,Error(s(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var mo={},Gb=new WeakMap;function Kr(a,o){if(typeof a=="object"&&a!==null){var c=Gb.get(a);return c!==void 0?c:(o={value:a,source:o,stack:W(o)},Gb.set(a,o),o)}return{value:a,source:o,stack:W(o)}}var po=[],go=0,qu=null,Yu=0,Qr=[],Zr=0,Si=null,Js=1,ea="";function _i(a,o){po[go++]=Yu,po[go++]=qu,qu=a,Yu=o}function Wb(a,o,c){Qr[Zr++]=Js,Qr[Zr++]=ea,Qr[Zr++]=Si,Si=a;var d=Js;a=ea;var v=32-jn(d)-1;d&=~(1<<v),c+=1;var b=32-jn(o)+v;if(30<b){var T=v-v%5;b=(d&(1<<T)-1).toString(32),d>>=T,v-=T,Js=1<<32-jn(o)+v|c<<v|d,ea=b+a}else Js=1<<b|c<<v|d,ea=a}function Jh(a){a.return!==null&&(_i(a,1),Wb(a,1,0))}function em(a){for(;a===qu;)qu=po[--go],po[go]=null,Yu=po[--go],po[go]=null;for(;a===Si;)Si=Qr[--Zr],Qr[Zr]=null,ea=Qr[--Zr],Qr[Zr]=null,Js=Qr[--Zr],Qr[Zr]=null}var dr=null,Jn=null,Ht=!1,hs=null,Rs=!1,tm=Error(s(519));function Ei(a){var o=Error(s(418,""));throw Hl(Kr(o,a)),tm}function Xb(a){var o=a.stateNode,c=a.type,d=a.memoizedProps;switch(o[gn]=a,o[On]=d,c){case"dialog":Tt("cancel",o),Tt("close",o);break;case"iframe":case"object":case"embed":Tt("load",o);break;case"video":case"audio":for(c=0;c<hc.length;c++)Tt(hc[c],o);break;case"source":Tt("error",o);break;case"img":case"image":case"link":Tt("error",o),Tt("load",o);break;case"details":Tt("toggle",o);break;case"input":Tt("invalid",o),ub(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ku(o);break;case"select":Tt("invalid",o);break;case"textarea":Tt("invalid",o),fb(o,d.value,d.defaultValue,d.children),ku(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||sw(o.textContent,c)?(d.popover!=null&&(Tt("beforetoggle",o),Tt("toggle",o)),d.onScroll!=null&&Tt("scroll",o),d.onScrollEnd!=null&&Tt("scrollend",o),d.onClick!=null&&(o.onclick=Sd),o=!0):o=!1,o||Ei(a)}function Kb(a){for(dr=a.return;dr;)switch(dr.tag){case 3:case 27:Rs=!0;return;case 5:case 13:Rs=!1;return;default:dr=dr.return}}function Fl(a){if(a!==dr)return!1;if(!Ht)return Kb(a),Ht=!0,!1;var o=!1,c;if((c=a.tag!==3&&a.tag!==27)&&((c=a.tag===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||wp(a.type,a.memoizedProps)),c=!c),c&&(o=!0),o&&Jn&&Ei(a),Kb(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(o===0){Jn=ps(a.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;a=a.nextSibling}Jn=null}}else Jn=dr?ps(a.stateNode.nextSibling):null;return!0}function Bl(){Jn=dr=null,Ht=!1}function Hl(a){hs===null?hs=[a]:hs.push(a)}var Vl=Error(s(460)),Qb=Error(s(474)),nm={then:function(){}};function Zb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Gu(){}function Jb(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Gu,Gu),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Vl?Error(s(483)):a;default:if(typeof o.status=="string")o.then(Gu,Gu);else{if(a=cn,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Vl?Error(s(483)):a}throw ql=o,Vl}}var ql=null;function ey(){if(ql===null)throw Error(s(459));var a=ql;return ql=null,a}var vo=null,Yl=0;function Wu(a){var o=Yl;return Yl+=1,vo===null&&(vo=[]),Jb(vo,a,o)}function Gl(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Xu(a,o){throw o.$$typeof===l?Error(s(525)):(a=Object.prototype.toString.call(o),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ty(a){var o=a._init;return o(a._payload)}function ny(a){function o(ae,Z){if(a){var ce=ae.deletions;ce===null?(ae.deletions=[Z],ae.flags|=16):ce.push(Z)}}function c(ae,Z){if(!a)return null;for(;Z!==null;)o(ae,Z),Z=Z.sibling;return null}function d(ae){for(var Z=new Map;ae!==null;)ae.key!==null?Z.set(ae.key,ae):Z.set(ae.index,ae),ae=ae.sibling;return Z}function v(ae,Z){return ae=Ya(ae,Z),ae.index=0,ae.sibling=null,ae}function b(ae,Z,ce){return ae.index=ce,a?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<Z?(ae.flags|=33554434,Z):ce):(ae.flags|=33554434,Z)):(ae.flags|=1048576,Z)}function T(ae){return a&&ae.alternate===null&&(ae.flags|=33554434),ae}function O(ae,Z,ce,be){return Z===null||Z.tag!==6?(Z=Km(ce,ae.mode,be),Z.return=ae,Z):(Z=v(Z,ce),Z.return=ae,Z)}function G(ae,Z,ce,be){var $e=ce.type;return $e===f?pe(ae,Z,ce.props.children,be,ce.key):Z!==null&&(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===E&&ty($e)===Z.type)?(Z=v(Z,ce.props),Gl(Z,ce),Z.return=ae,Z):(Z=hd(ce.type,ce.key,ce.props,null,ae.mode,be),Gl(Z,ce),Z.return=ae,Z)}function ee(ae,Z,ce,be){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=Qm(ce,ae.mode,be),Z.return=ae,Z):(Z=v(Z,ce.children||[]),Z.return=ae,Z)}function pe(ae,Z,ce,be,$e){return Z===null||Z.tag!==7?(Z=Li(ce,ae.mode,be,$e),Z.return=ae,Z):(Z=v(Z,ce),Z.return=ae,Z)}function je(ae,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Km(""+Z,ae.mode,ce),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case u:return ce=hd(Z.type,Z.key,Z.props,null,ae.mode,ce),Gl(ce,Z),ce.return=ae,ce;case h:return Z=Qm(Z,ae.mode,ce),Z.return=ae,Z;case E:var be=Z._init;return Z=be(Z._payload),je(ae,Z,ce)}if(H(Z)||A(Z))return Z=Li(Z,ae.mode,ce,null),Z.return=ae,Z;if(typeof Z.then=="function")return je(ae,Wu(Z),ce);if(Z.$$typeof===w)return je(ae,ud(ae,Z),ce);Xu(ae,Z)}return null}function ue(ae,Z,ce,be){var $e=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $e!==null?null:O(ae,Z,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:return ce.key===$e?G(ae,Z,ce,be):null;case h:return ce.key===$e?ee(ae,Z,ce,be):null;case E:return $e=ce._init,ce=$e(ce._payload),ue(ae,Z,ce,be)}if(H(ce)||A(ce))return $e!==null?null:pe(ae,Z,ce,be,null);if(typeof ce.then=="function")return ue(ae,Z,Wu(ce),be);if(ce.$$typeof===w)return ue(ae,Z,ud(ae,ce),be);Xu(ae,ce)}return null}function he(ae,Z,ce,be,$e){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ae=ae.get(ce)||null,O(Z,ae,""+be,$e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case u:return ae=ae.get(be.key===null?ce:be.key)||null,G(Z,ae,be,$e);case h:return ae=ae.get(be.key===null?ce:be.key)||null,ee(Z,ae,be,$e);case E:var yt=be._init;return be=yt(be._payload),he(ae,Z,ce,be,$e)}if(H(be)||A(be))return ae=ae.get(ce)||null,pe(Z,ae,be,$e,null);if(typeof be.then=="function")return he(ae,Z,ce,Wu(be),$e);if(be.$$typeof===w)return he(ae,Z,ce,ud(Z,be),$e);Xu(Z,be)}return null}function He(ae,Z,ce,be){for(var $e=null,yt=null,qe=Z,Ze=Z=0,Yn=null;qe!==null&&Ze<ce.length;Ze++){qe.index>Ze?(Yn=qe,qe=null):Yn=qe.sibling;var Vt=ue(ae,qe,ce[Ze],be);if(Vt===null){qe===null&&(qe=Yn);break}a&&qe&&Vt.alternate===null&&o(ae,qe),Z=b(Vt,Z,Ze),yt===null?$e=Vt:yt.sibling=Vt,yt=Vt,qe=Yn}if(Ze===ce.length)return c(ae,qe),Ht&&_i(ae,Ze),$e;if(qe===null){for(;Ze<ce.length;Ze++)qe=je(ae,ce[Ze],be),qe!==null&&(Z=b(qe,Z,Ze),yt===null?$e=qe:yt.sibling=qe,yt=qe);return Ht&&_i(ae,Ze),$e}for(qe=d(qe);Ze<ce.length;Ze++)Yn=he(qe,ae,Ze,ce[Ze],be),Yn!==null&&(a&&Yn.alternate!==null&&qe.delete(Yn.key===null?Ze:Yn.key),Z=b(Yn,Z,Ze),yt===null?$e=Yn:yt.sibling=Yn,yt=Yn);return a&&qe.forEach(function(Ja){return o(ae,Ja)}),Ht&&_i(ae,Ze),$e}function lt(ae,Z,ce,be){if(ce==null)throw Error(s(151));for(var $e=null,yt=null,qe=Z,Ze=Z=0,Yn=null,Vt=ce.next();qe!==null&&!Vt.done;Ze++,Vt=ce.next()){qe.index>Ze?(Yn=qe,qe=null):Yn=qe.sibling;var Ja=ue(ae,qe,Vt.value,be);if(Ja===null){qe===null&&(qe=Yn);break}a&&qe&&Ja.alternate===null&&o(ae,qe),Z=b(Ja,Z,Ze),yt===null?$e=Ja:yt.sibling=Ja,yt=Ja,qe=Yn}if(Vt.done)return c(ae,qe),Ht&&_i(ae,Ze),$e;if(qe===null){for(;!Vt.done;Ze++,Vt=ce.next())Vt=je(ae,Vt.value,be),Vt!==null&&(Z=b(Vt,Z,Ze),yt===null?$e=Vt:yt.sibling=Vt,yt=Vt);return Ht&&_i(ae,Ze),$e}for(qe=d(qe);!Vt.done;Ze++,Vt=ce.next())Vt=he(qe,ae,Ze,Vt.value,be),Vt!==null&&(a&&Vt.alternate!==null&&qe.delete(Vt.key===null?Ze:Vt.key),Z=b(Vt,Z,Ze),yt===null?$e=Vt:yt.sibling=Vt,yt=Vt);return a&&qe.forEach(function(lM){return o(ae,lM)}),Ht&&_i(ae,Ze),$e}function _n(ae,Z,ce,be){if(typeof ce=="object"&&ce!==null&&ce.type===f&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:e:{for(var $e=ce.key;Z!==null;){if(Z.key===$e){if($e=ce.type,$e===f){if(Z.tag===7){c(ae,Z.sibling),be=v(Z,ce.props.children),be.return=ae,ae=be;break e}}else if(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===E&&ty($e)===Z.type){c(ae,Z.sibling),be=v(Z,ce.props),Gl(be,ce),be.return=ae,ae=be;break e}c(ae,Z);break}else o(ae,Z);Z=Z.sibling}ce.type===f?(be=Li(ce.props.children,ae.mode,be,ce.key),be.return=ae,ae=be):(be=hd(ce.type,ce.key,ce.props,null,ae.mode,be),Gl(be,ce),be.return=ae,ae=be)}return T(ae);case h:e:{for($e=ce.key;Z!==null;){if(Z.key===$e)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){c(ae,Z.sibling),be=v(Z,ce.children||[]),be.return=ae,ae=be;break e}else{c(ae,Z);break}else o(ae,Z);Z=Z.sibling}be=Qm(ce,ae.mode,be),be.return=ae,ae=be}return T(ae);case E:return $e=ce._init,ce=$e(ce._payload),_n(ae,Z,ce,be)}if(H(ce))return He(ae,Z,ce,be);if(A(ce)){if($e=A(ce),typeof $e!="function")throw Error(s(150));return ce=$e.call(ce),lt(ae,Z,ce,be)}if(typeof ce.then=="function")return _n(ae,Z,Wu(ce),be);if(ce.$$typeof===w)return _n(ae,Z,ud(ae,ce),be);Xu(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Z!==null&&Z.tag===6?(c(ae,Z.sibling),be=v(Z,ce),be.return=ae,ae=be):(c(ae,Z),be=Km(ce,ae.mode,be),be.return=ae,ae=be),T(ae)):c(ae,Z)}return function(ae,Z,ce,be){try{Yl=0;var $e=_n(ae,Z,ce,be);return vo=null,$e}catch(qe){if(qe===Vl)throw qe;var yt=ns(29,qe,null,ae.mode);return yt.lanes=be,yt.return=ae,yt}finally{}}}var Ci=ny(!0),ry=ny(!1),xo=re(null),Ku=re(0);function sy(a,o){a=da,de(Ku,a),de(xo,o),da=a|o.baseLanes}function rm(){de(Ku,da),de(xo,xo.current)}function sm(){da=Ku.current,ge(xo),ge(Ku)}var Jr=re(null),Ts=null;function Pa(a){var o=a.alternate;de(zn,zn.current&1),de(Jr,a),Ts===null&&(o===null||xo.current!==null||o.memoizedState!==null)&&(Ts=a)}function ay(a){if(a.tag===22){if(de(zn,zn.current),de(Jr,a),Ts===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Ts=a)}}else La()}function La(){de(zn,zn.current),de(Jr,Jr.current)}function ta(a){ge(Jr),Ts===a&&(Ts=null),ge(zn)}var zn=re(0);function Qu(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var XR=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},KR=e.unstable_scheduleCallback,QR=e.unstable_NormalPriority,Un={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new XR,data:new Map,refCount:0}}function Wl(a){a.refCount--,a.refCount===0&&KR(QR,function(){a.controller.abort()})}var Xl=null,im=0,bo=0,yo=null;function ZR(a,o){if(Xl===null){var c=Xl=[];im=0,bo=fp(),yo={status:"pending",value:void 0,then:function(d){c.push(d)}}}return im++,o.then(iy,iy),o}function iy(){if(--im===0&&Xl!==null){yo!==null&&(yo.status="fulfilled");var a=Xl;Xl=null,bo=0,yo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function JR(a,o){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var oy=U.S;U.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ZR(a,o),oy!==null&&oy(a,o)};var Ri=re(null);function om(){var a=Ri.current;return a!==null?a:cn.pooledCache}function Zu(a,o){o===null?de(Ri,Ri.current):de(Ri,o.pool)}function ly(){var a=om();return a===null?null:{parent:Un._currentValue,pool:a}}var Ia=0,vt=null,nn=null,kn=null,Ju=!1,wo=!1,Ti=!1,ed=0,Kl=0,jo=null,eT=0;function Rn(){throw Error(s(321))}function lm(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!kr(a[c],o[c]))return!1;return!0}function cm(a,o,c,d,v,b){return Ia=b,vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=a===null||a.memoizedState===null?Mi:$a,Ti=!1,b=c(d,v),Ti=!1,wo&&(b=uy(o,c,d,v)),cy(a),b}function cy(a){U.H=Ms;var o=nn!==null&&nn.next!==null;if(Ia=0,kn=nn=vt=null,Ju=!1,Kl=0,jo=null,o)throw Error(s(300));a===null||Vn||(a=a.dependencies,a!==null&&cd(a)&&(Vn=!0))}function uy(a,o,c,d){vt=a;var v=0;do{if(wo&&(jo=null),Kl=0,wo=!1,25<=v)throw Error(s(301));if(v+=1,kn=nn=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}U.H=Oi,b=o(c,d)}while(wo);return b}function tT(){var a=U.H,o=a.useState()[0];return o=typeof o.then=="function"?Ql(o):o,a=a.useState()[0],(nn!==null?nn.memoizedState:null)!==a&&(vt.flags|=1024),o}function um(){var a=ed!==0;return ed=0,a}function dm(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function fm(a){if(Ju){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ju=!1}Ia=0,kn=nn=vt=null,wo=!1,Kl=ed=0,jo=null}function Sr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?vt.memoizedState=kn=a:kn=kn.next=a,kn}function Dn(){if(nn===null){var a=vt.alternate;a=a!==null?a.memoizedState:null}else a=nn.next;var o=kn===null?vt.memoizedState:kn.next;if(o!==null)kn=o,nn=a;else{if(a===null)throw vt.alternate===null?Error(s(467)):Error(s(310));nn=a,a={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},kn===null?vt.memoizedState=kn=a:kn=kn.next=a}return kn}var td;td=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ql(a){var o=Kl;return Kl+=1,jo===null&&(jo=[]),a=Jb(jo,a,o),o=vt,(kn===null?o.memoizedState:kn.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?Mi:$a),a}function nd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ql(a);if(a.$$typeof===w)return ir(a)}throw Error(s(438,String(a)))}function hm(a){var o=null,c=vt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=vt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=td(),vt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),d=0;d<a;d++)c[d]=M;return o.index++,c}function na(a,o){return typeof o=="function"?o(a):o}function rd(a){var o=Dn();return mm(o,nn,a)}function mm(a,o,c){var d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=c;var v=a.baseQueue,b=d.pending;if(b!==null){if(v!==null){var T=v.next;v.next=b.next,b.next=T}o.baseQueue=v=b,d.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{o=v.next;var O=T=null,G=null,ee=o,pe=!1;do{var je=ee.lane&-536870913;if(je!==ee.lane?(At&je)===je:(Ia&je)===je){var ue=ee.revertLane;if(ue===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),je===bo&&(pe=!0);else if((Ia&ue)===ue){ee=ee.next,ue===bo&&(pe=!0);continue}else je={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(O=G=je,T=b):G=G.next=je,vt.lanes|=ue,Ga|=ue;je=ee.action,Ti&&c(b,je),b=ee.hasEagerState?ee.eagerState:c(b,je)}else ue={lane:je,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(O=G=ue,T=b):G=G.next=ue,vt.lanes|=je,Ga|=je;ee=ee.next}while(ee!==null&&ee!==o);if(G===null?T=b:G.next=O,!kr(b,a.memoizedState)&&(Vn=!0,pe&&(c=yo,c!==null)))throw c;a.memoizedState=b,a.baseState=T,a.baseQueue=G,d.lastRenderedState=b}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function pm(a){var o=Dn(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var d=c.dispatch,v=c.pending,b=o.memoizedState;if(v!==null){c.pending=null;var T=v=v.next;do b=a(b,T.action),T=T.next;while(T!==v);kr(b,o.memoizedState)||(Vn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,d]}function dy(a,o,c){var d=vt,v=Dn(),b=Ht;if(b){if(c===void 0)throw Error(s(407));c=c()}else c=o();var T=!kr((nn||v).memoizedState,c);if(T&&(v.memoizedState=c,Vn=!0),v=v.queue,xm(my.bind(null,d,v,a),[a]),v.getSnapshot!==o||T||kn!==null&&kn.memoizedState.tag&1){if(d.flags|=2048,No(9,hy.bind(null,d,v,c,o),{destroy:void 0},null),cn===null)throw Error(s(349));b||(Ia&60)!==0||fy(d,o,c)}return c}function fy(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=vt.updateQueue,o===null?(o=td(),vt.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function hy(a,o,c,d){o.value=c,o.getSnapshot=d,py(o)&&gy(a)}function my(a,o,c){return c(function(){py(o)&&gy(a)})}function py(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!kr(a,c)}catch{return!0}}function gy(a){var o=Da(a,2);o!==null&&fr(o,a,2)}function gm(a){var o=Sr();if(typeof a=="function"){var c=a;if(a=c(),Ti){$n(!0);try{c()}finally{$n(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:a},o}function vy(a,o,c,d){return a.baseState=c,mm(a,nn,typeof d=="function"?d:na)}function nT(a,o,c,d,v){if(id(a))throw Error(s(485));if(a=o.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};U.T!==null?c(!0):b.isTransition=!1,d(b),c=o.pending,c===null?(b.next=o.pending=b,xy(o,b)):(b.next=c.next,o.pending=c.next=b)}}function xy(a,o){var c=o.action,d=o.payload,v=a.state;if(o.isTransition){var b=U.T,T={};U.T=T;try{var O=c(v,d),G=U.S;G!==null&&G(T,O),by(a,o,O)}catch(ee){vm(a,o,ee)}finally{U.T=b}}else try{b=c(v,d),by(a,o,b)}catch(ee){vm(a,o,ee)}}function by(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){yy(a,o,d)},function(d){return vm(a,o,d)}):yy(a,o,c)}function yy(a,o,c){o.status="fulfilled",o.value=c,wy(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,xy(a,c)))}function vm(a,o,c){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,wy(o),o=o.next;while(o!==d)}a.action=null}function wy(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function jy(a,o){return o}function Ny(a,o){if(Ht){var c=cn.formState;if(c!==null){e:{var d=vt;if(Ht){if(Jn){t:{for(var v=Jn,b=Rs;v.nodeType!==8;){if(!b){v=null;break t}if(v=ps(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Jn=ps(v.nextSibling),d=v.data==="F!";break e}}Ei(d)}d=!1}d&&(o=c[0])}}return c=Sr(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:o},c.queue=d,c=Fy.bind(null,vt,d),d.dispatch=c,d=gm(!1),b=Nm.bind(null,vt,!1,d.queue),d=Sr(),v={state:o,dispatch:null,action:a,pending:null},d.queue=v,c=nT.bind(null,vt,v,b,c),v.dispatch=c,d.memoizedState=a,[o,c,!1]}function Sy(a){var o=Dn();return _y(o,nn,a)}function _y(a,o,c){o=mm(a,o,jy)[0],a=rd(na)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Ql(o):o;var d=Dn(),v=d.queue,b=v.dispatch;return c!==d.memoizedState&&(vt.flags|=2048,No(9,rT.bind(null,v,c),{destroy:void 0},null)),[o,b,a]}function rT(a,o){a.action=o}function Ey(a){var o=Dn(),c=nn;if(c!==null)return _y(o,c,a);Dn(),o=o.memoizedState,c=Dn();var d=c.queue.dispatch;return c.memoizedState=a,[o,d,!1]}function No(a,o,c,d){return a={tag:a,create:o,inst:c,deps:d,next:null},o=vt.updateQueue,o===null&&(o=td(),vt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,o.lastEffect=a),a}function Cy(){return Dn().memoizedState}function sd(a,o,c,d){var v=Sr();vt.flags|=a,v.memoizedState=No(1|o,c,{destroy:void 0},d===void 0?null:d)}function ad(a,o,c,d){var v=Dn();d=d===void 0?null:d;var b=v.memoizedState.inst;nn!==null&&d!==null&&lm(d,nn.memoizedState.deps)?v.memoizedState=No(o,c,b,d):(vt.flags|=a,v.memoizedState=No(1|o,c,b,d))}function Ry(a,o){sd(8390656,8,a,o)}function xm(a,o){ad(2048,8,a,o)}function Ty(a,o){return ad(4,2,a,o)}function My(a,o){return ad(4,4,a,o)}function Oy(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Ay(a,o,c){c=c!=null?c.concat([a]):null,ad(4,4,Oy.bind(null,o,a),c)}function bm(){}function ky(a,o){var c=Dn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&lm(o,d[1])?d[0]:(c.memoizedState=[a,o],a)}function Dy(a,o){var c=Dn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&lm(o,d[1]))return d[0];if(d=a(),Ti){$n(!0);try{a()}finally{$n(!1)}}return c.memoizedState=[d,o],d}function ym(a,o,c){return c===void 0||(Ia&1073741824)!==0?a.memoizedState=o:(a.memoizedState=c,a=L0(),vt.lanes|=a,Ga|=a,c)}function Py(a,o,c,d){return kr(c,o)?c:xo.current!==null?(a=ym(a,c,d),kr(a,o)||(Vn=!0),a):(Ia&42)===0?(Vn=!0,a.memoizedState=c):(a=L0(),vt.lanes|=a,Ga|=a,o)}function Ly(a,o,c,d,v){var b=P.p;P.p=b!==0&&8>b?b:8;var T=U.T,O={};U.T=O,Nm(a,!1,o,c);try{var G=v(),ee=U.S;if(ee!==null&&ee(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=JR(G,d);Zl(a,o,pe,Ir(a))}else Zl(a,o,d,Ir(a))}catch(je){Zl(a,o,{then:function(){},status:"rejected",reason:je},Ir())}finally{P.p=b,U.T=T}}function sT(){}function wm(a,o,c,d){if(a.tag!==5)throw Error(s(476));var v=Iy(a).queue;Ly(a,v,o,z,c===null?sT:function(){return $y(a),c(d)})}function Iy(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:z},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function $y(a){var o=Iy(a).next.queue;Zl(a,o,{},Ir())}function jm(){return ir(xc)}function zy(){return Dn().memoizedState}function Uy(){return Dn().memoizedState}function aT(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=Ir();a=Fa(c);var d=Ba(o,a,c);d!==null&&(fr(d,o,c),tc(d,o,c)),o={cache:am()},a.payload=o;return}o=o.return}}function iT(a,o,c){var d=Ir();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},id(a)?By(o,c):(c=Zh(a,o,c,d),c!==null&&(fr(c,a,d),Hy(c,o,d)))}function Fy(a,o,c){var d=Ir();Zl(a,o,c,d)}function Zl(a,o,c,d){var v={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(id(a))By(o,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var T=o.lastRenderedState,O=b(T,c);if(v.hasEagerState=!0,v.eagerState=O,kr(O,T))return Hu(a,o,v,0),cn===null&&Bu(),!1}catch{}finally{}if(c=Zh(a,o,v,d),c!==null)return fr(c,a,d),Hy(c,o,d),!0}return!1}function Nm(a,o,c,d){if(d={lane:2,revertLane:fp(),action:d,hasEagerState:!1,eagerState:null,next:null},id(a)){if(o)throw Error(s(479))}else o=Zh(a,c,d,2),o!==null&&fr(o,a,2)}function id(a){var o=a.alternate;return a===vt||o!==null&&o===vt}function By(a,o){wo=Ju=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function Hy(a,o,c){if((c&4194176)!==0){var d=o.lanes;d&=a.pendingLanes,c|=d,o.lanes=c,bt(a,c)}}var Ms={readContext:ir,use:nd,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn};Ms.useCacheRefresh=Rn,Ms.useMemoCache=Rn,Ms.useHostTransitionStatus=Rn,Ms.useFormState=Rn,Ms.useActionState=Rn,Ms.useOptimistic=Rn;var Mi={readContext:ir,use:nd,useCallback:function(a,o){return Sr().memoizedState=[a,o===void 0?null:o],a},useContext:ir,useEffect:Ry,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,sd(4194308,4,Oy.bind(null,o,a),c)},useLayoutEffect:function(a,o){return sd(4194308,4,a,o)},useInsertionEffect:function(a,o){sd(4,2,a,o)},useMemo:function(a,o){var c=Sr();o=o===void 0?null:o;var d=a();if(Ti){$n(!0);try{a()}finally{$n(!1)}}return c.memoizedState=[d,o],d},useReducer:function(a,o,c){var d=Sr();if(c!==void 0){var v=c(o);if(Ti){$n(!0);try{c(o)}finally{$n(!1)}}}else v=o;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=iT.bind(null,vt,a),[d.memoizedState,a]},useRef:function(a){var o=Sr();return a={current:a},o.memoizedState=a},useState:function(a){a=gm(a);var o=a.queue,c=Fy.bind(null,vt,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:bm,useDeferredValue:function(a,o){var c=Sr();return ym(c,a,o)},useTransition:function(){var a=gm(!1);return a=Ly.bind(null,vt,a.queue,!0,!1),Sr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var d=vt,v=Sr();if(Ht){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),cn===null)throw Error(s(349));(At&60)!==0||fy(d,o,c)}v.memoizedState=c;var b={value:c,getSnapshot:o};return v.queue=b,Ry(my.bind(null,d,b,a),[a]),d.flags|=2048,No(9,hy.bind(null,d,b,c,o),{destroy:void 0},null),c},useId:function(){var a=Sr(),o=cn.identifierPrefix;if(Ht){var c=ea,d=Js;c=(d&~(1<<32-jn(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=ed++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=eT++,o=":"+o+"r"+c.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return Sr().memoizedState=aT.bind(null,vt)}};Mi.useMemoCache=hm,Mi.useHostTransitionStatus=jm,Mi.useFormState=Ny,Mi.useActionState=Ny,Mi.useOptimistic=function(a){var o=Sr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Nm.bind(null,vt,!0,c),c.dispatch=o,[a,o]};var $a={readContext:ir,use:nd,useCallback:ky,useContext:ir,useEffect:xm,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:My,useMemo:Dy,useReducer:rd,useRef:Cy,useState:function(){return rd(na)},useDebugValue:bm,useDeferredValue:function(a,o){var c=Dn();return Py(c,nn.memoizedState,a,o)},useTransition:function(){var a=rd(na)[0],o=Dn().memoizedState;return[typeof a=="boolean"?a:Ql(a),o]},useSyncExternalStore:dy,useId:zy};$a.useCacheRefresh=Uy,$a.useMemoCache=hm,$a.useHostTransitionStatus=jm,$a.useFormState=Sy,$a.useActionState=Sy,$a.useOptimistic=function(a,o){var c=Dn();return vy(c,nn,a,o)};var Oi={readContext:ir,use:nd,useCallback:ky,useContext:ir,useEffect:xm,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:My,useMemo:Dy,useReducer:pm,useRef:Cy,useState:function(){return pm(na)},useDebugValue:bm,useDeferredValue:function(a,o){var c=Dn();return nn===null?ym(c,a,o):Py(c,nn.memoizedState,a,o)},useTransition:function(){var a=pm(na)[0],o=Dn().memoizedState;return[typeof a=="boolean"?a:Ql(a),o]},useSyncExternalStore:dy,useId:zy};Oi.useCacheRefresh=Uy,Oi.useMemoCache=hm,Oi.useHostTransitionStatus=jm,Oi.useFormState=Ey,Oi.useActionState=Ey,Oi.useOptimistic=function(a,o){var c=Dn();return nn!==null?vy(c,nn,a,o):(c.baseState=a,[a,c.queue.dispatch])};function Sm(a,o,c,d){o=a.memoizedState,c=c(d,o),c=c==null?o:Y({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var _m={isMounted:function(a){return(a=a._reactInternals)?q(a)===a:!1},enqueueSetState:function(a,o,c){a=a._reactInternals;var d=Ir(),v=Fa(d);v.payload=o,c!=null&&(v.callback=c),o=Ba(a,v,d),o!==null&&(fr(o,a,d),tc(o,a,d))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var d=Ir(),v=Fa(d);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Ba(a,v,d),o!==null&&(fr(o,a,d),tc(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Ir(),d=Fa(c);d.tag=2,o!=null&&(d.callback=o),o=Ba(a,d,c),o!==null&&(fr(o,a,c),tc(o,a,c))}};function Vy(a,o,c,d,v,b,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,T):o.prototype&&o.prototype.isPureReactComponent?!zl(c,d)||!zl(v,b):!0}function qy(a,o,c,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==a&&_m.enqueueReplaceState(o,o.state,null)}function Ai(a,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(a=a.defaultProps){c===o&&(c=Y({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}var od=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Yy(a){od(a)}function Gy(a){console.error(a)}function Wy(a){od(a)}function ld(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Xy(a,o,c){try{var d=a.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Em(a,o,c){return c=Fa(c),c.tag=3,c.payload={element:null},c.callback=function(){ld(a,o)},c}function Ky(a){return a=Fa(a),a.tag=3,a}function Qy(a,o,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;a.payload=function(){return v(b)},a.callback=function(){Xy(o,c,d)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){Xy(o,c,d),typeof v!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function oT(a,o,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&ec(o,c,v,!0),c=Jr.current,c!==null){switch(c.tag){case 13:return Ts===null?op():c.alternate===null&&Sn===0&&(Sn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===nm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),cp(a,d,v)),!1;case 22:return c.flags|=65536,d===nm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),cp(a,d,v)),!1}throw Error(s(435,c.tag))}return cp(a,d,v),op(),!1}if(Ht)return o=Jr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==tm&&(a=Error(s(422),{cause:d}),Hl(Kr(a,c)))):(d!==tm&&(o=Error(s(423),{cause:d}),Hl(Kr(o,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=Kr(d,c),v=Em(a.stateNode,d,v),Fm(a,v),Sn!==4&&(Sn=2)),!1;var b=Error(s(520),{cause:d});if(b=Kr(b,c),cc===null?cc=[b]:cc.push(b),Sn!==4&&(Sn=2),o===null)return!0;d=Kr(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=Em(c.stateNode,d,a),Fm(c,a),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wa===null||!Wa.has(b))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Ky(v),Qy(v,a,c,d),Fm(c,v),!1}c=c.return}while(c!==null);return!1}var Zy=Error(s(461)),Vn=!1;function er(a,o,c,d){o.child=a===null?ry(o,null,c,d):Ci(o,a.child,c,d)}function Jy(a,o,c,d,v){c=c.render;var b=o.ref;if("ref"in d){var T={};for(var O in d)O!=="ref"&&(T[O]=d[O])}else T=d;return Di(o),d=cm(a,o,c,T,b,v),O=um(),a!==null&&!Vn?(dm(a,o,v),ra(a,o,v)):(Ht&&O&&Jh(o),o.flags|=1,er(a,o,d,v),o.child)}function e0(a,o,c,d,v){if(a===null){var b=c.type;return typeof b=="function"&&!Xm(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,t0(a,o,b,d,v)):(a=hd(c.type,null,d,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!Pm(a,v)){var T=b.memoizedProps;if(c=c.compare,c=c!==null?c:zl,c(T,d)&&a.ref===o.ref)return ra(a,o,v)}return o.flags|=1,a=Ya(b,d),a.ref=o.ref,a.return=o,o.child=a}function t0(a,o,c,d,v){if(a!==null){var b=a.memoizedProps;if(zl(b,d)&&a.ref===o.ref)if(Vn=!1,o.pendingProps=d=b,Pm(a,v))(a.flags&131072)!==0&&(Vn=!0);else return o.lanes=a.lanes,ra(a,o,v)}return Cm(a,o,c,d,v)}function n0(a,o,c){var d=o.pendingProps,v=d.children,b=(o.stateNode._pendingVisibility&2)!==0,T=a!==null?a.memoizedState:null;if(Jl(a,o),d.mode==="hidden"||b){if((o.flags&128)!==0){if(d=T!==null?T.baseLanes|c:c,a!==null){for(v=o.child=a.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return r0(a,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Zu(o,T!==null?T.cachePool:null),T!==null?sy(o,T):rm(),ay(o);else return o.lanes=o.childLanes=536870912,r0(a,o,T!==null?T.baseLanes|c:c,c)}else T!==null?(Zu(o,T.cachePool),sy(o,T),La(),o.memoizedState=null):(a!==null&&Zu(o,null),rm(),La());return er(a,o,v,c),o.child}function r0(a,o,c,d){var v=om();return v=v===null?null:{parent:Un._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},a!==null&&Zu(o,null),rm(),ay(o),a!==null&&ec(a,o,d,!0),null}function Jl(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(a===null||a.ref!==c)&&(o.flags|=2097664)}}function Cm(a,o,c,d,v){return Di(o),c=cm(a,o,c,d,void 0,v),d=um(),a!==null&&!Vn?(dm(a,o,v),ra(a,o,v)):(Ht&&d&&Jh(o),o.flags|=1,er(a,o,c,v),o.child)}function s0(a,o,c,d,v,b){return Di(o),o.updateQueue=null,c=uy(o,d,c,v),cy(a),d=um(),a!==null&&!Vn?(dm(a,o,b),ra(a,o,b)):(Ht&&d&&Jh(o),o.flags|=1,er(a,o,c,b),o.child)}function a0(a,o,c,d,v){if(Di(o),o.stateNode===null){var b=mo,T=c.contextType;typeof T=="object"&&T!==null&&(b=ir(T)),b=new c(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=_m,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},zm(o),T=c.contextType,b.context=typeof T=="object"&&T!==null?ir(T):mo,b.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Sm(o,c,T,d),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&_m.enqueueReplaceState(b,b.state,null),rc(o,d,b,v),nc(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){b=o.stateNode;var O=o.memoizedProps,G=Ai(c,O);b.props=G;var ee=b.context,pe=c.contextType;T=mo,typeof pe=="object"&&pe!==null&&(T=ir(pe));var je=c.getDerivedStateFromProps;pe=typeof je=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||ee!==T)&&qy(o,b,d,T),Ua=!1;var ue=o.memoizedState;b.state=ue,rc(o,d,b,v),nc(),ee=o.memoizedState,O||ue!==ee||Ua?(typeof je=="function"&&(Sm(o,c,je,d),ee=o.memoizedState),(G=Ua||Vy(o,c,G,d,ue,ee,T))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ee),b.props=d,b.state=ee,b.context=T,d=G):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Um(a,o),T=o.memoizedProps,pe=Ai(c,T),b.props=pe,je=o.pendingProps,ue=b.context,ee=c.contextType,G=mo,typeof ee=="object"&&ee!==null&&(G=ir(ee)),O=c.getDerivedStateFromProps,(ee=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==je||ue!==G)&&qy(o,b,d,G),Ua=!1,ue=o.memoizedState,b.state=ue,rc(o,d,b,v),nc();var he=o.memoizedState;T!==je||ue!==he||Ua||a!==null&&a.dependencies!==null&&cd(a.dependencies)?(typeof O=="function"&&(Sm(o,c,O,d),he=o.memoizedState),(pe=Ua||Vy(o,c,pe,d,ue,he,G)||a!==null&&a.dependencies!==null&&cd(a.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,he,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,he,G)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===a.memoizedProps&&ue===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&ue===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=he),b.props=d,b.state=he,b.context=G,d=pe):(typeof b.componentDidUpdate!="function"||T===a.memoizedProps&&ue===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&ue===a.memoizedState||(o.flags|=1024),d=!1)}return b=d,Jl(a,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&d?(o.child=Ci(o,a.child,null,v),o.child=Ci(o,null,c,v)):er(a,o,c,v),o.memoizedState=b.state,a=o.child):a=ra(a,o,v),a}function i0(a,o,c,d){return Bl(),o.flags|=256,er(a,o,c,d),o.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Tm(a){return{baseLanes:a,cachePool:ly()}}function Mm(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=rs),a}function o0(a,o,c){var d=o.pendingProps,v=!1,b=(o.flags&128)!==0,T;if((T=b)||(T=a!==null&&a.memoizedState===null?!1:(zn.current&2)!==0),T&&(v=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,a===null){if(Ht){if(v?Pa(o):La(),Ht){var O=Jn,G;if(G=O){e:{for(G=O,O=Rs;G.nodeType!==8;){if(!O){O=null;break e}if(G=ps(G.nextSibling),G===null){O=null;break e}}O=G}O!==null?(o.memoizedState={dehydrated:O,treeContext:Si!==null?{id:Js,overflow:ea}:null,retryLane:536870912},G=ns(18,null,null,0),G.stateNode=O,G.return=o,o.child=G,dr=o,Jn=null,G=!0):G=!1}G||Ei(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return O.data==="$!"?o.lanes=16:o.lanes=536870912,null;ta(o)}return O=d.children,d=d.fallback,v?(La(),v=o.mode,O=Am({mode:"hidden",children:O},v),d=Li(d,v,c,null),O.return=o,d.return=o,O.sibling=d,o.child=O,v=o.child,v.memoizedState=Tm(c),v.childLanes=Mm(a,T,c),o.memoizedState=Rm,d):(Pa(o),Om(o,O))}if(G=a.memoizedState,G!==null&&(O=G.dehydrated,O!==null)){if(b)o.flags&256?(Pa(o),o.flags&=-257,o=km(a,o,c)):o.memoizedState!==null?(La(),o.child=a.child,o.flags|=128,o=null):(La(),v=d.fallback,O=o.mode,d=Am({mode:"visible",children:d.children},O),v=Li(v,O,c,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,Ci(o,a.child,null,c),d=o.child,d.memoizedState=Tm(c),d.childLanes=Mm(a,T,c),o.memoizedState=Rm,o=v);else if(Pa(o),O.data==="$!"){if(T=O.nextSibling&&O.nextSibling.dataset,T)var ee=T.dgst;T=ee,d=Error(s(419)),d.stack="",d.digest=T,Hl({value:d,source:null,stack:null}),o=km(a,o,c)}else if(Vn||ec(a,o,c,!1),T=(c&a.childLanes)!==0,Vn||T){if(T=cn,T!==null){if(d=c&-c,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(T.suspendedLanes|c))!==0?0:d,d!==0&&d!==G.retryLane)throw G.retryLane=d,Da(a,d),fr(T,a,d),Zy}O.data==="$?"||op(),o=km(a,o,c)}else O.data==="$?"?(o.flags|=128,o.child=a.child,o=jT.bind(null,a),O._reactRetry=o,o=null):(a=G.treeContext,Jn=ps(O.nextSibling),dr=o,Ht=!0,hs=null,Rs=!1,a!==null&&(Qr[Zr++]=Js,Qr[Zr++]=ea,Qr[Zr++]=Si,Js=a.id,ea=a.overflow,Si=o),o=Om(o,d.children),o.flags|=4096);return o}return v?(La(),v=d.fallback,O=o.mode,G=a.child,ee=G.sibling,d=Ya(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&31457280,ee!==null?v=Ya(ee,v):(v=Li(v,O,c,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,O=a.child.memoizedState,O===null?O=Tm(c):(G=O.cachePool,G!==null?(ee=Un._currentValue,G=G.parent!==ee?{parent:ee,pool:ee}:G):G=ly(),O={baseLanes:O.baseLanes|c,cachePool:G}),v.memoizedState=O,v.childLanes=Mm(a,T,c),o.memoizedState=Rm,d):(Pa(o),c=a.child,a=c.sibling,c=Ya(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,a!==null&&(T=o.deletions,T===null?(o.deletions=[a],o.flags|=16):T.push(a)),o.child=c,o.memoizedState=null,c)}function Om(a,o){return o=Am({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Am(a,o){return k0(a,o,0,null)}function km(a,o,c){return Ci(o,a.child,null,c),a=Om(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function l0(a,o,c){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),Im(a.return,o,c)}function Dm(a,o,c,d,v){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=v)}function c0(a,o,c){var d=o.pendingProps,v=d.revealOrder,b=d.tail;if(er(a,o,d.children,c),d=zn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&l0(a,c,o);else if(a.tag===19)l0(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(de(zn,d),v){case"forwards":for(c=o.child,v=null;c!==null;)a=c.alternate,a!==null&&Qu(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),Dm(o,!1,v,c,b);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Qu(a)===null){o.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}Dm(o,!0,c,null,b);break;case"together":Dm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ra(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ga|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(ec(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(s(153));if(o.child!==null){for(a=o.child,c=Ya(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Ya(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Pm(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&cd(a)))}function lT(a,o,c){switch(o.tag){case 3:me(o,o.stateNode.containerInfo),za(o,Un,a.memoizedState.cache),Bl();break;case 27:case 5:Pe(o);break;case 4:me(o,o.stateNode.containerInfo);break;case 10:za(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Pa(o),o.flags|=128,null):(c&o.child.childLanes)!==0?o0(a,o,c):(Pa(o),a=ra(a,o,c),a!==null?a.sibling:null);Pa(o);break;case 19:var v=(a.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(ec(a,o,c,!1),d=(c&o.childLanes)!==0),v){if(d)return c0(a,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),de(zn,zn.current),d)break;return null;case 22:case 23:return o.lanes=0,n0(a,o,c);case 24:za(o,Un,a.memoizedState.cache)}return ra(a,o,c)}function u0(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Vn=!0;else{if(!Pm(a,c)&&(o.flags&128)===0)return Vn=!1,lT(a,o,c);Vn=(a.flags&131072)!==0}else Vn=!1,Ht&&(o.flags&1048576)!==0&&Wb(o,Yu,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var d=o.elementType,v=d._init;if(d=v(d._payload),o.type=d,typeof d=="function")Xm(d)?(a=Ai(d,a),o.tag=1,o=a0(null,o,d,a,c)):(o.tag=0,o=Cm(null,o,d,a,c));else{if(d!=null){if(v=d.$$typeof,v===j){o.tag=11,o=Jy(null,o,d,a,c);break e}else if(v===_){o.tag=14,o=e0(null,o,d,a,c);break e}}throw o=L(d)||d,Error(s(306,o,""))}}return o;case 0:return Cm(a,o,o.type,o.pendingProps,c);case 1:return d=o.type,v=Ai(d,o.pendingProps),a0(a,o,d,v,c);case 3:e:{if(me(o,o.stateNode.containerInfo),a===null)throw Error(s(387));var b=o.pendingProps;v=o.memoizedState,d=v.element,Um(a,o),rc(o,b,null,c);var T=o.memoizedState;if(b=T.cache,za(o,Un,b),b!==v.cache&&$m(o,[Un],c,!0),nc(),b=T.element,v.isDehydrated)if(v={element:b,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=i0(a,o,b,c);break e}else if(b!==d){d=Kr(Error(s(424)),o),Hl(d),o=i0(a,o,b,c);break e}else for(Jn=ps(o.stateNode.containerInfo.firstChild),dr=o,Ht=!0,hs=null,Rs=!0,c=ry(o,null,b,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Bl(),b===d){o=ra(a,o,c);break e}er(a,o,b,c)}o=o.child}return o;case 26:return Jl(a,o),a===null?(c=hw(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ht||(c=o.type,a=o.pendingProps,d=_d(ot.current).createElement(c),d[gn]=o,d[On]=a,tr(d,c,a),An(d),o.stateNode=d):o.memoizedState=hw(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Pe(o),a===null&&Ht&&(d=o.stateNode=uw(o.type,o.pendingProps,ot.current),dr=o,Rs=!0,Jn=ps(d.firstChild)),d=o.pendingProps.children,a!==null||Ht?er(a,o,d,c):o.child=Ci(o,null,d,c),Jl(a,o),o.child;case 5:return a===null&&Ht&&((v=d=Jn)&&(d=$T(d,o.type,o.pendingProps,Rs),d!==null?(o.stateNode=d,dr=o,Jn=ps(d.firstChild),Rs=!1,v=!0):v=!1),v||Ei(o)),Pe(o),v=o.type,b=o.pendingProps,T=a!==null?a.memoizedProps:null,d=b.children,wp(v,b)?d=null:T!==null&&wp(v,T)&&(o.flags|=32),o.memoizedState!==null&&(v=cm(a,o,tT,null,null,c),xc._currentValue=v),Jl(a,o),er(a,o,d,c),o.child;case 6:return a===null&&Ht&&((a=c=Jn)&&(c=zT(c,o.pendingProps,Rs),c!==null?(o.stateNode=c,dr=o,Jn=null,a=!0):a=!1),a||Ei(o)),null;case 13:return o0(a,o,c);case 4:return me(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=Ci(o,null,d,c):er(a,o,d,c),o.child;case 11:return Jy(a,o,o.type,o.pendingProps,c);case 7:return er(a,o,o.pendingProps,c),o.child;case 8:return er(a,o,o.pendingProps.children,c),o.child;case 12:return er(a,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,za(o,o.type,d.value),er(a,o,d.children,c),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,Di(o),v=ir(v),d=d(v),o.flags|=1,er(a,o,d,c),o.child;case 14:return e0(a,o,o.type,o.pendingProps,c);case 15:return t0(a,o,o.type,o.pendingProps,c);case 19:return c0(a,o,c);case 22:return n0(a,o,c);case 24:return Di(o),d=ir(Un),a===null?(v=om(),v===null&&(v=cn,b=am(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=c),v=b),o.memoizedState={parent:d,cache:v},zm(o),za(o,Un,v)):((a.lanes&c)!==0&&(Um(a,o),rc(o,null,null,c),nc()),v=a.memoizedState,b=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),za(o,Un,d)):(d=b.cache,za(o,Un,d),d!==v.cache&&$m(o,[Un],c,!0))),er(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}var Lm=re(null),ki=null,sa=null;function za(a,o,c){de(Lm,o._currentValue),o._currentValue=c}function aa(a){a._currentValue=Lm.current,ge(Lm)}function Im(a,o,c){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===c)break;a=a.return}}function $m(a,o,c,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var T=v.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=v;for(var G=0;G<o.length;G++)if(O.context===o[G]){b.lanes|=c,O=b.alternate,O!==null&&(O.lanes|=c),Im(b.return,c,a),d||(T=null);break e}b=O.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(s(341));T.lanes|=c,b=T.alternate,b!==null&&(b.lanes|=c),Im(T,c,a),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===a){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function ec(a,o,c,d){a=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var O=v.type;kr(v.pendingProps.value,T.value)||(a!==null?a.push(O):a=[O])}}else if(v===rt.current){if(T=v.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(xc):a=[xc])}v=v.return}a!==null&&$m(o,a,c,d),o.flags|=262144}function cd(a){for(a=a.firstContext;a!==null;){if(!kr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Di(a){ki=a,sa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ir(a){return d0(ki,a)}function ud(a,o){return ki===null&&Di(a),d0(a,o)}function d0(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},sa===null){if(a===null)throw Error(s(308));sa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else sa=sa.next=o;return c}var Ua=!1;function zm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Um(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Fa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ba(a,o,c){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(bn&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=Vu(a),Yb(a,null,c),o}return Hu(a,d,o,c),Vu(a)}function tc(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var d=o.lanes;d&=a.pendingLanes,c|=d,o.lanes=c,bt(a,c)}}function Fm(a,o){var c=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?v=b=T:b=b.next=T,c=c.next}while(c!==null);b===null?v=b=o:b=b.next=o}else v=b=o;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Bm=!1;function nc(){if(Bm){var a=yo;if(a!==null)throw a}}function rc(a,o,c,d){Bm=!1;var v=a.updateQueue;Ua=!1;var b=v.firstBaseUpdate,T=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var G=O,ee=G.next;G.next=null,T===null?b=ee:T.next=ee,T=G;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,O=pe.lastBaseUpdate,O!==T&&(O===null?pe.firstBaseUpdate=ee:O.next=ee,pe.lastBaseUpdate=G))}if(b!==null){var je=v.baseState;T=0,pe=ee=G=null,O=b;do{var ue=O.lane&-536870913,he=ue!==O.lane;if(he?(At&ue)===ue:(d&ue)===ue){ue!==0&&ue===bo&&(Bm=!0),pe!==null&&(pe=pe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=a,lt=O;ue=o;var _n=c;switch(lt.tag){case 1:if(He=lt.payload,typeof He=="function"){je=He.call(_n,je,ue);break e}je=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=lt.payload,ue=typeof He=="function"?He.call(_n,je,ue):He,ue==null)break e;je=Y({},je,ue);break e;case 2:Ua=!0}}ue=O.callback,ue!==null&&(a.flags|=64,he&&(a.flags|=8192),he=v.callbacks,he===null?v.callbacks=[ue]:he.push(ue))}else he={lane:ue,tag:O.tag,payload:O.payload,callback:O.callback,next:null},pe===null?(ee=pe=he,G=je):pe=pe.next=he,T|=ue;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;he=O,O=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);pe===null&&(G=je),v.baseState=G,v.firstBaseUpdate=ee,v.lastBaseUpdate=pe,b===null&&(v.shared.lanes=0),Ga|=T,a.lanes=T,a.memoizedState=je}}function f0(a,o){if(typeof a!="function")throw Error(s(191,a));a.call(o)}function h0(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)f0(c[a],o)}function sc(a,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&a)===a){d=void 0;var b=c.create,T=c.inst;d=b(),T.destroy=d}c=c.next}while(c!==v)}}catch(O){an(o,o.return,O)}}function Ha(a,o,c){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&a)===a){var T=d.inst,O=T.destroy;if(O!==void 0){T.destroy=void 0,v=o;var G=c;try{O()}catch(ee){an(v,G,ee)}}}d=d.next}while(d!==b)}}catch(ee){an(o,o.return,ee)}}function m0(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{h0(o,c)}catch(d){an(a,a.return,d)}}}function p0(a,o,c){c.props=Ai(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(d){an(a,o,d)}}function Pi(a,o){try{var c=a.ref;if(c!==null){var d=a.stateNode;switch(a.tag){case 26:case 27:case 5:var v=d;break;default:v=d}typeof c=="function"?a.refCleanup=c(v):c.current=v}}catch(b){an(a,o,b)}}function Dr(a,o){var c=a.ref,d=a.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){an(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){an(a,o,v)}else c.current=null}function g0(a){var o=a.type,c=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){an(a,a.return,v)}}function v0(a,o,c){try{var d=a.stateNode;kT(d,a.type,c,o),d[On]=o}catch(v){an(a,a.return,v)}}function x0(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function Hm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||x0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vm(a,o,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(a,o):c.insertBefore(a,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(a,c)):(o=c,o.appendChild(a)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Sd));else if(d!==4&&d!==27&&(a=a.child,a!==null))for(Vm(a,o,c),a=a.sibling;a!==null;)Vm(a,o,c),a=a.sibling}function dd(a,o,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(d!==4&&d!==27&&(a=a.child,a!==null))for(dd(a,o,c),a=a.sibling;a!==null;)dd(a,o,c),a=a.sibling}var ia=!1,Nn=!1,qm=!1,b0=typeof WeakSet=="function"?WeakSet:Set,qn=null,y0=!1;function cT(a,o){if(a=a.containerInfo,bp=Od,a=Ib(a),Gh(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var T=0,O=-1,G=-1,ee=0,pe=0,je=a,ue=null;t:for(;;){for(var he;je!==c||v!==0&&je.nodeType!==3||(O=T+v),je!==b||d!==0&&je.nodeType!==3||(G=T+d),je.nodeType===3&&(T+=je.nodeValue.length),(he=je.firstChild)!==null;)ue=je,je=he;for(;;){if(je===a)break t;if(ue===c&&++ee===v&&(O=T),ue===b&&++pe===d&&(G=T),(he=je.nextSibling)!==null)break;je=ue,ue=je.parentNode}je=he}c=O===-1||G===-1?null:{start:O,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(yp={focusedElem:a,selectionRange:c},Od=!1,qn=o;qn!==null;)if(o=qn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,qn=a;else for(;qn!==null;){switch(o=qn,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=o,v=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var He=Ai(c.type,v,c.elementType===c.type);a=d.getSnapshotBeforeUpdate(He,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(lt){an(c,c.return,lt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Sp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Sp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=o.sibling,a!==null){a.return=o.return,qn=a;break}qn=o.return}return He=y0,y0=!1,He}function w0(a,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:la(a,c),d&4&&sc(5,c);break;case 1:if(la(a,c),d&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(O){an(c,c.return,O)}else{var v=Ai(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(O){an(c,c.return,O)}}d&64&&m0(c),d&512&&Pi(c,c.return);break;case 3:if(la(a,c),d&64&&(d=c.updateQueue,d!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{h0(d,a)}catch(O){an(c,c.return,O)}}break;case 26:la(a,c),d&512&&Pi(c,c.return);break;case 27:case 5:la(a,c),o===null&&d&4&&g0(c),d&512&&Pi(c,c.return);break;case 12:la(a,c);break;case 13:la(a,c),d&4&&S0(a,c);break;case 22:if(v=c.memoizedState!==null||ia,!v){o=o!==null&&o.memoizedState!==null||Nn;var b=ia,T=Nn;ia=v,(Nn=o)&&!T?Va(a,c,(c.subtreeFlags&8772)!==0):la(a,c),ia=b,Nn=T}d&512&&(c.memoizedProps.mode==="manual"?Pi(c,c.return):Dr(c,c.return));break;default:la(a,c)}}function j0(a){var o=a.alternate;o!==null&&(a.alternate=null,j0(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&jr(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Pn=null,Pr=!1;function oa(a,o,c){for(c=c.child;c!==null;)N0(a,o,c),c=c.sibling}function N0(a,o,c){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ln,c)}catch{}switch(c.tag){case 26:Nn||Dr(c,o),oa(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Nn||Dr(c,o);var d=Pn,v=Pr;for(Pn=c.stateNode,oa(a,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);jr(c),Pn=d,Pr=v;break;case 5:Nn||Dr(c,o);case 6:v=Pn;var b=Pr;if(Pn=null,oa(a,o,c),Pn=v,Pr=b,Pn!==null)if(Pr)try{a=Pn,d=c.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)}catch(T){an(c,o,T)}else try{Pn.removeChild(c.stateNode)}catch(T){an(c,o,T)}break;case 18:Pn!==null&&(Pr?(o=Pn,c=c.stateNode,o.nodeType===8?Np(o.parentNode,c):o.nodeType===1&&Np(o,c),jc(o)):Np(Pn,c.stateNode));break;case 4:d=Pn,v=Pr,Pn=c.stateNode.containerInfo,Pr=!0,oa(a,o,c),Pn=d,Pr=v;break;case 0:case 11:case 14:case 15:Nn||Ha(2,c,o),Nn||Ha(4,c,o),oa(a,o,c);break;case 1:Nn||(Dr(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&p0(c,o,d)),oa(a,o,c);break;case 21:oa(a,o,c);break;case 22:Nn||Dr(c,o),Nn=(d=Nn)||c.memoizedState!==null,oa(a,o,c),Nn=d;break;default:oa(a,o,c)}}function S0(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{jc(a)}catch(c){an(o,o.return,c)}}function uT(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new b0),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new b0),o;default:throw Error(s(435,a.tag))}}function Ym(a,o){var c=uT(a);o.forEach(function(d){var v=NT.bind(null,a,d);c.has(d)||(c.add(d),d.then(v,v))})}function es(a,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],b=a,T=o,O=T;e:for(;O!==null;){switch(O.tag){case 27:case 5:Pn=O.stateNode,Pr=!1;break e;case 3:Pn=O.stateNode.containerInfo,Pr=!0;break e;case 4:Pn=O.stateNode.containerInfo,Pr=!0;break e}O=O.return}if(Pn===null)throw Error(s(160));N0(b,T,v),Pn=null,Pr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)_0(o,a),o=o.sibling}var ms=null;function _0(a,o){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:es(o,a),ts(a),d&4&&(Ha(3,a,a.return),sc(3,a),Ha(5,a,a.return));break;case 1:es(o,a),ts(a),d&512&&(Nn||c===null||Dr(c,c.return)),d&64&&ia&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=ms;if(es(o,a),ts(a),d&512&&(Nn||c===null||Dr(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=a.memoizedState,c===null)if(d===null)if(a.stateNode===null){e:{d=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Zn]||b[gn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),tr(b,d,c),b[gn]=a,An(b),d=b;break e;case"link":var T=gw("link","href",v).get(d+(c.href||""));if(T){for(var O=0;O<T.length;O++)if(b=T[O],b.getAttribute("href")===(c.href==null?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(O,1);break t}}b=v.createElement(d),tr(b,d,c),v.head.appendChild(b);break;case"meta":if(T=gw("meta","content",v).get(d+(c.content||""))){for(O=0;O<T.length;O++)if(b=T[O],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(O,1);break t}}b=v.createElement(d),tr(b,d,c),v.head.appendChild(b);break;default:throw Error(s(468,d))}b[gn]=a,An(b),d=b}a.stateNode=d}else vw(v,a.type,a.stateNode);else a.stateNode=pw(v,d,a.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?vw(v,a.type,a.stateNode):pw(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&v0(a,a.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&a.alternate===null){v=a.stateNode,b=a.memoizedProps;try{for(var G=v.firstChild;G;){var ee=G.nextSibling,pe=G.nodeName;G[Zn]||pe==="HEAD"||pe==="BODY"||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&G.rel.toLowerCase()==="stylesheet"||v.removeChild(G),G=ee}for(var je=a.type,ue=v.attributes;ue.length;)v.removeAttributeNode(ue[0]);tr(v,je,b),v[gn]=a,v[On]=b}catch(He){an(a,a.return,He)}}case 5:if(es(o,a),ts(a),d&512&&(Nn||c===null||Dr(c,c.return)),a.flags&32){v=a.stateNode;try{io(v,"")}catch(He){an(a,a.return,He)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,v0(a,v,c!==null?c.memoizedProps:v)),d&1024&&(qm=!0);break;case 6:if(es(o,a),ts(a),d&4){if(a.stateNode===null)throw Error(s(162));d=a.memoizedProps,c=a.stateNode;try{c.nodeValue=d}catch(He){an(a,a.return,He)}}break;case 3:if(Rd=null,v=ms,ms=Ed(o.containerInfo),es(o,a),ms=v,ts(a),d&4&&c!==null&&c.memoizedState.isDehydrated)try{jc(o.containerInfo)}catch(He){an(a,a.return,He)}qm&&(qm=!1,E0(a));break;case 4:d=ms,ms=Ed(a.stateNode.containerInfo),es(o,a),ts(a),ms=d;break;case 12:es(o,a),ts(a);break;case 13:es(o,a),ts(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(tp=Rt()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ym(a,d)));break;case 22:if(d&512&&(Nn||c===null||Dr(c,c.return)),G=a.memoizedState!==null,ee=c!==null&&c.memoizedState!==null,pe=ia,je=Nn,ia=pe||G,Nn=je||ee,es(o,a),Nn=je,ia=pe,ts(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,d&8192&&(o._visibility=G?o._visibility&-2:o._visibility|1,G&&(o=ia||Nn,c===null||ee||o||So(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(c=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){ee=c=o;try{if(v=ee.stateNode,G)b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=ee.stateNode,O=ee.memoizedProps.style;var he=O!=null&&O.hasOwnProperty("display")?O.display:null;T.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(He){an(ee,ee.return,He)}}}else if(o.tag===6){if(c===null){ee=o;try{ee.stateNode.nodeValue=G?"":ee.memoizedProps}catch(He){an(ee,ee.return,He)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Ym(a,c))));break;case 19:es(o,a),ts(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ym(a,d)));break;case 21:break;default:es(o,a),ts(a)}}function ts(a){var o=a.flags;if(o&2){try{if(a.tag!==27){e:{for(var c=a.return;c!==null;){if(x0(c)){var d=c;break e}c=c.return}throw Error(s(160))}switch(d.tag){case 27:var v=d.stateNode,b=Hm(a);dd(a,b,v);break;case 5:var T=d.stateNode;d.flags&32&&(io(T,""),d.flags&=-33);var O=Hm(a);dd(a,O,T);break;case 3:case 4:var G=d.stateNode.containerInfo,ee=Hm(a);Vm(a,ee,G);break;default:throw Error(s(161))}}}catch(pe){an(a,a.return,pe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function E0(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;E0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function la(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)w0(a,o.alternate,o),o=o.sibling}function So(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ha(4,o,o.return),So(o);break;case 1:Dr(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&p0(o,o.return,c),So(o);break;case 26:case 27:case 5:Dr(o,o.return),So(o);break;case 22:Dr(o,o.return),o.memoizedState===null&&So(o);break;default:So(o)}a=a.sibling}}function Va(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=a,b=o,T=b.flags;switch(b.tag){case 0:case 11:case 15:Va(v,b,c),sc(4,b);break;case 1:if(Va(v,b,c),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){an(d,d.return,ee)}if(d=b,v=d.updateQueue,v!==null){var O=d.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)f0(G[v],O)}catch(ee){an(d,d.return,ee)}}c&&T&64&&m0(b),Pi(b,b.return);break;case 26:case 27:case 5:Va(v,b,c),c&&d===null&&T&4&&g0(b),Pi(b,b.return);break;case 12:Va(v,b,c);break;case 13:Va(v,b,c),c&&T&4&&S0(v,b);break;case 22:b.memoizedState===null&&Va(v,b,c),Pi(b,b.return);break;default:Va(v,b,c)}o=o.sibling}}function Gm(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Wl(c))}function Wm(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Wl(a))}function qa(a,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)C0(a,o,c,d),o=o.sibling}function C0(a,o,c,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:qa(a,o,c,d),v&2048&&sc(9,o);break;case 3:qa(a,o,c,d),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Wl(a)));break;case 12:if(v&2048){qa(a,o,c,d),a=o.stateNode;try{var b=o.memoizedProps,T=b.id,O=b.onPostCommit;typeof O=="function"&&O(T,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){an(o,o.return,G)}}else qa(a,o,c,d);break;case 23:break;case 22:b=o.stateNode,o.memoizedState!==null?b._visibility&4?qa(a,o,c,d):ac(a,o):b._visibility&4?qa(a,o,c,d):(b._visibility|=4,_o(a,o,c,d,(o.subtreeFlags&10256)!==0)),v&2048&&Gm(o.alternate,o);break;case 24:qa(a,o,c,d),v&2048&&Wm(o.alternate,o);break;default:qa(a,o,c,d)}}function _o(a,o,c,d,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,T=o,O=c,G=d,ee=T.flags;switch(T.tag){case 0:case 11:case 15:_o(b,T,O,G,v),sc(8,T);break;case 23:break;case 22:var pe=T.stateNode;T.memoizedState!==null?pe._visibility&4?_o(b,T,O,G,v):ac(b,T):(pe._visibility|=4,_o(b,T,O,G,v)),v&&ee&2048&&Gm(T.alternate,T);break;case 24:_o(b,T,O,G,v),v&&ee&2048&&Wm(T.alternate,T);break;default:_o(b,T,O,G,v)}o=o.sibling}}function ac(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,d=o,v=d.flags;switch(d.tag){case 22:ac(c,d),v&2048&&Gm(d.alternate,d);break;case 24:ac(c,d),v&2048&&Wm(d.alternate,d);break;default:ac(c,d)}o=o.sibling}}var ic=8192;function Eo(a){if(a.subtreeFlags&ic)for(a=a.child;a!==null;)R0(a),a=a.sibling}function R0(a){switch(a.tag){case 26:Eo(a),a.flags&ic&&a.memoizedState!==null&&ZT(ms,a.memoizedState,a.memoizedProps);break;case 5:Eo(a);break;case 3:case 4:var o=ms;ms=Ed(a.stateNode.containerInfo),Eo(a),ms=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=ic,ic=16777216,Eo(a),ic=o):Eo(a));break;default:Eo(a)}}function T0(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function oc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];qn=d,O0(d,a)}T0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)M0(a),a=a.sibling}function M0(a){switch(a.tag){case 0:case 11:case 15:oc(a),a.flags&2048&&Ha(9,a,a.return);break;case 3:oc(a);break;case 12:oc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,fd(a)):oc(a);break;default:oc(a)}}function fd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];qn=d,O0(d,a)}T0(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ha(8,o,o.return),fd(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,fd(o));break;default:fd(o)}a=a.sibling}}function O0(a,o){for(;qn!==null;){var c=qn;switch(c.tag){case 0:case 11:case 15:Ha(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Wl(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,qn=d;else e:for(c=a;qn!==null;){d=qn;var v=d.sibling,b=d.return;if(j0(d),d===c){qn=null;break e}if(v!==null){v.return=b,qn=v;break e}qn=b}}}function dT(a,o,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(a,o,c,d){return new dT(a,o,c,d)}function Xm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ya(a,o){var c=a.alternate;return c===null?(c=ns(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&31457280,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function A0(a,o){a.flags&=31457282;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function hd(a,o,c,d,v,b){var T=0;if(d=a,typeof a=="function")Xm(a)&&(T=1);else if(typeof a=="string")T=KT(a,c,Ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case f:return Li(c.children,v,b,o);case m:T=8,v|=24;break;case g:return a=ns(12,c,o,v|2),a.elementType=g,a.lanes=b,a;case N:return a=ns(13,c,o,v),a.elementType=N,a.lanes=b,a;case S:return a=ns(19,c,o,v),a.elementType=S,a.lanes=b,a;case C:return k0(c,v,b,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case x:case w:T=10;break e;case y:T=9;break e;case j:T=11;break e;case _:T=14;break e;case E:T=16,d=null;break e}T=29,c=Error(s(130,a===null?"null":typeof a,"")),d=null}return o=ns(T,c,o,v),o.elementType=a,o.type=d,o.lanes=b,o}function Li(a,o,c,d){return a=ns(7,a,d,o),a.lanes=c,a}function k0(a,o,c,d){a=ns(22,a,d,o),a.elementType=C,a.lanes=c;var v={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=v._current;if(b===null)throw Error(s(456));if((v._pendingVisibility&2)===0){var T=Da(b,2);T!==null&&(v._pendingVisibility|=2,fr(T,b,2))}},attach:function(){var b=v._current;if(b===null)throw Error(s(456));if((v._pendingVisibility&2)!==0){var T=Da(b,2);T!==null&&(v._pendingVisibility&=-3,fr(T,b,2))}}};return a.stateNode=v,a}function Km(a,o,c){return a=ns(6,a,null,o),a.lanes=c,a}function Qm(a,o,c){return o=ns(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function ca(a){a.flags|=4}function D0(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!xw(o)){if(o=Jr.current,o!==null&&((At&4194176)===At?Ts!==null:(At&62914560)!==At&&(At&536870912)===0||o!==Ts))throw ql=nm,Qb;a.flags|=8192}}function md(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Be():536870912,a.lanes|=o,Ro|=o)}function lc(a,o){if(!Ht)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function xn(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,d=0;if(o)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&31457280,d|=v.flags&31457280,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=c,o}function fT(a,o,c){var d=o.pendingProps;switch(em(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(o),null;case 1:return xn(o),null;case 3:return c=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),aa(Un),ve(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Fl(o)?ca(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hs!==null&&(ap(hs),hs=null))),xn(o),null;case 26:return c=o.memoizedState,a===null?(ca(o),c!==null?(xn(o),D0(o,c)):(xn(o),o.flags&=-16777217)):c?c!==a.memoizedState?(ca(o),xn(o),D0(o,c)):(xn(o),o.flags&=-16777217):(a.memoizedProps!==d&&ca(o),xn(o),o.flags&=-16777217),null;case 27:ye(o),c=ot.current;var v=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==d&&ca(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return xn(o),null}a=Ne.current,Fl(o)?Xb(o):(a=uw(v,d,c),o.stateNode=a,ca(o))}return xn(o),null;case 5:if(ye(o),c=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&ca(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return xn(o),null}if(a=Ne.current,Fl(o))Xb(o);else{switch(v=_d(ot.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?v.createElement(c,{is:d.is}):v.createElement(c)}}a[gn]=o,a[On]=d;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=a;e:switch(tr(a,c,d),c){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ca(o)}}return xn(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&ca(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(s(166));if(a=ot.current,Fl(o)){if(a=o.stateNode,c=o.memoizedProps,d=null,v=dr,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[gn]=o,a=!!(a.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||sw(a.nodeValue,c)),a||Ei(o)}else a=_d(a).createTextNode(d),a[gn]=o,o.stateNode=a}return xn(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Fl(o),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(s(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[gn]=o}else Bl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xn(o),v=!1}else hs!==null&&(ap(hs),hs=null),v=!0;if(!v)return o.flags&256?(ta(o),o):(ta(o),null)}if(ta(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,a=a!==null&&a.memoizedState!==null,c){d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)}return c!==a&&c&&(o.child.flags|=8192),md(o,o.updateQueue),xn(o),null;case 4:return ve(),a===null&&gp(o.stateNode.containerInfo),xn(o),null;case 10:return aa(o.type),xn(o),null;case 19:if(ge(zn),v=o.memoizedState,v===null)return xn(o),null;if(d=(o.flags&128)!==0,b=v.rendering,b===null)if(d)lc(v,!1);else{if(Sn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Qu(a),b!==null){for(o.flags|=128,lc(v,!1),a=b.updateQueue,o.updateQueue=a,md(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)A0(c,a),c=c.sibling;return de(zn,zn.current&1|2),o.child}a=a.sibling}v.tail!==null&&Rt()>pd&&(o.flags|=128,d=!0,lc(v,!1),o.lanes=4194304)}else{if(!d)if(a=Qu(b),a!==null){if(o.flags|=128,d=!0,a=a.updateQueue,o.updateQueue=a,md(o,a),lc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ht)return xn(o),null}else 2*Rt()-v.renderingStartTime>pd&&c!==536870912&&(o.flags|=128,d=!0,lc(v,!1),o.lanes=4194304);v.isBackwards?(b.sibling=o.child,o.child=b):(a=v.last,a!==null?a.sibling=b:o.child=b,v.last=b)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Rt(),o.sibling=null,a=zn.current,de(zn,d?a&1|2:a&1),o):(xn(o),null);case 22:case 23:return ta(o),sm(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(xn(o),o.subtreeFlags&6&&(o.flags|=8192)):xn(o),c=o.updateQueue,c!==null&&md(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),a!==null&&ge(Ri),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),aa(Un),xn(o),null;case 25:return null}throw Error(s(156,o.tag))}function hT(a,o){switch(em(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return aa(Un),ve(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ye(o),null;case 13:if(ta(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Bl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ge(zn),null;case 4:return ve(),null;case 10:return aa(o.type),null;case 22:case 23:return ta(o),sm(),a!==null&&ge(Ri),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return aa(Un),null;case 25:return null;default:return null}}function P0(a,o){switch(em(o),o.tag){case 3:aa(Un),ve();break;case 26:case 27:case 5:ye(o);break;case 4:ve();break;case 13:ta(o);break;case 19:ge(zn);break;case 10:aa(o.type);break;case 22:case 23:ta(o),sm(),a!==null&&ge(Ri);break;case 24:aa(Un)}}var mT={getCacheForType:function(a){var o=ir(Un),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c}},pT=typeof WeakMap=="function"?WeakMap:Map,bn=0,cn=null,jt=null,At=0,un=0,Lr=null,ua=!1,Co=!1,Zm=!1,da=0,Sn=0,Ga=0,Ii=0,Jm=0,rs=0,Ro=0,cc=null,Os=null,ep=!1,tp=0,pd=1/0,gd=null,Wa=null,vd=!1,$i=null,uc=0,np=0,rp=null,dc=0,sp=null;function Ir(){if((bn&2)!==0&&At!==0)return At&-At;if(U.T!==null){var a=bo;return a!==0?a:fp()}return Bt()}function L0(){rs===0&&(rs=(At&536870912)===0||Ht?Ae():536870912);var a=Jr.current;return a!==null&&(a.flags|=32),rs}function fr(a,o,c){(a===cn&&un===2||a.cancelPendingCommit!==null)&&(To(a,0),fa(a,At,rs,!1)),We(a,c),((bn&2)===0||a!==cn)&&(a===cn&&((bn&2)===0&&(Ii|=c),Sn===4&&fa(a,At,rs,!1)),As(a))}function I0(a,o,c){if((bn&6)!==0)throw Error(s(327));var d=!c&&(o&60)===0&&(o&a.expiredLanes)===0||xe(a,o),v=d?xT(a,o):lp(a,o,!0),b=d;do{if(v===0){Co&&!d&&fa(a,o,0,!1);break}else if(v===6)fa(a,o,0,!ua);else{if(c=a.current.alternate,b&&!gT(c)){v=lp(a,o,!1),b=!1;continue}if(v===2){if(b=o,a.errorRecoveryDisabledLanes&b)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var O=a;v=cc;var G=O.current.memoizedState.isDehydrated;if(G&&(To(O,T).flags|=256),T=lp(O,T,!1),T!==2){if(Zm&&!G){O.errorRecoveryDisabledLanes|=b,Ii|=b,v=4;break e}b=Os,Os=v,b!==null&&ap(b)}v=T}if(b=!1,v!==2)continue}}if(v===1){To(a,0),fa(a,o,0,!0);break}e:{switch(d=a,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194176)===o){fa(d,o,rs,!ua);break e}break;case 2:Os=null;break;case 3:case 5:break;default:throw Error(s(329))}if(d.finishedWork=c,d.finishedLanes=o,(o&62914560)===o&&(b=tp+300-Rt(),10<b)){if(fa(d,o,rs,!ua),te(d,0)!==0)break e;d.timeoutHandle=ow($0.bind(null,d,c,Os,gd,ep,o,rs,Ii,Ro,ua,2,-0,0),b);break e}$0(d,c,Os,gd,ep,o,rs,Ii,Ro,ua,0,-0,0)}}break}while(!0);As(a)}function ap(a){Os===null?Os=a:Os.push.apply(Os,a)}function $0(a,o,c,d,v,b,T,O,G,ee,pe,je,ue){var he=o.subtreeFlags;if((he&8192||(he&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:QT},R0(o),o=JT(),o!==null)){a.cancelPendingCommit=o(q0.bind(null,a,c,d,v,T,O,G,1,je,ue)),fa(a,b,T,!ee);return}q0(a,c,d,v,T,O,G,pe,je,ue)}function gT(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],b=v.getSnapshot;v=v.value;try{if(!kr(b(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fa(a,o,c,d){o&=~Jm,o&=~Ii,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var v=o;0<v;){var b=31-jn(v),T=1<<b;d[b]=-1,v&=~T}c!==0&&ft(a,c,o)}function xd(){return(bn&6)===0?(fc(0),!1):!0}function ip(){if(jt!==null){if(un===0)var a=jt.return;else a=jt,sa=ki=null,fm(a),vo=null,Yl=0,a=jt;for(;a!==null;)P0(a.alternate,a),a=a.return;jt=null}}function To(a,o){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,PT(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ip(),cn=a,jt=c=Ya(a.current,null),At=o,un=0,Lr=null,ua=!1,Co=xe(a,o),Zm=!1,Ro=rs=Jm=Ii=Ga=Sn=0,Os=cc=null,ep=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var v=31-jn(d),b=1<<v;o|=a[v],d&=~b}return da=o,Bu(),c}function z0(a,o){vt=null,U.H=Ms,o===Vl?(o=ey(),un=3):o===Qb?(o=ey(),un=4):un=o===Zy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Lr=o,jt===null&&(Sn=1,ld(a,Kr(o,a.current)))}function U0(){var a=U.H;return U.H=Ms,a===null?Ms:a}function F0(){var a=U.A;return U.A=mT,a}function op(){Sn=4,ua||(At&4194176)!==At&&Jr.current!==null||(Co=!0),(Ga&134217727)===0&&(Ii&134217727)===0||cn===null||fa(cn,At,rs,!1)}function lp(a,o,c){var d=bn;bn|=2;var v=U0(),b=F0();(cn!==a||At!==o)&&(gd=null,To(a,o)),o=!1;var T=Sn;e:do try{if(un!==0&&jt!==null){var O=jt,G=Lr;switch(un){case 8:ip(),T=6;break e;case 3:case 2:case 6:Jr.current===null&&(o=!0);var ee=un;if(un=0,Lr=null,Mo(a,O,G,ee),c&&Co){T=0;break e}break;default:ee=un,un=0,Lr=null,Mo(a,O,G,ee)}}vT(),T=Sn;break}catch(pe){z0(a,pe)}while(!0);return o&&a.shellSuspendCounter++,sa=ki=null,bn=d,U.H=v,U.A=b,jt===null&&(cn=null,At=0,Bu()),T}function vT(){for(;jt!==null;)B0(jt)}function xT(a,o){var c=bn;bn|=2;var d=U0(),v=F0();cn!==a||At!==o?(gd=null,pd=Rt()+500,To(a,o)):Co=xe(a,o);e:do try{if(un!==0&&jt!==null){o=jt;var b=Lr;t:switch(un){case 1:un=0,Lr=null,Mo(a,o,b,1);break;case 2:if(Zb(b)){un=0,Lr=null,H0(o);break}o=function(){un===2&&cn===a&&(un=7),As(a)},b.then(o,o);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:Zb(b)?(un=0,Lr=null,H0(o)):(un=0,Lr=null,Mo(a,o,b,7));break;case 5:var T=null;switch(jt.tag){case 26:T=jt.memoizedState;case 5:case 27:var O=jt;if(!T||xw(T)){un=0,Lr=null;var G=O.sibling;if(G!==null)jt=G;else{var ee=O.return;ee!==null?(jt=ee,bd(ee)):jt=null}break t}}un=0,Lr=null,Mo(a,o,b,5);break;case 6:un=0,Lr=null,Mo(a,o,b,6);break;case 8:ip(),Sn=6;break e;default:throw Error(s(462))}}bT();break}catch(pe){z0(a,pe)}while(!0);return sa=ki=null,U.H=d,U.A=v,bn=c,jt!==null?0:(cn=null,At=0,Bu(),Sn)}function bT(){for(;jt!==null&&!Ve();)B0(jt)}function B0(a){var o=u0(a.alternate,a,da);a.memoizedProps=a.pendingProps,o===null?bd(a):jt=o}function H0(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=s0(c,o,o.pendingProps,o.type,void 0,At);break;case 11:o=s0(c,o,o.pendingProps,o.type.render,o.ref,At);break;case 5:fm(o);default:P0(c,o),o=jt=A0(o,da),o=u0(c,o,da)}a.memoizedProps=a.pendingProps,o===null?bd(a):jt=o}function Mo(a,o,c,d){sa=ki=null,fm(o),vo=null,Yl=0;var v=o.return;try{if(oT(a,v,o,c,At)){Sn=1,ld(a,Kr(c,a.current)),jt=null;return}}catch(b){if(v!==null)throw jt=v,b;Sn=1,ld(a,Kr(c,a.current)),jt=null;return}o.flags&32768?(Ht||d===1?a=!0:Co||(At&536870912)!==0?a=!1:(ua=a=!0,(d===2||d===3||d===6)&&(d=Jr.current,d!==null&&d.tag===13&&(d.flags|=16384))),V0(o,a)):bd(o)}function bd(a){var o=a;do{if((o.flags&32768)!==0){V0(o,ua);return}a=o.return;var c=fT(o.alternate,o,da);if(c!==null){jt=c;return}if(o=o.sibling,o!==null){jt=o;return}jt=o=a}while(o!==null);Sn===0&&(Sn=5)}function V0(a,o){do{var c=hT(a.alternate,a);if(c!==null){c.flags&=32767,jt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){jt=a;return}jt=a=c}while(a!==null);Sn=6,jt=null}function q0(a,o,c,d,v,b,T,O,G,ee){var pe=U.T,je=P.p;try{P.p=2,U.T=null,yT(a,o,c,d,je,v,b,T,O,G,ee)}finally{U.T=pe,P.p=je}}function yT(a,o,c,d,v,b,T,O){do Oo();while($i!==null);if((bn&6)!==0)throw Error(s(327));var G=a.finishedWork;if(d=a.finishedLanes,G===null)return null;if(a.finishedWork=null,a.finishedLanes=0,G===a.current)throw Error(s(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var ee=G.lanes|G.childLanes;if(ee|=Qh,gt(a,d,ee,b,T,O),a===cn&&(jt=cn=null,At=0),(G.subtreeFlags&10256)===0&&(G.flags&10256)===0||vd||(vd=!0,np=ee,rp=c,ST(on,function(){return Oo(),null})),c=(G.flags&15990)!==0,(G.subtreeFlags&15990)!==0||c?(c=U.T,U.T=null,b=P.p,P.p=2,T=bn,bn|=4,cT(a,G),_0(G,a),VR(yp,a.containerInfo),Od=!!bp,yp=bp=null,a.current=G,w0(a,G.alternate,G),St(),bn=T,P.p=b,U.T=c):a.current=G,vd?(vd=!1,$i=a,uc=d):Y0(a,ee),ee=a.pendingLanes,ee===0&&(Wa=null),ur(G.stateNode),As(a),o!==null)for(v=a.onRecoverableError,G=0;G<o.length;G++)ee=o[G],v(ee.value,{componentStack:ee.stack});return(uc&3)!==0&&Oo(),ee=a.pendingLanes,(d&4194218)!==0&&(ee&42)!==0?a===sp?dc++:(dc=0,sp=a):dc=0,fc(0),null}function Y0(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Wl(o)))}function Oo(){if($i!==null){var a=$i,o=np;np=0;var c=It(uc),d=U.T,v=P.p;try{if(P.p=32>c?32:c,U.T=null,$i===null)var b=!1;else{c=rp,rp=null;var T=$i,O=uc;if($i=null,uc=0,(bn&6)!==0)throw Error(s(331));var G=bn;if(bn|=4,M0(T.current),C0(T,T.current,O,c),bn=G,fc(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ln,T)}catch{}b=!0}return b}finally{P.p=v,U.T=d,Y0(a,o)}}return!1}function G0(a,o,c){o=Kr(c,o),o=Em(a.stateNode,o,2),a=Ba(a,o,2),a!==null&&(We(a,2),As(a))}function an(a,o,c){if(a.tag===3)G0(a,a,c);else for(;o!==null;){if(o.tag===3){G0(o,a,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Wa===null||!Wa.has(d))){a=Kr(c,a),c=Ky(2),d=Ba(o,c,2),d!==null&&(Qy(c,d,o,a),We(d,2),As(d));break}}o=o.return}}function cp(a,o,c){var d=a.pingCache;if(d===null){d=a.pingCache=new pT;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(c)||(Zm=!0,v.add(c),a=wT.bind(null,a,o,c),o.then(a,a))}function wT(a,o,c){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,cn===a&&(At&c)===c&&(Sn===4||Sn===3&&(At&62914560)===At&&300>Rt()-tp?(bn&2)===0&&To(a,0):Jm|=c,Ro===At&&(Ro=0)),As(a)}function W0(a,o){o===0&&(o=Be()),a=Da(a,o),a!==null&&(We(a,o),As(a))}function jT(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),W0(a,c)}function NT(a,o){var c=0;switch(a.tag){case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(o),W0(a,c)}function ST(a,o){return De(a,o)}var yd=null,Ao=null,up=!1,wd=!1,dp=!1,zi=0;function As(a){a!==Ao&&a.next===null&&(Ao===null?yd=Ao=a:Ao=Ao.next=a),wd=!0,up||(up=!0,ET(_T))}function fc(a,o){if(!dp&&wd){dp=!0;do for(var c=!1,d=yd;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var T=d.suspendedLanes,O=d.pingedLanes;b=(1<<31-jn(42|a)+1)-1,b&=v&~(T&~O),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(c=!0,Q0(d,b))}else b=At,b=te(d,d===cn?b:0),(b&3)===0||xe(d,b)||(c=!0,Q0(d,b));d=d.next}while(c);dp=!1}}function _T(){wd=up=!1;var a=0;zi!==0&&(DT()&&(a=zi),zi=0);for(var o=Rt(),c=null,d=yd;d!==null;){var v=d.next,b=X0(d,o);b===0?(d.next=null,c===null?yd=v:c.next=v,v===null&&(Ao=c)):(c=d,(a!==0||(b&3)!==0)&&(wd=!0)),d=v}fc(a)}function X0(a,o){for(var c=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var T=31-jn(b),O=1<<T,G=v[T];G===-1?((O&c)===0||(O&d)!==0)&&(v[T]=_e(O,o)):G<=o&&(a.expiredLanes|=O),b&=~O}if(o=cn,c=At,c=te(a,a===o?c:0),d=a.callbackNode,c===0||a===o&&un===2||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Qe(d),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||xe(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(d!==null&&Qe(d),It(c)){case 2:case 8:c=it;break;case 32:c=on;break;case 268435456:c=In;break;default:c=on}return d=K0.bind(null,a),c=De(c,d),a.callbackPriority=o,a.callbackNode=c,o}return d!==null&&d!==null&&Qe(d),a.callbackPriority=2,a.callbackNode=null,2}function K0(a,o){var c=a.callbackNode;if(Oo()&&a.callbackNode!==c)return null;var d=At;return d=te(a,a===cn?d:0),d===0?null:(I0(a,d,o),X0(a,Rt()),a.callbackNode!=null&&a.callbackNode===c?K0.bind(null,a):null)}function Q0(a,o){if(Oo())return null;I0(a,o,!0)}function ET(a){LT(function(){(bn&6)!==0?De(Fe,a):a()})}function fp(){return zi===0&&(zi=Ae()),zi}function Z0(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Pu(""+a)}function J0(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function CT(a,o,c,d,v){if(o==="submit"&&c&&c.stateNode===v){var b=Z0((v[On]||null).action),T=d.submitter;T&&(o=(o=T[On]||null)?Z0(o.formAction):T.getAttribute("formAction"),o!==null&&(b=o,T=null));var O=new zu("action","action",null,d,v);a.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(zi!==0){var G=T?J0(v,T):new FormData(v);wm(c,{pending:!0,data:G,method:v.method,action:b},null,G)}}else typeof b=="function"&&(O.preventDefault(),G=T?J0(v,T):new FormData(v),wm(c,{pending:!0,data:G,method:v.method,action:b},b,G))},currentTarget:v}]})}}for(var hp=0;hp<qb.length;hp++){var mp=qb[hp],RT=mp.toLowerCase(),TT=mp[0].toUpperCase()+mp.slice(1);fs(RT,"on"+TT)}fs(Ub,"onAnimationEnd"),fs(Fb,"onAnimationIteration"),fs(Bb,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(YR,"onTransitionRun"),fs(GR,"onTransitionStart"),fs(WR,"onTransitionCancel"),fs(Hb,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function ew(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var d=a[c],v=d.event;d=d.listeners;e:{var b=void 0;if(o)for(var T=d.length-1;0<=T;T--){var O=d[T],G=O.instance,ee=O.currentTarget;if(O=O.listener,G!==b&&v.isPropagationStopped())break e;b=O,v.currentTarget=ee;try{b(v)}catch(pe){od(pe)}v.currentTarget=null,b=G}else for(T=0;T<d.length;T++){if(O=d[T],G=O.instance,ee=O.currentTarget,O=O.listener,G!==b&&v.isPropagationStopped())break e;b=O,v.currentTarget=ee;try{b(v)}catch(pe){od(pe)}v.currentTarget=null,b=G}}}}function Tt(a,o){var c=o[Ee];c===void 0&&(c=o[Ee]=new Set);var d=a+"__bubble";c.has(d)||(tw(o,a,2,!1),c.add(d))}function pp(a,o,c){var d=0;o&&(d|=4),tw(c,a,d,o)}var jd="_reactListening"+Math.random().toString(36).slice(2);function gp(a){if(!a[jd]){a[jd]=!0,sb.forEach(function(c){c!=="selectionchange"&&(MT.has(c)||pp(c,!1,a),pp(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[jd]||(o[jd]=!0,pp("selectionchange",!1,o))}}function tw(a,o,c,d){switch(Sw(o)){case 2:var v=nM;break;case 8:v=rM;break;default:v=Tp}c=v.bind(null,o,c,a),v=void 0,!$h||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(o,c,{capture:!0,passive:v}):a.addEventListener(o,c,!0):v!==void 0?a.addEventListener(o,c,{passive:v}):a.addEventListener(o,c,!1)}function vp(a,o,c,d,v){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var O=d.stateNode.containerInfo;if(O===v||O.nodeType===8&&O.parentNode===v)break;if(T===4)for(T=d.return;T!==null;){var G=T.tag;if((G===3||G===4)&&(G=T.stateNode.containerInfo,G===v||G.nodeType===8&&G.parentNode===v))return;T=T.return}for(;O!==null;){if(T=Hn(O),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){d=b=T;continue e}O=O.parentNode}}d=d.return}gb(function(){var ee=b,pe=Lh(c),je=[];e:{var ue=Vb.get(a);if(ue!==void 0){var he=zu,He=a;switch(a){case"keypress":if(Iu(c)===0)break e;case"keydown":case"keyup":he=NR;break;case"focusin":He="focus",he=Bh;break;case"focusout":He="blur",he=Bh;break;case"beforeblur":case"afterblur":he=Bh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=bb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=dR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=ER;break;case Ub:case Fb:case Bb:he=mR;break;case Hb:he=RR;break;case"scroll":case"scrollend":he=cR;break;case"wheel":he=MR;break;case"copy":case"cut":case"paste":he=gR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=wb;break;case"toggle":case"beforetoggle":he=AR}var lt=(o&4)!==0,_n=!lt&&(a==="scroll"||a==="scrollend"),ae=lt?ue!==null?ue+"Capture":null:ue;lt=[];for(var Z=ee,ce;Z!==null;){var be=Z;if(ce=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ce===null||ae===null||(be=Al(Z,ae),be!=null&&lt.push(mc(Z,be,ce))),_n)break;Z=Z.return}0<lt.length&&(ue=new he(ue,He,null,c,pe),je.push({event:ue,listeners:lt}))}}if((o&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",he=a==="mouseout"||a==="pointerout",ue&&c!==Ph&&(He=c.relatedTarget||c.fromElement)&&(Hn(He)||He[fe]))break e;if((he||ue)&&(ue=pe.window===pe?pe:(ue=pe.ownerDocument)?ue.defaultView||ue.parentWindow:window,he?(He=c.relatedTarget||c.toElement,he=ee,He=He?Hn(He):null,He!==null&&(_n=q(He),lt=He.tag,He!==_n||lt!==5&&lt!==27&&lt!==6)&&(He=null)):(he=null,He=ee),he!==He)){if(lt=bb,be="onMouseLeave",ae="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(lt=wb,be="onPointerLeave",ae="onPointerEnter",Z="pointer"),_n=he==null?ue:Aa(he),ce=He==null?ue:Aa(He),ue=new lt(be,Z+"leave",he,c,pe),ue.target=_n,ue.relatedTarget=ce,be=null,Hn(pe)===ee&&(lt=new lt(ae,Z+"enter",He,c,pe),lt.target=ce,lt.relatedTarget=_n,be=lt),_n=be,he&&He)t:{for(lt=he,ae=He,Z=0,ce=lt;ce;ce=ko(ce))Z++;for(ce=0,be=ae;be;be=ko(be))ce++;for(;0<Z-ce;)lt=ko(lt),Z--;for(;0<ce-Z;)ae=ko(ae),ce--;for(;Z--;){if(lt===ae||ae!==null&&lt===ae.alternate)break t;lt=ko(lt),ae=ko(ae)}lt=null}else lt=null;he!==null&&nw(je,ue,he,lt,!1),He!==null&&_n!==null&&nw(je,_n,He,lt,!0)}}e:{if(ue=ee?Aa(ee):window,he=ue.nodeName&&ue.nodeName.toLowerCase(),he==="select"||he==="input"&&ue.type==="file")var $e=Tb;else if(Cb(ue))if(Mb)$e=BR;else{$e=UR;var yt=zR}else he=ue.nodeName,!he||he.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?ee&&Dh(ee.elementType)&&($e=Tb):$e=FR;if($e&&($e=$e(a,ee))){Rb(je,$e,c,pe);break e}yt&&yt(a,ue,ee),a==="focusout"&&ee&&ue.type==="number"&&ee.memoizedProps.value!=null&&kh(ue,"number",ue.value)}switch(yt=ee?Aa(ee):window,a){case"focusin":(Cb(yt)||yt.contentEditable==="true")&&(uo=yt,Wh=ee,Ul=null);break;case"focusout":Ul=Wh=uo=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,$b(je,c,pe);break;case"selectionchange":if(qR)break;case"keydown":case"keyup":$b(je,c,pe)}var qe;if(Vh)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else co?_b(a,c)&&(Ze="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(jb&&c.locale!=="ko"&&(co||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&co&&(qe=vb()):(ka=pe,zh="value"in ka?ka.value:ka.textContent,co=!0)),yt=Nd(ee,Ze),0<yt.length&&(Ze=new yb(Ze,a,null,c,pe),je.push({event:Ze,listeners:yt}),qe?Ze.data=qe:(qe=Eb(c),qe!==null&&(Ze.data=qe)))),(qe=DR?PR(a,c):LR(a,c))&&(Ze=Nd(ee,"onBeforeInput"),0<Ze.length&&(yt=new yb("onBeforeInput","beforeinput",null,c,pe),je.push({event:yt,listeners:Ze}),yt.data=qe)),CT(je,a,ee,c,pe)}ew(je,o)})}function mc(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Nd(a,o){for(var c=o+"Capture",d=[];a!==null;){var v=a,b=v.stateNode;v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Al(a,c),v!=null&&d.unshift(mc(a,v,b)),v=Al(a,o),v!=null&&d.push(mc(a,v,b))),a=a.return}return d}function ko(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nw(a,o,c,d,v){for(var b=o._reactName,T=[];c!==null&&c!==d;){var O=c,G=O.alternate,ee=O.stateNode;if(O=O.tag,G!==null&&G===d)break;O!==5&&O!==26&&O!==27||ee===null||(G=ee,v?(ee=Al(c,b),ee!=null&&T.unshift(mc(c,ee,G))):v||(ee=Al(c,b),ee!=null&&T.push(mc(c,ee,G)))),c=c.return}T.length!==0&&a.push({event:o,listeners:T})}var OT=/\r\n?/g,AT=/\u0000|\uFFFD/g;function rw(a){return(typeof a=="string"?a:""+a).replace(OT,`
`).replace(AT,"")}function sw(a,o){return o=rw(o),rw(a)===o}function Sd(){}function rn(a,o,c,d,v,b){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||io(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&io(a,""+d);break;case"className":Au(a,"class",d);break;case"tabIndex":Au(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Au(a,c,d);break;case"style":mb(a,d,b);break;case"data":if(o!=="object"){Au(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Pu(""+d),a.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&rn(a,o,"name",v.name,v,null),rn(a,o,"formEncType",v.formEncType,v,null),rn(a,o,"formMethod",v.formMethod,v,null),rn(a,o,"formTarget",v.formTarget,v,null)):(rn(a,o,"encType",v.encType,v,null),rn(a,o,"method",v.method,v,null),rn(a,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Pu(""+d),a.setAttribute(c,d);break;case"onClick":d!=null&&(a.onclick=Sd);break;case"onScroll":d!=null&&Tt("scroll",a);break;case"onScrollEnd":d!=null&&Tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}c=Pu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""+d):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":d===!0?a.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,d):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(c,d):a.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(c):a.setAttribute(c,d);break;case"popover":Tt("beforetoggle",a),Tt("toggle",a),Ou(a,"popover",d);break;case"xlinkActuate":Zs(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Zs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Zs(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Zs(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Zs(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Zs(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Zs(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Zs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Zs(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ou(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=oR.get(c)||c,Ou(a,c,d))}}function xp(a,o,c,d,v,b){switch(c){case"style":mb(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(s(60));a.innerHTML=c}}break;case"children":typeof d=="string"?io(a,d):(typeof d=="number"||typeof d=="bigint")&&io(a,""+d);break;case"onScroll":d!=null&&Tt("scroll",a);break;case"onScrollEnd":d!=null&&Tt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ab.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),b=a[On]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(o,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,d,v);break e}c in a?a[c]=d:d===!0?a.setAttribute(c,""):Ou(a,c,d)}}}function tr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",a),Tt("load",a);var d=!1,v=!1,b;for(b in c)if(c.hasOwnProperty(b)){var T=c[b];if(T!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:rn(a,o,b,T,c,null)}}v&&rn(a,o,"srcSet",c.srcSet,c,null),d&&rn(a,o,"src",c.src,c,null);return;case"input":Tt("invalid",a);var O=b=T=v=null,G=null,ee=null;for(d in c)if(c.hasOwnProperty(d)){var pe=c[d];if(pe!=null)switch(d){case"name":v=pe;break;case"type":T=pe;break;case"checked":G=pe;break;case"defaultChecked":ee=pe;break;case"value":b=pe;break;case"defaultValue":O=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,o));break;default:rn(a,o,d,pe,c,null)}}ub(a,b,O,G,ee,T,v,!1),ku(a);return;case"select":Tt("invalid",a),d=T=b=null;for(v in c)if(c.hasOwnProperty(v)&&(O=c[v],O!=null))switch(v){case"value":b=O;break;case"defaultValue":T=O;break;case"multiple":d=O;default:rn(a,o,v,O,c,null)}o=b,c=T,a.multiple=!!d,o!=null?ao(a,!!d,o,!1):c!=null&&ao(a,!!d,c,!0);return;case"textarea":Tt("invalid",a),b=v=d=null;for(T in c)if(c.hasOwnProperty(T)&&(O=c[T],O!=null))switch(T){case"value":d=O;break;case"defaultValue":v=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:rn(a,o,T,O,c,null)}fb(a,d,v,b),ku(a);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(d=c[G],d!=null))switch(G){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:rn(a,o,G,d,c,null)}return;case"dialog":Tt("cancel",a),Tt("close",a);break;case"iframe":case"object":Tt("load",a);break;case"video":case"audio":for(d=0;d<hc.length;d++)Tt(hc[d],a);break;case"image":Tt("error",a),Tt("load",a);break;case"details":Tt("toggle",a);break;case"embed":case"source":case"link":Tt("error",a),Tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(d=c[ee],d!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:rn(a,o,ee,d,c,null)}return;default:if(Dh(o)){for(pe in c)c.hasOwnProperty(pe)&&(d=c[pe],d!==void 0&&xp(a,o,pe,d,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(d=c[O],d!=null&&rn(a,o,O,d,c,null))}function kT(a,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,T=null,O=null,G=null,ee=null,pe=null;for(he in c){var je=c[he];if(c.hasOwnProperty(he)&&je!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":G=je;default:d.hasOwnProperty(he)||rn(a,o,he,null,d,je)}}for(var ue in d){var he=d[ue];if(je=c[ue],d.hasOwnProperty(ue)&&(he!=null||je!=null))switch(ue){case"type":b=he;break;case"name":v=he;break;case"checked":ee=he;break;case"defaultChecked":pe=he;break;case"value":T=he;break;case"defaultValue":O=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,o));break;default:he!==je&&rn(a,o,ue,he,d,je)}}Ah(a,T,O,G,ee,pe,b,v);return;case"select":he=T=O=ue=null;for(b in c)if(G=c[b],c.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":he=G;default:d.hasOwnProperty(b)||rn(a,o,b,null,d,G)}for(v in d)if(b=d[v],G=c[v],d.hasOwnProperty(v)&&(b!=null||G!=null))switch(v){case"value":ue=b;break;case"defaultValue":O=b;break;case"multiple":T=b;default:b!==G&&rn(a,o,v,b,d,G)}o=O,c=T,d=he,ue!=null?ao(a,!!c,ue,!1):!!d!=!!c&&(o!=null?ao(a,!!c,o,!0):ao(a,!!c,c?[]:"",!1));return;case"textarea":he=ue=null;for(O in c)if(v=c[O],c.hasOwnProperty(O)&&v!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:rn(a,o,O,null,d,v)}for(T in d)if(v=d[T],b=c[T],d.hasOwnProperty(T)&&(v!=null||b!=null))switch(T){case"value":ue=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==b&&rn(a,o,T,v,d,b)}db(a,ue,he);return;case"option":for(var He in c)if(ue=c[He],c.hasOwnProperty(He)&&ue!=null&&!d.hasOwnProperty(He))switch(He){case"selected":a.selected=!1;break;default:rn(a,o,He,null,d,ue)}for(G in d)if(ue=d[G],he=c[G],d.hasOwnProperty(G)&&ue!==he&&(ue!=null||he!=null))switch(G){case"selected":a.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:rn(a,o,G,ue,d,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in c)ue=c[lt],c.hasOwnProperty(lt)&&ue!=null&&!d.hasOwnProperty(lt)&&rn(a,o,lt,null,d,ue);for(ee in d)if(ue=d[ee],he=c[ee],d.hasOwnProperty(ee)&&ue!==he&&(ue!=null||he!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,o));break;default:rn(a,o,ee,ue,d,he)}return;default:if(Dh(o)){for(var _n in c)ue=c[_n],c.hasOwnProperty(_n)&&ue!==void 0&&!d.hasOwnProperty(_n)&&xp(a,o,_n,void 0,d,ue);for(pe in d)ue=d[pe],he=c[pe],!d.hasOwnProperty(pe)||ue===he||ue===void 0&&he===void 0||xp(a,o,pe,ue,d,he);return}}for(var ae in c)ue=c[ae],c.hasOwnProperty(ae)&&ue!=null&&!d.hasOwnProperty(ae)&&rn(a,o,ae,null,d,ue);for(je in d)ue=d[je],he=c[je],!d.hasOwnProperty(je)||ue===he||ue==null&&he==null||rn(a,o,je,ue,d,he)}var bp=null,yp=null;function _d(a){return a.nodeType===9?a:a.ownerDocument}function aw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iw(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function wp(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jp=null;function DT(){var a=window.event;return a&&a.type==="popstate"?a===jp?!1:(jp=a,!0):(jp=null,!1)}var ow=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(a){return lw.resolve(null).then(a).catch(IT)}:ow;function IT(a){setTimeout(function(){throw a})}function Np(a,o){var c=o,d=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(d===0){a.removeChild(v),jc(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=v}while(c);jc(o)}function Sp(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Sp(c),jr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function $T(a,o,c,d){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Zn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=ps(a.nextSibling),a===null)break}return null}function zT(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=ps(a.nextSibling),a===null))return null;return a}function ps(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function cw(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return a;o--}else c==="/$"&&o++}a=a.previousSibling}return null}function uw(a,o,c){switch(o=_d(c),a){case"html":if(a=o.documentElement,!a)throw Error(s(452));return a;case"head":if(a=o.head,!a)throw Error(s(453));return a;case"body":if(a=o.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}var ss=new Map,dw=new Set;function Ed(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var ha=P.d;P.d={f:UT,r:FT,D:BT,C:HT,L:VT,m:qT,X:GT,S:YT,M:WT};function UT(){var a=ha.f(),o=xd();return a||o}function FT(a){var o=$t(a);o!==null&&o.tag===5&&o.type==="form"?$y(o):ha.r(a)}var Do=typeof document>"u"?null:document;function fw(a,o,c){var d=Do;if(d&&typeof o=="string"&&o){var v=Wr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),dw.has(v)||(dw.add(v),a={rel:a,crossOrigin:c,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),tr(o,"link",a),An(o),d.head.appendChild(o)))}}function BT(a){ha.D(a),fw("dns-prefetch",a,null)}function HT(a,o){ha.C(a,o),fw("preconnect",a,o)}function VT(a,o,c){ha.L(a,o,c);var d=Do;if(d&&a&&o){var v='link[rel="preload"][as="'+Wr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Wr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Wr(c.imageSizes)+'"]')):v+='[href="'+Wr(a)+'"]';var b=v;switch(o){case"style":b=Po(a);break;case"script":b=Lo(a)}ss.has(b)||(a=Y({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),ss.set(b,a),d.querySelector(v)!==null||o==="style"&&d.querySelector(pc(b))||o==="script"&&d.querySelector(gc(b))||(o=d.createElement("link"),tr(o,"link",a),An(o),d.head.appendChild(o)))}}function qT(a,o){ha.m(a,o);var c=Do;if(c&&a){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Wr(d)+'"][href="'+Wr(a)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Lo(a)}if(!ss.has(b)&&(a=Y({rel:"modulepreload",href:a},o),ss.set(b,a),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(gc(b)))return}d=c.createElement("link"),tr(d,"link",a),An(d),c.head.appendChild(d)}}}function YT(a,o,c){ha.S(a,o,c);var d=Do;if(d&&a){var v=Ks(d).hoistableStyles,b=Po(a);o=o||"default";var T=v.get(b);if(!T){var O={loading:0,preload:null};if(T=d.querySelector(pc(b)))O.loading=5;else{a=Y({rel:"stylesheet",href:a,"data-precedence":o},c),(c=ss.get(b))&&_p(a,c);var G=T=d.createElement("link");An(G),tr(G,"link",a),G._p=new Promise(function(ee,pe){G.onload=ee,G.onerror=pe}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Cd(T,o,d)}T={type:"stylesheet",instance:T,count:1,state:O},v.set(b,T)}}}function GT(a,o){ha.X(a,o);var c=Do;if(c&&a){var d=Ks(c).hoistableScripts,v=Lo(a),b=d.get(v);b||(b=c.querySelector(gc(v)),b||(a=Y({src:a,async:!0},o),(o=ss.get(v))&&Ep(a,o),b=c.createElement("script"),An(b),tr(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function WT(a,o){ha.M(a,o);var c=Do;if(c&&a){var d=Ks(c).hoistableScripts,v=Lo(a),b=d.get(v);b||(b=c.querySelector(gc(v)),b||(a=Y({src:a,async:!0,type:"module"},o),(o=ss.get(v))&&Ep(a,o),b=c.createElement("script"),An(b),tr(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function hw(a,o,c,d){var v=(v=ot.current)?Ed(v):null;if(!v)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Po(c.href),c=Ks(v).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Po(c.href);var b=Ks(v).hoistableStyles,T=b.get(a);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,T),(b=v.querySelector(pc(a)))&&!b._p&&(T.instance=b,T.state.loading=5),ss.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ss.set(a,c),b||XT(v,a,c,T.state))),o&&d===null)throw Error(s(528,""));return T}if(o&&d!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Lo(c),c=Ks(v).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Po(a){return'href="'+Wr(a)+'"'}function pc(a){return'link[rel="stylesheet"]['+a+"]"}function mw(a){return Y({},a,{"data-precedence":a.precedence,precedence:null})}function XT(a,o,c,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),tr(o,"link",c),An(o),a.head.appendChild(o))}function Lo(a){return'[src="'+Wr(a)+'"]'}function gc(a){return"script[async]"+a}function pw(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+Wr(c.href)+'"]');if(d)return o.instance=d,An(d),d;var v=Y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),An(d),tr(d,"style",v),Cd(d,c.precedence,a),o.instance=d;case"stylesheet":v=Po(c.href);var b=a.querySelector(pc(v));if(b)return o.state.loading|=4,o.instance=b,An(b),b;d=mw(c),(v=ss.get(v))&&_p(d,v),b=(a.ownerDocument||a).createElement("link"),An(b);var T=b;return T._p=new Promise(function(O,G){T.onload=O,T.onerror=G}),tr(b,"link",d),o.state.loading|=4,Cd(b,c.precedence,a),o.instance=b;case"script":return b=Lo(c.src),(v=a.querySelector(gc(b)))?(o.instance=v,An(v),v):(d=c,(v=ss.get(b))&&(d=Y({},c),Ep(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),An(v),tr(v,"link",d),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Cd(d,c.precedence,a));return o.instance}function Cd(a,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,T=0;T<d.length;T++){var O=d[T];if(O.dataset.precedence===o)b=O;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function _p(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ep(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Rd=null;function gw(a,o,c){if(Rd===null){var d=new Map,v=Rd=new Map;v.set(c,d)}else v=Rd,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(a))return d;for(d.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var b=c[v];if(!(b[Zn]||b[gn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(o)||"";T=a+T;var O=d.get(T);O?O.push(b):d.set(T,[b])}}return d}function vw(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function KT(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function xw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var vc=null;function QT(){}function ZT(a,o,c){if(vc===null)throw Error(s(475));var d=vc;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Po(c.href),b=a.querySelector(pc(v));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Td.bind(d),a.then(d,d)),o.state.loading|=4,o.instance=b,An(b);return}b=a.ownerDocument||a,c=mw(c),(v=ss.get(v))&&_p(c,v),b=b.createElement("link"),An(b);var T=b;T._p=new Promise(function(O,G){T.onload=O,T.onerror=G}),tr(b,"link",c),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Td.bind(d),a.addEventListener("load",o),a.addEventListener("error",o))}}function JT(){if(vc===null)throw Error(s(475));var a=vc;return a.stylesheets&&a.count===0&&Cp(a,a.stylesheets),0<a.count?function(o){var c=setTimeout(function(){if(a.stylesheets&&Cp(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Td(){if(this.count--,this.count===0){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Md=null;function Cp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Md=new Map,o.forEach(eM,a),Md=null,Td.call(a))}function eM(a,o){if(!(o.state.loading&4)){var c=Md.get(a);if(c)var d=c.get(null);else{c=new Map,Md.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var T=v[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),d=T)}d&&c.set(null,d)}v=o.instance,T=v.getAttribute("data-precedence"),b=c.get(T)||d,b===d&&c.set(null,v),c.set(T,v),this.count++,d=Td.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var xc={$$typeof:w,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function tM(a,o,c,d,v,b,T,O){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function bw(a,o,c,d,v,b,T,O,G,ee,pe,je){return a=new tM(a,o,c,T,O,G,ee,je),o=1,b===!0&&(o|=24),b=ns(3,null,null,o),a.current=b,b.stateNode=a,o=am(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:o},zm(b),a}function yw(a){return a?(a=mo,a):mo}function ww(a,o,c,d,v,b){v=yw(v),d.context===null?d.context=v:d.pendingContext=v,d=Fa(o),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=Ba(a,d,o),c!==null&&(fr(c,a,o),tc(c,a,o))}function jw(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Rp(a,o){jw(a,o),(a=a.alternate)&&jw(a,o)}function Nw(a){if(a.tag===13){var o=Da(a,67108864);o!==null&&fr(o,a,67108864),Rp(a,67108864)}}var Od=!0;function nM(a,o,c,d){var v=U.T;U.T=null;var b=P.p;try{P.p=2,Tp(a,o,c,d)}finally{P.p=b,U.T=v}}function rM(a,o,c,d){var v=U.T;U.T=null;var b=P.p;try{P.p=8,Tp(a,o,c,d)}finally{P.p=b,U.T=v}}function Tp(a,o,c,d){if(Od){var v=Mp(d);if(v===null)vp(a,o,d,Ad,c),_w(a,d);else if(aM(v,a,o,c,d))d.stopPropagation();else if(_w(a,d),o&4&&-1<sM.indexOf(a)){for(;v!==null;){var b=$t(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=ut(b.pendingLanes);if(T!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;T;){var G=1<<31-jn(T);O.entanglements[1]|=G,T&=~G}As(b),(bn&6)===0&&(pd=Rt()+500,fc(0))}}break;case 13:O=Da(b,2),O!==null&&fr(O,b,2),xd(),Rp(b,2)}if(b=Mp(d),b===null&&vp(a,o,d,Ad,c),b===v)break;v=b}v!==null&&d.stopPropagation()}else vp(a,o,d,null,c)}}function Mp(a){return a=Lh(a),Op(a)}var Ad=null;function Op(a){if(Ad=null,a=Hn(a),a!==null){var o=q(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=J(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Ad=a,null}function Sw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Fe:return 2;case it:return 8;case on:case Bn:return 32;case In:return 268435456;default:return 32}default:return 32}}var Ap=!1,Xa=null,Ka=null,Qa=null,bc=new Map,yc=new Map,Za=[],sM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(a,o){switch(a){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":bc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(o.pointerId)}}function wc(a,o,c,d,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},o!==null&&(o=$t(o),o!==null&&Nw(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function aM(a,o,c,d,v){switch(o){case"focusin":return Xa=wc(Xa,a,o,c,d,v),!0;case"dragenter":return Ka=wc(Ka,a,o,c,d,v),!0;case"mouseover":return Qa=wc(Qa,a,o,c,d,v),!0;case"pointerover":var b=v.pointerId;return bc.set(b,wc(bc.get(b)||null,a,o,c,d,v)),!0;case"gotpointercapture":return b=v.pointerId,yc.set(b,wc(yc.get(b)||null,a,o,c,d,v)),!0}return!1}function Ew(a){var o=Hn(a.target);if(o!==null){var c=q(o);if(c!==null){if(o=c.tag,o===13){if(o=J(c),o!==null){a.blockedOn=o,sn(a.priority,function(){if(c.tag===13){var d=Ir(),v=Da(c,d);v!==null&&fr(v,c,d),Rp(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function kd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Mp(a.nativeEvent);if(c===null){c=a.nativeEvent;var d=new c.constructor(c.type,c);Ph=d,c.target.dispatchEvent(d),Ph=null}else return o=$t(c),o!==null&&Nw(o),a.blockedOn=c,!1;o.shift()}return!0}function Cw(a,o,c){kd(a)&&c.delete(o)}function iM(){Ap=!1,Xa!==null&&kd(Xa)&&(Xa=null),Ka!==null&&kd(Ka)&&(Ka=null),Qa!==null&&kd(Qa)&&(Qa=null),bc.forEach(Cw),yc.forEach(Cw)}function Dd(a,o){a.blockedOn===o&&(a.blockedOn=null,Ap||(Ap=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iM)))}var Pd=null;function Rw(a){Pd!==a&&(Pd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pd===a&&(Pd=null);for(var o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],v=a[o+2];if(typeof d!="function"){if(Op(d||c)===null)continue;break}var b=$t(c);b!==null&&(a.splice(o,3),o-=3,wm(b,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function jc(a){function o(G){return Dd(G,a)}Xa!==null&&Dd(Xa,a),Ka!==null&&Dd(Ka,a),Qa!==null&&Dd(Qa,a),bc.forEach(o),yc.forEach(o);for(var c=0;c<Za.length;c++){var d=Za[c];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Za.length&&(c=Za[0],c.blockedOn===null);)Ew(c),c.blockedOn===null&&Za.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],b=c[d+1],T=v[On]||null;if(typeof b=="function")T||Rw(c);else if(T){var O=null;if(b&&b.hasAttribute("formAction")){if(v=b,T=b[On]||null)O=T.formAction;else if(Op(v)!==null)continue}else O=T.action;typeof O=="function"?c[d+1]=O:(c.splice(d,3),d-=3),Rw(c)}}}function kp(a){this._internalRoot=a}Ld.prototype.render=kp.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,d=Ir();ww(c,d,a,o,null,null)},Ld.prototype.unmount=kp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&Oo(),ww(a.current,2,null,a,null,null),xd(),o[fe]=null}};function Ld(a){this._internalRoot=a}Ld.prototype.unstable_scheduleHydration=function(a){if(a){var o=Bt();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Za.length&&o!==0&&o<Za[c].priority;c++);Za.splice(c,0,a),c===0&&Ew(a)}};var Tw=t.version;if(Tw!=="19.0.0")throw Error(s(527,Tw,"19.0.0"));P.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=F(o),a=a!==null?B(a):null,a=a===null?null:a.stateNode,a};var oM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{ln=Id.inject(oM),Zt=Id}catch{}}return Sc.createRoot=function(a,o){if(!i(a))throw Error(s(299));var c=!1,d="",v=Yy,b=Gy,T=Wy,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=bw(a,1,!1,null,null,c,d,v,b,T,O,null),a[fe]=o.current,gp(a.nodeType===8?a.parentNode:a),new kp(o)},Sc.hydrateRoot=function(a,o,c){if(!i(a))throw Error(s(299));var d=!1,v="",b=Yy,T=Gy,O=Wy,G=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(G=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),o=bw(a,1,!0,o,c??null,d,v,b,T,O,G,ee),o.context=yw(null),c=o.current,d=Ir(),v=Fa(d),v.callback=null,Ba(c,v,d),o.current.lanes=d,We(o,d),As(o),a[fe]=o.current,gp(a),new Ld(o)},Sc.version="19.0.0",Sc}var zw;function xM(){if(zw)return Lp.exports;zw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lp.exports=vM(),Lp.exports}var bM=xM();const yM=Ff(bM);var _c={},Uw;function wM(){if(Uw)return _c;Uw=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.parse=u,_c.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,w){const j=new l,N=y.length;if(N<2)return j;const S=(w==null?void 0:w.decode)||g;let _=0;do{const E=y.indexOf("=",_);if(E===-1)break;const C=y.indexOf(";",_),M=C===-1?N:C;if(E>M){_=y.lastIndexOf(";",E-1)+1;continue}const R=h(y,_,E),A=f(y,E,R),k=y.slice(R,A);if(j[k]===void 0){let L=h(y,E+1,M),U=f(y,M,L);const Y=S(y.slice(L,U));j[k]=Y}_=M+1}while(_<N);return j}function h(y,w,j){do{const N=y.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<j);return j}function f(y,w,j){for(;w>j;){const N=y.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return j}function m(y,w,j){const N=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=N(w);if(!t.test(S))throw new TypeError(`argument val is invalid: ${w}`);let _=y+"="+S;if(!j)return _;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);_+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);_+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);_+="; Path="+j.path}if(j.expires){if(!x(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);_+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(_+="; HttpOnly"),j.secure&&(_+="; Secure"),j.partitioned&&(_+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return _}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function x(y){return i.call(y)==="[object Date]"}return _c}wM();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fw="popstate";function jM(e={}){function t(s,i){let{pathname:l,search:u,hash:h}=s.location;return Dg("",{pathname:l,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Hc(i)}return SM(t,n,null,e)}function mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NM(){return Math.random().toString(36).substring(2,10)}function Bw(e,t){return{usr:e.state,key:e.key,idx:t}}function Dg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vl(t):t,state:n,key:t&&t.key||s||NM()}}function Hc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function SM(e,t,n,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,u=i.history,h="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){h="POP";let S=g(),_=S==null?null:S-m;m=S,f&&f({action:h,location:N.location,delta:_})}function y(S,_){h="PUSH";let E=Dg(N.location,S,_);m=g()+1;let C=Bw(E,m),M=N.createHref(E);try{u.pushState(C,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(M)}l&&f&&f({action:h,location:N.location,delta:1})}function w(S,_){h="REPLACE";let E=Dg(N.location,S,_);m=g();let C=Bw(E,m),M=N.createHref(E);u.replaceState(C,"",M),l&&f&&f({action:h,location:N.location,delta:0})}function j(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:Hc(S);return E=E.replace(/ $/,"%20"),mn(_,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,_)}let N={get action(){return h},get location(){return e(i,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Fw,x),f=S,()=>{i.removeEventListener(Fw,x),f=null}},createHref(S){return t(i,S)},createURL:j,encodeLocation(S){let _=j(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:w,go(S){return u.go(S)}};return N}function sN(e,t,n="/"){return _M(e,t,n,!1)}function _M(e,t,n,s){let i=typeof t=="string"?vl(t):t,l=ba(i.pathname||"/",n);if(l==null)return null;let u=aN(e);EM(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=IM(l);h=PM(u[f],m,s)}return h}function aN(e,t=[],n=[],s=""){let i=(l,u,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(mn(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let m=ga([s,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(mn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),aN(l.children,t,g,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:kM(m,l.index),routesMeta:g})};return e.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))i(l,u);else for(let f of iN(l.path))i(l,u,f)}),t}function iN(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let u=iN(s.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),i&&h.push(...u),h.map(f=>e.startsWith("/")&&f===""?"/":f)}function EM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:DM(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CM=/^:[\w-]+$/,RM=3,TM=2,MM=1,OM=10,AM=-2,Hw=e=>e==="*";function kM(e,t){let n=e.split("/"),s=n.length;return n.some(Hw)&&(s+=AM),t&&(s+=TM),n.filter(i=>!Hw(i)).reduce((i,l)=>i+(CM.test(l)?RM:l===""?MM:OM),s)}function DM(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function PM(e,t,n=!1){let{routesMeta:s}=e,i={},l="/",u=[];for(let h=0;h<s.length;++h){let f=s[h],m=h===s.length-1,g=l==="/"?t:t.slice(l.length)||"/",x=xf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),y=f.route;if(!x&&m&&n&&!s[s.length-1].route.index&&(x=xf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:ga([l,x.pathname]),pathnameBase:FM(ga([l,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(l=ga([l,x.pathnameBase]))}return u}function xf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=LM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:x},y)=>{if(g==="*"){let j=h[y]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const w=h[y];return x&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function LM(e,t=!1,n=!0){bs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function IM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ba(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function $M(e,t="/"){let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?vl(e):e;return{pathname:n?n.startsWith("/")?n:zM(n,t):t,search:BM(s),hash:HM(i)}}function zM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Up(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nv(e){let t=UM(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Sv(e,t,n,s=!1){let i;typeof e=="string"?i=vl(e):(i={...e},mn(!i.pathname||!i.pathname.includes("?"),Up("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),Up("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),Up("#","search","hash",i)));let l=e===""||i.pathname==="",u=l?"/":i.pathname,h;if(u==null)h=n;else{let x=t.length-1;if(!s&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),x-=1;i.pathname=y.join("/")}h=x>=0?t[x]:"/"}let f=$M(i,h),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var ga=e=>e.join("/").replace(/\/\/+/g,"/"),FM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var oN=["POST","PUT","PATCH","DELETE"];new Set(oN);var qM=["GET",...oN];new Set(qM);var xl=p.createContext(null);xl.displayName="DataRouter";var Bf=p.createContext(null);Bf.displayName="DataRouterState";var lN=p.createContext({isTransitioning:!1});lN.displayName="ViewTransition";var YM=p.createContext(new Map);YM.displayName="Fetchers";var GM=p.createContext(null);GM.displayName="Await";var Es=p.createContext(null);Es.displayName="Navigation";var au=p.createContext(null);au.displayName="Location";var ds=p.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var _v=p.createContext(null);_v.displayName="RouteError";function WM(e,{relative:t}={}){mn(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=p.useContext(Es),{hash:i,pathname:l,search:u}=iu(e,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:ga([n,l])),s.createHref({pathname:h,search:u,hash:i})}function bl(){return p.useContext(au)!=null}function ja(){return mn(bl(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(au).location}var cN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uN(e){p.useContext(Es).static||p.useLayoutEffect(e)}function cr(){let{isDataRoute:e}=p.useContext(ds);return e?cO():XM()}function XM(){mn(bl(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(xl),{basename:t,navigator:n}=p.useContext(Es),{matches:s}=p.useContext(ds),{pathname:i}=ja(),l=JSON.stringify(Nv(s)),u=p.useRef(!1);return uN(()=>{u.current=!0}),p.useCallback((f,m={})=>{if(bs(u.current,cN),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Sv(f,JSON.parse(l),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ga([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,l,i,e])}var KM=p.createContext(null);function QM(e){let t=p.useContext(ds).outlet;return t&&p.createElement(KM.Provider,{value:e},t)}function br(){let{matches:e}=p.useContext(ds),t=e[e.length-1];return t?t.params:{}}function iu(e,{relative:t}={}){let{matches:n}=p.useContext(ds),{pathname:s}=ja(),i=JSON.stringify(Nv(n));return p.useMemo(()=>Sv(e,JSON.parse(i),s,t==="path"),[e,i,s,t])}function ZM(e,t){return dN(e,t)}function dN(e,t,n,s){var E;mn(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:l}=p.useContext(Es),{matches:u}=p.useContext(ds),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",x=h&&h.route;{let C=x&&x.path||"";fN(m,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=ja(),w;if(t){let C=typeof t=="string"?vl(t):t;mn(g==="/"||((E=C.pathname)==null?void 0:E.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=y;let j=w.pathname||"/",N=j;if(g!=="/"){let C=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=!l&&n&&n.matches&&n.matches.length>0?n.matches:sN(e,{pathname:N});bs(x||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=rO(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:ga([g,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:ga([g,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),u,n,s);return t&&_?p.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function JM(){let e=lO(),t=VM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:l},"ErrorBoundary")," or"," ",p.createElement("code",{style:l},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:i},n):null,u)}var eO=p.createElement(JM,null),tO=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(ds.Provider,{value:this.props.routeContext},p.createElement(_v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nO({routeContext:e,match:t,children:n}){let s=p.useContext(xl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(ds.Provider,{value:e},n)}function rO(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n==null?void 0:n.errors;if(l!=null){let f=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);mn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:x}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,m,g)=>{let x,y=!1,w=null,j=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||eO,u&&(h<0&&g===0?(fN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):h===g&&(y=!0,j=m.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,g+1)),S=()=>{let _;return x?_=w:y?_=j:m.route.Component?_=p.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,p.createElement(nO,{match:m,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?p.createElement(tO,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}function Ev(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sO(e){let t=p.useContext(xl);return mn(t,Ev(e)),t}function aO(e){let t=p.useContext(Bf);return mn(t,Ev(e)),t}function iO(e){let t=p.useContext(ds);return mn(t,Ev(e)),t}function Cv(e){let t=iO(e),n=t.matches[t.matches.length-1];return mn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function oO(){return Cv("useRouteId")}function lO(){var s;let e=p.useContext(_v),t=aO("useRouteError"),n=Cv("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function cO(){let{router:e}=sO("useNavigate"),t=Cv("useNavigate"),n=p.useRef(!1);return uN(()=>{n.current=!0}),p.useCallback(async(i,l={})=>{bs(n.current,cN),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var Vw={};function fN(e,t,n){!t&&!Vw[e]&&(Vw[e]=!0,bs(!1,n))}p.memo(uO);function uO({routes:e,future:t,state:n}){return dN(e,void 0,n,t)}function hN({to:e,replace:t,state:n,relative:s}){mn(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=p.useContext(Es);bs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=p.useContext(ds),{pathname:u}=ja(),h=cr(),f=Sv(e,Nv(l),u,s==="path"),m=JSON.stringify(f);return p.useEffect(()=>{h(JSON.parse(m),{replace:t,state:n,relative:s})},[h,m,s,t,n]),null}function mN(e){return QM(e.context)}function kt(e){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dO({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:i,static:l=!1}){mn(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=p.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=vl(n));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:y="default"}=n,w=p.useMemo(()=>{let j=ba(f,u);return j==null?null:{location:{pathname:j,search:m,hash:g,state:x,key:y},navigationType:s}},[u,f,m,g,x,y,s]);return bs(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:p.createElement(Es.Provider,{value:h},p.createElement(au.Provider,{children:t,value:w}))}function fO({children:e,location:t}){return ZM(Pg(e),t)}function Pg(e,t=[]){let n=[];return p.Children.forEach(e,(s,i)=>{if(!p.isValidElement(s))return;let l=[...t,i];if(s.type===p.Fragment){n.push.apply(n,Pg(s.props.children,l));return}mn(s.type===kt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Pg(s.props.children,l)),n.push(u)}),n}var af="get",of="application/x-www-form-urlencoded";function Hf(e){return e!=null&&typeof e.tagName=="string"}function hO(e){return Hf(e)&&e.tagName.toLowerCase()==="button"}function mO(e){return Hf(e)&&e.tagName.toLowerCase()==="form"}function pO(e){return Hf(e)&&e.tagName.toLowerCase()==="input"}function gO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vO(e,t){return e.button===0&&(!t||t==="_self")&&!gO(e)}var $d=null;function xO(){if($d===null)try{new FormData(document.createElement("form"),0),$d=!1}catch{$d=!0}return $d}var bO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(e){return e!=null&&!bO.has(e)?(bs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${of}"`),null):e}function yO(e,t){let n,s,i,l,u;if(mO(e)){let h=e.getAttribute("action");s=h?ba(h,t):null,n=e.getAttribute("method")||af,i=Fp(e.getAttribute("enctype"))||of,l=new FormData(e)}else if(hO(e)||pO(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||h.getAttribute("action");if(s=f?ba(f,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||af,i=Fp(e.getAttribute("formenctype"))||Fp(h.getAttribute("enctype"))||of,l=new FormData(h,e),!xO()){let{name:m,type:g,value:x}=e;if(g==="image"){let y=m?`${m}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else m&&l.append(m,x)}}else{if(Hf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=af,s=null,i=of,u=e}return l&&i==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:l,body:u}}function Rv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function wO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function NO(e,t,n){let s=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let u=await wO(l,n);return u.links?u.links():[]}return[]}));return CO(s.flat(1).filter(jO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qw(e,t,n,s,i,l){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>{var g;return n[m].pathname!==f.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>u(f,m)||h(f,m)):l==="data"?t.filter((f,m)=>{var x;let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function SO(e,t,{includeHydrateFallback:n}={}){return _O(e.map(s=>{let i=t.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function _O(e){return[...new Set(e)]}function EO(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function CO(e,t){let n=new Set;return new Set(t),e.reduce((s,i)=>{let l=JSON.stringify(EO(i));return n.has(l)||(n.add(l),s.push({key:l,link:i})),s},[])}function RO(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&ba(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function pN(){let e=p.useContext(xl);return Rv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TO(){let e=p.useContext(Bf);return Rv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tv=p.createContext(void 0);Tv.displayName="FrameworkContext";function gN(){let e=p.useContext(Tv);return Rv(e,"You must render this element inside a <HydratedRouter> element"),e}function MO(e,t){let n=p.useContext(Tv),[s,i]=p.useState(!1),[l,u]=p.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,y=p.useRef(null);p.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=_=>{_.forEach(E=>{u(E.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),p.useEffect(()=>{if(s){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[s]);let w=()=>{i(!0)},j=()=>{i(!1),u(!1)};return n?e!=="intent"?[l,y,{}]:[l,y,{onFocus:Ec(h,w),onBlur:Ec(f,j),onMouseEnter:Ec(m,w),onMouseLeave:Ec(g,j),onTouchStart:Ec(x,w)}]:[!1,y,{}]}function Ec(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function OO({page:e,...t}){let{router:n}=pN(),s=p.useMemo(()=>sN(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?p.createElement(kO,{page:e,matches:s,...t}):null}function AO(e){let{manifest:t,routeModules:n}=gN(),[s,i]=p.useState([]);return p.useEffect(()=>{let l=!1;return NO(e,t,n).then(u=>{l||i(u)}),()=>{l=!0}},[e,t,n]),s}function kO({page:e,matches:t,...n}){let s=ja(),{manifest:i,routeModules:l}=gN(),{basename:u}=pN(),{loaderData:h,matches:f}=TO(),m=p.useMemo(()=>qw(e,t,f,i,s,"data"),[e,t,f,i,s]),g=p.useMemo(()=>qw(e,t,f,i,s,"assets"),[e,t,f,i,s]),x=p.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,N=!1;if(t.forEach(_=>{var C;let E=i.routes[_.route.id];!E||!E.hasLoader||(!m.some(M=>M.route.id===_.route.id)&&_.route.id in h&&((C=l[_.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?N=!0:j.add(_.route.id))}),j.size===0)return[];let S=RO(e,u);return N&&j.size>0&&S.searchParams.set("_routes",t.filter(_=>j.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[u,h,s,i,m,t,e,l]),y=p.useMemo(()=>SO(g,i),[g,i]),w=AO(g);return p.createElement(p.Fragment,null,x.map(j=>p.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),y.map(j=>p.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),w.map(({key:j,link:N})=>p.createElement("link",{key:j,...N})))}function DO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vN&&(window.__reactRouterVersion="7.4.0")}catch{}function PO({basename:e,children:t,window:n}){let s=p.useRef();s.current==null&&(s.current=jM({window:n,v5Compat:!0}));let i=s.current,[l,u]=p.useState({action:i.action,location:i.location}),h=p.useCallback(f=>{p.startTransition(()=>u(f))},[u]);return p.useLayoutEffect(()=>i.listen(h),[i,h]),p.createElement(dO,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i})}var xN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=p.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:i,reloadDocument:l,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:x,...y},w){let{basename:j}=p.useContext(Es),N=typeof m=="string"&&xN.test(m),S,_=!1;if(typeof m=="string"&&N&&(S=m,vN))try{let U=new URL(window.location.href),Y=m.startsWith("//")?new URL(U.protocol+m):new URL(m),oe=ba(Y.pathname,j);Y.origin===U.origin&&oe!=null?m=oe+Y.search+Y.hash:_=!0}catch{bs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=WM(m,{relative:i}),[C,M,R]=MO(s,y),A=$O(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:x});function k(U){t&&t(U),U.defaultPrevented||A(U)}let L=p.createElement("a",{...y,...R,href:S||E,onClick:_||l?t:k,ref:DO(w,M),target:f,"data-discover":!N&&n==="render"?"true":void 0});return C&&!N?p.createElement(p.Fragment,null,L,p.createElement(OO,{page:E})):L});st.displayName="Link";var bN=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:u,viewTransition:h,children:f,...m},g){let x=iu(u,{relative:m.relative}),y=ja(),w=p.useContext(Bf),{navigator:j,basename:N}=p.useContext(Es),S=w!=null&&HO(x)&&h===!0,_=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,E=y.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&N&&(C=ba(C,N)||C);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=E===_||!i&&E.startsWith(_)&&E.charAt(M)==="/",A=C!=null&&(C===_||!i&&C.startsWith(_)&&C.charAt(_.length)==="/"),k={isActive:R,isPending:A,isTransitioning:S},L=R?t:void 0,U;typeof s=="function"?U=s(k):U=[s,R?"active":null,A?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Y=typeof l=="function"?l(k):l;return p.createElement(st,{...m,"aria-current":L,className:U,ref:g,style:Y,to:u,viewTransition:h},typeof f=="function"?f(k):f)});bN.displayName="NavLink";var LO=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:i,state:l,method:u=af,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x,...y},w)=>{let j=FO(),N=BO(h,{relative:m}),S=u.toLowerCase()==="get"?"get":"post",_=typeof h=="string"&&xN.test(h),E=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,R=(M==null?void 0:M.getAttribute("formmethod"))||u;j(M||C.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:i,state:l,relative:m,preventScrollReset:g,viewTransition:x})};return p.createElement("form",{ref:w,method:S,action:N,onSubmit:s?f:E,...y,"data-discover":!_&&e==="render"?"true":void 0})});LO.displayName="Form";function IO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(e){let t=p.useContext(xl);return mn(t,IO(e)),t}function $O(e,{target:t,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:u}={}){let h=cr(),f=ja(),m=iu(e,{relative:l});return p.useCallback(g=>{if(vO(g,t)){g.preventDefault();let x=n!==void 0?n:Hc(f)===Hc(m);h(e,{replace:x,state:s,preventScrollReset:i,relative:l,viewTransition:u})}},[f,h,m,n,s,t,e,i,l,u])}var zO=0,UO=()=>`__${String(++zO)}__`;function FO(){let{router:e}=yN("useSubmit"),{basename:t}=p.useContext(Es),n=oO();return p.useCallback(async(s,i={})=>{let{action:l,method:u,encType:h,formData:f,body:m}=yO(s,t);if(i.navigate===!1){let g=i.fetcherKey||UO();await e.fetch(g,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await e.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function BO(e,{relative:t}={}){let{basename:n}=p.useContext(Es),s=p.useContext(ds);mn(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...iu(e||".",{relative:t})},u=ja();if(e==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ga([n,l.pathname])),Hc(l)}function HO(e,t={}){let n=p.useContext(lN);mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yN("useViewTransitionState"),i=iu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=ba(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=ba(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xf(i.pathname,u)!=null||xf(i.pathname,l)!=null}new TextEncoder;var xs=rN();const wN=Ff(xs),VO="modulepreload",qO=function(e){return"/"+e},Yw={},ol=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(n.map(f=>{if(f=qO(f),f in Yw)return;Yw[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":VO,m||(x.as="script"),x.crossOrigin="",x.href=f,h&&x.setAttribute("nonce",h),document.head.appendChild(x),m)return new Promise((y,w)=>{x.addEventListener("load",y),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return i.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},YO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ol(async()=>{const{default:s}=await Promise.resolve().then(()=>yl);return{default:s}},[]).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Mv extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class GO extends Mv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class WO extends Mv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class XO extends Mv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lg||(Lg={}));var KO=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};class QO{constructor(t,{headers:n={},customFetch:s,region:i=Lg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=YO(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return KO(this,void 0,void 0,function*(){try{const{headers:i,method:l,body:u}=n;let h={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(h["x-region"]=f);let m;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)));const g=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:m}).catch(j=>{throw new GO(j)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new WO(g);if(!g.ok)throw new XO(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield g.json():y==="application/octet-stream"?w=yield g.blob():y==="text/event-stream"?w=g:y==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null}}catch(i){return{data:null,error:i}}})}}var Gn={},Io={},$o={},zo={},Uo={},Fo={},ZO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ll=ZO();const JO=ll.fetch,jN=ll.fetch.bind(ll),NN=ll.Headers,eA=ll.Request,tA=ll.Response,yl=Object.freeze(Object.defineProperty({__proto__:null,Headers:NN,Request:eA,Response:tA,default:jN,fetch:JO},Symbol.toStringTag,{value:"Module"})),nA=uM(yl);var zd={},Gw;function SN(){if(Gw)return zd;Gw=1,Object.defineProperty(zd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return zd.default=e,zd}var Ww;function _N(){if(Ww)return Fo;Ww=1;var e=Fo&&Fo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fo,"__esModule",{value:!0});const t=e(nA),n=e(SN());class s{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,x,y;let w=null,j=null,N=null,S=m.status,_=m.statusText;if(m.ok){if(this.method!=="HEAD"){const R=await m.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=R:j=JSON.parse(R))}const C=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(x=m.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");C&&M&&M.length>1&&(N=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,S=406,_="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const C=await m.text();try{w=JSON.parse(C),Array.isArray(w)&&m.status===404&&(j=[],w=null,S=200,_="OK")}catch{m.status===404&&C===""?(S=204,_="No Content"):w={message:C}}if(w&&this.isMaybeSingle&&(!((y=w==null?void 0:w.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,S=200,_="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:j,count:N,status:S,statusText:_}});return this.shouldThrowOnError||(f=f.catch(m=>{var g,x,y;return{error:{message:`${(g=m==null?void 0:m.name)!==null&&g!==void 0?g:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(x=m==null?void 0:m.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(y=m==null?void 0:m.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return Fo.default=s,Fo}var Xw;function EN(){if(Xw)return Uo;Xw=1;var e=Uo&&Uo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(_N());class n extends t.default{select(i){let l=!1;const u=(i??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const m=f?`${f}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:m="text"}={}){var g;const x=[i?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${y}"; options=${x};`,m==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Uo.default=n,Uo}var Kw;function Ov(){if(Kw)return zo;Kw=1;var e=zo&&zo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(EN());class n extends t.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}in(i,l){const u=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${f}fts${m}.${l}`),this}match(i){return Object.entries(i).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(i,l,u){return this.url.searchParams.append(i,`not.${l}.${u}`),this}or(i,{foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${i})`),this}filter(i,l,u){return this.url.searchParams.append(i,`${l}.${u}`),this}}return zo.default=n,zo}var Qw;function CN(){if(Qw)return $o;Qw=1;var e=$o&&$o.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(Ov());class n{constructor(i,{headers:l={},schema:u,fetch:h}){this.url=i,this.headers=l,this.schema=u,this.fetch=h}select(i,{head:l=!1,count:u}={}){const h=l?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",m),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:l,defaultToNull:u=!0}={}){const h="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const m=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){const m="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(i)){const x=i.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(x.length>0){const y=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:l}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),this.headers.Prefer=h.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const l="DELETE",u=[];return i&&u.push(`count=${i}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return $o.default=n,$o}var Cc={},Rc={},Zw;function rA(){return Zw||(Zw=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.version=void 0,Rc.version="0.0.0-automated"),Rc}var Jw;function sA(){if(Jw)return Cc;Jw=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.DEFAULT_HEADERS=void 0;const e=rA();return Cc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Cc}var ej;function aA(){if(ej)return Io;ej=1;var e=Io&&Io.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Io,"__esModule",{value:!0});const t=e(CN()),n=e(Ov()),s=sA();class i{constructor(u,{headers:h={},schema:f,fetch:m}={}){this.url=u,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),h),this.schemaName=f,this.fetch=m}from(u){const h=new URL(`${this.url}/${u}`);return new t.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:f=!1,get:m=!1,count:g}={}){let x;const y=new URL(`${this.url}/rpc/${u}`);let w;f||m?(x=f?"HEAD":"GET",Object.entries(h).filter(([N,S])=>S!==void 0).map(([N,S])=>[N,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([N,S])=>{y.searchParams.append(N,S)})):(x="POST",w=h);const j=Object.assign({},this.headers);return g&&(j.Prefer=`count=${g}`),new n.default({method:x,url:y,headers:j,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Io.default=i,Io}var tj;function iA(){if(tj)return Gn;tj=1;var e=Gn&&Gn.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.PostgrestError=Gn.PostgrestBuilder=Gn.PostgrestTransformBuilder=Gn.PostgrestFilterBuilder=Gn.PostgrestQueryBuilder=Gn.PostgrestClient=void 0;const t=e(aA());Gn.PostgrestClient=t.default;const n=e(CN());Gn.PostgrestQueryBuilder=n.default;const s=e(Ov());Gn.PostgrestFilterBuilder=s.default;const i=e(EN());Gn.PostgrestTransformBuilder=i.default;const l=e(_N());Gn.PostgrestBuilder=l.default;const u=e(SN());return Gn.PostgrestError=u.default,Gn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},Gn}var oA=iA();const lA=Ff(oA),{PostgrestClient:cA,PostgrestQueryBuilder:iY,PostgrestFilterBuilder:oY,PostgrestTransformBuilder:lY,PostgrestBuilder:cY,PostgrestError:uY}=lA,uA="2.11.2",dA={"X-Client-Info":`realtime-js/${uA}`},fA="1.0.0",RN=1e4,hA=1e3;var Jo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jo||(Jo={}));var zr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zr||(zr={}));var vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vs||(vs={}));var Ig;(function(e){e.websocket="websocket"})(Ig||(Ig={}));var qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qi||(qi={}));class mA{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=s.decode(t.slice(u,u+i));u=u+i;const f=s.decode(t.slice(u,u+l));u=u+l;const m=JSON.parse(s.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:f,payload:m}}}class TN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dn||(dn={}));const nj=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((l,u)=>(l[u]=pA(u,e,t,i),l),{})},pA=(e,t,n,s)=>{const i=t.find(h=>h.name===e),l=i==null?void 0:i.type,u=n[e];return l&&!s.includes(l)?MN(l,u):$g(u)},MN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return bA(t,n)}switch(e){case dn.bool:return gA(t);case dn.float4:case dn.float8:case dn.int2:case dn.int4:case dn.int8:case dn.numeric:case dn.oid:return vA(t);case dn.json:case dn.jsonb:return xA(t);case dn.timestamp:return yA(t);case dn.abstime:case dn.date:case dn.daterange:case dn.int4range:case dn.int8range:case dn.money:case dn.reltime:case dn.text:case dn.time:case dn.timestamptz:case dn.timetz:case dn.tsrange:case dn.tstzrange:return $g(t);default:return $g(t)}},$g=e=>e,gA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bA=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let l;const u=e.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>MN(t,h))}return e},yA=e=>typeof e=="string"?e.replace(" ","T"):e,ON=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bp{constructor(t,n,s={},i=RN){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rj||(rj={}));class Lc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lc.syncState(this.state,i,l,u),this.pendingDiffs.forEach(f=>{this.state=Lc.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lc.syncDiff(this.state,i,l,u),h())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const l=this.cloneDeep(t),u=this.transformState(n),h={},f={};return this.map(l,(m,g)=>{u[m]||(f[m]=g)}),this.map(u,(m,g)=>{const x=l[m];if(x){const y=g.map(S=>S.presence_ref),w=x.map(S=>S.presence_ref),j=g.filter(S=>w.indexOf(S.presence_ref)<0),N=x.filter(S=>y.indexOf(S.presence_ref)<0);j.length>0&&(h[m]=j),N.length>0&&(f[m]=N)}else h[m]=g}),this.syncDiff(l,{joins:h,leaves:f},s,i)}static syncDiff(t,n,s,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(l,(h,f)=>{var m;const g=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(f),g.length>0){const x=t[h].map(w=>w.presence_ref),y=g.filter(w=>x.indexOf(w.presence_ref)<0);t[h].unshift(...y)}s(h,g,f)}),this.map(u,(h,f)=>{let m=t[h];if(!m)return;const g=f.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),t[h]=m,i(h,m,f),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sj||(sj={}));var aj;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(aj||(aj={}));var pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class Av{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bp(this,vs.join,this.params,this.timeout),this.rejoinTimer=new TN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vs.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Lc(this),this.broadcastEndpointURL=ON(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:u,private:h}}=this.params;this._onError(g=>t==null?void 0:t(pa.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(pa.CLOSED));const f={},m={broadcast:l,presence:u,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&i!==void 0?i:[],private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(pa.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,j=[];for(let N=0;N<w;N++){const S=y[N],{filter:{event:_,schema:E,table:C,filter:M}}=S,R=g&&g[N];if(R&&R.event===_&&R.schema===E&&R.table===C&&R.filter===M)j.push(Object.assign(Object.assign({},S),{id:R.id}));else{this.unsubscribe(),t==null||t(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(pa.SUBSCRIBED);return}}).receive("error",g=>{t==null||t(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:u}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new Bp(this,vs.leave,{},t);i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const i=new AbortController,l=setTimeout(()=>i.abort(),s),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bp(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,l;const u=t.toLocaleLowerCase(),{close:h,error:f,leave:m,join:g}=vs;if(s&&[h,f,m,g].indexOf(u)>=0&&s!==this._joinRef())return;let y=this._onMessage(u,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var j,N,S;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((S=(N=w.filter)===null||N===void 0?void 0:N.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(w=>w.callback(y,s)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var j,N,S,_,E,C;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const M=w.id,R=(j=w.filter)===null||j===void 0?void 0:j.event;return M&&((N=n.ids)===null||N===void 0?void 0:N.includes(M))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(E=(_=w==null?void 0:w.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return M==="*"||M===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:N,table:S,commit_timestamp:_,type:E,errors:C}=j;y=Object.assign(Object.assign({},{schema:N,table:S,commit_timestamp:_,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(j))}w.callback(y,s)})}_isClosed(){return this.state===zr.closed}_isJoined(){return this.state===zr.joined}_isJoining(){return this.state===zr.joining}_isLeaving(){return this.state===zr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),l={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Av.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vs.close,{},t)}_onError(t){this._on(vs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=nj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=nj(t.columns,t.old_record)),n}}const wA=()=>{},jA=typeof WebSocket<"u",NA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SA{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=dA,this.params={},this.timeout=RN,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wA,this.conn=null,this.sendBuffer=[],this.serializer=new mA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...h)=>ol(async()=>{const{default:f}=await Promise.resolve().then(()=>yl);return{default:f}},void 0).then(({default:f})=>f(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${t}/${Ig.websocket}`,this.httpEndpoint=ON(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,u)=>u(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new TN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jA){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new _A(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ol(async()=>{const{default:t}=await import("./browser-DE9TzQvl.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fA}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Jo.connecting:return qi.Connecting;case Jo.open:return qi.Open;case Jo.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}channel(t,n={config:{}}){const s=new Av(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:i,ref:l}=t,u=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${s} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(vs.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(hA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:l,ref:u}=n;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${i} ${u&&"("+u+")"||""}`,l),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(i,l,u)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([NA],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class _A{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Jo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class kv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class EA extends kv{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zg extends kv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var CA=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};const AN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ol(async()=>{const{default:s}=await Promise.resolve().then(()=>yl);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},RA=()=>CA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ol(()=>Promise.resolve().then(()=>yl),void 0)).Response:Response}),Ug=e=>{if(Array.isArray(e))return e.map(n=>Ug(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[i]=Ug(s)}),t};var to=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};const Hp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TA=(e,t,n)=>to(void 0,void 0,void 0,function*(){const s=yield RA();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new EA(Hp(i),e.status||500))}).catch(i=>{t(new zg(Hp(i),i))}):t(new zg(Hp(e),e))}),MA=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function ou(e,t,n,s,i,l){return to(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,MA(t,s,i,l)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>TA(f,h,s))})})}function bf(e,t,n,s){return to(this,void 0,void 0,function*(){return ou(e,"GET",t,n,s)})}function ai(e,t,n,s,i){return to(this,void 0,void 0,function*(){return ou(e,"POST",t,s,i,n)})}function OA(e,t,n,s,i){return to(this,void 0,void 0,function*(){return ou(e,"PUT",t,s,i,n)})}function AA(e,t,n,s){return to(this,void 0,void 0,function*(){return ou(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function kN(e,t,n,s,i){return to(this,void 0,void 0,function*(){return ou(e,"DELETE",t,s,i,n)})}var _r=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};const kA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ij={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DA{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=AN(i)}uploadOrUpdate(t,n,s,i){return _r(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},ij),i);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=s,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(h=Object.assign(Object.assign({},h),i.headers));const m=this._removeEmptyFolders(n),g=this._getFinalPath(m),x=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:l,headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{})),y=yield x.json();return x.ok?{data:{path:m,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Xn(l))return{data:null,error:l};throw l}})}upload(t,n,s){return _r(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return _r(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const m=Object.assign({upsert:ij.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",m.cacheControl)):(f=s,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const x=yield this.fetch(h.toString(),{method:"PUT",body:f,headers:g}),y=yield x.json();return x.ok?{data:{path:l,fullPath:y.Key},error:null}:{data:null,error:y}}catch(f){if(Xn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return _r(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const l=yield ai(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new kv("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(s){if(Xn(s))return{data:null,error:s};throw s}})}update(t,n,s){return _r(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return _r(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Xn(i))return{data:null,error:i};throw i}})}copy(t,n,s){return _r(this,void 0,void 0,function*(){try{return{data:{path:(yield ai(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Xn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return _r(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),l=yield ai(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(Xn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return _r(this,void 0,void 0,function*(){try{const i=yield ai(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(Xn(i))return{data:null,error:i};throw i}})}download(t,n){return _r(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=l?`?${l}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield bf(this.fetch,`${this.url}/${i}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Xn(h))return{data:null,error:h};throw h}})}info(t){return _r(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield bf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ug(s),error:null}}catch(s){if(Xn(s))return{data:null,error:s};throw s}})}exists(t){return _r(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield AA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Xn(s)&&s instanceof zg){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&i.push(l);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${m}`)}}}remove(t){return _r(this,void 0,void 0,function*(){try{return{data:yield kN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Xn(n))return{data:null,error:n};throw n}})}list(t,n,s){return _r(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},kA),n),{prefix:t||""});return{data:yield ai(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Xn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const PA="2.7.1",LA={"X-Client-Info":`storage-js/${PA}`};var Bo=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};class IA{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},LA),n),this.fetch=AN(s)}listBuckets(){return Bo(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xn(t))return{data:null,error:t};throw t}})}getBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Xn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Bo(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Xn(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Bo(this,void 0,void 0,function*(){try{return{data:yield OA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Xn(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield kN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Xn(n))return{data:null,error:n};throw n}})}}class $A extends IA{constructor(t,n={},s){super(t,n,s)}from(t){return new DA(this.url,this.headers,t,this.fetch)}}const zA="2.49.3";let Ac="";typeof Deno<"u"?Ac="deno":typeof document<"u"?Ac="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ac="react-native":Ac="node";const UA={"X-Client-Info":`supabase-js-${Ac}/${zA}`},FA={headers:UA},BA={schema:"public"},HA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VA={};var qA=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};const YA=e=>{let t;return e?t=e:typeof fetch>"u"?t=jN:t=fetch,(...n)=>t(...n)},GA=()=>typeof Headers>"u"?NN:Headers,WA=(e,t,n)=>{const s=YA(n),i=GA();return(l,u)=>qA(void 0,void 0,void 0,function*(){var h;const f=(h=yield t())!==null&&h!==void 0?h:e;let m=new i(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},u),{headers:m}))})};var XA=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};function KA(e){return e.replace(/\/$/,"")}function QA(e,t){const{db:n,auth:s,realtime:i,global:l}=e,{db:u,auth:h,realtime:f,global:m}=t,g={db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},f),i),global:Object.assign(Object.assign({},m),l),accessToken:()=>XA(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const DN="2.69.1",Zo=30*1e3,Fg=3,Vp=Fg*Zo,ZA="http://localhost:9999",JA="supabase.auth.token",e4={"X-Client-Info":`gotrue-js/${DN}`},Bg="X-Supabase-Api-Version",PN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n4=6e5;class Dv extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class r4 extends Dv{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function s4(e){return mt(e)&&e.name==="AuthApiError"}class LN extends Dv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class mi extends Dv{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class ni extends mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function a4(e){return mt(e)&&e.name==="AuthSessionMissingError"}class qp extends mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ud extends mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fd extends mi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i4(e){return mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class oj extends mi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hg extends mi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yp(e){return mt(e)&&e.name==="AuthRetryableFetchError"}class lj extends mi{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Ic extends mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const cj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uj=` 	
\r=`.split(""),o4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uj.length;t+=1)e[uj[t].charCodeAt(0)]=-2;for(let t=0;t<cj.length;t+=1)e[cj[t].charCodeAt(0)]=t;return e})();function IN(e,t,n){const s=o4[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dj(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{u4(u,s,n)};for(let u=0;u<e.length;u+=1)IN(e.charCodeAt(u),i,l);return t.join("")}function l4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function c4(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}l4(s,t)}}function u4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function d4(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)IN(e.charCodeAt(i),n,s);return new Uint8Array(t)}function f4(e){const t=[];return c4(e,n=>t.push(n)),new Uint8Array(t)}function h4(e){return Math.round(Date.now()/1e3)+e}function m4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ds=()=>typeof window<"u"&&typeof document<"u",Ui={tested:!1,writable:!1},$c=()=>{if(!Ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ui.tested)return Ui.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ui.tested=!0,Ui.writable=!0}catch{Ui.tested=!0,Ui.writable=!1}return Ui.writable};function p4(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{t[l]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const $N=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ol(async()=>{const{default:s}=await Promise.resolve().then(()=>yl);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},g4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zN=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Bd=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hd=async(e,t)=>{await e.removeItem(t)};class Vf{constructor(){this.promise=new Vf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vf.promiseConstructor=Promise;function Gp(e){const t=e.split(".");if(t.length!==3)throw new Ic("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!t4.test(t[s]))throw new Ic("JWT not in base64url format");return{header:JSON.parse(dj(t[0])),payload:JSON.parse(dj(t[1])),signature:d4(t[2]),raw:{header:t[0],payload:t[1]}}}async function v4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function x4(e,t){return new Promise((s,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await e(l);if(!t(l,null,u)){s(u);return}}catch(u){if(!t(l,u)){i(u);return}}})()})}function b4(e){return("0"+e.toString(16)).substr(-2)}function y4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,b4).join("")}async function w4(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function j4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await w4(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(e,t,n=!1){const s=y4();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await zN(e,`${t}-code-verifier`,i);const l=await j4(s);return[l,s===l?"plain":"s256"]}const N4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S4(e){const t=e.headers.get(Bg);if(!t||!t.match(N4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function E4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var C4=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const Hi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R4=[502,503,504];async function fj(e){var t;if(!g4(e))throw new Hg(Hi(e),0);if(R4.includes(e.status))throw new Hg(Hi(e),e.status);let n;try{n=await e.json()}catch(l){throw new LN(Hi(l),l)}let s;const i=S4(e);if(i&&i.getTime()>=PN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new lj(Hi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ni}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new lj(Hi(n),e.status,n.weak_password.reasons);throw new r4(Hi(n),e.status||500,s)}const T4=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Et(e,t,n,s){var i;const l=Object.assign({},s==null?void 0:s.headers);l[Bg]||(l[Bg]=PN["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await M4(e,t,n+h,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function M4(e,t,n,s,i,l){const u=T4(t,s,i,l);let h;try{h=await e(n,Object.assign({},u))}catch(f){throw console.error(f),new Hg(Hi(f),0)}if(h.ok||await fj(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(f){await fj(f)}}function ri(e){var t;let n=null;D4(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=h4(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function hj(e){const t=ri(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function oi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function O4(e){return{data:e,error:null}}function A4(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:l}=e,u=C4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function k4(e){return e}function D4(e){return e.access_token&&e.refresh_token&&e.expires_in}var P4=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class L4{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=$N(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:oi})}catch(s){if(mt(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=P4(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:A4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(mt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:oi})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,l,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:k4});if(g.error)throw g.error;const x=await g.json(),y=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(j.split(";")[1].split("=")[1]);m[`${S}Page`]=N}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(mt(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){try{return await Et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:oi})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:oi})}catch(s){if(mt(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await Et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:oi})}catch(s){if(mt(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await Et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}}const I4={getItem:e=>$c()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$c()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$c()&&globalThis.localStorage.removeItem(e)}};function mj(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function $4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vo={debug:!!(globalThis&&$c()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class z4 extends UN{}async function U4(e,t,n){Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new z4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}$4();const F4={url:ZA,storageKey:JA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pj(e,t,n){return await n()}class Vc{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vc.nextInstanceID,Vc.nextInstanceID+=1,this.instanceID>0&&Ds()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},F4),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new L4({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$N(i.fetch),this.lock=i.lock||pj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ds()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=U4:this.lock=pj,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:$c()?this.storage=I4:(this.memoryStorage={},this.storage=mj(this.memoryStorage)):(this.memoryStorage={},this.storage=mj(this.memoryStorage)),Ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${DN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=p4(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ds()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),i4(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return mt(n)?{error:n}:{error:new LN("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const l=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ri}),{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(l){if(mt(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,s,i;try{let l;if("email"in t){const{email:g,password:x,options:y}=t;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await Ho(this.storage,this.storageKey)),l=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:x,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:j},xform:ri})}else if("phone"in t){const{phone:g,password:x,options:y}=t;l=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ri})}else throw new Ud("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(l){if(mt(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:u,options:h}=t;n=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hj})}else if("phone"in t){const{phone:l,password:u,options:h}=t;n=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hj})}else throw new Ud("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new qp}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Bd(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:l,error:u}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:ri});if(await Hd(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new qp}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(mt(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:l,nonce:u}=t,h=await Et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ri}),{data:f,error:m}=h;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new qp}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,l,u;try{if("email"in t){const{email:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ho(this.storage,this.storageKey));const{error:x}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:h,options:f}=t,{data:m,error:g}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new Ud("You must provide either an email or phone number.")}catch(h){if(mt(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,s;try{let i,l;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:h}=await Et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:ri});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(i){if(mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Ho(this.storage,this.storageKey)),await Et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:O4})}catch(l){if(mt(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new ni;const{error:i}=await Et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(mt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:l}=t,{error:u}=await Et(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:s,type:i,options:l}=t,{data:u,error:h}=await Et(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Ud("You must provide either an email or phone number and a type")}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Bd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Vp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,g))})}return{data:{session:t},error:null}}const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:oi}):await this._useSession(async n=>{var s,i,l;const{data:u,error:h}=n;if(h)throw h;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ni}:await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:oi})})}catch(n){if(mt(n))return a4(n)&&(await this._removeSession(),await Hd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:l}=s;if(l)throw l;if(!i.session)throw new ni;const u=i.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Ho(this.storage,this.storageKey));const{data:m,error:g}=await Et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:oi});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(mt(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ni;const n=Date.now()/1e3;let s=n,i=!0,l=null;const{payload:u}=Gp(t.access_token);if(u.exp&&(s=u.exp,i=s<=n),i){const{session:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(mt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ni;const{session:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(mt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ds())throw new Fd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oj("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:m}=t;if(!l||!h||!u||!m)throw new Fd("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(h);let y=g+x;f&&(y=parseInt(f));const w=y-g;w*1e3<=Zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const j=y-x;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,g);const{data:N,error:S}=await this._getUser(l);if(S)throw S;const _={provider_token:s,provider_refresh_token:i,access_token:l,expires_in:x,expires_at:y,refresh_token:u,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(s){if(mt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Bd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:l}=n;if(l)return{error:l};const u=(s=i.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(s4(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Hd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=m4(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Ho(this.storage,this.storageKey,!0));try{return await Et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(mt(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async l=>{var u,h,f,m,g;const{data:x,error:y}=l;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Et(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Ds()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(mt(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:l,error:u}=n;if(u)throw u;return await Et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await x4(async i=>(i>0&&await v4(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ri})),(i,l)=>{const u=200*Math.pow(2,i);return l&&Yp(l)&&Date.now()+u-s<Zo})}catch(s){if(this._debug(n,"error",s),mt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Ds()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Bd(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Vp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Yp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new ni;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vf;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new ni;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={session:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(i,"error",l),mt(l)){const u={session:null,error:l};return Yp(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Hd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ds()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Zo}ms, refresh threshold is ${Fg} ticks`),i<=Fg&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof UN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ds()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await Ho(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(h.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);i.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:l}=n;return l?{data:null,error:l}:await Et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:m}=await Et(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:l}=n;if(l)return{data:null,error:l};const{data:u,error:h}=await Et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(mt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:l}=n;return l?{data:null,error:l}:await Et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(mt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=s.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:s,totp:i,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:l}=t;if(l)return{data:null,error:l};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Gp(i.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(u=>u.kid===t);if(s||(s=this.jwks.keys.find(u=>u.kid===t),s&&this.jwks_cached_at+n4>Date.now()))return s;const{data:i,error:l}=await Et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!i.keys||i.keys.length===0)throw new Ic("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),s=i.keys.find(u=>u.kid===t),!s)throw new Ic("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:w,error:j}=await this.getSession();if(j||!w.session)return{data:null,error:j};s=w.session.access_token}const{header:i,payload:l,signature:u,raw:{header:h,payload:f}}=Gp(s);if(_4(l.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:l,header:i,signature:u},error:null}}const m=E4(i.alg),g=await this.fetchJwk(i.kid,n),x=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,x,u,f4(`${h}.${f}`)))throw new Ic("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}}}Vc.nextInstanceID=0;const B4=Vc;class H4 extends B4{constructor(t){super(t)}}var V4=function(e,t,n,s){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(x){u(x)}}function f(g){try{m(s.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(h,f)}m((s=s.apply(e,t||[])).next())})};class q4{constructor(t,n,s){var i,l,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=KA(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:BA,realtime:VA,auth:Object.assign(Object.assign({},HA),{storageKey:f}),global:FA},g=QA(s??{},m);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=WA(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new cA(`${h}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new QO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $A(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return V4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:l,flowType:u,lock:h,debug:f},m,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H4({url:this.authUrl,headers:Object.assign(Object.assign({},x),m),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:u,lock:h,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new SA(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y4=(e,t,n)=>new q4(e,t,n),G4="http://127.0.0.1:54321",W4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",se=Y4(G4,W4),FN=p.createContext({session:null,user:null,loading:!0}),X4=({children:e})=>{const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(!0);p.useEffect(()=>{se.auth.getSession().then(({data:{session:f}})=>{n(f),i((f==null?void 0:f.user)??null),u(!1);const{data:{subscription:m}}=se.auth.onAuthStateChange((g,x)=>{console.log("Auth state changed:",g,x),n(x),i((x==null?void 0:x.user)??null)});return()=>{m==null||m.unsubscribe()}}).catch(f=>{console.error("Error getting initial session:",f),u(!1)})},[]);const h={session:t,user:s,loading:l};return r.jsx(FN.Provider,{value:h,children:e})},Pv=()=>{const e=p.useContext(FN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function K4(e,t){const n=p.createContext(t),s=l=>{const{children:u,...h}=l,f=p.useMemo(()=>h,Object.values(h));return r.jsx(n.Provider,{value:f,children:u})};s.displayName=e+"Provider";function i(l){const u=p.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,i]}function yr(e,t=[]){let n=[];function s(l,u){const h=p.createContext(u),f=n.length;n=[...n,u];const m=x=>{var _;const{scope:y,children:w,...j}=x,N=((_=y==null?void 0:y[e])==null?void 0:_[f])||h,S=p.useMemo(()=>j,Object.values(j));return r.jsx(N.Provider,{value:S,children:w})};m.displayName=l+"Provider";function g(x,y){var N;const w=((N=y==null?void 0:y[e])==null?void 0:N[f])||h,j=p.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,g]}const i=()=>{const l=n.map(u=>p.createContext(u));return function(h){const f=(h==null?void 0:h[e])||l;return p.useMemo(()=>({[`__scope${e}`]:{...h,[e]:f}}),[h,f])}};return i.scopeName=e,[s,Q4(i,...t)]}function Q4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=s.reduce((h,{useScope:f,scopeName:m})=>{const x=f(l)[`__scope${m}`];return{...h,...x}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Hr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var sr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function gj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qf(...e){return t=>{let n=!1;const s=e.map(i=>{const l=gj(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():gj(e[i],null)}}}}function Ct(...e){return p.useCallback(qf(...e),e)}var Vs=p.forwardRef((e,t)=>{const{children:n,...s}=e,i=p.Children.toArray(n),l=i.find(Z4);if(l){const u=l.props.children,h=i.map(f=>f===l?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return r.jsx(Vg,{...s,ref:t,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return r.jsx(Vg,{...s,ref:t,children:n})});Vs.displayName="Slot";var Vg=p.forwardRef((e,t)=>{const{children:n,...s}=e;if(p.isValidElement(n)){const i=ek(n),l=J4(s,n.props);return n.type!==p.Fragment&&(l.ref=t?qf(t,i):i),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});Vg.displayName="SlotClone";var Lv=({children:e})=>r.jsx(r.Fragment,{children:e});function Z4(e){return p.isValidElement(e)&&e.type===Lv}function J4(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...h)=>{l(...h),i(...h)}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function ek(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=tk.reduce((e,t)=>{const n=p.forwardRef((s,i)=>{const{asChild:l,...u}=s,h=l?Vs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BN(e,t){e&&xs.flushSync(()=>e.dispatchEvent(t))}var Iv="Avatar",[nk,dY]=yr(Iv),[rk,HN]=nk(Iv),VN=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,l]=p.useState("idle");return r.jsx(rk,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:r.jsx(nt.span,{...s,ref:t})})});VN.displayName=Iv;var qN="AvatarImage",YN=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...l}=e,u=HN(qN,n),h=sk(s,l.referrerPolicy),f=Hr(m=>{i(m),u.onImageLoadingStatusChange(m)});return sr(()=>{h!=="idle"&&f(h)},[h,f]),h==="loaded"?r.jsx(nt.img,{...l,ref:t,src:s}):null});YN.displayName=qN;var GN="AvatarFallback",WN=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,l=HN(GN,n),[u,h]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const f=window.setTimeout(()=>h(!0),s);return()=>window.clearTimeout(f)}},[s]),u&&l.imageLoadingStatus!=="loaded"?r.jsx(nt.span,{...i,ref:t}):null});WN.displayName=GN;function sk(e,t){const[n,s]=p.useState("idle");return sr(()=>{if(!e){s("error");return}let i=!0;const l=new window.Image,u=h=>()=>{i&&s(h)};return s("loading"),l.onload=u("loaded"),l.onerror=u("error"),l.src=e,t&&(l.referrerPolicy=t),()=>{i=!1}},[e,t]),n}var ak=VN,ik=YN,ok=WN;function XN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=XN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function KN(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=XN(e))&&(s&&(s+=" "),s+=t);return s}const $v="-",lk=e=>{const t=uk(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:u=>{const h=u.split($v);return h[0]===""&&h.length!==1&&h.shift(),QN(h,t)||ck(u)},getConflictingClassGroupIds:(u,h)=>{const f=n[u]||[];return h&&s[u]?[...f,...s[u]]:f}}},QN=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?QN(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join($v);return(u=t.validators.find(({validator:h})=>h(l)))==null?void 0:u.classGroupId},vj=/^\[(.+)\]$/,ck=e=>{if(vj.test(e)){const t=vj.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},uk=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const i in n)qg(n[i],s,i,t);return s},qg=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:xj(t,i);l.classGroupId=n;return}if(typeof i=="function"){if(dk(i)){qg(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{qg(u,xj(t,l),n,s)})})},xj=(e,t)=>{let n=e;return t.split($v).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},dk=e=>e.isThemeGetter,fk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(l,u)=>{n.set(l,u),t++,t>e&&(t=0,s=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=s.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},Yg="!",Gg=":",hk=Gg.length,mk=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const l=[];let u=0,h=0,f=0,m;for(let j=0;j<i.length;j++){let N=i[j];if(u===0&&h===0){if(N===Gg){l.push(i.slice(f,j)),f=j+hk;continue}if(N==="/"){m=j;continue}}N==="["?u++:N==="]"?u--:N==="("?h++:N===")"&&h--}const g=l.length===0?i:i.substring(f),x=pk(g),y=x!==g,w=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:w}};if(t){const i=t+Gg,l=s;s=u=>u.startsWith(i)?l(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=l=>n({className:l,parseClassName:i})}return s},pk=e=>e.endsWith(Yg)?e.substring(0,e.length-1):e.startsWith(Yg)?e.substring(1):e,gk=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let l=[];return s.forEach(u=>{u[0]==="["||t[u]?(i.push(...l.sort(),u),l=[]):l.push(u)}),i.push(...l.sort()),i}},vk=e=>({cache:fk(e.cacheSize),parseClassName:mk(e),sortModifiers:gk(e),...lk(e)}),xk=/\s+/,bk=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:l}=t,u=[],h=e.trim().split(xk);let f="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:x,modifiers:y,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:N}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let S=!!N,_=s(S?j.substring(0,N):j);if(!_){if(!S){f=g+(f.length>0?" "+f:f);continue}if(_=s(j),!_){f=g+(f.length>0?" "+f:f);continue}S=!1}const E=l(y).join(":"),C=w?E+Yg:E,M=C+_;if(u.includes(M))continue;u.push(M);const R=i(_,S);for(let A=0;A<R.length;++A){const k=R[A];u.push(C+k)}f=g+(f.length>0?" "+f:f)}return f};function yk(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ZN(t))&&(s&&(s+=" "),s+=n);return s}const ZN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=ZN(e[s]))&&(n&&(n+=" "),n+=t);return n};function wk(e,...t){let n,s,i,l=u;function u(f){const m=t.reduce((g,x)=>x(g),e());return n=vk(m),s=n.cache.get,i=n.cache.set,l=h,h(f)}function h(f){const m=s(f);if(m)return m;const g=bk(f,n);return i(f,g),g}return function(){return l(yk.apply(null,arguments))}}const Wn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},JN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jk=/^\d+\/\d+$/,Nk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ek=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ck=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qo=e=>jk.test(e),_t=e=>!!e&&!Number.isNaN(Number(e)),Fi=e=>!!e&&Number.isInteger(Number(e)),bj=e=>e.endsWith("%")&&_t(e.slice(0,-1)),ei=e=>Nk.test(e),Rk=()=>!0,Tk=e=>Sk.test(e)&&!_k.test(e),zv=()=>!1,Mk=e=>Ek.test(e),Ok=e=>Ck.test(e),Ak=e=>!ze(e)&&!Ue(e),kk=e=>wl(e,rS,zv),ze=e=>JN.test(e),Bi=e=>wl(e,sS,Tk),Wp=e=>wl(e,Vk,_t),Dk=e=>wl(e,tS,zv),Pk=e=>wl(e,nS,Ok),Lk=e=>wl(e,zv,Mk),Ue=e=>eS.test(e),Vd=e=>jl(e,sS),Ik=e=>jl(e,qk),$k=e=>jl(e,tS),zk=e=>jl(e,rS),Uk=e=>jl(e,nS),Fk=e=>jl(e,Yk,!0),wl=(e,t,n)=>{const s=JN.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},jl=(e,t,n=!1)=>{const s=eS.exec(e);return s?s[1]?t(s[1]):n:!1},tS=e=>e==="position",Bk=new Set(["image","url"]),nS=e=>Bk.has(e),Hk=new Set(["length","size","percentage"]),rS=e=>Hk.has(e),sS=e=>e==="length",Vk=e=>e==="number",qk=e=>e==="family-name",Yk=e=>e==="shadow",Gk=()=>{const e=Wn("color"),t=Wn("font"),n=Wn("text"),s=Wn("font-weight"),i=Wn("tracking"),l=Wn("leading"),u=Wn("breakpoint"),h=Wn("container"),f=Wn("spacing"),m=Wn("radius"),g=Wn("shadow"),x=Wn("inset-shadow"),y=Wn("drop-shadow"),w=Wn("blur"),j=Wn("perspective"),N=Wn("aspect"),S=Wn("ease"),_=Wn("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],A=()=>[Ue,ze,f],k=()=>[qo,"full","auto",...A()],L=()=>[Fi,"none","subgrid",Ue,ze],U=()=>["auto",{span:["full",Fi,Ue,ze]},Ue,ze],Y=()=>[Fi,"auto",Ue,ze],oe=()=>["auto","min","max","fr",Ue,ze],Q=()=>["start","end","center","between","around","evenly","stretch","baseline"],$=()=>["start","end","center","stretch"],ie=()=>["auto",...A()],le=()=>[qo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],I=()=>[e,Ue,ze],W=()=>[bj,Bi],q=()=>["","none","full",m,Ue,ze],J=()=>["",_t,Vd,Bi],D=()=>["solid","dashed","dotted","double"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["","none",w,Ue,ze],H=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue,ze],P=()=>["none",_t,Ue,ze],z=()=>["none",_t,Ue,ze],V=()=>[_t,Ue,ze],K=()=>[qo,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ei],breakpoint:[ei],color:[Rk],container:[ei],"drop-shadow":[ei],ease:["in","out","in-out"],font:[Ak],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ei],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ei],shadow:[ei],spacing:["px",_t],text:[ei],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qo,ze,Ue,N]}],container:["container"],columns:[{columns:[_t,ze,Ue,h]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),ze,Ue]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Fi,"auto",Ue,ze]}],basis:[{basis:[qo,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,qo,"auto","initial","none",ze]}],grow:[{grow:["",_t,Ue,ze]}],shrink:[{shrink:["",_t,Ue,ze]}],order:[{order:[Fi,"first","last","none",Ue,ze]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...$(),"baseline"]}],"align-self":[{self:["auto",...$(),"baseline"]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[h,"screen",...le()]}],"min-w":[{"min-w":[h,"screen","none",...le()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...le()]}],h:[{h:["screen",...le()]}],"min-h":[{"min-h":["screen","none",...le()]}],"max-h":[{"max-h":["screen",...le()]}],"font-size":[{text:["base",n,Vd,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ue,Wp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bj,ze]}],"font-family":[{font:[Ik,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ue,ze]}],"line-clamp":[{"line-clamp":[_t,"none",Ue,Wp]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",Ue,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ue,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",Ue,Bi]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[_t,"auto",Ue,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),$k,Dk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",zk,kk]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fi,Ue,ze],radial:["",Ue,ze],conic:[Fi,Ue,ze]},Uk,Pk]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...D(),"hidden","none"]}],"divide-style":[{divide:[...D(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...D(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,Ue,ze]}],"outline-w":[{outline:["",_t,Vd,Bi]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",g,Fk,Lk]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",Ue,ze,x]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[_t,Bi]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":I()}],opacity:[{opacity:[_t,Ue,ze]}],"mix-blend":[{"mix-blend":[...F(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none",Ue,ze]}],blur:[{blur:B()}],brightness:[{brightness:[_t,Ue,ze]}],contrast:[{contrast:[_t,Ue,ze]}],"drop-shadow":[{"drop-shadow":["","none",y,Ue,ze]}],grayscale:[{grayscale:["",_t,Ue,ze]}],"hue-rotate":[{"hue-rotate":[_t,Ue,ze]}],invert:[{invert:["",_t,Ue,ze]}],saturate:[{saturate:[_t,Ue,ze]}],sepia:[{sepia:["",_t,Ue,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Ue,ze]}],"backdrop-blur":[{"backdrop-blur":B()}],"backdrop-brightness":[{"backdrop-brightness":[_t,Ue,ze]}],"backdrop-contrast":[{"backdrop-contrast":[_t,Ue,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,Ue,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,Ue,ze]}],"backdrop-invert":[{"backdrop-invert":["",_t,Ue,ze]}],"backdrop-opacity":[{"backdrop-opacity":[_t,Ue,ze]}],"backdrop-saturate":[{"backdrop-saturate":[_t,Ue,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,Ue,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ue,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",Ue,ze]}],ease:[{ease:["linear","initial",S,Ue,ze]}],delay:[{delay:[_t,Ue,ze]}],animate:[{animate:["none",_,Ue,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ue,ze]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:P()}],"rotate-x":[{"rotate-x":P()}],"rotate-y":[{"rotate-y":P()}],"rotate-z":[{"rotate-z":P()}],scale:[{scale:z()}],"scale-x":[{"scale-x":z()}],"scale-y":[{"scale-y":z()}],"scale-z":[{"scale-z":z()}],"scale-3d":["scale-3d"],skew:[{skew:V()}],"skew-x":[{"skew-x":V()}],"skew-y":[{"skew-y":V()}],transform:[{transform:[Ue,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue,ze]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[_t,Vd,Bi,Wp]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Wk=wk(Gk);function Me(...e){return Wk(KN(e))}function lu({className:e,...t}){return r.jsx(ak,{"data-slot":"avatar",className:Me("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Yf({className:e,...t}){return r.jsx(ik,{"data-slot":"avatar-image",className:Me("aspect-square size-full",e),...t})}function cu({className:e,...t}){return r.jsx(ok,{"data-slot":"avatar-fallback",className:Me("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const yj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wj=KN,Uv=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return wj(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(m=>{const g=n==null?void 0:n[m],x=l==null?void 0:l[m];if(g===null)return null;const y=yj(g)||yj(x);return i[m][y]}),h=n&&Object.entries(n).reduce((m,g)=>{let[x,y]=g;return y===void 0||(m[x]=y),m},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,g)=>{let{class:x,className:y,...w}=g;return Object.entries(w).every(j=>{let[N,S]=j;return Array.isArray(S)?S.includes({...l,...h}[N]):{...l,...h}[N]===S})?[...m,x,y]:m},[]);return wj(e,u,f,n==null?void 0:n.class,n==null?void 0:n.className)},cl=Uv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ne({className:e,variant:t,size:n,asChild:s=!1,...i}){const l=s?Vs:"button";return r.jsx(l,{"data-slot":"button",className:Me(cl({variant:t,size:n,className:e})),...i})}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function ci({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=Xk({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:s,h=Hr(n),f=p.useCallback(m=>{if(l){const x=typeof m=="function"?m(e):m;x!==e&&h(x)}else i(m)},[l,e,i,h]);return[u,f]}function Xk({defaultProp:e,onChange:t}){const n=p.useState(e),[s]=n,i=p.useRef(s),l=Hr(t);return p.useEffect(()=>{i.current!==s&&(l(s),i.current=s)},[s,i,l]),n}function Fv(e){const t=e+"CollectionProvider",[n,s]=yr(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:j,children:N}=w,S=we.useRef(null),_=we.useRef(new Map).current;return r.jsx(i,{scope:j,itemMap:_,collectionRef:S,children:N})};u.displayName=t;const h=e+"CollectionSlot",f=we.forwardRef((w,j)=>{const{scope:N,children:S}=w,_=l(h,N),E=Ct(j,_.collectionRef);return r.jsx(Vs,{ref:E,children:S})});f.displayName=h;const m=e+"CollectionItemSlot",g="data-radix-collection-item",x=we.forwardRef((w,j)=>{const{scope:N,children:S,..._}=w,E=we.useRef(null),C=Ct(j,E),M=l(m,N);return we.useEffect(()=>(M.itemMap.set(E,{ref:E,..._}),()=>void M.itemMap.delete(E))),r.jsx(Vs,{[g]:"",ref:C,children:S})});x.displayName=m;function y(w){const j=l(e+"CollectionConsumer",w);return we.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((M,R)=>_.indexOf(M.ref.current)-_.indexOf(R.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:f,ItemSlot:x},y,s]}var Kk=p.createContext(void 0);function Gf(e){const t=p.useContext(Kk);return e||t||"ltr"}function Qk(e,t=globalThis==null?void 0:globalThis.document){const n=Hr(e);p.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Zk="DismissableLayer",Wg="dismissableLayer.update",Jk="dismissableLayer.pointerDownOutside",eD="dismissableLayer.focusOutside",jj,aS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...f}=e,m=p.useContext(aS),[g,x]=p.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=p.useState({}),j=Ct(t,k=>x(k)),N=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),E=g?N.indexOf(g):-1,C=m.layersWithOutsidePointerEventsDisabled.size>0,M=E>=_,R=rD(k=>{const L=k.target,U=[...m.branches].some(Y=>Y.contains(L));!M||U||(i==null||i(k),u==null||u(k),k.defaultPrevented||h==null||h())},y),A=sD(k=>{const L=k.target;[...m.branches].some(Y=>Y.contains(L))||(l==null||l(k),u==null||u(k),k.defaultPrevented||h==null||h())},y);return Qk(k=>{E===m.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&h&&(k.preventDefault(),h()))},y),p.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(jj=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Nj(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=jj)}},[g,y,n,m]),p.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Nj())},[g,m]),p.useEffect(()=>{const k=()=>w({});return document.addEventListener(Wg,k),()=>document.removeEventListener(Wg,k)},[]),r.jsx(nt.div,{...f,ref:j,style:{pointerEvents:C?M?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,R.onPointerDownCapture)})});Nl.displayName=Zk;var tD="DismissableLayerBranch",nD=p.forwardRef((e,t)=>{const n=p.useContext(aS),s=p.useRef(null),i=Ct(t,s);return p.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),r.jsx(nt.div,{...e,ref:i})});nD.displayName=tD;function rD(e,t=globalThis==null?void 0:globalThis.document){const n=Hr(e),s=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const l=h=>{if(h.target&&!s.current){let f=function(){iS(Jk,n,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function sD(e,t=globalThis==null?void 0:globalThis.document){const n=Hr(e),s=p.useRef(!1);return p.useEffect(()=>{const i=l=>{l.target&&!s.current&&iS(eD,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Nj(){const e=new CustomEvent(Wg);document.dispatchEvent(e)}function iS(e,t,n,{discrete:s}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?BN(i,l):i.dispatchEvent(l)}var Xp=0;function Wf(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sj()),document.body.insertAdjacentElement("beforeend",e[1]??Sj()),Xp++,()=>{Xp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xp--}},[])}function Sj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kp="focusScope.autoFocusOnMount",Qp="focusScope.autoFocusOnUnmount",_j={bubbles:!1,cancelable:!0},aD="FocusScope",uu=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=e,[h,f]=p.useState(null),m=Hr(i),g=Hr(l),x=p.useRef(null),y=Ct(t,N=>f(N)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let N=function(C){if(w.paused||!h)return;const M=C.target;h.contains(M)?x.current=M:si(x.current,{select:!0})},S=function(C){if(w.paused||!h)return;const M=C.relatedTarget;M!==null&&(h.contains(M)||si(x.current,{select:!0}))},_=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&si(h)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const E=new MutationObserver(_);return h&&E.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),E.disconnect()}}},[s,h,w.paused]),p.useEffect(()=>{if(h){Cj.add(w);const N=document.activeElement;if(!h.contains(N)){const _=new CustomEvent(Kp,_j);h.addEventListener(Kp,m),h.dispatchEvent(_),_.defaultPrevented||(iD(dD(oS(h)),{select:!0}),document.activeElement===N&&si(h))}return()=>{h.removeEventListener(Kp,m),setTimeout(()=>{const _=new CustomEvent(Qp,_j);h.addEventListener(Qp,g),h.dispatchEvent(_),_.defaultPrevented||si(N??document.body,{select:!0}),h.removeEventListener(Qp,g),Cj.remove(w)},0)}}},[h,m,g,w]);const j=p.useCallback(N=>{if(!n&&!s||w.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const E=N.currentTarget,[C,M]=oD(E);C&&M?!N.shiftKey&&_===M?(N.preventDefault(),n&&si(C,{select:!0})):N.shiftKey&&_===C&&(N.preventDefault(),n&&si(M,{select:!0})):_===E&&N.preventDefault()}},[n,s,w.paused]);return r.jsx(nt.div,{tabIndex:-1,...u,ref:y,onKeyDown:j})});uu.displayName=aD;function iD(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(si(s,{select:t}),document.activeElement!==n)return}function oD(e){const t=oS(e),n=Ej(t,e),s=Ej(t.reverse(),e);return[n,s]}function oS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ej(e,t){for(const n of e)if(!lD(n,{upTo:t}))return n}function lD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cD(e){return e instanceof HTMLInputElement&&"select"in e}function si(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cD(e)&&t&&e.select()}}var Cj=uD();function uD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Rj(e,t),e.unshift(t)},remove(t){var n;e=Rj(e,t),(n=e[0])==null||n.resume()}}}function Rj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function dD(e){return e.filter(t=>t.tagName!=="A")}var fD=kg.useId||(()=>{}),hD=0;function Fs(e){const[t,n]=p.useState(fD());return sr(()=>{n(s=>s??String(hD++))},[e]),e||(t?`radix-${t}`:"")}const mD=["top","right","bottom","left"],ui=Math.min,Ur=Math.max,yf=Math.round,qd=Math.floor,Bs=e=>({x:e,y:e}),pD={left:"right",right:"left",bottom:"top",top:"bottom"},gD={start:"end",end:"start"};function Xg(e,t,n){return Ur(e,ui(t,n))}function ya(e,t){return typeof e=="function"?e(t):e}function wa(e){return e.split("-")[0]}function Sl(e){return e.split("-")[1]}function Bv(e){return e==="x"?"y":"x"}function Hv(e){return e==="y"?"height":"width"}function di(e){return["top","bottom"].includes(wa(e))?"y":"x"}function Vv(e){return Bv(di(e))}function vD(e,t,n){n===void 0&&(n=!1);const s=Sl(e),i=Vv(e),l=Hv(i);let u=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=wf(u)),[u,wf(u)]}function xD(e){const t=wf(e);return[Kg(e),t,Kg(t)]}function Kg(e){return e.replace(/start|end/g,t=>gD[t])}function bD(e,t,n){const s=["left","right"],i=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?l:u;default:return[]}}function yD(e,t,n,s){const i=Sl(e);let l=bD(wa(e),n==="start",s);return i&&(l=l.map(u=>u+"-"+i),t&&(l=l.concat(l.map(Kg)))),l}function wf(e){return e.replace(/left|right|bottom|top/g,t=>pD[t])}function wD(e){return{top:0,right:0,bottom:0,left:0,...e}}function lS(e){return typeof e!="number"?wD(e):{top:e,right:e,bottom:e,left:e}}function jf(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function Tj(e,t,n){let{reference:s,floating:i}=e;const l=di(t),u=Vv(t),h=Hv(u),f=wa(t),m=l==="y",g=s.x+s.width/2-i.width/2,x=s.y+s.height/2-i.height/2,y=s[h]/2-i[h]/2;let w;switch(f){case"top":w={x:g,y:s.y-i.height};break;case"bottom":w={x:g,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:x};break;case"left":w={x:s.x-i.width,y:x};break;default:w={x:s.x,y:s.y}}switch(Sl(t)){case"start":w[u]-=y*(n&&m?-1:1);break;case"end":w[u]+=y*(n&&m?-1:1);break}return w}const jD=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,h=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:x}=Tj(m,s,f),y=s,w={},j=0;for(let N=0;N<h.length;N++){const{name:S,fn:_}=h[N],{x:E,y:C,data:M,reset:R}=await _({x:g,y:x,initialPlacement:s,placement:y,strategy:i,middlewareData:w,rects:m,platform:u,elements:{reference:e,floating:t}});g=E??g,x=C??x,w={...w,[S]:{...w[S],...M}},R&&j<=50&&(j++,typeof R=="object"&&(R.placement&&(y=R.placement),R.rects&&(m=R.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:g,y:x}=Tj(m,y,f)),N=-1)}return{x:g,y:x,placement:y,strategy:i,middlewareData:w}};async function qc(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:l,rects:u,elements:h,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:y=!1,padding:w=0}=ya(t,e),j=lS(w),S=h[y?x==="floating"?"reference":"floating":x],_=jf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:g,strategy:f})),E=x==="floating"?{x:s,y:i,width:u.floating.width,height:u.floating.height}:u.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),M=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},R=jf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:E,offsetParent:C,strategy:f}):E);return{top:(_.top-R.top+j.top)/M.y,bottom:(R.bottom-_.bottom+j.bottom)/M.y,left:(_.left-R.left+j.left)/M.x,right:(R.right-_.right+j.right)/M.x}}const ND=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:l,platform:u,elements:h,middlewareData:f}=t,{element:m,padding:g=0}=ya(e,t)||{};if(m==null)return{};const x=lS(g),y={x:n,y:s},w=Vv(i),j=Hv(w),N=await u.getDimensions(m),S=w==="y",_=S?"top":"left",E=S?"bottom":"right",C=S?"clientHeight":"clientWidth",M=l.reference[j]+l.reference[w]-y[w]-l.floating[j],R=y[w]-l.reference[w],A=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let k=A?A[C]:0;(!k||!await(u.isElement==null?void 0:u.isElement(A)))&&(k=h.floating[C]||l.floating[j]);const L=M/2-R/2,U=k/2-N[j]/2-1,Y=ui(x[_],U),oe=ui(x[E],U),Q=Y,$=k-N[j]-oe,ie=k/2-N[j]/2+L,le=Xg(Q,ie,$),I=!f.arrow&&Sl(i)!=null&&ie!==le&&l.reference[j]/2-(ie<Q?Y:oe)-N[j]/2<0,W=I?ie<Q?ie-Q:ie-$:0;return{[w]:y[w]+W,data:{[w]:le,centerOffset:ie-le-W,...I&&{alignmentOffset:W}},reset:I}}}),SD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:l,rects:u,initialPlacement:h,platform:f,elements:m}=t,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...S}=ya(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const _=wa(i),E=di(h),C=wa(h)===h,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),R=y||(C||!N?[wf(h)]:xD(h)),A=j!=="none";!y&&A&&R.push(...yD(h,N,j,M));const k=[h,...R],L=await qc(t,S),U=[];let Y=((s=l.flip)==null?void 0:s.overflows)||[];if(g&&U.push(L[_]),x){const ie=vD(i,u,M);U.push(L[ie[0]],L[ie[1]])}if(Y=[...Y,{placement:i,overflows:U}],!U.every(ie=>ie<=0)){var oe,Q;const ie=(((oe=l.flip)==null?void 0:oe.index)||0)+1,le=k[ie];if(le)return{data:{index:ie,overflows:Y},reset:{placement:le}};let I=(Q=Y.filter(W=>W.overflows[0]<=0).sort((W,q)=>W.overflows[1]-q.overflows[1])[0])==null?void 0:Q.placement;if(!I)switch(w){case"bestFit":{var $;const W=($=Y.filter(q=>{if(A){const J=di(q.placement);return J===E||J==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(J=>J>0).reduce((J,D)=>J+D,0)]).sort((q,J)=>q[1]-J[1])[0])==null?void 0:$[0];W&&(I=W);break}case"initialPlacement":I=h;break}if(i!==I)return{reset:{placement:I}}}return{}}}};function Mj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Oj(e){return mD.some(t=>e[t]>=0)}const _D=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=ya(e,t);switch(s){case"referenceHidden":{const l=await qc(t,{...i,elementContext:"reference"}),u=Mj(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Oj(u)}}}case"escaped":{const l=await qc(t,{...i,altBoundary:!0}),u=Mj(l,n.floating);return{data:{escapedOffsets:u,escaped:Oj(u)}}}default:return{}}}}};async function ED(e,t){const{placement:n,platform:s,elements:i}=e,l=await(s.isRTL==null?void 0:s.isRTL(i.floating)),u=wa(n),h=Sl(n),f=di(n)==="y",m=["left","top"].includes(u)?-1:1,g=l&&f?-1:1,x=ya(t,e);let{mainAxis:y,crossAxis:w,alignmentAxis:j}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return h&&typeof j=="number"&&(w=h==="end"?j*-1:j),f?{x:w*g,y:y*m}:{x:y*m,y:w*g}}const CD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:l,placement:u,middlewareData:h}=t,f=await ED(t,e);return u===((n=h.offset)==null?void 0:n.placement)&&(s=h.arrow)!=null&&s.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:u}}}}},RD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:S=>{let{x:_,y:E}=S;return{x:_,y:E}}},...f}=ya(e,t),m={x:n,y:s},g=await qc(t,f),x=di(wa(i)),y=Bv(x);let w=m[y],j=m[x];if(l){const S=y==="y"?"top":"left",_=y==="y"?"bottom":"right",E=w+g[S],C=w-g[_];w=Xg(E,w,C)}if(u){const S=x==="y"?"top":"left",_=x==="y"?"bottom":"right",E=j+g[S],C=j-g[_];j=Xg(E,j,C)}const N=h.fn({...t,[y]:w,[x]:j});return{...N,data:{x:N.x-n,y:N.y-s,enabled:{[y]:l,[x]:u}}}}}},TD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:l,middlewareData:u}=t,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=ya(e,t),g={x:n,y:s},x=di(i),y=Bv(x);let w=g[y],j=g[x];const N=ya(h,t),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(f){const C=y==="y"?"height":"width",M=l.reference[y]-l.floating[C]+S.mainAxis,R=l.reference[y]+l.reference[C]-S.mainAxis;w<M?w=M:w>R&&(w=R)}if(m){var _,E;const C=y==="y"?"width":"height",M=["top","left"].includes(wa(i)),R=l.reference[x]-l.floating[C]+(M&&((_=u.offset)==null?void 0:_[x])||0)+(M?0:S.crossAxis),A=l.reference[x]+l.reference[C]+(M?0:((E=u.offset)==null?void 0:E[x])||0)-(M?S.crossAxis:0);j<R?j=R:j>A&&(j=A)}return{[y]:w,[x]:j}}}},MD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:l,platform:u,elements:h}=t,{apply:f=()=>{},...m}=ya(e,t),g=await qc(t,m),x=wa(i),y=Sl(i),w=di(i)==="y",{width:j,height:N}=l.floating;let S,_;x==="top"||x==="bottom"?(S=x,_=y===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(_=x,S=y==="end"?"top":"bottom");const E=N-g.top-g.bottom,C=j-g.left-g.right,M=ui(N-g[S],E),R=ui(j-g[_],C),A=!t.middlewareData.shift;let k=M,L=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=C),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=E),A&&!y){const Y=Ur(g.left,0),oe=Ur(g.right,0),Q=Ur(g.top,0),$=Ur(g.bottom,0);w?L=j-2*(Y!==0||oe!==0?Y+oe:Ur(g.left,g.right)):k=N-2*(Q!==0||$!==0?Q+$:Ur(g.top,g.bottom))}await f({...t,availableWidth:L,availableHeight:k});const U=await u.getDimensions(h.floating);return j!==U.width||N!==U.height?{reset:{rects:!0}}:{}}}};function Xf(){return typeof window<"u"}function _l(e){return cS(e)?(e.nodeName||"").toLowerCase():"#document"}function Fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ws(e){var t;return(t=(cS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cS(e){return Xf()?e instanceof Node||e instanceof Fr(e).Node:!1}function ys(e){return Xf()?e instanceof Element||e instanceof Fr(e).Element:!1}function qs(e){return Xf()?e instanceof HTMLElement||e instanceof Fr(e).HTMLElement:!1}function Aj(e){return!Xf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fr(e).ShadowRoot}function du(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function OD(e){return["table","td","th"].includes(_l(e))}function Kf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qv(e){const t=Yv(),n=ys(e)?ws(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function AD(e){let t=fi(e);for(;qs(t)&&!ul(t);){if(qv(t))return t;if(Kf(t))return null;t=fi(t)}return null}function Yv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ul(e){return["html","body","#document"].includes(_l(e))}function ws(e){return Fr(e).getComputedStyle(e)}function Qf(e){return ys(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fi(e){if(_l(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Aj(e)&&e.host||Ws(e);return Aj(t)?t.host:t}function uS(e){const t=fi(e);return ul(t)?e.ownerDocument?e.ownerDocument.body:e.body:qs(t)&&du(t)?t:uS(t)}function Yc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=uS(e),l=i===((s=e.ownerDocument)==null?void 0:s.body),u=Fr(i);if(l){const h=Qg(u);return t.concat(u,u.visualViewport||[],du(i)?i:[],h&&n?Yc(h):[])}return t.concat(i,Yc(i,[],n))}function Qg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dS(e){const t=ws(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=qs(e),l=i?e.offsetWidth:n,u=i?e.offsetHeight:s,h=yf(n)!==l||yf(s)!==u;return h&&(n=l,s=u),{width:n,height:s,$:h}}function Gv(e){return ys(e)?e:e.contextElement}function el(e){const t=Gv(e);if(!qs(t))return Bs(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:l}=dS(t);let u=(l?yf(n.width):n.width)/s,h=(l?yf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const kD=Bs(0);function fS(e){const t=Fr(e);return!Yv()||!t.visualViewport?kD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fr(e)?!1:t}function Yi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=Gv(e);let u=Bs(1);t&&(s?ys(s)&&(u=el(s)):u=el(e));const h=DD(l,n,s)?fS(l):Bs(0);let f=(i.left+h.x)/u.x,m=(i.top+h.y)/u.y,g=i.width/u.x,x=i.height/u.y;if(l){const y=Fr(l),w=s&&ys(s)?Fr(s):s;let j=y,N=Qg(j);for(;N&&s&&w!==j;){const S=el(N),_=N.getBoundingClientRect(),E=ws(N),C=_.left+(N.clientLeft+parseFloat(E.paddingLeft))*S.x,M=_.top+(N.clientTop+parseFloat(E.paddingTop))*S.y;f*=S.x,m*=S.y,g*=S.x,x*=S.y,f+=C,m+=M,j=Fr(N),N=Qg(j)}}return jf({width:g,height:x,x:f,y:m})}function Wv(e,t){const n=Qf(e).scrollLeft;return t?t.left+n:Yi(Ws(e)).left+n}function hS(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:Wv(e,s)),l=s.top+t.scrollTop;return{x:i,y:l}}function PD(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const l=i==="fixed",u=Ws(s),h=t?Kf(t.floating):!1;if(s===u||h&&l)return n;let f={scrollLeft:0,scrollTop:0},m=Bs(1);const g=Bs(0),x=qs(s);if((x||!x&&!l)&&((_l(s)!=="body"||du(u))&&(f=Qf(s)),qs(s))){const w=Yi(s);m=el(s),g.x=w.x+s.clientLeft,g.y=w.y+s.clientTop}const y=u&&!x&&!l?hS(u,f,!0):Bs(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+g.x+y.x,y:n.y*m.y-f.scrollTop*m.y+g.y+y.y}}function LD(e){return Array.from(e.getClientRects())}function ID(e){const t=Ws(e),n=Qf(e),s=e.ownerDocument.body,i=Ur(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),l=Ur(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+Wv(e);const h=-n.scrollTop;return ws(s).direction==="rtl"&&(u+=Ur(t.clientWidth,s.clientWidth)-i),{width:i,height:l,x:u,y:h}}function $D(e,t){const n=Fr(e),s=Ws(e),i=n.visualViewport;let l=s.clientWidth,u=s.clientHeight,h=0,f=0;if(i){l=i.width,u=i.height;const m=Yv();(!m||m&&t==="fixed")&&(h=i.offsetLeft,f=i.offsetTop)}return{width:l,height:u,x:h,y:f}}function zD(e,t){const n=Yi(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,l=qs(e)?el(e):Bs(1),u=e.clientWidth*l.x,h=e.clientHeight*l.y,f=i*l.x,m=s*l.y;return{width:u,height:h,x:f,y:m}}function kj(e,t,n){let s;if(t==="viewport")s=$D(e,n);else if(t==="document")s=ID(Ws(e));else if(ys(t))s=zD(t,n);else{const i=fS(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return jf(s)}function mS(e,t){const n=fi(e);return n===t||!ys(n)||ul(n)?!1:ws(n).position==="fixed"||mS(n,t)}function UD(e,t){const n=t.get(e);if(n)return n;let s=Yc(e,[],!1).filter(h=>ys(h)&&_l(h)!=="body"),i=null;const l=ws(e).position==="fixed";let u=l?fi(e):e;for(;ys(u)&&!ul(u);){const h=ws(u),f=qv(u);!f&&h.position==="fixed"&&(i=null),(l?!f&&!i:!f&&h.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||du(u)&&!f&&mS(e,u))?s=s.filter(g=>g!==u):i=h,u=fi(u)}return t.set(e,s),s}function FD(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const u=[...n==="clippingAncestors"?Kf(t)?[]:UD(t,this._c):[].concat(n),s],h=u[0],f=u.reduce((m,g)=>{const x=kj(t,g,i);return m.top=Ur(x.top,m.top),m.right=ui(x.right,m.right),m.bottom=ui(x.bottom,m.bottom),m.left=Ur(x.left,m.left),m},kj(t,h,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function BD(e){const{width:t,height:n}=dS(e);return{width:t,height:n}}function HD(e,t,n){const s=qs(t),i=Ws(t),l=n==="fixed",u=Yi(e,!0,l,t);let h={scrollLeft:0,scrollTop:0};const f=Bs(0);if(s||!s&&!l)if((_l(t)!=="body"||du(i))&&(h=Qf(t)),s){const y=Yi(t,!0,l,t);f.x=y.x+t.clientLeft,f.y=y.y+t.clientTop}else i&&(f.x=Wv(i));const m=i&&!s&&!l?hS(i,h):Bs(0),g=u.left+h.scrollLeft-f.x-m.x,x=u.top+h.scrollTop-f.y-m.y;return{x:g,y:x,width:u.width,height:u.height}}function Zp(e){return ws(e).position==="static"}function Dj(e,t){if(!qs(e)||ws(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ws(e)===n&&(n=n.ownerDocument.body),n}function pS(e,t){const n=Fr(e);if(Kf(e))return n;if(!qs(e)){let i=fi(e);for(;i&&!ul(i);){if(ys(i)&&!Zp(i))return i;i=fi(i)}return n}let s=Dj(e,t);for(;s&&OD(s)&&Zp(s);)s=Dj(s,t);return s&&ul(s)&&Zp(s)&&!qv(s)?n:s||AD(e)||n}const VD=async function(e){const t=this.getOffsetParent||pS,n=this.getDimensions,s=await n(e.floating);return{reference:HD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function qD(e){return ws(e).direction==="rtl"}const YD={convertOffsetParentRelativeRectToViewportRelativeRect:PD,getDocumentElement:Ws,getClippingRect:FD,getOffsetParent:pS,getElementRects:VD,getClientRects:LD,getDimensions:BD,getScale:el,isElement:ys,isRTL:qD};function gS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GD(e,t){let n=null,s;const i=Ws(e);function l(){var h;clearTimeout(s),(h=n)==null||h.disconnect(),n=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:g,top:x,width:y,height:w}=m;if(h||t(),!y||!w)return;const j=qd(x),N=qd(i.clientWidth-(g+y)),S=qd(i.clientHeight-(x+w)),_=qd(g),C={rootMargin:-j+"px "+-N+"px "+-S+"px "+-_+"px",threshold:Ur(0,ui(1,f))||1};let M=!0;function R(A){const k=A[0].intersectionRatio;if(k!==f){if(!M)return u();k?u(!1,k):s=setTimeout(()=>{u(!1,1e-7)},1e3)}k===1&&!gS(m,e.getBoundingClientRect())&&u(),M=!1}try{n=new IntersectionObserver(R,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(e)}return u(!0),l}function vS(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,m=Gv(e),g=i||l?[...m?Yc(m):[],...Yc(t)]:[];g.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),l&&_.addEventListener("resize",n)});const x=m&&h?GD(m,n):null;let y=-1,w=null;u&&(w=new ResizeObserver(_=>{let[E]=_;E&&E.target===m&&w&&(w.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(t)})),n()}),m&&!f&&w.observe(m),w.observe(t));let j,N=f?Yi(e):null;f&&S();function S(){const _=Yi(e);N&&!gS(N,_)&&n(),N=_,j=requestAnimationFrame(S)}return n(),()=>{var _;g.forEach(E=>{i&&E.removeEventListener("scroll",n),l&&E.removeEventListener("resize",n)}),x==null||x(),(_=w)==null||_.disconnect(),w=null,f&&cancelAnimationFrame(j)}}const WD=CD,XD=RD,KD=SD,QD=MD,ZD=_D,Pj=ND,JD=TD,eP=(e,t,n)=>{const s=new Map,i={platform:YD,...n},l={...i.platform,_c:s};return jD(e,t,{...i,platform:l})};var lf=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Nf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Nf(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const l=i[s];if(!(l==="_owner"&&e.$$typeof)&&!Nf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function xS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lj(e,t){const n=xS(e);return Math.round(t*n)/n}function Jp(e){const t=p.useRef(e);return lf(()=>{t.current=e}),t}function tP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:f,open:m}=e,[g,x]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,w]=p.useState(s);Nf(y,s)||w(s);const[j,N]=p.useState(null),[S,_]=p.useState(null),E=p.useCallback(q=>{q!==A.current&&(A.current=q,N(q))},[]),C=p.useCallback(q=>{q!==k.current&&(k.current=q,_(q))},[]),M=l||j,R=u||S,A=p.useRef(null),k=p.useRef(null),L=p.useRef(g),U=f!=null,Y=Jp(f),oe=Jp(i),Q=Jp(m),$=p.useCallback(()=>{if(!A.current||!k.current)return;const q={placement:t,strategy:n,middleware:y};oe.current&&(q.platform=oe.current),eP(A.current,k.current,q).then(J=>{const D={...J,isPositioned:Q.current!==!1};ie.current&&!Nf(L.current,D)&&(L.current=D,xs.flushSync(()=>{x(D)}))})},[y,t,n,oe,Q]);lf(()=>{m===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[m]);const ie=p.useRef(!1);lf(()=>(ie.current=!0,()=>{ie.current=!1}),[]),lf(()=>{if(M&&(A.current=M),R&&(k.current=R),M&&R){if(Y.current)return Y.current(M,R,$);$()}},[M,R,$,Y,U]);const le=p.useMemo(()=>({reference:A,floating:k,setReference:E,setFloating:C}),[E,C]),I=p.useMemo(()=>({reference:M,floating:R}),[M,R]),W=p.useMemo(()=>{const q={position:n,left:0,top:0};if(!I.floating)return q;const J=Lj(I.floating,g.x),D=Lj(I.floating,g.y);return h?{...q,transform:"translate("+J+"px, "+D+"px)",...xS(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:D}},[n,h,I.floating,g.x,g.y]);return p.useMemo(()=>({...g,update:$,refs:le,elements:I,floatingStyles:W}),[g,$,le,I,W])}const nP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Pj({element:s.current,padding:i}).fn(n):{}:s?Pj({element:s,padding:i}).fn(n):{}}}},rP=(e,t)=>({...WD(e),options:[e,t]}),sP=(e,t)=>({...XD(e),options:[e,t]}),aP=(e,t)=>({...JD(e),options:[e,t]}),iP=(e,t)=>({...KD(e),options:[e,t]}),oP=(e,t)=>({...QD(e),options:[e,t]}),lP=(e,t)=>({...ZD(e),options:[e,t]}),cP=(e,t)=>({...nP(e),options:[e,t]});var uP="Arrow",bS=p.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...l}=e;return r.jsx(nt.svg,{...l,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});bS.displayName=uP;var dP=bS;function Xv(e){const[t,n]=p.useState(void 0);return sr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,h;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,h=m.blockSize}else u=e.offsetWidth,h=e.offsetHeight;n({width:u,height:h})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Kv="Popper",[yS,pi]=yr(Kv),[fP,wS]=yS(Kv),jS=e=>{const{__scopePopper:t,children:n}=e,[s,i]=p.useState(null);return r.jsx(fP,{scope:t,anchor:s,onAnchorChange:i,children:n})};jS.displayName=Kv;var NS="PopperAnchor",SS=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,l=wS(NS,n),u=p.useRef(null),h=Ct(t,u);return p.useEffect(()=>{l.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:r.jsx(nt.div,{...i,ref:h})});SS.displayName=NS;var Qv="PopperContent",[hP,mP]=yS(Qv),_S=p.forwardRef((e,t)=>{var K,re,ge,de,Ne,Oe;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:j,...N}=e,S=wS(Qv,n),[_,E]=p.useState(null),C=Ct(t,ot=>E(ot)),[M,R]=p.useState(null),A=Xv(M),k=(A==null?void 0:A.width)??0,L=(A==null?void 0:A.height)??0,U=s+(l!=="center"?"-"+l:""),Y=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},oe=Array.isArray(m)?m:[m],Q=oe.length>0,$={padding:Y,boundary:oe.filter(gP),altBoundary:Q},{refs:ie,floatingStyles:le,placement:I,isPositioned:W,middlewareData:q}=tP({strategy:"fixed",placement:U,whileElementsMounted:(...ot)=>vS(...ot,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[rP({mainAxis:i+L,alignmentAxis:u}),f&&sP({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?aP():void 0,...$}),f&&iP({...$}),oP({...$,apply:({elements:ot,rects:rt,availableWidth:me,availableHeight:ve})=>{const{width:Pe,height:ye}=rt.reference,Se=ot.floating.style;Se.setProperty("--radix-popper-available-width",`${me}px`),Se.setProperty("--radix-popper-available-height",`${ve}px`),Se.setProperty("--radix-popper-anchor-width",`${Pe}px`),Se.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),M&&cP({element:M,padding:h}),vP({arrowWidth:k,arrowHeight:L}),y&&lP({strategy:"referenceHidden",...$})]}),[J,D]=RS(I),F=Hr(j);sr(()=>{W&&(F==null||F())},[W,F]);const B=(K=q.arrow)==null?void 0:K.x,H=(re=q.arrow)==null?void 0:re.y,P=((ge=q.arrow)==null?void 0:ge.centerOffset)!==0,[z,V]=p.useState();return sr(()=>{_&&V(window.getComputedStyle(_).zIndex)},[_]),r.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:W?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(de=q.transformOrigin)==null?void 0:de.x,(Ne=q.transformOrigin)==null?void 0:Ne.y].join(" "),...((Oe=q.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(hP,{scope:n,placedSide:J,onArrowChange:R,arrowX:B,arrowY:H,shouldHideArrow:P,children:r.jsx(nt.div,{"data-side":J,"data-align":D,...N,ref:C,style:{...N.style,animation:W?void 0:"none"}})})})});_S.displayName=Qv;var ES="PopperArrow",pP={top:"bottom",right:"left",bottom:"top",left:"right"},CS=p.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,l=mP(ES,s),u=pP[l.placedSide];return r.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:r.jsx(dP,{...i,ref:n,style:{...i.style,display:"block"}})})});CS.displayName=ES;function gP(e){return e!==null}var vP=e=>({name:"transformOrigin",options:e,fn(t){var S,_,E;const{placement:n,rects:s,middlewareData:i}=t,u=((S=i.arrow)==null?void 0:S.centerOffset)!==0,h=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[m,g]=RS(n),x={start:"0%",center:"50%",end:"100%"}[g],y=(((_=i.arrow)==null?void 0:_.x)??0)+h/2,w=(((E=i.arrow)==null?void 0:E.y)??0)+f/2;let j="",N="";return m==="bottom"?(j=u?x:`${y}px`,N=`${-f}px`):m==="top"?(j=u?x:`${y}px`,N=`${s.floating.height+f}px`):m==="right"?(j=`${-f}px`,N=u?x:`${w}px`):m==="left"&&(j=`${s.floating.width+f}px`,N=u?x:`${w}px`),{data:{x:j,y:N}}}});function RS(e){const[t,n="center"]=e.split("-");return[t,n]}var Zv=jS,fu=SS,Zf=_S,Jf=CS,xP="Portal",hu=p.forwardRef((e,t)=>{var h;const{container:n,...s}=e,[i,l]=p.useState(!1);sr(()=>l(!0),[]);const u=n||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?wN.createPortal(r.jsx(nt.div,{...s,ref:t}),u):null});hu.displayName=xP;function bP(e,t){return p.useReducer((n,s)=>t[n][s]??n,e)}var qr=e=>{const{present:t,children:n}=e,s=yP(t),i=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),l=Ct(s.ref,wP(i));return typeof n=="function"||s.isPresent?p.cloneElement(i,{ref:l}):null};qr.displayName="Presence";function yP(e){const[t,n]=p.useState(),s=p.useRef({}),i=p.useRef(e),l=p.useRef("none"),u=e?"mounted":"unmounted",[h,f]=bP(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=Yd(s.current);l.current=h==="mounted"?m:"none"},[h]),sr(()=>{const m=s.current,g=i.current;if(g!==e){const y=l.current,w=Yd(m);e?f("MOUNT"):w==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),sr(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,x=w=>{const N=Yd(s.current).includes(w.animationName);if(w.target===t&&N&&(f("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=w=>{w.target===t&&(l.current=Yd(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:p.useCallback(m=>{m&&(s.current=getComputedStyle(m)),n(m)},[])}}function Yd(e){return(e==null?void 0:e.animationName)||"none"}function wP(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eg="rovingFocusGroup.onEntryFocus",jP={bubbles:!1,cancelable:!0},eh="RovingFocusGroup",[Zg,TS,NP]=Fv(eh),[SP,th]=yr(eh,[NP]),[_P,EP]=SP(eh),MS=p.forwardRef((e,t)=>r.jsx(Zg.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Zg.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(CP,{...e,ref:t})})}));MS.displayName=eh;var CP=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=e,y=p.useRef(null),w=Ct(t,y),j=Gf(l),[N=null,S]=ci({prop:u,defaultProp:h,onChange:f}),[_,E]=p.useState(!1),C=Hr(m),M=TS(n),R=p.useRef(!1),[A,k]=p.useState(0);return p.useEffect(()=>{const L=y.current;if(L)return L.addEventListener(eg,C),()=>L.removeEventListener(eg,C)},[C]),r.jsx(_P,{scope:n,orientation:s,dir:j,loop:i,currentTabStopId:N,onItemFocus:p.useCallback(L=>S(L),[S]),onItemShiftTab:p.useCallback(()=>E(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(L=>L+1),[]),onFocusableItemRemove:p.useCallback(()=>k(L=>L-1),[]),children:r.jsx(nt.div,{tabIndex:_||A===0?-1:0,"data-orientation":s,...x,ref:w,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{R.current=!0}),onFocus:ke(e.onFocus,L=>{const U=!R.current;if(L.target===L.currentTarget&&U&&!_){const Y=new CustomEvent(eg,jP);if(L.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const oe=M().filter(I=>I.focusable),Q=oe.find(I=>I.active),$=oe.find(I=>I.id===N),le=[Q,$,...oe].filter(Boolean).map(I=>I.ref.current);kS(le,g)}}R.current=!1}),onBlur:ke(e.onBlur,()=>E(!1))})})}),OS="RovingFocusGroupItem",AS=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:l,...u}=e,h=Fs(),f=l||h,m=EP(OS,n),g=m.currentTabStopId===f,x=TS(n),{onFocusableItemAdd:y,onFocusableItemRemove:w}=m;return p.useEffect(()=>{if(s)return y(),()=>w()},[s,y,w]),r.jsx(Zg.ItemSlot,{scope:n,id:f,focusable:s,active:i,children:r.jsx(nt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:ke(e.onMouseDown,j=>{s?m.onItemFocus(f):j.preventDefault()}),onFocus:ke(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:ke(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const N=MP(j,m.orientation,m.dir);if(N!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let _=x().filter(E=>E.focusable).map(E=>E.ref.current);if(N==="last")_.reverse();else if(N==="prev"||N==="next"){N==="prev"&&_.reverse();const E=_.indexOf(j.currentTarget);_=m.loop?OP(_,E+1):_.slice(E+1)}setTimeout(()=>kS(_))}})})})});AS.displayName=OS;var RP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MP(e,t,n){const s=TP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return RP[s]}function kS(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function OP(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var DS=MS,PS=AS,AP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yo=new WeakMap,Gd=new WeakMap,Wd={},tg=0,LS=function(e){return e&&(e.host||LS(e.parentNode))},kP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=LS(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},DP=function(e,t,n,s){var i=kP(t,Array.isArray(e)?e:[e]);Wd[n]||(Wd[n]=new WeakMap);var l=Wd[n],u=[],h=new Set,f=new Set(i),m=function(x){!x||h.has(x)||(h.add(x),m(x.parentNode))};i.forEach(m);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(y){if(h.has(y))g(y);else try{var w=y.getAttribute(s),j=w!==null&&w!=="false",N=(Yo.get(y)||0)+1,S=(l.get(y)||0)+1;Yo.set(y,N),l.set(y,S),u.push(y),N===1&&j&&Gd.set(y,!0),S===1&&y.setAttribute(n,"true"),j||y.setAttribute(s,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return g(t),h.clear(),tg++,function(){u.forEach(function(x){var y=Yo.get(x)-1,w=l.get(x)-1;Yo.set(x,y),l.set(x,w),y||(Gd.has(x)||x.removeAttribute(s),Gd.delete(x)),w||x.removeAttribute(n)}),tg--,tg||(Yo=new WeakMap,Yo=new WeakMap,Gd=new WeakMap,Wd={})}},nh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=AP(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),DP(s,i,n,"aria-hidden")):function(){return null}},Is=function(){return Is=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Is.apply(this,arguments)};function IS(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function PP(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,l;s<i;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}var cf="right-scroll-bar-position",uf="width-before-scroll-bar",LP="with-scroll-bars-hidden",IP="--removed-body-scroll-bar-size";function ng(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $P(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var zP=typeof window<"u"?p.useLayoutEffect:p.useEffect,Ij=new WeakMap;function UP(e,t){var n=$P(null,function(s){return e.forEach(function(i){return ng(i,s)})});return zP(function(){var s=Ij.get(n);if(s){var i=new Set(s),l=new Set(e),u=n.current;i.forEach(function(h){l.has(h)||ng(h,null)}),l.forEach(function(h){i.has(h)||ng(h,u)})}Ij.set(n,e)},[e]),n}function FP(e){return e}function BP(e,t){t===void 0&&(t=FP);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var u=t(l,s);return n.push(u),function(){n=n.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(s=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(h){return l(h)},filter:function(){return n}}},assignMedium:function(l){s=!0;var u=[];if(n.length){var h=n;n=[],h.forEach(l),u=n}var f=function(){var g=u;u=[],g.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return i}function HP(e){e===void 0&&(e={});var t=BP(null);return t.options=Is({async:!0,ssr:!1},e),t}var $S=function(e){var t=e.sideCar,n=IS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Is({},n))};$S.isSideCarExport=!0;function VP(e,t){return e.useMedium(t),$S}var zS=HP(),rg=function(){},rh=p.forwardRef(function(e,t){var n=p.useRef(null),s=p.useState({onScrollCapture:rg,onWheelCapture:rg,onTouchMoveCapture:rg}),i=s[0],l=s[1],u=e.forwardProps,h=e.children,f=e.className,m=e.removeScrollBar,g=e.enabled,x=e.shards,y=e.sideCar,w=e.noIsolation,j=e.inert,N=e.allowPinchZoom,S=e.as,_=S===void 0?"div":S,E=e.gapMode,C=IS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,R=UP([n,t]),A=Is(Is({},C),i);return p.createElement(p.Fragment,null,g&&p.createElement(M,{sideCar:zS,removeScrollBar:m,shards:x,noIsolation:w,inert:j,setCallbacks:l,allowPinchZoom:!!N,lockRef:n,gapMode:E}),u?p.cloneElement(p.Children.only(h),Is(Is({},A),{ref:R})):p.createElement(_,Is({},A,{className:f,ref:R}),h))});rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rh.classNames={fullWidth:uf,zeroRight:cf};var qP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qP();return t&&e.setAttribute("nonce",t),e}function GP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function WP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=YP())&&(GP(t,n),WP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KP=function(){var e=XP();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},US=function(){var e=KP(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},QP={left:0,top:0,right:0,gap:0},sg=function(e){return parseInt(e||"",10)||0},ZP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[sg(n),sg(s),sg(i)]},JP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QP;var t=ZP(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},e5=US(),tl="data-scroll-locked",t5=function(e,t,n,s){var i=e.left,l=e.top,u=e.right,h=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(LP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(h,"px ").concat(s,`;
  }
  body[`).concat(tl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cf,` {
    right: `).concat(h,"px ").concat(s,`;
  }
  
  .`).concat(uf,` {
    margin-right: `).concat(h,"px ").concat(s,`;
  }
  
  .`).concat(cf," .").concat(cf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(uf," .").concat(uf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(tl,`] {
    `).concat(IP,": ").concat(h,`px;
  }
`)},$j=function(){var e=parseInt(document.body.getAttribute(tl)||"0",10);return isFinite(e)?e:0},n5=function(){p.useEffect(function(){return document.body.setAttribute(tl,($j()+1).toString()),function(){var e=$j()-1;e<=0?document.body.removeAttribute(tl):document.body.setAttribute(tl,e.toString())}},[])},r5=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;n5();var l=p.useMemo(function(){return JP(i)},[i]);return p.createElement(e5,{styles:t5(l,!t,i,n?"":"!important")})},Jg=!1;if(typeof window<"u")try{var Xd=Object.defineProperty({},"passive",{get:function(){return Jg=!0,!0}});window.addEventListener("test",Xd,Xd),window.removeEventListener("test",Xd,Xd)}catch{Jg=!1}var Go=Jg?{passive:!1}:!1,s5=function(e){return e.tagName==="TEXTAREA"},FS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!s5(e)&&n[t]==="visible")},a5=function(e){return FS(e,"overflowY")},i5=function(e){return FS(e,"overflowX")},zj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=BS(e,s);if(i){var l=HS(e,s),u=l[1],h=l[2];if(u>h)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},o5=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},l5=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},BS=function(e,t){return e==="v"?a5(t):i5(t)},HS=function(e,t){return e==="v"?o5(t):l5(t)},c5=function(e,t){return e==="h"&&t==="rtl"?-1:1},u5=function(e,t,n,s,i){var l=c5(e,window.getComputedStyle(t).direction),u=l*s,h=n.target,f=t.contains(h),m=!1,g=u>0,x=0,y=0;do{var w=HS(e,h),j=w[0],N=w[1],S=w[2],_=N-S-l*j;(j||_)&&BS(e,h)&&(x+=_,y+=j),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!f&&h!==document.body||f&&(t.contains(h)||t===h));return(g&&Math.abs(x)<1||!g&&Math.abs(y)<1)&&(m=!0),m},Kd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Uj=function(e){return[e.deltaX,e.deltaY]},Fj=function(e){return e&&"current"in e?e.current:e},d5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},f5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h5=0,Wo=[];function m5(e){var t=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),i=p.useState(h5++)[0],l=p.useState(US)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=PP([e.lockRef.current],(e.shards||[]).map(Fj),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var h=p.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var _=Kd(N),E=n.current,C="deltaX"in N?N.deltaX:E[0]-_[0],M="deltaY"in N?N.deltaY:E[1]-_[1],R,A=N.target,k=Math.abs(C)>Math.abs(M)?"h":"v";if("touches"in N&&k==="h"&&A.type==="range")return!1;var L=zj(k,A);if(!L)return!0;if(L?R=k:(R=k==="v"?"h":"v",L=zj(k,A)),!L)return!1;if(!s.current&&"changedTouches"in N&&(C||M)&&(s.current=R),!R)return!0;var U=s.current||R;return u5(U,S,N,U==="h"?C:M)},[]),f=p.useCallback(function(N){var S=N;if(!(!Wo.length||Wo[Wo.length-1]!==l)){var _="deltaY"in S?Uj(S):Kd(S),E=t.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&d5(R.delta,_)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var C=(u.current.shards||[]).map(Fj).filter(Boolean).filter(function(R){return R.contains(S.target)}),M=C.length>0?h(S,C[0]):!u.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),m=p.useCallback(function(N,S,_,E){var C={name:N,delta:S,target:_,should:E,shadowParent:p5(_)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(M){return M!==C})},1)},[]),g=p.useCallback(function(N){n.current=Kd(N),s.current=void 0},[]),x=p.useCallback(function(N){m(N.type,Uj(N),N.target,h(N,e.lockRef.current))},[]),y=p.useCallback(function(N){m(N.type,Kd(N),N.target,h(N,e.lockRef.current))},[]);p.useEffect(function(){return Wo.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Go),document.addEventListener("touchmove",f,Go),document.addEventListener("touchstart",g,Go),function(){Wo=Wo.filter(function(N){return N!==l}),document.removeEventListener("wheel",f,Go),document.removeEventListener("touchmove",f,Go),document.removeEventListener("touchstart",g,Go)}},[]);var w=e.removeScrollBar,j=e.inert;return p.createElement(p.Fragment,null,j?p.createElement(l,{styles:f5(i)}):null,w?p.createElement(r5,{gapMode:e.gapMode}):null)}function p5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const g5=VP(zS,m5);var mu=p.forwardRef(function(e,t){return p.createElement(rh,Is({},e,{ref:t,sideCar:g5}))});mu.classNames=rh.classNames;var ev=["Enter"," "],v5=["ArrowDown","PageUp","Home"],VS=["ArrowUp","PageDown","End"],x5=[...v5,...VS],b5={ltr:[...ev,"ArrowRight"],rtl:[...ev,"ArrowLeft"]},y5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pu="Menu",[Gc,w5,j5]=Fv(pu),[no,qS]=yr(pu,[j5,pi,th]),sh=pi(),YS=th(),[N5,ro]=no(pu),[S5,gu]=no(pu),GS=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:l,modal:u=!0}=e,h=sh(t),[f,m]=p.useState(null),g=p.useRef(!1),x=Hr(l),y=Gf(i);return p.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),r.jsx(Zv,{...h,children:r.jsx(N5,{scope:t,open:n,onOpenChange:x,content:f,onContentChange:m,children:r.jsx(S5,{scope:t,onClose:p.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:y,modal:u,children:s})})})};GS.displayName=pu;var _5="MenuAnchor",Jv=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=sh(n);return r.jsx(fu,{...i,...s,ref:t})});Jv.displayName=_5;var ex="MenuPortal",[E5,WS]=no(ex,{forceMount:void 0}),XS=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,l=ro(ex,t);return r.jsx(E5,{scope:t,forceMount:n,children:r.jsx(qr,{present:n||l.open,children:r.jsx(hu,{asChild:!0,container:i,children:s})})})};XS.displayName=ex;var is="MenuContent",[C5,tx]=no(is),KS=p.forwardRef((e,t)=>{const n=WS(is,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,l=ro(is,e.__scopeMenu),u=gu(is,e.__scopeMenu);return r.jsx(Gc.Provider,{scope:e.__scopeMenu,children:r.jsx(qr,{present:s||l.open,children:r.jsx(Gc.Slot,{scope:e.__scopeMenu,children:u.modal?r.jsx(R5,{...i,ref:t}):r.jsx(T5,{...i,ref:t})})})})}),R5=p.forwardRef((e,t)=>{const n=ro(is,e.__scopeMenu),s=p.useRef(null),i=Ct(t,s);return p.useEffect(()=>{const l=s.current;if(l)return nh(l)},[]),r.jsx(nx,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),T5=p.forwardRef((e,t)=>{const n=ro(is,e.__scopeMenu);return r.jsx(nx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nx=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:y,onDismiss:w,disableOutsideScroll:j,...N}=e,S=ro(is,n),_=gu(is,n),E=sh(n),C=YS(n),M=w5(n),[R,A]=p.useState(null),k=p.useRef(null),L=Ct(t,k,S.onContentChange),U=p.useRef(0),Y=p.useRef(""),oe=p.useRef(0),Q=p.useRef(null),$=p.useRef("right"),ie=p.useRef(0),le=j?mu:p.Fragment,I=j?{as:Vs,allowPinchZoom:!0}:void 0,W=J=>{var K,re;const D=Y.current+J,F=M().filter(ge=>!ge.disabled),B=document.activeElement,H=(K=F.find(ge=>ge.ref.current===B))==null?void 0:K.textValue,P=F.map(ge=>ge.textValue),z=F5(P,D,H),V=(re=F.find(ge=>ge.textValue===z))==null?void 0:re.ref.current;(function ge(de){Y.current=de,window.clearTimeout(U.current),de!==""&&(U.current=window.setTimeout(()=>ge(""),1e3))})(D),V&&setTimeout(()=>V.focus())};p.useEffect(()=>()=>window.clearTimeout(U.current),[]),Wf();const q=p.useCallback(J=>{var F,B;return $.current===((F=Q.current)==null?void 0:F.side)&&H5(J,(B=Q.current)==null?void 0:B.area)},[]);return r.jsx(C5,{scope:n,searchRef:Y,onItemEnter:p.useCallback(J=>{q(J)&&J.preventDefault()},[q]),onItemLeave:p.useCallback(J=>{var D;q(J)||((D=k.current)==null||D.focus(),A(null))},[q]),onTriggerLeave:p.useCallback(J=>{q(J)&&J.preventDefault()},[q]),pointerGraceTimerRef:oe,onPointerGraceIntentChange:p.useCallback(J=>{Q.current=J},[]),children:r.jsx(le,{...I,children:r.jsx(uu,{asChild:!0,trapped:i,onMountAutoFocus:ke(l,J=>{var D;J.preventDefault(),(D=k.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:r.jsx(Nl,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:y,onDismiss:w,children:r.jsx(DS,{asChild:!0,...C,dir:_.dir,orientation:"vertical",loop:s,currentTabStopId:R,onCurrentTabStopIdChange:A,onEntryFocus:ke(f,J=>{_.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Zf,{role:"menu","aria-orientation":"vertical","data-state":f_(S.open),"data-radix-menu-content":"",dir:_.dir,...E,...N,ref:L,style:{outline:"none",...N.style},onKeyDown:ke(N.onKeyDown,J=>{const F=J.target.closest("[data-radix-menu-content]")===J.currentTarget,B=J.ctrlKey||J.altKey||J.metaKey,H=J.key.length===1;F&&(J.key==="Tab"&&J.preventDefault(),!B&&H&&W(J.key));const P=k.current;if(J.target!==P||!x5.includes(J.key))return;J.preventDefault();const V=M().filter(K=>!K.disabled).map(K=>K.ref.current);VS.includes(J.key)&&V.reverse(),z5(V)}),onBlur:ke(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(U.current),Y.current="")}),onPointerMove:ke(e.onPointerMove,Wc(J=>{const D=J.target,F=ie.current!==J.clientX;if(J.currentTarget.contains(D)&&F){const B=J.clientX>ie.current?"right":"left";$.current=B,ie.current=J.clientX}}))})})})})})})});KS.displayName=is;var M5="MenuGroup",rx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(nt.div,{role:"group",...s,ref:t})});rx.displayName=M5;var O5="MenuLabel",QS=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(nt.div,{...s,ref:t})});QS.displayName=O5;var Sf="MenuItem",Bj="menu.itemSelect",ah=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,l=p.useRef(null),u=gu(Sf,e.__scopeMenu),h=tx(Sf,e.__scopeMenu),f=Ct(t,l),m=p.useRef(!1),g=()=>{const x=l.current;if(!n&&x){const y=new CustomEvent(Bj,{bubbles:!0,cancelable:!0});x.addEventListener(Bj,w=>s==null?void 0:s(w),{once:!0}),BN(x,y),y.defaultPrevented?m.current=!1:u.onClose()}};return r.jsx(ZS,{...i,ref:f,disabled:n,onClick:ke(e.onClick,g),onPointerDown:x=>{var y;(y=e.onPointerDown)==null||y.call(e,x),m.current=!0},onPointerUp:ke(e.onPointerUp,x=>{var y;m.current||(y=x.currentTarget)==null||y.click()}),onKeyDown:ke(e.onKeyDown,x=>{const y=h.searchRef.current!=="";n||y&&x.key===" "||ev.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});ah.displayName=Sf;var ZS=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...l}=e,u=tx(Sf,n),h=YS(n),f=p.useRef(null),m=Ct(t,f),[g,x]=p.useState(!1),[y,w]=p.useState("");return p.useEffect(()=>{const j=f.current;j&&w((j.textContent??"").trim())},[l.children]),r.jsx(Gc.ItemSlot,{scope:n,disabled:s,textValue:i??y,children:r.jsx(PS,{asChild:!0,...h,focusable:!s,children:r.jsx(nt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:m,onPointerMove:ke(e.onPointerMove,Wc(j=>{s?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,Wc(j=>u.onItemLeave(j))),onFocus:ke(e.onFocus,()=>x(!0)),onBlur:ke(e.onBlur,()=>x(!1))})})})}),A5="MenuCheckboxItem",JS=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(s_,{scope:e.__scopeMenu,checked:n,children:r.jsx(ah,{role:"menuitemcheckbox","aria-checked":_f(n)?"mixed":n,...i,ref:t,"data-state":ax(n),onSelect:ke(i.onSelect,()=>s==null?void 0:s(_f(n)?!0:!n),{checkForDefaultPrevented:!1})})})});JS.displayName=A5;var e_="MenuRadioGroup",[k5,D5]=no(e_,{value:void 0,onValueChange:()=>{}}),t_=p.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,l=Hr(s);return r.jsx(k5,{scope:e.__scopeMenu,value:n,onValueChange:l,children:r.jsx(rx,{...i,ref:t})})});t_.displayName=e_;var n_="MenuRadioItem",r_=p.forwardRef((e,t)=>{const{value:n,...s}=e,i=D5(n_,e.__scopeMenu),l=n===i.value;return r.jsx(s_,{scope:e.__scopeMenu,checked:l,children:r.jsx(ah,{role:"menuitemradio","aria-checked":l,...s,ref:t,"data-state":ax(l),onSelect:ke(s.onSelect,()=>{var u;return(u=i.onValueChange)==null?void 0:u.call(i,n)},{checkForDefaultPrevented:!1})})})});r_.displayName=n_;var sx="MenuItemIndicator",[s_,P5]=no(sx,{checked:!1}),a_=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,l=P5(sx,n);return r.jsx(qr,{present:s||_f(l.checked)||l.checked===!0,children:r.jsx(nt.span,{...i,ref:t,"data-state":ax(l.checked)})})});a_.displayName=sx;var L5="MenuSeparator",i_=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});i_.displayName=L5;var I5="MenuArrow",o_=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=sh(n);return r.jsx(Jf,{...i,...s,ref:t})});o_.displayName=I5;var $5="MenuSub",[fY,l_]=no($5),kc="MenuSubTrigger",c_=p.forwardRef((e,t)=>{const n=ro(kc,e.__scopeMenu),s=gu(kc,e.__scopeMenu),i=l_(kc,e.__scopeMenu),l=tx(kc,e.__scopeMenu),u=p.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:f}=l,m={__scopeMenu:e.__scopeMenu},g=p.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return p.useEffect(()=>g,[g]),p.useEffect(()=>{const x=h.current;return()=>{window.clearTimeout(x),f(null)}},[h,f]),r.jsx(Jv,{asChild:!0,...m,children:r.jsx(ZS,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":f_(n.open),...e,ref:qf(t,i.onTriggerChange),onClick:x=>{var y;(y=e.onClick)==null||y.call(e,x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,Wc(x=>{l.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:ke(e.onPointerLeave,Wc(x=>{var w,j;g();const y=(w=n.content)==null?void 0:w.getBoundingClientRect();if(y){const N=(j=n.content)==null?void 0:j.dataset.side,S=N==="right",_=S?-5:5,E=y[S?"left":"right"],C=y[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+_,y:x.clientY},{x:E,y:y.top},{x:C,y:y.top},{x:C,y:y.bottom},{x:E,y:y.bottom}],side:N}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,x=>{var w;const y=l.searchRef.current!=="";e.disabled||y&&x.key===" "||b5[s.dir].includes(x.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),x.preventDefault())})})})});c_.displayName=kc;var u_="MenuSubContent",d_=p.forwardRef((e,t)=>{const n=WS(is,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,l=ro(is,e.__scopeMenu),u=gu(is,e.__scopeMenu),h=l_(u_,e.__scopeMenu),f=p.useRef(null),m=Ct(t,f);return r.jsx(Gc.Provider,{scope:e.__scopeMenu,children:r.jsx(qr,{present:s||l.open,children:r.jsx(Gc.Slot,{scope:e.__scopeMenu,children:r.jsx(nx,{id:h.contentId,"aria-labelledby":h.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var x;u.isUsingKeyboardRef.current&&((x=f.current)==null||x.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ke(e.onFocusOutside,g=>{g.target!==h.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:ke(e.onKeyDown,g=>{var w;const x=g.currentTarget.contains(g.target),y=y5[u.dir].includes(g.key);x&&y&&(l.onOpenChange(!1),(w=h.trigger)==null||w.focus(),g.preventDefault())})})})})})});d_.displayName=u_;function f_(e){return e?"open":"closed"}function _f(e){return e==="indeterminate"}function ax(e){return _f(e)?"indeterminate":e?"checked":"unchecked"}function z5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function U5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function F5(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=U5(e,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const f=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function B5(e,t){const{x:n,y:s}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const h=t[l].x,f=t[l].y,m=t[u].x,g=t[u].y;f>s!=g>s&&n<(m-h)*(s-f)/(g-f)+h&&(i=!i)}return i}function H5(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return B5(n,t)}function Wc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var V5=GS,q5=Jv,Y5=XS,G5=KS,W5=rx,X5=QS,K5=ah,Q5=JS,Z5=t_,J5=r_,e3=a_,t3=i_,n3=o_,r3=c_,s3=d_,ix="DropdownMenu",[a3,hY]=yr(ix,[qS]),wr=qS(),[i3,h_]=a3(ix),m_=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:l,onOpenChange:u,modal:h=!0}=e,f=wr(t),m=p.useRef(null),[g=!1,x]=ci({prop:i,defaultProp:l,onChange:u});return r.jsx(i3,{scope:t,triggerId:Fs(),triggerRef:m,contentId:Fs(),open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(y=>!y),[x]),modal:h,children:r.jsx(V5,{...f,open:g,onOpenChange:x,dir:s,modal:h,children:n})})};m_.displayName=ix;var p_="DropdownMenuTrigger",g_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,l=h_(p_,n),u=wr(n);return r.jsx(q5,{asChild:!0,...u,children:r.jsx(nt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:qf(t,l.triggerRef),onPointerDown:ke(e.onPointerDown,h=>{!s&&h.button===0&&h.ctrlKey===!1&&(l.onOpenToggle(),l.open||h.preventDefault())}),onKeyDown:ke(e.onKeyDown,h=>{s||(["Enter"," "].includes(h.key)&&l.onOpenToggle(),h.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});g_.displayName=p_;var o3="DropdownMenuPortal",v_=e=>{const{__scopeDropdownMenu:t,...n}=e,s=wr(t);return r.jsx(Y5,{...s,...n})};v_.displayName=o3;var x_="DropdownMenuContent",b_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=h_(x_,n),l=wr(n),u=p.useRef(!1);return r.jsx(G5,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...s,ref:t,onCloseAutoFocus:ke(e.onCloseAutoFocus,h=>{var f;u.current||(f=i.triggerRef.current)==null||f.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,h=>{const f=h.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,g=f.button===2||m;(!i.modal||g)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=x_;var l3="DropdownMenuGroup",c3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(W5,{...i,...s,ref:t})});c3.displayName=l3;var u3="DropdownMenuLabel",y_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(X5,{...i,...s,ref:t})});y_.displayName=u3;var d3="DropdownMenuItem",w_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(K5,{...i,...s,ref:t})});w_.displayName=d3;var f3="DropdownMenuCheckboxItem",h3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(Q5,{...i,...s,ref:t})});h3.displayName=f3;var m3="DropdownMenuRadioGroup",p3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(Z5,{...i,...s,ref:t})});p3.displayName=m3;var g3="DropdownMenuRadioItem",v3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(J5,{...i,...s,ref:t})});v3.displayName=g3;var x3="DropdownMenuItemIndicator",b3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(e3,{...i,...s,ref:t})});b3.displayName=x3;var y3="DropdownMenuSeparator",j_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(t3,{...i,...s,ref:t})});j_.displayName=y3;var w3="DropdownMenuArrow",j3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(n3,{...i,...s,ref:t})});j3.displayName=w3;var N3="DropdownMenuSubTrigger",S3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(r3,{...i,...s,ref:t})});S3.displayName=N3;var _3="DropdownMenuSubContent",E3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=wr(n);return r.jsx(s3,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E3.displayName=_3;var C3=m_,R3=g_,T3=v_,M3=b_,O3=y_,A3=w_,k3=j_;/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Hj=e=>{const t=P3(e);return t.charAt(0).toUpperCase()+t.slice(1)},N_=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:u,...h},f)=>p.createElement("svg",{ref:f,...L3,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:N_("lucide",i),...h},[...u.map(([m,g])=>p.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(e,t)=>{const n=p.forwardRef(({className:s,...i},l)=>p.createElement(I3,{ref:l,iconNode:t,className:N_(`lucide-${D3(Hj(e))}`,`lucide-${e}`,s),...i}));return n.displayName=Hj(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],z3=at("arrow-down-to-line",$3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cn=at("arrow-left",U3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],S_=at("banknote",F3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],hn=at("calendar-days",B3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],__=at("calendar",H3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ox=at("check",V3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E_=at("chevron-down",q3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C_=at("chevron-left",Y3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R_=at("chevron-right",G3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],X3=at("chevron-up",W3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ut=at("circle-alert",K3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gi=at("circle-check-big",Q3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],hi=at("circle-plus",Z3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eL=at("circle",J3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ef=at("clipboard-list",tL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],ih=at("database-zap",nL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],sL=at("download",rL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ls=at("file-text",aL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],lx=at("flask-conical",iL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],lL=at("grip-vertical",oL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],mr=at("hourglass",cL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],oh=at("image",uL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ge=at("info",dL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zc=at("layers",fL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],mL=at("layout-template",hL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Na=at("list-checks",pL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zt=at("loader-circle",gL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],xL=at("log-out",vL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],yL=at("menu",bL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],T_=at("pencil",wL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],yn=at("phone",jL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],df=at("plus",NL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],lh=at("printer",SL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dl=at("save",_L);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],vu=at("search",EL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RL=at("settings",CL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cs=at("square-pen",TL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],ar=at("stethoscope",ML);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xu=at("trash-2",OL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],nl=at("trash",AL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],DL=at("upload",kL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],M_=at("user-plus",PL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qt=at("user",LL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],O_=at("users",IL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],zL=at("workflow",$L);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ch=at("x",UL);function FL({...e}){return r.jsx(C3,{"data-slot":"dropdown-menu",...e})}function BL({...e}){return r.jsx(R3,{"data-slot":"dropdown-menu-trigger",...e})}function HL({className:e,sideOffset:t=4,...n}){return r.jsx(T3,{children:r.jsx(M3,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function VL({className:e,inset:t,variant:n="default",...s}){return r.jsx(A3,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Me("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function qL({className:e,inset:t,...n}){return r.jsx(O3,{"data-slot":"dropdown-menu-label","data-inset":t,className:Me("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function YL({className:e,...t}){return r.jsx(k3,{"data-slot":"dropdown-menu-separator",className:Me("bg-border -mx-1 my-1 h-px",e),...t})}var cx="Dialog",[A_,k_]=yr(cx),[GL,Cs]=A_(cx),D_=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,h=p.useRef(null),f=p.useRef(null),[m=!1,g]=ci({prop:s,defaultProp:i,onChange:l});return r.jsx(GL,{scope:t,triggerRef:h,contentRef:f,contentId:Fs(),titleId:Fs(),descriptionId:Fs(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(x=>!x),[g]),modal:u,children:n})};D_.displayName=cx;var P_="DialogTrigger",L_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Cs(P_,n),l=Ct(t,i.triggerRef);return r.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fx(i.open),...s,ref:l,onClick:ke(e.onClick,i.onOpenToggle)})});L_.displayName=P_;var ux="DialogPortal",[WL,I_]=A_(ux,{forceMount:void 0}),$_=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,l=Cs(ux,t);return r.jsx(WL,{scope:t,forceMount:n,children:p.Children.map(s,u=>r.jsx(qr,{present:n||l.open,children:r.jsx(hu,{asChild:!0,container:i,children:u})}))})};$_.displayName=ux;var Cf="DialogOverlay",z_=p.forwardRef((e,t)=>{const n=I_(Cf,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,l=Cs(Cf,e.__scopeDialog);return l.modal?r.jsx(qr,{present:s||l.open,children:r.jsx(XL,{...i,ref:t})}):null});z_.displayName=Cf;var XL=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Cs(Cf,n);return r.jsx(mu,{as:Vs,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(nt.div,{"data-state":fx(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Gi="DialogContent",U_=p.forwardRef((e,t)=>{const n=I_(Gi,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,l=Cs(Gi,e.__scopeDialog);return r.jsx(qr,{present:s||l.open,children:l.modal?r.jsx(KL,{...i,ref:t}):r.jsx(QL,{...i,ref:t})})});U_.displayName=Gi;var KL=p.forwardRef((e,t)=>{const n=Cs(Gi,e.__scopeDialog),s=p.useRef(null),i=Ct(t,n.contentRef,s);return p.useEffect(()=>{const l=s.current;if(l)return nh(l)},[]),r.jsx(F_,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&l.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,l=>l.preventDefault())})}),QL=p.forwardRef((e,t)=>{const n=Cs(Gi,e.__scopeDialog),s=p.useRef(!1),i=p.useRef(!1);return r.jsx(F_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,h;(u=e.onCloseAutoFocus)==null||u.call(e,l),l.defaultPrevented||(s.current||(h=n.triggerRef.current)==null||h.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),F_=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=e,h=Cs(Gi,n),f=p.useRef(null),m=Ct(t,f);return Wf(),r.jsxs(r.Fragment,{children:[r.jsx(uu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:r.jsx(Nl,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":fx(h.open),...u,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(JL,{titleId:h.titleId}),r.jsx(tI,{contentRef:f,descriptionId:h.descriptionId})]})]})}),dx="DialogTitle",B_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Cs(dx,n);return r.jsx(nt.h2,{id:i.titleId,...s,ref:t})});B_.displayName=dx;var H_="DialogDescription",V_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Cs(H_,n);return r.jsx(nt.p,{id:i.descriptionId,...s,ref:t})});V_.displayName=H_;var q_="DialogClose",Y_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Cs(q_,n);return r.jsx(nt.button,{type:"button",...s,ref:t,onClick:ke(e.onClick,()=>i.onOpenChange(!1))})});Y_.displayName=q_;function fx(e){return e?"open":"closed"}var G_="DialogTitleWarning",[ZL,W_]=K4(G_,{contentName:Gi,titleName:dx,docsSlug:"dialog"}),JL=({titleId:e})=>{const t=W_(G_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},eI="DialogDescriptionWarning",tI=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${W_(eI).contentName}}.`;return p.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},hx=D_,X_=L_,mx=$_,px=z_,gx=U_,K_=B_,Q_=V_,bu=Y_;function nI({...e}){return r.jsx(hx,{"data-slot":"sheet",...e})}function rI({...e}){return r.jsx(X_,{"data-slot":"sheet-trigger",...e})}function sI({...e}){return r.jsx(mx,{"data-slot":"sheet-portal",...e})}function aI({className:e,...t}){return r.jsx(px,{"data-slot":"sheet-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function iI({className:e,children:t,side:n="right",...s}){return r.jsxs(sI,{children:[r.jsx(aI,{}),r.jsxs(gx,{"data-slot":"sheet-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...s,children:[t,r.jsxs(bu,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[r.jsx(ch,{className:"size-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var oI="VisuallyHidden",vx=p.forwardRef((e,t)=>r.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));vx.displayName=oI;var lI=vx,[uh,mY]=yr("Tooltip",[pi]),xx=pi(),Z_="TooltipProvider",cI=700,Vj="tooltip.open",[uI,J_]=uh(Z_),eE=e=>{const{__scopeTooltip:t,delayDuration:n=cI,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:l}=e,[u,h]=p.useState(!0),f=p.useRef(!1),m=p.useRef(0);return p.useEffect(()=>{const g=m.current;return()=>window.clearTimeout(g)},[]),r.jsx(uI,{scope:t,isOpenDelayed:u,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(m.current),h(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>h(!0),s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:p.useCallback(g=>{f.current=g},[]),disableHoverableContent:i,children:l})};eE.displayName=Z_;var tE="Tooltip",[pY,dh]=uh(tE),tv="TooltipTrigger",dI=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=dh(tv,n),l=J_(tv,n),u=xx(n),h=p.useRef(null),f=Ct(t,h,i.onTriggerChange),m=p.useRef(!1),g=p.useRef(!1),x=p.useCallback(()=>m.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),r.jsx(fu,{asChild:!0,...u,children:r.jsx(nt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:f,onPointerMove:ke(e.onPointerMove,y=>{y.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:ke(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:ke(e.onBlur,i.onClose),onClick:ke(e.onClick,i.onClose)})})});dI.displayName=tv;var fI="TooltipPortal",[gY,hI]=uh(fI,{forceMount:void 0}),fl="TooltipContent",mI=p.forwardRef((e,t)=>{const n=hI(fl,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...l}=e,u=dh(fl,e.__scopeTooltip);return r.jsx(qr,{present:s||u.open,children:u.disableHoverableContent?r.jsx(nE,{side:i,...l,ref:t}):r.jsx(pI,{side:i,...l,ref:t})})}),pI=p.forwardRef((e,t)=>{const n=dh(fl,e.__scopeTooltip),s=J_(fl,e.__scopeTooltip),i=p.useRef(null),l=Ct(t,i),[u,h]=p.useState(null),{trigger:f,onClose:m}=n,g=i.current,{onPointerInTransitChange:x}=s,y=p.useCallback(()=>{h(null),x(!1)},[x]),w=p.useCallback((j,N)=>{const S=j.currentTarget,_={x:j.clientX,y:j.clientY},E=bI(_,S.getBoundingClientRect()),C=yI(_,E),M=wI(N.getBoundingClientRect()),R=NI([...C,...M]);h(R),x(!0)},[x]);return p.useEffect(()=>()=>y(),[y]),p.useEffect(()=>{if(f&&g){const j=S=>w(S,g),N=S=>w(S,f);return f.addEventListener("pointerleave",j),g.addEventListener("pointerleave",N),()=>{f.removeEventListener("pointerleave",j),g.removeEventListener("pointerleave",N)}}},[f,g,w,y]),p.useEffect(()=>{if(u){const j=N=>{const S=N.target,_={x:N.clientX,y:N.clientY},E=(f==null?void 0:f.contains(S))||(g==null?void 0:g.contains(S)),C=!jI(_,u);E?y():C&&(y(),m())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[f,g,u,m,y]),r.jsx(nE,{...e,ref:l})}),[gI,vI]=uh(tE,{isInside:!1}),nE=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...h}=e,f=dh(fl,n),m=xx(n),{onClose:g}=f;return p.useEffect(()=>(document.addEventListener(Vj,g),()=>document.removeEventListener(Vj,g)),[g]),p.useEffect(()=>{if(f.trigger){const x=y=>{const w=y.target;w!=null&&w.contains(f.trigger)&&g()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[f.trigger,g]),r.jsx(Nl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:x=>x.preventDefault(),onDismiss:g,children:r.jsxs(Zf,{"data-state":f.stateAttribute,...m,...h,ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Lv,{children:s}),r.jsx(gI,{scope:n,isInside:!0,children:r.jsx(lI,{id:f.contentId,role:"tooltip",children:i||s})})]})})});mI.displayName=fl;var rE="TooltipArrow",xI=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=xx(n);return vI(rE,n).isInside?null:r.jsx(Jf,{...i,...s,ref:t})});xI.displayName=rE;function bI(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,s,i,l)){case l:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function yI(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function wI(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function jI(e,t){const{x:n,y:s}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const h=t[l].x,f=t[l].y,m=t[u].x,g=t[u].y;f>s!=g>s&&n<(m-h)*(s-f)/(g-f)+h&&(i=!i)}return i}function NI(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),SI(t)}function SI(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _I=eE;function EI({delayDuration:e=0,...t}){return r.jsx(_I,{"data-slot":"tooltip-provider",delayDuration:e,...t})}const CI=()=>{const{user:e}=Pv(),t=async()=>{const{error:l}=await se.auth.signOut();l&&console.error("Erreur de déconnexion:",l)},n=l=>l?l.substring(0,2).toUpperCase():"??",s=[{to:"/patients",label:"Patients",icon:O_},{to:"/doctors",label:"Médecins",icon:ar},{to:"/test-types",label:"Types de Tests",icon:Ef},{to:"/categories",label:"Catégories",icon:zc},{to:"/ristournes",label:"Ristournes",icon:S_},{to:"/settings/print-header",label:"En-tête Impression",icon:ls},{to:"/skip-range-management",label:"Parametres Validations",icon:RL},{to:"/ecb-models",label:"Modèles ECB",icon:zc},{to:"/atbs",label:"Gestion ATBs",icon:zc}],i=r.jsx("nav",{className:"flex flex-col gap-2 px-2 sm:px-4 py-4",children:s.map(l=>r.jsxs(bN,{to:l.to,className:({isActive:u})=>`flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${u?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[r.jsx(l.icon,{className:"h-5 w-5"}),r.jsx("span",{children:l.label})]},l.label))});return r.jsxs("div",{className:"flex h-screen w-full bg-muted/40",children:[r.jsxs("aside",{className:"hidden sm:flex flex-col w-64 border-r bg-background",children:[r.jsxs("div",{className:"flex items-center gap-2 h-16 border-b px-6",children:[r.jsx(lx,{className:"h-6 w-6 text-primary"}),r.jsx("span",{className:"font-semibold tracking-tight",children:"LRMS"})]}),i]}),r.jsxs("div",{className:"flex flex-1 flex-col",children:[r.jsxs("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between border-b bg-background px-4 sm:px-6",children:[r.jsx("div",{className:"sm:hidden",children:r.jsxs(nI,{children:[r.jsx(rI,{asChild:!0,children:r.jsxs(ne,{variant:"outline",size:"icon",children:[r.jsx(yL,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:"Ouvrir le menu"})]})}),r.jsxs(iI,{side:"left",className:"w-64 p-0 pt-10",children:[" ",i]})]})}),r.jsx("div",{className:"flex-1"}),r.jsxs(FL,{children:[r.jsx(BL,{asChild:!0,children:r.jsx(ne,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:r.jsx(lu,{className:"h-9 w-9",children:r.jsx(cu,{children:n(e==null?void 0:e.email)})})})}),r.jsxs(HL,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(qL,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:"Connecté en tant que"}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground truncate",children:(e==null?void 0:e.email)||"Utilisateur"})]})}),r.jsx(YL,{}),r.jsxs(VL,{onClick:t,className:"text-destructive focus:text-destructive focus:bg-destructive/10 cursor-pointer",children:[r.jsx(xL,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Se déconnecter"})]})]})]})]}),r.jsx(EI,{children:r.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 sm:p-6 bg-white",children:r.jsx(mN,{})})})]})]})},RI=()=>{const{session:e,loading:t}=Pv(),n=ja();return t?r.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-200",children:[r.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-muted-foreground",children:"Chargement de l'application..."})]}):e?r.jsx(mN,{}):r.jsx(hN,{to:"/login",state:{from:n},replace:!0})};function Ke({className:e,type:t,...n}){return r.jsx("input",{type:t,"data-slot":"input",className:Me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var TI="Label",sE=p.forwardRef((e,t)=>r.jsx(nt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sE.displayName=TI;var MI=sE;function Ie({className:e,...t}){return r.jsx(MI,{"data-slot":"label",className:Me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Ce({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:Me("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Te({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:Me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function pt({className:e,...t}){return r.jsx("div",{"data-slot":"card-title",className:Me("leading-none font-semibold",e),...t})}function Cr({className:e,...t}){return r.jsx("div",{"data-slot":"card-description",className:Me("text-muted-foreground text-sm",e),...t})}function Re({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:Me("px-6",e),...t})}function js({className:e,...t}){return r.jsx("div",{"data-slot":"card-footer",className:Me("flex items-center px-6 [.border-t]:pt-6",e),...t})}const OI=Uv("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Dt({className:e,variant:t,...n}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:Me(OI({variant:t}),e),...n})}function Pt({className:e,...t}){return r.jsx("div",{"data-slot":"alert-title",className:Me("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function Lt({className:e,...t}){return r.jsx("div",{"data-slot":"alert-description",className:Me("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const AI=()=>{const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,l]=p.useState(!1),[u,h]=p.useState(null),{session:f,loading:m}=Pv(),g=async x=>{x.preventDefault(),l(!0),h(null);try{const{error:y}=await se.auth.signInWithPassword({email:e,password:n});if(y)throw y}catch(y){console.error("Login error:",y),h(y instanceof Error&&y.message==="Invalid login credentials"?"Identifiants invalides. Veuillez vérifier votre email et mot de passe.":"Échec de la connexion. Une erreur est survenue.")}finally{l(!1)}};return m?r.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-200",children:[r.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-muted-foreground",children:"Chargement..."})]}):f?r.jsx(hN,{to:"/patients",replace:!0}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-blue-100 p-4",children:r.jsxs(Ce,{className:"w-full max-w-md shadow-xl border-t-4 border-primary rounded-lg overflow-hidden",children:[r.jsxs(Te,{className:"text-center p-6 bg-muted/30",children:[r.jsxs("div",{className:"mx-auto mb-4",children:[r.jsx(lx,{className:"h-12 w-12 text-primary"})," "]}),r.jsx(pt,{className:"text-2xl font-bold tracking-tight",children:"Connexion LRMS "}),r.jsxs(Cr,{className:"text-muted-foreground",children:["Accédez à votre espace laboratoire sécurisé."," "]})]}),r.jsxs("form",{onSubmit:g,children:[r.jsxs(Re,{className:"p-6 space-y-6",children:[" ",u&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:u})]}),r.jsxs("div",{className:"space-y-2",children:[" ",r.jsx(Ie,{htmlFor:"email",className:"font-semibold",children:"Adresse e-mail"}),r.jsx(Ke,{id:"email",type:"email",placeholder:"votreadresse@email.com",required:!0,value:e,onChange:x=>t(x.target.value),disabled:i,className:"h-10"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"password",className:"font-semibold",children:"Mot de passe"}),r.jsx(Ke,{id:"password",type:"password",placeholder:"Votre mot de passe",required:!0,value:n,onChange:x=>s(x.target.value),disabled:i,className:"h-10"})]})]}),r.jsx(js,{className:"p-6 bg-muted/30",children:r.jsx(ne,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion en cours..."]}):"Se connecter"})})]})]})})};function Sa({className:e,...t}){return r.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:r.jsx("table",{"data-slot":"table",className:Me("w-full caption-bottom text-sm",e),...t})})}function _a({className:e,...t}){return r.jsx("thead",{"data-slot":"table-header",className:Me("[&_tr]:border-b",e),...t})}function Ea({className:e,...t}){return r.jsx("tbody",{"data-slot":"table-body",className:Me("[&_tr:last-child]:border-0",e),...t})}function en({className:e,...t}){return r.jsx("tr",{"data-slot":"table-row",className:Me("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function xt({className:e,...t}){return r.jsx("th",{"data-slot":"table-head",className:Me("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function et({className:e,...t}){return r.jsx("td",{"data-slot":"table-cell",className:Me("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function X({className:e,...t}){return r.jsx("div",{"data-slot":"skeleton",className:Me("bg-accent animate-pulse rounded-md",e),...t})}function yu(e,t){const[n,s]=p.useState(e);return p.useEffect(()=>{const i=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}var aE="AlertDialog",[kI,vY]=yr(aE,[k_]),Ca=k_(),iE=e=>{const{__scopeAlertDialog:t,...n}=e,s=Ca(t);return r.jsx(hx,{...s,...n,modal:!0})};iE.displayName=aE;var DI="AlertDialogTrigger",oE=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=Ca(n);return r.jsx(X_,{...i,...s,ref:t})});oE.displayName=DI;var PI="AlertDialogPortal",lE=e=>{const{__scopeAlertDialog:t,...n}=e,s=Ca(t);return r.jsx(mx,{...s,...n})};lE.displayName=PI;var LI="AlertDialogOverlay",cE=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=Ca(n);return r.jsx(px,{...i,...s,ref:t})});cE.displayName=LI;var rl="AlertDialogContent",[II,$I]=kI(rl),uE=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...i}=e,l=Ca(n),u=p.useRef(null),h=Ct(t,u),f=p.useRef(null);return r.jsx(ZL,{contentName:rl,titleName:dE,docsSlug:"alert-dialog",children:r.jsx(II,{scope:n,cancelRef:f,children:r.jsxs(gx,{role:"alertdialog",...l,...i,ref:h,onOpenAutoFocus:ke(i.onOpenAutoFocus,m=>{var g;m.preventDefault(),(g=f.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[r.jsx(Lv,{children:s}),r.jsx(UI,{contentRef:u})]})})})});uE.displayName=rl;var dE="AlertDialogTitle",fE=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=Ca(n);return r.jsx(K_,{...i,...s,ref:t})});fE.displayName=dE;var hE="AlertDialogDescription",mE=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=Ca(n);return r.jsx(Q_,{...i,...s,ref:t})});mE.displayName=hE;var zI="AlertDialogAction",pE=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,i=Ca(n);return r.jsx(bu,{...i,...s,ref:t})});pE.displayName=zI;var gE="AlertDialogCancel",vE=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:i}=$I(gE,n),l=Ca(n),u=Ct(t,i);return r.jsx(bu,{...l,...s,ref:u})});vE.displayName=gE;var UI=({contentRef:e})=>{const t=`\`${rl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${rl}\` by passing a \`${hE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${rl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},FI=iE,BI=oE,HI=lE,VI=cE,qI=uE,YI=pE,GI=vE,WI=fE,XI=mE;function Xc({...e}){return r.jsx(FI,{"data-slot":"alert-dialog",...e})}function fh({...e}){return r.jsx(BI,{"data-slot":"alert-dialog-trigger",...e})}function KI({...e}){return r.jsx(HI,{"data-slot":"alert-dialog-portal",...e})}function QI({className:e,...t}){return r.jsx(VI,{"data-slot":"alert-dialog-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function hh({className:e,...t}){return r.jsxs(KI,{children:[r.jsx(QI,{}),r.jsx(qI,{"data-slot":"alert-dialog-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function mh({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-header",className:Me("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ph({className:e,...t}){return r.jsx("div",{"data-slot":"alert-dialog-footer",className:Me("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function gh({className:e,...t}){return r.jsx(WI,{"data-slot":"alert-dialog-title",className:Me("text-lg font-semibold",e),...t})}function vh({className:e,...t}){return r.jsx(XI,{"data-slot":"alert-dialog-description",className:Me("text-muted-foreground text-sm",e),...t})}function bx({className:e,...t}){return r.jsx(YI,{className:Me(cl(),e),...t})}function xh({className:e,...t}){return r.jsx(GI,{className:Me(cl({variant:"outline"}),e),...t})}const ag=10,qj=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(!0),[i,l]=p.useState(null),[u,h]=p.useState(""),[f,m]=p.useState(1),[g,x]=p.useState(0),[y,w]=p.useState(null),[j,N]=p.useState(!1),[S,_]=p.useState([]),[E,C]=p.useState(""),M=yu(u,300),R=Math.ceil(g/ag);p.useEffect(()=>{(async()=>{const{data:oe,error:Q}=await se.from("doctor").select("id, full_name").order("full_name",{ascending:!0});Q||_(oe||[])})()},[]);const A=p.useCallback(async()=>{s(!0),l(null);try{const Y=(f-1)*ag,oe=Y+ag-1;let Q=se.from("patient").select("*",{count:"exact"});if(M){const I=`%${M}%`;Q=Q.or(`full_name.ilike.${I},patient_unique_id.ilike.${I}`)}if(E){const{data:I,error:W}=await se.from("patient_result").select("patient_id").eq("doctor_id",E);if(W)throw console.error("Supabase error while fetching patient_result:",W),W;const q=(I||[]).map(J=>J.patient_id);if(q.length===0){t([]),x(0),s(!1);return}Q=Q.in("id",q)}Q=Q.order("created_at",{ascending:!1}).range(Y,oe);const{data:$,error:ie,count:le}=await Q;if(ie)throw console.error("Supabase error while fetching patients:",ie),ie;t($||[]),x(le??0)}catch(Y){console.error("Erreur lors de la récupération des patients:",Y),l(Y instanceof Error?Y.message:"Une erreur est survenue lors du chargement des patients."),t([]),x(0)}finally{s(!1)}},[f,M,E]);p.useEffect(()=>{A()},[A]),p.useEffect(()=>{m(1)},[M,E]);const k=()=>{m(Y=>Math.max(Y-1,1))},L=()=>{m(Y=>Math.min(Y+1,R))},U=async()=>{if(y){N(!0),l(null);try{const{error:Y}=await se.from("patient").delete().eq("id",y.id);if(Y)throw Y;t(oe=>oe.filter(Q=>Q.id!==y.id)),x(oe=>oe-1),w(null)}catch(Y){l((Y instanceof Error?Y.message:"")||"Erreur lors de la suppression du patient.")}finally{N(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[r.jsx(O_,{className:"h-6 w-6"}),"Gestion des Patients"]}),r.jsx(st,{to:"/patients/new",children:r.jsxs(ne,{children:[r.jsx(hi,{className:"mr-2 h-4 w-4"}),"Ajouter un Patient"]})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Ke,{type:"search",placeholder:"Rechercher par nom ou ID unique...",value:u,onChange:Y=>h(Y.target.value),className:"pl-10 w-full md:w-1/3"})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsx(Ie,{htmlFor:"doctor-filter",children:"Filtrer par médecin :"}),r.jsxs("select",{id:"doctor-filter",value:E,onChange:Y=>C(Y.target.value),className:"border rounded px-2 py-1 text-sm",children:[r.jsx("option",{value:"",children:"Tous les médecins"}),S.map(Y=>r.jsx("option",{value:Y.id,children:Y.full_name},Y.id))]})]}),n&&r.jsxs("div",{className:"space-y-2 pt-4",children:[r.jsx(X,{className:"h-12 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"})]}),!n&&i&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur de Chargement"}),r.jsx(Lt,{children:i})]}),!n&&!i&&r.jsxs("div",{className:"space-y-4",children:[" ",r.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{className:"w-[150px]",children:"ID Unique"}),r.jsx(xt,{children:"Nom Complet"}),r.jsx(xt,{children:"Date de Naissance"}),r.jsx(xt,{className:"hidden md:table-cell",children:"Genre"}),r.jsx(xt,{className:"hidden lg:table-cell",children:"Téléphone"}),r.jsx(xt,{className:"text-right",children:"Actions"})]})}),r.jsx(Ea,{children:e.length>0?e.map(Y=>r.jsxs(en,{children:[r.jsx(et,{className:"font-medium",children:Y.patient_unique_id}),r.jsx(et,{children:Y.full_name}),r.jsx(et,{children:Y.date_of_birth?new Date(Y.date_of_birth).toLocaleDateString("fr-FR"):"N/A"}),r.jsx(et,{className:"hidden md:table-cell",children:Y.gender||"N/A"}),r.jsx(et,{className:"hidden lg:table-cell",children:Y.phone||"N/A"}),r.jsxs(et,{className:"text-right",children:[r.jsx(st,{to:`/patients/${Y.id}`,children:r.jsx(ne,{variant:"outline",size:"sm",children:"Voir Détails"})}),r.jsxs(Xc,{children:[r.jsx(fh,{asChild:!0,children:r.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer le patient",onClick:()=>w(Y),disabled:n,children:[r.jsx(xu,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Supprimer"})]})}),r.jsxs(hh,{children:[r.jsxs(mh,{children:[r.jsx(gh,{children:"Supprimer ce patient ?"}),r.jsx(vh,{children:"Cette action est irréversible. Voulez-vous vraiment supprimer ce patient ?"})]}),r.jsxs(ph,{children:[r.jsx(xh,{onClick:()=>w(null),disabled:j,children:"Annuler"}),r.jsx(bx,{onClick:U,disabled:j,className:"bg-destructive text-destructive-foreground",children:"Supprimer"})]})]})]})]})]},Y.id)):r.jsx(en,{children:r.jsx(et,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:u?"Aucun patient ne correspond à votre recherche.":r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r.jsx(ih,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun patient trouvé. Commencez par en ajouter un."]})})})})]})}),R>1&&r.jsxs("div",{className:"flex items-center justify-between space-x-2 pt-2",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",f," sur ",R," (",g," ",g===1?"résultat":"résultats",")"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ne,{variant:"outline",size:"sm",onClick:k,disabled:f<=1,children:[r.jsx(C_,{className:"h-4 w-4 mr-1 sm:mr-2"})," ",r.jsx("span",{className:"hidden sm:inline",children:"Précédent"})," "]}),r.jsxs(ne,{variant:"outline",size:"sm",onClick:L,disabled:f>=R,children:[r.jsx("span",{className:"hidden sm:inline",children:"Suivant"})," ",r.jsx(R_,{className:"h-4 w-4 ml-1 sm:ml-2"})," "]})]})]})]})]})};function Wi({...e}){return r.jsx(hx,{"data-slot":"dialog",...e})}function ZI({...e}){return r.jsx(mx,{"data-slot":"dialog-portal",...e})}function xE({...e}){return r.jsx(bu,{"data-slot":"dialog-close",...e})}function JI({className:e,...t}){return r.jsx(px,{"data-slot":"dialog-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Xi({className:e,children:t,...n}){return r.jsxs(ZI,{"data-slot":"dialog-portal",children:[r.jsx(JI,{}),r.jsxs(gx,{"data-slot":"dialog-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r.jsxs(bu,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(ch,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ki({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:Me("flex flex-col gap-2 text-center sm:text-left",e),...t})}function hl({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-footer",className:Me("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Qi({className:e,...t}){return r.jsx(K_,{"data-slot":"dialog-title",className:Me("text-lg leading-none font-semibold",e),...t})}function bE({className:e,...t}){return r.jsx(Q_,{"data-slot":"dialog-description",className:Me("text-muted-foreground text-sm",e),...t})}const e6=Uv("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function us({className:e,variant:t,asChild:n=!1,...s}){const i=n?Vs:"span";return r.jsx(i,{"data-slot":"badge",className:Me(e6({variant:t}),e),...s})}function Ft(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function hr(e,t){const n=Ft(e);return isNaN(t)?Vr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ns(e,t){const n=Ft(e);if(isNaN(t))return Vr(e,NaN);if(!t)return n;const s=n.getDate(),i=Vr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const l=i.getDate();return s>=l?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}const yx=6048e5,t6=864e5,yE=6e4,wE=36e5;let n6={};function wu(){return n6}function Ys(e,t){var h,f,m,g;const n=wu(),s=(t==null?void 0:t.weekStartsOn)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,i=Ft(e),l=i.getDay(),u=(l<s?7:0)+l-s;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Zi(e){return Ys(e,{weekStartsOn:1})}function jE(e){const t=Ft(e),n=t.getFullYear(),s=Vr(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Zi(s),l=Vr(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Zi(l);return t.getTime()>=i.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function ml(e){const t=Ft(e);return t.setHours(0,0,0,0),t}function Rf(e){const t=Ft(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Us(e,t){const n=ml(e),s=ml(t),i=+n-Rf(n),l=+s-Rf(s);return Math.round((i-l)/t6)}function r6(e){const t=jE(e),n=Vr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Zi(n)}function nv(e,t){const n=t*7;return hr(e,n)}function s6(e,t){return Ns(e,t*12)}function a6(e){let t;return e.forEach(function(n){const s=Ft(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function i6(e){let t;return e.forEach(n=>{const s=Ft(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Rr(e,t){const n=ml(e),s=ml(t);return+n==+s}function wx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function o6(e){if(!wx(e)&&typeof e!="number")return!1;const t=Ft(e);return!isNaN(Number(t))}function Kc(e,t){const n=Ft(e),s=Ft(t),i=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return i*12+l}function l6(e,t,n){const s=Ys(e,n),i=Ys(t,n),l=+s-Rf(s),u=+i-Rf(i);return Math.round((l-u)/yx)}function jx(e){const t=Ft(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Tr(e){const t=Ft(e);return t.setDate(1),t.setHours(0,0,0,0),t}function NE(e){const t=Ft(e),n=Vr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Nx(e,t){var h,f,m,g;const n=wu(),s=(t==null?void 0:t.weekStartsOn)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,i=Ft(e),l=i.getDay(),u=(l<s?-7:0)+6-(l-s);return i.setDate(i.getDate()+u),i.setHours(23,59,59,999),i}function SE(e){return Nx(e,{weekStartsOn:1})}const c6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u6=(e,t,n)=>{let s;const i=c6[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function sl(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const d6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m6={date:sl({formats:d6,defaultWidth:"full"}),time:sl({formats:f6,defaultWidth:"full"}),dateTime:sl({formats:h6,defaultWidth:"full"})},p6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g6=(e,t,n,s)=>p6[e];function $s(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):u;i=e.formattingValues[h]||e.formattingValues[u]}else{const u=e.defaultWidth,h=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[h]||e.values[u]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const v6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N6=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},S6={ordinalNumber:N6,era:$s({values:v6,defaultWidth:"wide"}),quarter:$s({values:x6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$s({values:b6,defaultWidth:"wide"}),day:$s({values:y6,defaultWidth:"wide"}),dayPeriod:$s({values:w6,defaultWidth:"wide",formattingValues:j6,defaultFormattingWidth:"wide"})};function zs(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const u=l[0],h=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(h)?E6(h,x=>x.test(u)):_6(h,x=>x.test(u));let m;m=e.valueCallback?e.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const g=t.slice(u.length);return{value:m,rest:g}}}function _6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function E6(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _E(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],l=t.match(e.parsePattern);if(!l)return null;let u=e.valueCallback?e.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}const C6=/^(\d+)(th|st|nd|rd)?/i,R6=/\d+/i,T6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M6={any:[/^b/i,/^(a|c)/i]},O6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},A6={any:[/1/i,/2/i,/3/i,/4/i]},k6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},I6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z6={ordinalNumber:_E({matchPattern:C6,parsePattern:R6,valueCallback:e=>parseInt(e,10)}),era:zs({matchPatterns:T6,defaultMatchWidth:"wide",parsePatterns:M6,defaultParseWidth:"any"}),quarter:zs({matchPatterns:O6,defaultMatchWidth:"wide",parsePatterns:A6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zs({matchPatterns:k6,defaultMatchWidth:"wide",parsePatterns:D6,defaultParseWidth:"any"}),day:zs({matchPatterns:P6,defaultMatchWidth:"wide",parsePatterns:L6,defaultParseWidth:"any"}),dayPeriod:zs({matchPatterns:I6,defaultMatchWidth:"any",parsePatterns:$6,defaultParseWidth:"any"})},EE={code:"en-US",formatDistance:u6,formatLong:m6,formatRelative:g6,localize:S6,match:z6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function U6(e){const t=Ft(e);return Us(t,NE(t))+1}function CE(e){const t=Ft(e),n=+Zi(t)-+r6(t);return Math.round(n/yx)+1}function RE(e,t){var g,x,y,w;const n=Ft(e),s=n.getFullYear(),i=wu(),l=(t==null?void 0:t.firstWeekContainsDate)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(y=i.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,u=Vr(e,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const h=Ys(u,t),f=Vr(e,0);f.setFullYear(s,0,l),f.setHours(0,0,0,0);const m=Ys(f,t);return n.getTime()>=h.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function F6(e,t){var h,f,m,g;const n=wu(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=RE(e,t),l=Vr(e,0);return l.setFullYear(i,0,s),l.setHours(0,0,0,0),Ys(l,t)}function TE(e,t){const n=Ft(e),s=+Ys(n,t)-+F6(n,t);return Math.round(s/yx)+1}function Jt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const ti={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Jt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return Jt(i,t.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yj={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return ti.y(e,t)},Y:function(e,t,n,s){const i=RE(e,s),l=i>0?i:1-i;if(t==="YY"){const u=l%100;return Jt(u,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Jt(l,t.length)},R:function(e,t){const n=jE(e);return Jt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Jt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Jt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Jt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return ti.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Jt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=TE(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},I:function(e,t,n){const s=CE(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Jt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ti.d(e,t)},D:function(e,t,n){const s=U6(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Jt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Jt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),l=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Jt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return Jt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Xo.noon:s===0?i=Xo.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Xo.evening:s>=12?i=Xo.afternoon:s>=4?i=Xo.morning:i=Xo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return ti.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ti.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Jt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Jt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ti.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ti.s(e,t)},S:function(e,t){return ti.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Wj(s);case"XXXX":case"XX":return Vi(s);case"XXXXX":case"XXX":default:return Vi(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Wj(s);case"xxxx":case"xx":return Vi(s);case"xxxxx":case"xxx":default:return Vi(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gj(s,":");case"OOOO":default:return"GMT"+Vi(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gj(s,":");case"zzzz":default:return"GMT"+Vi(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Jt(s,t.length)},T:function(e,t,n){const s=e.getTime();return Jt(s,t.length)}};function Gj(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),l=s%60;return l===0?n+String(i):n+String(i)+t+Jt(l,2)}function Wj(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):Vi(e,t)}function Vi(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Jt(Math.trunc(s/60),2),l=Jt(s%60,2);return n+i+t+l}const Xj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ME=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},B6=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Xj(e,t);let l;switch(s){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Xj(s,t)).replace("{{time}}",ME(i,t))},H6={p:ME,P:B6},V6=/^D+$/,q6=/^Y+$/,Y6=["D","DD","YY","YYYY"];function G6(e){return V6.test(e)}function W6(e){return q6.test(e)}function X6(e,t,n){const s=K6(e,t,n);if(console.warn(s),Y6.includes(e))throw new RangeError(s)}function K6(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Q6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J6=/^'([^]*?)'?$/,e8=/''/g,t8=/[a-zA-Z]/;function ct(e,t,n){var g,x,y,w,j,N,S,_;const s=wu(),i=(n==null?void 0:n.locale)??s.locale??EE,l=(n==null?void 0:n.firstWeekContainsDate)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(y=s.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((N=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((_=(S=s.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??0,h=Ft(e);if(!o6(h))throw new RangeError("Invalid time value");let f=t.match(Z6).map(E=>{const C=E[0];if(C==="p"||C==="P"){const M=H6[C];return M(E,i.formatLong)}return E}).join("").match(Q6).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const C=E[0];if(C==="'")return{isToken:!1,value:n8(E)};if(Yj[C])return{isToken:!0,value:E};if(C.match(t8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(f=i.localize.preprocessor(h,f));const m={firstWeekContainsDate:l,weekStartsOn:u,locale:i};return f.map(E=>{if(!E.isToken)return E.value;const C=E.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&W6(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&G6(C))&&X6(C,t,String(e));const M=Yj[C[0]];return M(h,C,i.localize,m)}).join("")}function n8(e){const t=e.match(J6);return t?t[1].replace(e8,"'"):e}function r8(e){const t=Ft(e),n=t.getFullYear(),s=t.getMonth(),i=Vr(e,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function s8(e){return Math.trunc(+Ft(e)/1e3)}function a8(e){const t=Ft(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function i8(e,t){return l6(a8(e),Tr(e),t)+1}function rv(e,t){const n=Ft(e),s=Ft(t);return n.getTime()>s.getTime()}function OE(e,t){const n=Ft(e),s=Ft(t);return+n<+s}function Sx(e,t){const n=Ft(e),s=Ft(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function o8(e,t){const n=Ft(e),s=Ft(t);return n.getFullYear()===s.getFullYear()}function ig(e,t){return hr(e,-t)}function Kt(e,t){const s=d8(e);let i;if(s.date){const f=f8(s.date,2);i=h8(f.restDateString,f.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const l=i.getTime();let u=0,h;if(s.time&&(u=m8(s.time),isNaN(u)))return new Date(NaN);if(s.timezone){if(h=p8(s.timezone),isNaN(h))return new Date(NaN)}else{const f=new Date(l+u),m=new Date(0);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return new Date(l+u+h)}const Qd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d8(e){const t={},n=e.split(Qd.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],Qd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qd.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const i=Qd.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function f8(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?i:l*100,restDateString:e.slice((s[1]||s[2]).length)}}function h8(e,t){if(t===null)return new Date(NaN);const n=e.match(l8);if(!n)return new Date(NaN);const s=!!n[4],i=Tc(n[1]),l=Tc(n[2])-1,u=Tc(n[3]),h=Tc(n[4]),f=Tc(n[5])-1;if(s)return y8(t,h,f)?g8(t,h,f):new Date(NaN);{const m=new Date(0);return!x8(t,l,u)||!b8(t,i)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(i,u)),m)}}function Tc(e){return e?parseInt(e):1}function m8(e){const t=e.match(c8);if(!t)return NaN;const n=og(t[1]),s=og(t[2]),i=og(t[3]);return w8(n,s,i)?n*wE+s*yE+i*1e3:NaN}function og(e){return e&&parseFloat(e.replace(",","."))||0}function p8(e){if(e==="Z")return 0;const t=e.match(u8);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return j8(s,i)?n*(s*wE+i*yE):NaN}function g8(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const i=s.getUTCDay()||7,l=(t-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+l),s}const v8=[31,null,31,30,31,30,31,31,30,31,30,31];function AE(e){return e%400===0||e%4===0&&e%100!==0}function x8(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(v8[t]||(AE(e)?29:28))}function b8(e,t){return t>=1&&t<=(AE(e)?366:365)}function y8(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function w8(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function j8(e,t){return t>=0&&t<=59}function lg(e,t){const n=Ft(e),s=n.getFullYear(),i=n.getDate(),l=Vr(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const u=r8(l);return n.setMonth(t,Math.min(i,u)),n}function Kj(e,t){const n=Ft(e);return isNaN(+n)?Vr(e,NaN):(n.setFullYear(t),n)}const N8={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},S8=(e,t,n)=>{let s;const i=N8[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},_8={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},E8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},C8={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R8={date:sl({formats:_8,defaultWidth:"full"}),time:sl({formats:E8,defaultWidth:"full"}),dateTime:sl({formats:C8,defaultWidth:"full"})},T8={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},M8=(e,t,n,s)=>T8[e],O8={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},A8={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},k8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},D8={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},P8={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},L8=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let l;return n===1?l=s&&i.includes(s)?"ère":"er":l="ème",n+l},I8=["MMM","MMMM"],$8={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&I8.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:L8,era:$s({values:O8,defaultWidth:"wide"}),quarter:$s({values:A8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$s({values:k8,defaultWidth:"wide"}),day:$s({values:D8,defaultWidth:"wide"}),dayPeriod:$s({values:P8,defaultWidth:"wide"})},z8=/^(\d+)(ième|ère|ème|er|e)?/i,U8=/\d+/i,F8={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},B8={any:[/^av/i,/^ap/i]},H8={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},V8={any:[/1/i,/2/i,/3/i,/4/i]},q8={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Y8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},G8={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},W8={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},X8={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},K8={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Q8={ordinalNumber:_E({matchPattern:z8,parsePattern:U8,valueCallback:e=>parseInt(e)}),era:zs({matchPatterns:F8,defaultMatchWidth:"wide",parsePatterns:B8,defaultParseWidth:"any"}),quarter:zs({matchPatterns:H8,defaultMatchWidth:"wide",parsePatterns:V8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zs({matchPatterns:q8,defaultMatchWidth:"wide",parsePatterns:Y8,defaultParseWidth:"any"}),day:zs({matchPatterns:G8,defaultMatchWidth:"wide",parsePatterns:W8,defaultParseWidth:"any"}),dayPeriod:zs({matchPatterns:X8,defaultMatchWidth:"any",parsePatterns:K8,defaultParseWidth:"any"})},Wt={code:"fr",formatDistance:S8,formatLong:R8,formatRelative:M8,localize:$8,match:Q8,options:{weekStartsOn:1,firstWeekContainsDate:4}},Z8=e=>{switch(e==null?void 0:e.toLowerCase()){case"completed":return"default";case"in progress":return"secondary";case"pending":return"outline";default:return"secondary"}},J8=()=>{const{patientId:e}=br(),t=cr(),[n,s]=p.useState(null),[i,l]=p.useState([]),[u,h]=p.useState(!0),[f,m]=p.useState(!0),[g,x]=p.useState(null),[y,w]=p.useState(!1),[j,N]=p.useState(null),[S,_]=p.useState(null),[E,C]=p.useState(!1),M=p.useCallback(async()=>{if(e){h(!0);try{const{data:U,error:Y}=await se.from("patient").select("*").eq("id",e).single();if(Y)throw Y;if(!U)throw new Error("Patient non trouvé.");s(U)}catch(U){console.error("Erreur chargement détails patient:",U),x(Y=>Y||(U instanceof Error?U.message:"Erreur inconnue")||"Impossible de charger les détails du patient.")}finally{h(!1)}}},[e]),R=p.useCallback(async()=>{if(e){m(!0);try{const{data:U,error:Y}=await se.from("patient_result").select(`
          id,
          result_date,
          status,
          doctor:doctor_id ( full_name )
        `).eq("patient_id",e).order("result_date",{ascending:!1});if(Y)throw Y;l(U||[])}catch(U){console.error("Erreur chargement résultats patient:",U),x(Y=>Y||(U instanceof Error?U.message:"Erreur inconnue")||"Impossible de charger les résultats du patient.")}finally{m(!1)}}},[e]),A=p.useCallback(async()=>{if(C(!0),_(null),!!j)try{const{error:U}=await se.from("patient_result").delete().eq("id",j);if(U)throw U;R(),w(!1),N(null)}catch(U){console.error("Error deleting result:",U),_(`Impossible de supprimer le résultat. 
 ${U.message}`)}finally{C(!1)}},[j,R]);p.useEffect(()=>{x(null),(async()=>{s(null),l([]),h(!0),m(!0),await Promise.all([M(),R()])})()},[M,R]);const k=u||f,L=(U,Y,oe)=>{const Q=U;return r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Q,{className:"h-5 w-5 text-muted-foreground mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:Y}),r.jsx("p",{className:"text-base",children:oe||r.jsx("span",{className:"text-muted-foreground italic",children:"Non spécifié"})})]})]})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[r.jsx("div",{children:r.jsx(st,{to:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),!k&&n&&!g&&r.jsx(st,{to:`/patients/${e}/edit`,children:r.jsxs(ne,{variant:"secondary",children:[r.jsx(cs,{className:"mr-2 h-4 w-4"}),"Modifier le Patient"]})})]}),u&&r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-6 w-3/5"}),r.jsx(X,{className:"h-4 w-4/5"})]}),r.jsxs(Re,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"})]})]}),g&&!k&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[g," ",r.jsx(ne,{variant:"link",onClick:()=>{M(),R()},className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!u&&n&&!g&&r.jsxs(Ce,{className:"overflow-hidden",children:[r.jsxs(Te,{className:"bg-muted/30",children:[r.jsxs(pt,{className:"text-xl font-semibold flex items-center gap-2",children:[r.jsx(qt,{className:"h-5 w-5"}),"Informations du Patient"]}),r.jsx(Cr,{children:"Détails démographiques."})]}),r.jsxs(Re,{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[L(qt,"Nom Complet",n.full_name),L(Ge,"ID Unique",n.patient_unique_id),L(hn,"Date de Naissance",n.date_of_birth?ct(Kt(n.date_of_birth),"PPP",{locale:Wt}):null),L(Ge,"Genre",n.gender),L(yn,"Téléphone",n.phone)]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight flex items-center gap-2",children:[r.jsx(Na,{className:"h-6 w-6"}),"Historique des Résultats"]}),!k&&n&&!g&&r.jsxs(ne,{onClick:()=>t(`/patients/${e}/results/new`),children:[" ",r.jsx(hi,{className:"mr-2 h-4 w-4"}),"Ajouter un Résultat"]})]}),f&&r.jsxs("div",{className:"border rounded-lg overflow-hidden bg-background",children:[r.jsx(X,{className:"h-12 w-full"})," ",r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"})]}),!f&&!g&&r.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{className:"w-[180px]",children:"Date du Résultat"}),r.jsx(xt,{children:"Médecin Prescripteur"}),r.jsx(xt,{className:"w-[130px]",children:"Statut"}),r.jsx(xt,{className:"text-right w-[150px]",children:"Actions"})]})}),r.jsx(Ea,{children:i.length>0?i.map(U=>{var Y,oe,Q;return r.jsxs(en,{children:[r.jsx(et,{children:U.result_date?ct(Kt(U.result_date),"PPP 'à' HH:mm",{locale:Wt}):"N/A"}),r.jsx(et,{children:((Y=U.doctor)==null?void 0:Y.full_name)||r.jsx("span",{className:"italic text-muted-foreground",children:"Inconnu"})}),r.jsx(et,{children:r.jsx(us,{variant:Z8(U.status),children:((oe=U.status)==null?void 0:oe.charAt(0).toUpperCase())+((Q=U.status)==null?void 0:Q.slice(1))||"N/A"})}),r.jsxs(et,{className:"text-right",children:[r.jsxs(st,{to:`/results/${U.id}`,children:[" ",r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(ls,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"})," ",r.jsx("span",{className:"hidden sm:inline",children:"Voir Résultat"})," ",r.jsx("span",{className:"sm:hidden",children:"Voir"})," "]})]}),r.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",onClick:$=>{$.preventDefault(),N(U.id),w(!0)},children:[r.jsx(nl,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"})," ",r.jsx("span",{className:"hidden sm:inline",children:"Supprimer"})," ",r.jsx("span",{className:"sm:hidden",children:"Suppr"})," "]})]})]},U.id)}):r.jsx(en,{children:r.jsx(et,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:"Aucun résultat trouvé pour ce patient."})})})]})})]})]}),r.jsx(Wi,{open:y,onOpenChange:w,children:r.jsxs(Xi,{children:[r.jsx(Ki,{children:r.jsx(Qi,{children:"Confirmer la suppression"})}),r.jsxs("div",{className:"py-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Êtes-vous sûr de vouloir supprimer ce résultat ? Cette action est irréversible."}),S&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:S})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx(ne,{variant:"outline",onClick:()=>w(!1),children:"Annuler"}),r.jsx(ne,{variant:"destructive",onClick:A,children:E?"Suppression...":"Supprimer"})]})]})]})})]})},e$=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(!0),[i,l]=p.useState(null),[u,h]=p.useState(""),[f,m]=p.useState(null),[g,x]=p.useState(!1),y=yu(u,300),w=p.useCallback(async()=>{s(!0),l(null);try{const{data:S,error:_}=await se.from("doctor").select("*").order("full_name",{ascending:!0});if(_)throw _;t(S||[])}catch(S){console.error("Erreur lors de la récupération des médecins:",S),l((S instanceof Error?S.message:"")||"Une erreur est survenue lors du chargement des médecins."),t([])}finally{s(!1)}},[]);p.useEffect(()=>{w()},[w]);const j=p.useMemo(()=>{if(!y)return e;const S=y.toLowerCase();return e.filter(_=>_.full_name.toLowerCase().includes(S)||_.hospital&&_.hospital.toLowerCase().includes(S))},[e,y]),N=async()=>{if(f){x(!0),l(null);try{const{error:S}=await se.from("doctor").delete().eq("id",f.id);if(S)throw S;t(_=>_.filter(E=>E.id!==f.id)),m(null)}catch(S){l((S instanceof Error?S.message:"")||"Erreur lors de la suppression du médecin.")}finally{x(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[r.jsx(ar,{className:"h-6 w-6"}),"Gestion des Médecins"]}),r.jsx(st,{to:"/doctors/new",children:r.jsxs(ne,{children:[r.jsx(hi,{className:"mr-2 h-4 w-4"}),"Ajouter un Médecin"]})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Ke,{type:"search",placeholder:"Rechercher par nom ou hôpital...",value:u,onChange:S=>h(S.target.value),className:"pl-10 w-full md:w-1/3 h-10",disabled:n})]}),n&&r.jsxs("div",{className:"border rounded-lg",children:[r.jsx(X,{className:"h-12 w-full rounded-t-lg"}),r.jsxs("div",{className:"p-4 space-y-2",children:[r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"})]})]}),!n&&i&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur de Chargement"}),r.jsxs(Lt,{children:[i," ",r.jsx(ne,{variant:"link",onClick:w,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!n&&!i&&r.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{children:"Nom Complet"}),r.jsx(xt,{className:"w-[200px]",children:"Téléphone"}),r.jsx(xt,{className:"w-[300px]",children:"Hôpital / Clinique"}),r.jsx(xt,{className:"text-right w-[150px]",children:"Actions"})]})}),r.jsx(Ea,{children:j.length>0?j.map(S=>r.jsxs(en,{children:[r.jsx(et,{className:"font-medium",children:S.full_name}),r.jsx(et,{children:S.phone||r.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),r.jsx(et,{children:S.hospital||r.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),r.jsxs(et,{className:"text-right",children:[r.jsx(st,{to:`/doctors/${S.id}/edit`,children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(cs,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),r.jsx("span",{className:"sm:hidden",children:"Éditer"})]})}),r.jsxs(Xc,{children:[r.jsx(fh,{asChild:!0,children:r.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer le médecin",onClick:()=>m(S),disabled:n,children:[r.jsx(xu,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Supprimer"})]})}),r.jsxs(hh,{children:[r.jsxs(mh,{children:[r.jsx(gh,{children:"Supprimer ce médecin ?"}),r.jsx(vh,{children:"Cette action est irréversible. Voulez-vous vraiment supprimer ce médecin ?"})]}),r.jsxs(ph,{children:[r.jsx(xh,{onClick:()=>m(null),disabled:g,children:"Annuler"}),r.jsx(bx,{onClick:N,disabled:g,className:"bg-destructive text-destructive-foreground",children:"Supprimer"})]})]})]})]})]},S.id)):r.jsx(en,{children:r.jsx(et,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:u?"Aucun médecin ne correspond à votre recherche.":r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r.jsx(ih,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun médecin trouvé. Commencez par en ajouter un."]})})})})]})})]})},t$=()=>r.jsx("div",{children:"404 - Page Not Found"});var _x="Popover",[kE,xY]=yr(_x,[pi]),ju=pi(),[n$,vi]=kE(_x),DE=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:u=!1}=e,h=ju(t),f=p.useRef(null),[m,g]=p.useState(!1),[x=!1,y]=ci({prop:s,defaultProp:i,onChange:l});return r.jsx(Zv,{...h,children:r.jsx(n$,{scope:t,contentId:Fs(),triggerRef:f,open:x,onOpenChange:y,onOpenToggle:p.useCallback(()=>y(w=>!w),[y]),hasCustomAnchor:m,onCustomAnchorAdd:p.useCallback(()=>g(!0),[]),onCustomAnchorRemove:p.useCallback(()=>g(!1),[]),modal:u,children:n})})};DE.displayName=_x;var PE="PopoverAnchor",r$=p.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=vi(PE,n),l=ju(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:h}=i;return p.useEffect(()=>(u(),()=>h()),[u,h]),r.jsx(fu,{...l,...s,ref:t})});r$.displayName=PE;var LE="PopoverTrigger",IE=p.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=vi(LE,n),l=ju(n),u=Ct(t,i.triggerRef),h=r.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":BE(i.open),...s,ref:u,onClick:ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?h:r.jsx(fu,{asChild:!0,...l,children:h})});IE.displayName=LE;var Ex="PopoverPortal",[s$,a$]=kE(Ex,{forceMount:void 0}),$E=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,l=vi(Ex,t);return r.jsx(s$,{scope:t,forceMount:n,children:r.jsx(qr,{present:n||l.open,children:r.jsx(hu,{asChild:!0,container:i,children:s})})})};$E.displayName=Ex;var pl="PopoverContent",zE=p.forwardRef((e,t)=>{const n=a$(pl,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,l=vi(pl,e.__scopePopover);return r.jsx(qr,{present:s||l.open,children:l.modal?r.jsx(i$,{...i,ref:t}):r.jsx(o$,{...i,ref:t})})});zE.displayName=pl;var i$=p.forwardRef((e,t)=>{const n=vi(pl,e.__scopePopover),s=p.useRef(null),i=Ct(t,s),l=p.useRef(!1);return p.useEffect(()=>{const u=s.current;if(u)return nh(u)},[]),r.jsx(mu,{as:Vs,allowPinchZoom:!0,children:r.jsx(UE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,u=>{var h;u.preventDefault(),l.current||(h=n.triggerRef.current)==null||h.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,m=h.button===2||f;l.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),o$=p.forwardRef((e,t)=>{const n=vi(pl,e.__scopePopover),s=p.useRef(!1),i=p.useRef(!1);return r.jsx(UE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,h;(u=e.onCloseAutoFocus)==null||u.call(e,l),l.defaultPrevented||(s.current||(h=n.triggerRef.current)==null||h.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),UE=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,...x}=e,y=vi(pl,n),w=ju(n);return Wf(),r.jsx(uu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:r.jsx(Nl,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:g,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>y.onOpenChange(!1),children:r.jsx(Zf,{"data-state":BE(y.open),role:"dialog",id:y.contentId,...w,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FE="PopoverClose",l$=p.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=vi(FE,n);return r.jsx(nt.button,{type:"button",...s,ref:t,onClick:ke(e.onClick,()=>i.onOpenChange(!1))})});l$.displayName=FE;var c$="PopoverArrow",u$=p.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=ju(n);return r.jsx(Jf,{...i,...s,ref:t})});u$.displayName=c$;function BE(e){return e?"open":"closed"}var d$=DE,f$=IE,h$=$E,m$=zE;function HE({...e}){return r.jsx(d$,{"data-slot":"popover",...e})}function VE({...e}){return r.jsx(f$,{"data-slot":"popover-trigger",...e})}function qE({className:e,align:t="center",sideOffset:n=4,...s}){return r.jsx(h$,{children:r.jsx(m$,{"data-slot":"popover-content",align:t,sideOffset:n,className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}var tt=function(){return tt=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},tt.apply(this,arguments)};function p$(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function YE(e,t,n){for(var s=0,i=t.length,l;s<i;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}function Nu(e){return e.mode==="multiple"}function Su(e){return e.mode==="range"}function bh(e){return e.mode==="single"}var g$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function v$(e,t){return ct(e,"LLLL y",t)}function x$(e,t){return ct(e,"d",t)}function b$(e,t){return ct(e,"LLLL",t)}function y$(e){return"".concat(e)}function w$(e,t){return ct(e,"cccccc",t)}function j$(e,t){return ct(e,"yyyy",t)}var N$=Object.freeze({__proto__:null,formatCaption:v$,formatDay:x$,formatMonthCaption:b$,formatWeekNumber:y$,formatWeekdayName:w$,formatYearCaption:j$}),S$=function(e,t,n){return ct(e,"do MMMM (EEEE)",n)},_$=function(){return"Month: "},E$=function(){return"Go to next month"},C$=function(){return"Go to previous month"},R$=function(e,t){return ct(e,"cccc",t)},T$=function(e){return"Week n. ".concat(e)},M$=function(){return"Year: "},O$=Object.freeze({__proto__:null,labelDay:S$,labelMonthDropdown:_$,labelNext:E$,labelPrevious:C$,labelWeekNumber:T$,labelWeekday:R$,labelYearDropdown:M$});function A$(){var e="buttons",t=g$,n=EE,s={},i={},l=1,u={},h=new Date;return{captionLayout:e,classNames:t,formatters:N$,labels:O$,locale:n,modifiersClassNames:s,modifiers:i,numberOfMonths:l,styles:u,today:h,mode:"default"}}function k$(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,i=e.toMonth,l=e.fromDate,u=e.toDate;return s?l=Tr(s):t&&(l=new Date(t,0,1)),i?u=jx(i):n&&(u=new Date(n,11,31)),{fromDate:l?ml(l):void 0,toDate:u?ml(u):void 0}}var GE=p.createContext(void 0);function D$(e){var t,n=e.initialProps,s=A$(),i=k$(n),l=i.fromDate,u=i.toDate,h=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;h!=="buttons"&&(!l||!u)&&(h="buttons");var f;(bh(n)||Nu(n)||Su(n))&&(f=n.onSelect);var m=tt(tt(tt({},s),n),{captionLayout:h,classNames:tt(tt({},s.classNames),n.classNames),components:tt({},n.components),formatters:tt(tt({},s.formatters),n.formatters),fromDate:l,labels:tt(tt({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:tt(tt({},s.modifiers),n.modifiers),modifiersClassNames:tt(tt({},s.modifiersClassNames),n.modifiersClassNames),onSelect:f,styles:tt(tt({},s.styles),n.styles),toDate:u});return r.jsx(GE.Provider,{value:m,children:e.children})}function fn(){var e=p.useContext(GE);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function WE(e){var t=fn(),n=t.locale,s=t.classNames,i=t.styles,l=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:n})})}function P$(e){return r.jsx("svg",tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function XE(e){var t,n,s=e.onChange,i=e.value,l=e.children,u=e.caption,h=e.className,f=e.style,m=fn(),g=(n=(t=m.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:P$;return r.jsxs("div",{className:h,style:f,children:[r.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:i,onChange:s,children:l}),r.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[u,r.jsx(g,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function L$(e){var t,n=fn(),s=n.fromDate,i=n.toDate,l=n.styles,u=n.locale,h=n.formatters.formatMonthCaption,f=n.classNames,m=n.components,g=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});var x=[];if(o8(s,i))for(var y=Tr(s),w=s.getMonth();w<=i.getMonth();w++)x.push(lg(y,w));else for(var y=Tr(new Date),w=0;w<=11;w++)x.push(lg(y,w));var j=function(S){var _=Number(S.target.value),E=lg(Tr(e.displayMonth),_);e.onChange(E)},N=(t=m==null?void 0:m.Dropdown)!==null&&t!==void 0?t:XE;return r.jsx(N,{name:"months","aria-label":g(),className:f.dropdown_month,style:l.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:h(e.displayMonth,{locale:u}),children:x.map(function(S){return r.jsx("option",{value:S.getMonth(),children:h(S,{locale:u})},S.getMonth())})})}function I$(e){var t,n=e.displayMonth,s=fn(),i=s.fromDate,l=s.toDate,u=s.locale,h=s.styles,f=s.classNames,m=s.components,g=s.formatters.formatYearCaption,x=s.labels.labelYearDropdown,y=[];if(!i)return r.jsx(r.Fragment,{});if(!l)return r.jsx(r.Fragment,{});for(var w=i.getFullYear(),j=l.getFullYear(),N=w;N<=j;N++)y.push(Kj(NE(new Date),N));var S=function(E){var C=Kj(Tr(n),Number(E.target.value));e.onChange(C)},_=(t=m==null?void 0:m.Dropdown)!==null&&t!==void 0?t:XE;return r.jsx(_,{name:"years","aria-label":x(),className:f.dropdown_year,style:h.dropdown_year,onChange:S,value:n.getFullYear(),caption:g(n,{locale:u}),children:y.map(function(E){return r.jsx("option",{value:E.getFullYear(),children:g(E,{locale:u})},E.getFullYear())})})}function $$(e,t){var n=p.useState(e),s=n[0],i=n[1],l=t===void 0?s:t;return[l,i]}function z$(e){var t=e.month,n=e.defaultMonth,s=e.today,i=t||n||s||new Date,l=e.toDate,u=e.fromDate,h=e.numberOfMonths,f=h===void 0?1:h;if(l&&Kc(l,i)<0){var m=-1*(f-1);i=Ns(l,m)}return u&&Kc(i,u)<0&&(i=u),Tr(i)}function U$(){var e=fn(),t=z$(e),n=$$(t,e.month),s=n[0],i=n[1],l=function(u){var h;if(!e.disableNavigation){var f=Tr(u);i(f),(h=e.onMonthChange)===null||h===void 0||h.call(e,f)}};return[s,l]}function F$(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,i=Tr(e),l=Tr(Ns(i,s)),u=Kc(l,i),h=[],f=0;f<u;f++){var m=Ns(i,f);h.push(m)}return n&&(h=h.reverse()),h}function B$(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,i=t.numberOfMonths,l=i===void 0?1:i,u=s?l:1,h=Tr(e);if(!n)return Ns(h,u);var f=Kc(n,e);if(!(f<l))return Ns(h,u)}}function H$(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,i=t.numberOfMonths,l=i===void 0?1:i,u=s?l:1,h=Tr(e);if(!n)return Ns(h,-u);var f=Kc(h,n);if(!(f<=0))return Ns(h,-u)}}var KE=p.createContext(void 0);function V$(e){var t=fn(),n=U$(),s=n[0],i=n[1],l=F$(s,t),u=B$(s,t),h=H$(s,t),f=function(x){return l.some(function(y){return Sx(x,y)})},m=function(x,y){f(x)||(y&&OE(x,y)?i(Ns(x,1+t.numberOfMonths*-1)):i(x))},g={currentMonth:s,displayMonths:l,goToMonth:i,goToDate:m,previousMonth:h,nextMonth:u,isDateDisplayed:f};return r.jsx(KE.Provider,{value:g,children:e.children})}function _u(){var e=p.useContext(KE);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Qj(e){var t,n=fn(),s=n.classNames,i=n.styles,l=n.components,u=_u().goToMonth,h=function(g){u(Ns(g,e.displayIndex?-e.displayIndex:0))},f=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:WE,m=r.jsx(f,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:i.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:m}),r.jsx(L$,{onChange:h,displayMonth:e.displayMonth}),r.jsx(I$,{onChange:h,displayMonth:e.displayMonth})]})}function q$(e){return r.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Y$(e){return r.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Tf=p.forwardRef(function(e,t){var n=fn(),s=n.classNames,i=n.styles,l=[s.button_reset,s.button];e.className&&l.push(e.className);var u=l.join(" "),h=tt(tt({},i.button_reset),i.button);return e.style&&Object.assign(h,e.style),r.jsx("button",tt({},e,{ref:t,type:"button",className:u,style:h}))});function G$(e){var t,n,s=fn(),i=s.dir,l=s.locale,u=s.classNames,h=s.styles,f=s.labels,m=f.labelPrevious,g=f.labelNext,x=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var y=m(e.previousMonth,{locale:l}),w=[u.nav_button,u.nav_button_previous].join(" "),j=g(e.nextMonth,{locale:l}),N=[u.nav_button,u.nav_button_next].join(" "),S=(t=x==null?void 0:x.IconRight)!==null&&t!==void 0?t:Y$,_=(n=x==null?void 0:x.IconLeft)!==null&&n!==void 0?n:q$;return r.jsxs("div",{className:u.nav,style:h.nav,children:[!e.hidePrevious&&r.jsx(Tf,{name:"previous-month","aria-label":y,className:w,style:h.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?r.jsx(S,{className:u.nav_icon,style:h.nav_icon}):r.jsx(_,{className:u.nav_icon,style:h.nav_icon})}),!e.hideNext&&r.jsx(Tf,{name:"next-month","aria-label":j,className:N,style:h.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?r.jsx(_,{className:u.nav_icon,style:h.nav_icon}):r.jsx(S,{className:u.nav_icon,style:h.nav_icon})})]})}function Zj(e){var t=fn().numberOfMonths,n=_u(),s=n.previousMonth,i=n.nextMonth,l=n.goToMonth,u=n.displayMonths,h=u.findIndex(function(j){return Sx(e.displayMonth,j)}),f=h===0,m=h===u.length-1,g=t>1&&(f||!m),x=t>1&&(m||!f),y=function(){s&&l(s)},w=function(){i&&l(i)};return r.jsx(G$,{displayMonth:e.displayMonth,hideNext:g,hidePrevious:x,nextMonth:i,previousMonth:s,onPreviousClick:y,onNextClick:w})}function W$(e){var t,n=fn(),s=n.classNames,i=n.disableNavigation,l=n.styles,u=n.captionLayout,h=n.components,f=(t=h==null?void 0:h.CaptionLabel)!==null&&t!==void 0?t:WE,m;return i?m=r.jsx(f,{id:e.id,displayMonth:e.displayMonth}):u==="dropdown"?m=r.jsx(Qj,{displayMonth:e.displayMonth,id:e.id}):u==="dropdown-buttons"?m=r.jsxs(r.Fragment,{children:[r.jsx(Qj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(Zj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=r.jsxs(r.Fragment,{children:[r.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(Zj,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:l.caption,children:m})}function X$(e){var t=fn(),n=t.footer,s=t.styles,i=t.classNames.tfoot;return n?r.jsx("tfoot",{className:i,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function K$(e,t,n){for(var s=n?Zi(new Date):Ys(new Date,{locale:e,weekStartsOn:t}),i=[],l=0;l<7;l++){var u=hr(s,l);i.push(u)}return i}function Q$(){var e=fn(),t=e.classNames,n=e.styles,s=e.showWeekNumber,i=e.locale,l=e.weekStartsOn,u=e.ISOWeek,h=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,m=K$(i,l,u);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),m.map(function(g,x){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":f(g,{locale:i}),children:h(g,{locale:i})},x)})]})}function Z$(){var e,t=fn(),n=t.classNames,s=t.styles,i=t.components,l=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:Q$;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(l,{})})}function J$(e){var t=fn(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var Cx=p.createContext(void 0);function ez(e){if(!Nu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(Cx.Provider,{value:t,children:e.children})}return r.jsx(tz,{initialProps:e.initialProps,children:e.children})}function tz(e){var t=e.initialProps,n=e.children,s=t.selected,i=t.min,l=t.max,u=function(m,g,x){var y,w;(y=t.onDayClick)===null||y===void 0||y.call(t,m,g,x);var j=!!(g.selected&&i&&(s==null?void 0:s.length)===i);if(!j){var N=!!(!g.selected&&l&&(s==null?void 0:s.length)===l);if(!N){var S=s?YE([],s):[];if(g.selected){var _=S.findIndex(function(E){return Rr(m,E)});S.splice(_,1)}else S.push(m);(w=t.onSelect)===null||w===void 0||w.call(t,S,m,g,x)}}},h={disabled:[]};s&&h.disabled.push(function(m){var g=l&&s.length>l-1,x=s.some(function(y){return Rr(y,m)});return!!(g&&!x)});var f={selected:s,onDayClick:u,modifiers:h};return r.jsx(Cx.Provider,{value:f,children:n})}function Rx(){var e=p.useContext(Cx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function nz(e,t){var n=t||{},s=n.from,i=n.to;return s&&i?Rr(i,e)&&Rr(s,e)?void 0:Rr(i,e)?{from:i,to:void 0}:Rr(s,e)?void 0:rv(s,e)?{from:e,to:i}:{from:s,to:e}:i?rv(e,i)?{from:i,to:e}:{from:e,to:i}:s?OE(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Tx=p.createContext(void 0);function rz(e){if(!Su(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(Tx.Provider,{value:t,children:e.children})}return r.jsx(sz,{initialProps:e.initialProps,children:e.children})}function sz(e){var t=e.initialProps,n=e.children,s=t.selected,i=s||{},l=i.from,u=i.to,h=t.min,f=t.max,m=function(w,j,N){var S,_;(S=t.onDayClick)===null||S===void 0||S.call(t,w,j,N);var E=nz(w,s);(_=t.onSelect)===null||_===void 0||_.call(t,E,w,j,N)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(g.range_start=[l],u?(g.range_end=[u],Rr(l,u)||(g.range_middle=[{after:l,before:u}])):g.range_end=[l]):u&&(g.range_start=[u],g.range_end=[u]),h&&(l&&!u&&g.disabled.push({after:ig(l,h-1),before:hr(l,h-1)}),l&&u&&g.disabled.push({after:l,before:hr(l,h-1)}),!l&&u&&g.disabled.push({after:ig(u,h-1),before:hr(u,h-1)})),f){if(l&&!u&&(g.disabled.push({before:hr(l,-f+1)}),g.disabled.push({after:hr(l,f-1)})),l&&u){var x=Us(u,l)+1,y=f-x;g.disabled.push({before:ig(l,y)}),g.disabled.push({after:hr(u,y)})}!l&&u&&(g.disabled.push({before:hr(u,-f+1)}),g.disabled.push({after:hr(u,f-1)}))}return r.jsx(Tx.Provider,{value:{selected:s,onDayClick:m,modifiers:g},children:n})}function Mx(){var e=p.useContext(Tx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ff(e){return Array.isArray(e)?YE([],e):e!==void 0?[e]:[]}function az(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],i=n[1];t[s]=ff(i)}),t}var Ss;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ss||(Ss={}));var iz=Ss.Selected,ma=Ss.Disabled,oz=Ss.Hidden,lz=Ss.Today,cg=Ss.RangeEnd,ug=Ss.RangeMiddle,dg=Ss.RangeStart,cz=Ss.Outside;function uz(e,t,n){var s,i=(s={},s[iz]=ff(e.selected),s[ma]=ff(e.disabled),s[oz]=ff(e.hidden),s[lz]=[e.today],s[cg]=[],s[ug]=[],s[dg]=[],s[cz]=[],s);return e.fromDate&&i[ma].push({before:e.fromDate}),e.toDate&&i[ma].push({after:e.toDate}),Nu(e)?i[ma]=i[ma].concat(t.modifiers[ma]):Su(e)&&(i[ma]=i[ma].concat(n.modifiers[ma]),i[dg]=n.modifiers[dg],i[ug]=n.modifiers[ug],i[cg]=n.modifiers[cg]),i}var QE=p.createContext(void 0);function dz(e){var t=fn(),n=Rx(),s=Mx(),i=uz(t,n,s),l=az(t.modifiers),u=tt(tt({},i),l);return r.jsx(QE.Provider,{value:u,children:e.children})}function ZE(){var e=p.useContext(QE);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function fz(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function hz(e){return!!(e&&typeof e=="object"&&"from"in e)}function mz(e){return!!(e&&typeof e=="object"&&"after"in e)}function pz(e){return!!(e&&typeof e=="object"&&"before"in e)}function gz(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function vz(e,t){var n,s=t.from,i=t.to;if(s&&i){var l=Us(i,s)<0;l&&(n=[i,s],s=n[0],i=n[1]);var u=Us(e,s)>=0&&Us(i,e)>=0;return u}return i?Rr(i,e):s?Rr(s,e):!1}function xz(e){return wx(e)}function bz(e){return Array.isArray(e)&&e.every(wx)}function yz(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(xz(n))return Rr(e,n);if(bz(n))return n.includes(e);if(hz(n))return vz(e,n);if(gz(n))return n.dayOfWeek.includes(e.getDay());if(fz(n)){var s=Us(n.before,e),i=Us(n.after,e),l=s>0,u=i<0,h=rv(n.before,n.after);return h?u&&l:l||u}return mz(n)?Us(e,n.after)>0:pz(n)?Us(n.before,e)>0:typeof n=="function"?n(e):!1})}function Ox(e,t,n){var s=Object.keys(t).reduce(function(l,u){var h=t[u];return yz(e,h)&&l.push(u),l},[]),i={};return s.forEach(function(l){return i[l]=!0}),n&&!Sx(e,n)&&(i.outside=!0),i}function wz(e,t){for(var n=Tr(e[0]),s=jx(e[e.length-1]),i,l,u=n;u<=s;){var h=Ox(u,t),f=!h.disabled&&!h.hidden;if(!f){u=hr(u,1);continue}if(h.selected)return u;h.today&&!l&&(l=u),i||(i=u),u=hr(u,1)}return l||i}var jz=365;function JE(e,t){var n=t.moveBy,s=t.direction,i=t.context,l=t.modifiers,u=t.retry,h=u===void 0?{count:0,lastFocused:e}:u,f=i.weekStartsOn,m=i.fromDate,g=i.toDate,x=i.locale,y={day:hr,week:nv,month:Ns,year:s6,startOfWeek:function(S){return i.ISOWeek?Zi(S):Ys(S,{locale:x,weekStartsOn:f})},endOfWeek:function(S){return i.ISOWeek?SE(S):Nx(S,{locale:x,weekStartsOn:f})}},w=y[n](e,s==="after"?1:-1);s==="before"&&m?w=a6([m,w]):s==="after"&&g&&(w=i6([g,w]));var j=!0;if(l){var N=Ox(w,l);j=!N.disabled&&!N.hidden}return j?w:h.count>jz?h.lastFocused:JE(w,{moveBy:n,direction:s,context:i,modifiers:l,retry:tt(tt({},h),{count:h.count+1})})}var e2=p.createContext(void 0);function Nz(e){var t=_u(),n=ZE(),s=p.useState(),i=s[0],l=s[1],u=p.useState(),h=u[0],f=u[1],m=wz(t.displayMonths,n),g=i??(h&&t.isDateDisplayed(h))?h:m,x=function(){f(i),l(void 0)},y=function(S){l(S)},w=fn(),j=function(S,_){if(i){var E=JE(i,{moveBy:S,direction:_,context:w,modifiers:n});Rr(i,E)||(t.goToDate(E,i),y(E))}},N={focusedDay:i,focusTarget:g,blur:x,focus:y,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return r.jsx(e2.Provider,{value:N,children:e.children})}function Ax(){var e=p.useContext(e2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Sz(e,t){var n=ZE(),s=Ox(e,n,t);return s}var kx=p.createContext(void 0);function _z(e){if(!bh(e.initialProps)){var t={selected:void 0};return r.jsx(kx.Provider,{value:t,children:e.children})}return r.jsx(Ez,{initialProps:e.initialProps,children:e.children})}function Ez(e){var t=e.initialProps,n=e.children,s=function(l,u,h){var f,m,g;if((f=t.onDayClick)===null||f===void 0||f.call(t,l,u,h),u.selected&&!t.required){(m=t.onSelect)===null||m===void 0||m.call(t,void 0,l,u,h);return}(g=t.onSelect)===null||g===void 0||g.call(t,l,l,u,h)},i={selected:t.selected,onDayClick:s};return r.jsx(kx.Provider,{value:i,children:n})}function t2(){var e=p.useContext(kx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Cz(e,t){var n=fn(),s=t2(),i=Rx(),l=Mx(),u=Ax(),h=u.focusDayAfter,f=u.focusDayBefore,m=u.focusWeekAfter,g=u.focusWeekBefore,x=u.blur,y=u.focus,w=u.focusMonthBefore,j=u.focusMonthAfter,N=u.focusYearBefore,S=u.focusYearAfter,_=u.focusStartOfWeek,E=u.focusEndOfWeek,C=function(W){var q,J,D,F;bh(n)?(q=s.onDayClick)===null||q===void 0||q.call(s,e,t,W):Nu(n)?(J=i.onDayClick)===null||J===void 0||J.call(i,e,t,W):Su(n)?(D=l.onDayClick)===null||D===void 0||D.call(l,e,t,W):(F=n.onDayClick)===null||F===void 0||F.call(n,e,t,W)},M=function(W){var q;y(e),(q=n.onDayFocus)===null||q===void 0||q.call(n,e,t,W)},R=function(W){var q;x(),(q=n.onDayBlur)===null||q===void 0||q.call(n,e,t,W)},A=function(W){var q;(q=n.onDayMouseEnter)===null||q===void 0||q.call(n,e,t,W)},k=function(W){var q;(q=n.onDayMouseLeave)===null||q===void 0||q.call(n,e,t,W)},L=function(W){var q;(q=n.onDayPointerEnter)===null||q===void 0||q.call(n,e,t,W)},U=function(W){var q;(q=n.onDayPointerLeave)===null||q===void 0||q.call(n,e,t,W)},Y=function(W){var q;(q=n.onDayTouchCancel)===null||q===void 0||q.call(n,e,t,W)},oe=function(W){var q;(q=n.onDayTouchEnd)===null||q===void 0||q.call(n,e,t,W)},Q=function(W){var q;(q=n.onDayTouchMove)===null||q===void 0||q.call(n,e,t,W)},$=function(W){var q;(q=n.onDayTouchStart)===null||q===void 0||q.call(n,e,t,W)},ie=function(W){var q;(q=n.onDayKeyUp)===null||q===void 0||q.call(n,e,t,W)},le=function(W){var q;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?h():f();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?f():h();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),m();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),g();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?N():w();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?S():j();break;case"Home":W.preventDefault(),W.stopPropagation(),_();break;case"End":W.preventDefault(),W.stopPropagation(),E();break}(q=n.onDayKeyDown)===null||q===void 0||q.call(n,e,t,W)},I={onClick:C,onFocus:M,onBlur:R,onKeyDown:le,onKeyUp:ie,onMouseEnter:A,onMouseLeave:k,onPointerEnter:L,onPointerLeave:U,onTouchCancel:Y,onTouchEnd:oe,onTouchMove:Q,onTouchStart:$};return I}function Rz(){var e=fn(),t=t2(),n=Rx(),s=Mx(),i=bh(e)?t.selected:Nu(e)?n.selected:Su(e)?s.selected:void 0;return i}function Tz(e){return Object.values(Ss).includes(e)}function Mz(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var i=e.modifiersClassNames[s];if(i)n.push(i);else if(Tz(s)){var l=e.classNames["day_".concat(s)];l&&n.push(l)}}),n}function Oz(e,t){var n=tt({},e.styles.day);return Object.keys(t).forEach(function(s){var i;n=tt(tt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[s])}),n}function Az(e,t,n){var s,i,l,u=fn(),h=Ax(),f=Sz(e,t),m=Cz(e,f),g=Rz(),x=!!(u.onDayClick||u.mode!=="default");p.useEffect(function(){var A;f.outside||h.focusedDay&&x&&Rr(h.focusedDay,e)&&((A=n.current)===null||A===void 0||A.focus())},[h.focusedDay,e,n,x,f.outside]);var y=Mz(u,f).join(" "),w=Oz(u,f),j=!!(f.outside&&!u.showOutsideDays||f.hidden),N=(l=(i=u.components)===null||i===void 0?void 0:i.DayContent)!==null&&l!==void 0?l:J$,S=r.jsx(N,{date:e,displayMonth:t,activeModifiers:f}),_={style:w,className:y,children:S,role:"gridcell"},E=h.focusTarget&&Rr(h.focusTarget,e)&&!f.outside,C=h.focusedDay&&Rr(h.focusedDay,e),M=tt(tt(tt({},_),(s={disabled:f.disabled,role:"gridcell"},s["aria-selected"]=f.selected,s.tabIndex=C||E?0:-1,s)),m),R={isButton:x,isHidden:j,activeModifiers:f,selectedDays:g,buttonProps:M,divProps:_};return R}function kz(e){var t=p.useRef(null),n=Az(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(Tf,tt({name:"day",ref:t},n.buttonProps)):r.jsx("div",tt({},n.divProps))}function Dz(e){var t=e.number,n=e.dates,s=fn(),i=s.onWeekNumberClick,l=s.styles,u=s.classNames,h=s.locale,f=s.labels.labelWeekNumber,m=s.formatters.formatWeekNumber,g=m(Number(t),{locale:h});if(!i)return r.jsx("span",{className:u.weeknumber,style:l.weeknumber,children:g});var x=f(Number(t),{locale:h}),y=function(w){i(t,n,w)};return r.jsx(Tf,{name:"week-number","aria-label":x,className:u.weeknumber,style:l.weeknumber,onClick:y,children:g})}function Pz(e){var t,n,s=fn(),i=s.styles,l=s.classNames,u=s.showWeekNumber,h=s.components,f=(t=h==null?void 0:h.Day)!==null&&t!==void 0?t:kz,m=(n=h==null?void 0:h.WeekNumber)!==null&&n!==void 0?n:Dz,g;return u&&(g=r.jsx("td",{className:l.cell,style:i.cell,children:r.jsx(m,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:l.row,style:i.row,children:[g,e.dates.map(function(x){return r.jsx("td",{className:l.cell,style:i.cell,role:"presentation",children:r.jsx(f,{displayMonth:e.displayMonth,date:x})},s8(x))})]})}function Jj(e,t,n){for(var s=n!=null&&n.ISOWeek?SE(t):Nx(t,n),i=n!=null&&n.ISOWeek?Zi(e):Ys(e,n),l=Us(s,i),u=[],h=0;h<=l;h++)u.push(hr(i,h));var f=u.reduce(function(m,g){var x=n!=null&&n.ISOWeek?CE(g):TE(g,n),y=m.find(function(w){return w.weekNumber===x});return y?(y.dates.push(g),m):(m.push({weekNumber:x,dates:[g]}),m)},[]);return f}function Lz(e,t){var n=Jj(Tr(e),jx(e),t);if(t!=null&&t.useFixedWeeks){var s=i8(e,t);if(s<6){var i=n[n.length-1],l=i.dates[i.dates.length-1],u=nv(l,6-s),h=Jj(nv(l,1),u,t);n.push.apply(n,h)}}return n}function Iz(e){var t,n,s,i=fn(),l=i.locale,u=i.classNames,h=i.styles,f=i.hideHead,m=i.fixedWeeks,g=i.components,x=i.weekStartsOn,y=i.firstWeekContainsDate,w=i.ISOWeek,j=Lz(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:w,locale:l,weekStartsOn:x,firstWeekContainsDate:y}),N=(t=g==null?void 0:g.Head)!==null&&t!==void 0?t:Z$,S=(n=g==null?void 0:g.Row)!==null&&n!==void 0?n:Pz,_=(s=g==null?void 0:g.Footer)!==null&&s!==void 0?s:X$;return r.jsxs("table",{id:e.id,className:u.table,style:h.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&r.jsx(N,{}),r.jsx("tbody",{className:u.tbody,style:h.tbody,children:j.map(function(E){return r.jsx(S,{displayMonth:e.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),r.jsx(_,{displayMonth:e.displayMonth})]})}function $z(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var zz=$z()?p.useLayoutEffect:p.useEffect,fg=!1,Uz=0;function e1(){return"react-day-picker-".concat(++Uz)}function Fz(e){var t,n=e??(fg?e1():null),s=p.useState(n),i=s[0],l=s[1];return zz(function(){i===null&&l(e1())},[]),p.useEffect(function(){fg===!1&&(fg=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function Bz(e){var t,n,s=fn(),i=s.dir,l=s.classNames,u=s.styles,h=s.components,f=_u().displayMonths,m=Fz(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),g=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,x=[l.month],y=u.month,w=e.displayIndex===0,j=e.displayIndex===f.length-1,N=!w&&!j;i==="rtl"&&(t=[w,j],j=t[0],w=t[1]),w&&(x.push(l.caption_start),y=tt(tt({},y),u.caption_start)),j&&(x.push(l.caption_end),y=tt(tt({},y),u.caption_end)),N&&(x.push(l.caption_between),y=tt(tt({},y),u.caption_between));var S=(n=h==null?void 0:h.Caption)!==null&&n!==void 0?n:W$;return r.jsxs("div",{className:x.join(" "),style:y,children:[r.jsx(S,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(Iz,{id:g,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function Hz(e){var t=fn(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function Vz(e){var t,n,s=e.initialProps,i=fn(),l=Ax(),u=_u(),h=p.useState(!1),f=h[0],m=h[1];p.useEffect(function(){i.initialFocus&&l.focusTarget&&(f||(l.focus(l.focusTarget),m(!0)))},[i.initialFocus,f,l.focus,l.focusTarget,l]);var g=[i.classNames.root,i.className];i.numberOfMonths>1&&g.push(i.classNames.multiple_months),i.showWeekNumber&&g.push(i.classNames.with_weeknumber);var x=tt(tt({},i.styles.root),i.style),y=Object.keys(s).filter(function(j){return j.startsWith("data-")}).reduce(function(j,N){var S;return tt(tt({},j),(S={},S[N]=s[N],S))},{}),w=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Hz;return r.jsx("div",tt({className:g.join(" "),style:x,dir:i.dir,id:i.id,nonce:s.nonce,title:s.title,lang:s.lang},y,{children:r.jsx(w,{children:u.displayMonths.map(function(j,N){return r.jsx(Bz,{displayIndex:N,displayMonth:j},N)})})}))}function qz(e){var t=e.children,n=p$(e,["children"]);return r.jsx(D$,{initialProps:n,children:r.jsx(V$,{children:r.jsx(_z,{initialProps:n,children:r.jsx(ez,{initialProps:n,children:r.jsx(rz,{initialProps:n,children:r.jsx(dz,{children:r.jsx(Nz,{children:t})})})})})})})}function Yz(e){return r.jsx(qz,tt({},e,{children:r.jsx(Vz,{initialProps:e})}))}function n2({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(Yz,{showOutsideDays:n,className:Me("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Me(cl({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Me("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",s.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Me(cl({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...l})=>r.jsx(C_,{className:Me("size-4",i),...l}),IconRight:({className:i,...l})=>r.jsx(R_,{className:Me("size-4",i),...l})},...s})}function t1(e,[t,n]){return Math.min(n,Math.max(t,e))}function Dx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gz=[" ","Enter","ArrowUp","ArrowDown"],Wz=[" ","Enter"],Eu="Select",[yh,wh,Xz]=Fv(Eu),[El,bY]=yr(Eu,[Xz,pi]),jh=pi(),[Kz,xi]=El(Eu),[Qz,Zz]=El(Eu),r2=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:l,value:u,defaultValue:h,onValueChange:f,dir:m,name:g,autoComplete:x,disabled:y,required:w,form:j}=e,N=jh(t),[S,_]=p.useState(null),[E,C]=p.useState(null),[M,R]=p.useState(!1),A=Gf(m),[k=!1,L]=ci({prop:s,defaultProp:i,onChange:l}),[U,Y]=ci({prop:u,defaultProp:h,onChange:f}),oe=p.useRef(null),Q=S?j||!!S.closest("form"):!0,[$,ie]=p.useState(new Set),le=Array.from($).map(I=>I.props.value).join(";");return r.jsx(Zv,{...N,children:r.jsxs(Kz,{required:w,scope:t,trigger:S,onTriggerChange:_,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:M,onValueNodeHasChildrenChange:R,contentId:Fs(),value:U,onValueChange:Y,open:k,onOpenChange:L,dir:A,triggerPointerDownPosRef:oe,disabled:y,children:[r.jsx(yh.Provider,{scope:t,children:r.jsx(Qz,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(I=>{ie(W=>new Set(W).add(I))},[]),onNativeOptionRemove:p.useCallback(I=>{ie(W=>{const q=new Set(W);return q.delete(I),q})},[]),children:n})}),Q?r.jsxs(E2,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:x,value:U,onChange:I=>Y(I.target.value),disabled:y,form:j,children:[U===void 0?r.jsx("option",{value:""}):null,Array.from($)]},le):null]})})};r2.displayName=Eu;var s2="SelectTrigger",a2=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,l=jh(n),u=xi(s2,n),h=u.disabled||s,f=Ct(t,u.onTriggerChange),m=wh(n),g=p.useRef("touch"),[x,y,w]=C2(N=>{const S=m().filter(C=>!C.disabled),_=S.find(C=>C.value===u.value),E=R2(S,N,_);E!==void 0&&u.onValueChange(E.value)}),j=N=>{h||(u.onOpenChange(!0),w()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return r.jsx(fu,{asChild:!0,...l,children:r.jsx(nt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":_2(u.value)?"":void 0,...i,ref:f,onClick:ke(i.onClick,N=>{N.currentTarget.focus(),g.current!=="mouse"&&j(N)}),onPointerDown:ke(i.onPointerDown,N=>{g.current=N.pointerType;const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:ke(i.onKeyDown,N=>{const S=x.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&y(N.key),!(S&&N.key===" ")&&Gz.includes(N.key)&&(j(),N.preventDefault())})})})});a2.displayName=s2;var i2="SelectValue",o2=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:l,placeholder:u="",...h}=e,f=xi(i2,n),{onValueNodeHasChildrenChange:m}=f,g=l!==void 0,x=Ct(t,f.onValueNodeChange);return sr(()=>{m(g)},[m,g]),r.jsx(nt.span,{...h,ref:x,style:{pointerEvents:"none"},children:_2(f.value)?r.jsx(r.Fragment,{children:u}):l})});o2.displayName=i2;var Jz="SelectIcon",l2=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(nt.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});l2.displayName=Jz;var eU="SelectPortal",c2=e=>r.jsx(hu,{asChild:!0,...e});c2.displayName=eU;var Ji="SelectContent",u2=p.forwardRef((e,t)=>{const n=xi(Ji,e.__scopeSelect),[s,i]=p.useState();if(sr(()=>{i(new DocumentFragment)},[]),!n.open){const l=s;return l?xs.createPortal(r.jsx(d2,{scope:e.__scopeSelect,children:r.jsx(yh.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),l):null}return r.jsx(f2,{...e,ref:t})});u2.displayName=Ji;var gs=10,[d2,bi]=El(Ji),tU="SelectContentImpl",f2=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:f,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:w,sticky:j,hideWhenDetached:N,avoidCollisions:S,..._}=e,E=xi(Ji,n),[C,M]=p.useState(null),[R,A]=p.useState(null),k=Ct(t,K=>M(K)),[L,U]=p.useState(null),[Y,oe]=p.useState(null),Q=wh(n),[$,ie]=p.useState(!1),le=p.useRef(!1);p.useEffect(()=>{if(C)return nh(C)},[C]),Wf();const I=p.useCallback(K=>{const[re,...ge]=Q().map(Oe=>Oe.ref.current),[de]=ge.slice(-1),Ne=document.activeElement;for(const Oe of K)if(Oe===Ne||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===re&&R&&(R.scrollTop=0),Oe===de&&R&&(R.scrollTop=R.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Ne))return},[Q,R]),W=p.useCallback(()=>I([L,C]),[I,L,C]);p.useEffect(()=>{$&&W()},[$,W]);const{onOpenChange:q,triggerPointerDownPosRef:J}=E;p.useEffect(()=>{if(C){let K={x:0,y:0};const re=de=>{var Ne,Oe;K={x:Math.abs(Math.round(de.pageX)-(((Ne=J.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(de.pageY)-(((Oe=J.current)==null?void 0:Oe.y)??0))}},ge=de=>{K.x<=10&&K.y<=10?de.preventDefault():C.contains(de.target)||q(!1),document.removeEventListener("pointermove",re),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",ge,{capture:!0})}}},[C,q,J]),p.useEffect(()=>{const K=()=>q(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[q]);const[D,F]=C2(K=>{const re=Q().filter(Ne=>!Ne.disabled),ge=re.find(Ne=>Ne.ref.current===document.activeElement),de=R2(re,K,ge);de&&setTimeout(()=>de.ref.current.focus())}),B=p.useCallback((K,re,ge)=>{const de=!le.current&&!ge;(E.value!==void 0&&E.value===re||de)&&(U(K),de&&(le.current=!0))},[E.value]),H=p.useCallback(()=>C==null?void 0:C.focus(),[C]),P=p.useCallback((K,re,ge)=>{const de=!le.current&&!ge;(E.value!==void 0&&E.value===re||de)&&oe(K)},[E.value]),z=s==="popper"?sv:h2,V=z===sv?{side:h,sideOffset:f,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:w,sticky:j,hideWhenDetached:N,avoidCollisions:S}:{};return r.jsx(d2,{scope:n,content:C,viewport:R,onViewportChange:A,itemRefCallback:B,selectedItem:L,onItemLeave:H,itemTextRefCallback:P,focusSelectedItem:W,selectedItemText:Y,position:s,isPositioned:$,searchRef:D,children:r.jsx(mu,{as:Vs,allowPinchZoom:!0,children:r.jsx(uu,{asChild:!0,trapped:E.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ke(i,K=>{var re;(re=E.trigger)==null||re.focus({preventScroll:!0}),K.preventDefault()}),children:r.jsx(Nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:r.jsx(z,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:K=>K.preventDefault(),..._,...V,onPlaced:()=>ie(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ke(_.onKeyDown,K=>{const re=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!re&&K.key.length===1&&F(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let de=Q().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(K.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Ne=K.target,Oe=de.indexOf(Ne);de=de.slice(Oe+1)}setTimeout(()=>I(de)),K.preventDefault()}})})})})})})});f2.displayName=tU;var nU="SelectItemAlignedPosition",h2=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,l=xi(Ji,n),u=bi(Ji,n),[h,f]=p.useState(null),[m,g]=p.useState(null),x=Ct(t,k=>g(k)),y=wh(n),w=p.useRef(!1),j=p.useRef(!0),{viewport:N,selectedItem:S,selectedItemText:_,focusSelectedItem:E}=u,C=p.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&m&&N&&S&&_){const k=l.trigger.getBoundingClientRect(),L=m.getBoundingClientRect(),U=l.valueNode.getBoundingClientRect(),Y=_.getBoundingClientRect();if(l.dir!=="rtl"){const Ne=Y.left-L.left,Oe=U.left-Ne,ot=k.left-Oe,rt=k.width+ot,me=Math.max(rt,L.width),ve=window.innerWidth-gs,Pe=t1(Oe,[gs,Math.max(gs,ve-me)]);h.style.minWidth=rt+"px",h.style.left=Pe+"px"}else{const Ne=L.right-Y.right,Oe=window.innerWidth-U.right-Ne,ot=window.innerWidth-k.right-Oe,rt=k.width+ot,me=Math.max(rt,L.width),ve=window.innerWidth-gs,Pe=t1(Oe,[gs,Math.max(gs,ve-me)]);h.style.minWidth=rt+"px",h.style.right=Pe+"px"}const oe=y(),Q=window.innerHeight-gs*2,$=N.scrollHeight,ie=window.getComputedStyle(m),le=parseInt(ie.borderTopWidth,10),I=parseInt(ie.paddingTop,10),W=parseInt(ie.borderBottomWidth,10),q=parseInt(ie.paddingBottom,10),J=le+I+$+q+W,D=Math.min(S.offsetHeight*5,J),F=window.getComputedStyle(N),B=parseInt(F.paddingTop,10),H=parseInt(F.paddingBottom,10),P=k.top+k.height/2-gs,z=Q-P,V=S.offsetHeight/2,K=S.offsetTop+V,re=le+I+K,ge=J-re;if(re<=P){const Ne=oe.length>0&&S===oe[oe.length-1].ref.current;h.style.bottom="0px";const Oe=m.clientHeight-N.offsetTop-N.offsetHeight,ot=Math.max(z,V+(Ne?H:0)+Oe+W),rt=re+ot;h.style.height=rt+"px"}else{const Ne=oe.length>0&&S===oe[0].ref.current;h.style.top="0px";const ot=Math.max(P,le+N.offsetTop+(Ne?B:0)+V)+ge;h.style.height=ot+"px",N.scrollTop=re-P+N.offsetTop}h.style.margin=`${gs}px 0`,h.style.minHeight=D+"px",h.style.maxHeight=Q+"px",s==null||s(),requestAnimationFrame(()=>w.current=!0)}},[y,l.trigger,l.valueNode,h,m,N,S,_,l.dir,s]);sr(()=>C(),[C]);const[M,R]=p.useState();sr(()=>{m&&R(window.getComputedStyle(m).zIndex)},[m]);const A=p.useCallback(k=>{k&&j.current===!0&&(C(),E==null||E(),j.current=!1)},[C,E]);return r.jsx(sU,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:r.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:r.jsx(nt.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});h2.displayName=nU;var rU="SelectPopperPosition",sv=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=gs,...l}=e,u=jh(n);return r.jsx(Zf,{...u,...l,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sv.displayName=rU;var[sU,Px]=El(Ji,{}),av="SelectViewport",m2=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,l=bi(av,n),u=Px(av,n),h=Ct(t,l.onViewportChange),f=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(yh.Slot,{scope:n,children:r.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ke(i.onScroll,m=>{const g=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:y}=u;if(y!=null&&y.current&&x){const w=Math.abs(f.current-g.scrollTop);if(w>0){const j=window.innerHeight-gs*2,N=parseFloat(x.style.minHeight),S=parseFloat(x.style.height),_=Math.max(N,S);if(_<j){const E=_+w,C=Math.min(j,E),M=E-C;x.style.height=C+"px",x.style.bottom==="0px"&&(g.scrollTop=M>0?M:0,x.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});m2.displayName=av;var p2="SelectGroup",[aU,iU]=El(p2),oU=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Fs();return r.jsx(aU,{scope:n,id:i,children:r.jsx(nt.div,{role:"group","aria-labelledby":i,...s,ref:t})})});oU.displayName=p2;var g2="SelectLabel",lU=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=iU(g2,n);return r.jsx(nt.div,{id:i.id,...s,ref:t})});lU.displayName=g2;var Mf="SelectItem",[cU,v2]=El(Mf),x2=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:l,...u}=e,h=xi(Mf,n),f=bi(Mf,n),m=h.value===s,[g,x]=p.useState(l??""),[y,w]=p.useState(!1),j=Ct(t,E=>{var C;return(C=f.itemRefCallback)==null?void 0:C.call(f,E,s,i)}),N=Fs(),S=p.useRef("touch"),_=()=>{i||(h.onValueChange(s),h.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(cU,{scope:n,value:s,disabled:i,textId:N,isSelected:m,onItemTextChange:p.useCallback(E=>{x(C=>C||((E==null?void 0:E.textContent)??"").trim())},[]),children:r.jsx(yh.ItemSlot,{scope:n,value:s,disabled:i,textValue:g,children:r.jsx(nt.div,{role:"option","aria-labelledby":N,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:j,onFocus:ke(u.onFocus,()=>w(!0)),onBlur:ke(u.onBlur,()=>w(!1)),onClick:ke(u.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:ke(u.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:ke(u.onPointerDown,E=>{S.current=E.pointerType}),onPointerMove:ke(u.onPointerMove,E=>{var C;S.current=E.pointerType,i?(C=f.onItemLeave)==null||C.call(f):S.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(u.onPointerLeave,E=>{var C;E.currentTarget===document.activeElement&&((C=f.onItemLeave)==null||C.call(f))}),onKeyDown:ke(u.onKeyDown,E=>{var M;((M=f.searchRef)==null?void 0:M.current)!==""&&E.key===" "||(Wz.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});x2.displayName=Mf;var Dc="SelectItemText",b2=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...l}=e,u=xi(Dc,n),h=bi(Dc,n),f=v2(Dc,n),m=Zz(Dc,n),[g,x]=p.useState(null),y=Ct(t,_=>x(_),f.onItemTextChange,_=>{var E;return(E=h.itemTextRefCallback)==null?void 0:E.call(h,_,f.value,f.disabled)}),w=g==null?void 0:g.textContent,j=p.useMemo(()=>r.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:N,onNativeOptionRemove:S}=m;return sr(()=>(N(j),()=>S(j)),[N,S,j]),r.jsxs(r.Fragment,{children:[r.jsx(nt.span,{id:f.textId,...l,ref:y}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?xs.createPortal(l.children,u.valueNode):null]})});b2.displayName=Dc;var y2="SelectItemIndicator",w2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return v2(y2,n).isSelected?r.jsx(nt.span,{"aria-hidden":!0,...s,ref:t}):null});w2.displayName=y2;var iv="SelectScrollUpButton",j2=p.forwardRef((e,t)=>{const n=bi(iv,e.__scopeSelect),s=Px(iv,e.__scopeSelect),[i,l]=p.useState(!1),u=Ct(t,s.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let h=function(){const m=f.scrollTop>0;l(m)};const f=n.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?r.jsx(S2,{...e,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=n;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});j2.displayName=iv;var ov="SelectScrollDownButton",N2=p.forwardRef((e,t)=>{const n=bi(ov,e.__scopeSelect),s=Px(ov,e.__scopeSelect),[i,l]=p.useState(!1),u=Ct(t,s.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let h=function(){const m=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<m;l(g)};const f=n.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?r.jsx(S2,{...e,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=n;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});N2.displayName=ov;var S2=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,l=bi("SelectScrollButton",n),u=p.useRef(null),h=wh(n),f=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>f(),[f]),sr(()=>{var g;const m=h().find(x=>x.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[h]),r.jsx(nt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ke(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:ke(i.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:ke(i.onPointerLeave,()=>{f()})})}),uU="SelectSeparator",dU=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(nt.div,{"aria-hidden":!0,...s,ref:t})});dU.displayName=uU;var lv="SelectArrow",fU=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=jh(n),l=xi(lv,n),u=bi(lv,n);return l.open&&u.position==="popper"?r.jsx(Jf,{...i,...s,ref:t}):null});fU.displayName=lv;function _2(e){return e===""||e===void 0}var E2=p.forwardRef((e,t)=>{const{value:n,...s}=e,i=p.useRef(null),l=Ct(t,i),u=Dx(n);return p.useEffect(()=>{const h=i.current,f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==n&&g){const x=new Event("change",{bubbles:!0});g.call(h,n),h.dispatchEvent(x)}},[u,n]),r.jsx(vx,{asChild:!0,children:r.jsx("select",{...s,ref:l,defaultValue:n})})});E2.displayName="BubbleSelect";function C2(e){const t=Hr(e),n=p.useRef(""),s=p.useRef(0),i=p.useCallback(u=>{const h=n.current+u;t(h),function f(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>f(""),1e3))}(h)},[t]),l=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,l]}function R2(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=hU(e,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const f=u.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function hU(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var mU=r2,pU=a2,gU=o2,vU=l2,xU=c2,bU=u2,yU=m2,wU=x2,jU=b2,NU=w2,SU=j2,_U=N2;function pr({...e}){return r.jsx(mU,{"data-slot":"select",...e})}function gr({...e}){return r.jsx(gU,{"data-slot":"select-value",...e})}function vr({className:e,size:t="default",children:n,...s}){return r.jsxs(pU,{"data-slot":"select-trigger","data-size":t,className:Me("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[n,r.jsx(vU,{asChild:!0,children:r.jsx(E_,{className:"size-4 opacity-50"})})]})}function xr({className:e,children:t,position:n="popper",...s}){return r.jsx(xU,{children:r.jsxs(bU,{"data-slot":"select-content",className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(EU,{}),r.jsx(yU,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(CU,{})]})})}function Nt({className:e,children:t,...n}){return r.jsxs(wU,{"data-slot":"select-item",className:Me("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(NU,{children:r.jsx(ox,{className:"size-4"})})}),r.jsx(jU,{children:t})]})}function EU({className:e,...t}){return r.jsx(SU,{"data-slot":"select-scroll-up-button",className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(X3,{className:"size-4"})})}function CU({className:e,...t}){return r.jsx(_U,{"data-slot":"select-scroll-down-button",className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(E_,{className:"size-4"})})}const n1=()=>{const e=cr(),{patientId:t}=br(),n=!!t,[s,i]=p.useState({}),[l,u]=p.useState(!1),[h,f]=p.useState(n),[m,g]=p.useState(null),[x,y]=p.useState(!1),w=p.useCallback(async()=>{if(!n||!t){f(!1);return}f(!0),g(null);try{const{data:E,error:C}=await se.from("patient").select("*").eq("id",t).single();if(C)throw C;E?i({patient_unique_id:E.patient_unique_id||"",full_name:E.full_name||"",date_of_birth:E.date_of_birth?ct(Kt(E.date_of_birth),"yyyy-MM-dd"):void 0,gender:E.gender||void 0,phone:E.phone||""}):g("Patient non trouvé.")}catch(E){console.error("Erreur lors de la récupération du patient:",E),g((E instanceof Error?E.message:null)||"Impossible de charger les données du patient.")}finally{f(!1)}},[n,t]);p.useEffect(()=>{w()},[w]);const j=E=>{const{name:C,value:M}=E.target;i(R=>({...R,[C]:M}))},N=(E,C)=>{i(M=>({...M,[E]:C===""?void 0:C}))},S=E=>{i(C=>({...C,date_of_birth:E?ct(E,"yyyy-MM-dd"):void 0})),y(!1)},_=async E=>{var C;if(E.preventDefault(),g(null),!s.patient_unique_id||!s.full_name){g("L'ID Unique et le Nom Complet sont requis.");return}u(!0);try{const M={patient_unique_id:s.patient_unique_id.trim(),full_name:s.full_name.trim(),date_of_birth:s.date_of_birth||null,gender:s.gender||null,phone:((C=s.phone)==null?void 0:C.trim())||null};let R=null;if(n){const{error:A}=await se.from("patient").update(M).eq("id",t);R=A}else{const{error:A}=await se.from("patient").insert(M);R=A}if(R)if(R.code==="23505")g("Cet ID Unique de patient existe déjà. Veuillez en utiliser un autre.");else throw R;else e("/patients")}catch(M){console.error(`Erreur lors de ${n?"la mise à jour":"la création"} du patient:`,M),g((M instanceof Error?M.message:null)||`Une erreur est survenue lors de ${n?"la mise à jour":"l'enregistrement"}.`)}finally{u(!1)}};return h?r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx(X,{className:"h-8 w-32"})," ",r.jsxs(Ce,{className:"shadow-md",children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-6 w-3/4"}),r.jsx(X,{className:"h-4 w-full"})]}),r.jsxs(Re,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]})]})]}),r.jsxs(js,{className:"border-t px-6 py-4",children:[r.jsx(X,{className:"h-10 w-32"}),r.jsx(X,{className:"h-10 w-24 ml-auto"})]})]})]}):r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),r.jsxs(Ce,{className:"shadow-md",children:[r.jsxs(Te,{children:[r.jsxs(pt,{className:"text-xl font-semibold flex items-center gap-2",children:[n?r.jsx(cs,{className:"h-5 w-5"}):r.jsx(M_,{className:"h-5 w-5"}),n?"Modifier le Patient":"Ajouter un Nouveau Patient"]}),r.jsx(Cr,{children:n?"Mettez à jour les informations du patient ci-dessous.":"Remplissez les informations ci-dessous pour enregistrer un nouveau patient."})]}),r.jsxs("form",{onSubmit:_,children:[r.jsxs(Re,{className:"space-y-6",children:[m&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:m})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{htmlFor:"patient_unique_id",className:"font-semibold",children:["ID Unique Patient ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(Ke,{id:"patient_unique_id",name:"patient_unique_id",placeholder:"Ex: PID-00051",required:!0,value:s.patient_unique_id||"",onChange:j,disabled:l||n,className:Me(n&&"bg-muted/50 cursor-not-allowed")}),n&&r.jsx("p",{className:"text-xs text-muted-foreground",children:"L'ID Unique ne peut pas être modifié."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{htmlFor:"full_name",className:"font-semibold",children:["Nom Complet ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(Ke,{id:"full_name",name:"full_name",placeholder:"Ex: Jean Dupont",required:!0,value:s.full_name||"",onChange:j,disabled:l})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"hidden space-y-2",children:[r.jsx(Ie,{htmlFor:"date_of_birth",className:"font-semibold",children:"Date de Naissance"}),r.jsxs(HE,{open:x,onOpenChange:y,children:[r.jsx(VE,{asChild:!0,children:r.jsxs(ne,{variant:"outline",className:Me("w-full justify-start text-left font-normal h-10",!s.date_of_birth&&"text-muted-foreground"),disabled:l,children:[r.jsx(__,{className:"mr-2 h-4 w-4"}),s.date_of_birth?ct(Kt(s.date_of_birth),"PPP",{locale:Wt}):r.jsx("span",{children:"Choisir une date"})]})}),r.jsx(qE,{className:"w-auto p-0",align:"start",children:r.jsx(n2,{mode:"single",selected:s.date_of_birth?Kt(s.date_of_birth):void 0,onSelect:S,initialFocus:!0,locale:Wt,captionLayout:"dropdown-buttons",fromYear:1900,toYear:new Date().getFullYear(),disabled:E=>E>new Date||E<new Date("1900-01-01")})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"gender",className:"font-semibold",children:"Genre"}),r.jsxs(pr,{name:"gender",value:s.gender||"",onValueChange:E=>N("gender",E),disabled:l,children:[r.jsx(vr,{id:"gender",className:"h-10",children:r.jsx(gr,{placeholder:"Sélectionner..."})}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"Masculin",children:"Masculin"}),r.jsx(Nt,{value:"Féminin",children:"Féminin"}),r.jsx(Nt,{value:"Autre",children:"Autre"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"phone",className:"font-semibold",children:"Téléphone"}),r.jsx(Ke,{id:"phone",name:"phone",type:"tel",placeholder:"Ex: +33 6 12 34 56 78",value:s.phone||"",onChange:j,disabled:l})]})]})]}),r.jsxs(js,{className:"border-t px-6 py-4 flex justify-between",children:[r.jsx(ne,{type:"submit",disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Mise à jour...":"Enregistrement..."]}):n?"Mettre à jour le Patient":"Enregistrer le Patient"}),r.jsx(st,{to:"/patients",children:r.jsx(ne,{type:"button",variant:"outline",disabled:l,children:"Annuler"})})]})]})]})]})};var Lx="Checkbox",[RU,yY]=yr(Lx),[TU,MU]=RU(Lx),T2=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:l,required:u,disabled:h,value:f="on",onCheckedChange:m,form:g,...x}=e,[y,w]=p.useState(null),j=Ct(t,M=>w(M)),N=p.useRef(!1),S=y?g||!!y.closest("form"):!0,[_=!1,E]=ci({prop:i,defaultProp:l,onChange:m}),C=p.useRef(_);return p.useEffect(()=>{const M=y==null?void 0:y.form;if(M){const R=()=>E(C.current);return M.addEventListener("reset",R),()=>M.removeEventListener("reset",R)}},[y,E]),r.jsxs(TU,{scope:n,state:_,disabled:h,children:[r.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":li(_)?"mixed":_,"aria-required":u,"data-state":A2(_),"data-disabled":h?"":void 0,disabled:h,value:f,...x,ref:j,onKeyDown:ke(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:ke(e.onClick,M=>{E(R=>li(R)?!0:!R),S&&(N.current=M.isPropagationStopped(),N.current||M.stopPropagation())})}),S&&r.jsx(OU,{control:y,bubbles:!N.current,name:s,value:f,checked:_,required:u,disabled:h,form:g,style:{transform:"translateX(-100%)"},defaultChecked:li(l)?!1:l})]})});T2.displayName=Lx;var M2="CheckboxIndicator",O2=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,l=MU(M2,n);return r.jsx(qr,{present:s||li(l.state)||l.state===!0,children:r.jsx(nt.span,{"data-state":A2(l.state),"data-disabled":l.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});O2.displayName=M2;var OU=e=>{const{control:t,checked:n,bubbles:s=!0,defaultChecked:i,...l}=e,u=p.useRef(null),h=Dx(n),f=Xv(t);p.useEffect(()=>{const g=u.current,x=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(x,"checked").set;if(h!==n&&w){const j=new Event("click",{bubbles:s});g.indeterminate=li(n),w.call(g,li(n)?!1:n),g.dispatchEvent(j)}},[h,n,s]);const m=p.useRef(li(n)?!1:n);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,...l,tabIndex:-1,ref:u,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function li(e){return e==="indeterminate"}function A2(e){return li(e)?"indeterminate":e?"checked":"unchecked"}var AU=T2,kU=O2;function va({className:e,...t}){return r.jsx(AU,{"data-slot":"checkbox",className:Me("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(kU,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:r.jsx(ox,{className:"size-3.5"})})})}var DU="Separator",r1="horizontal",PU=["horizontal","vertical"],k2=p.forwardRef((e,t)=>{const{decorative:n,orientation:s=r1,...i}=e,l=LU(s)?s:r1,h=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return r.jsx(nt.div,{"data-orientation":l,...h,...i,ref:t})});k2.displayName=DU;function LU(e){return PU.includes(e)}var IU=k2;function os({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return r.jsx(IU,{"data-slot":"separator-root",decorative:n,orientation:t,className:Me("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}const Qn=({data:e,isPreview:t})=>{const{labName:n,addressLine1:s,addressLine2:i,cityPostalCode:l,phone:u,email:h,website:f}=e;return r.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:r.jsx("div",{className:" template-heading-shadow w-full py-4 flex items-center justify-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-[50%] ",children:r.jsxs("div",{className:"text-xs space-y-0.5",children:[r.jsx("p",{className:"font-bold text-sm",children:n||"[Nom Laboratoire]"}),r.jsx("p",{children:s||"[Adresse Ligne 1]"}),i&&r.jsx("p",{children:i}),l&&r.jsx("p",{children:l}),r.jsxs("p",{children:[u&&r.jsxs("span",{children:["Tél : ",u]}),u&&h&&r.jsx("span",{children:" | "}),h&&r.jsxs("span",{children:["Email : ",h]})]}),f&&r.jsx("p",{children:f})]})})})},Ra=({data:e,isPreview:t})=>{const{logoUrl:n,labName:s,addressLine1:i,addressLine2:l,cityPostalCode:u,phone:h,email:f,website:m}=e;return r.jsxs("div",{className:`flex flex-col items-center text-center gap-2 ${t?"p-4 border rounded-md bg-white min-h-[100px]":""}`,children:[r.jsx("div",{className:"mb-2",children:r.jsxs(lu,{className:"h-16 w-16 rounded-md border",children:[r.jsx(Yf,{src:n||void 0,alt:"Logo",className:"object-contain"}),r.jsx(cu,{className:"rounded-md bg-muted",children:r.jsx(oh,{className:"h-8 w-8 text-muted-foreground"})})]})}),r.jsxs("div",{className:"text-xs space-y-0.5",children:[r.jsx("p",{className:"font-bold text-sm",children:s||"[Nom Laboratoire]"}),r.jsx("p",{children:i||"[Adresse Ligne 1]"}),l&&r.jsx("p",{children:l}),u&&r.jsx("p",{children:u}),r.jsxs("p",{children:[h&&r.jsxs("span",{children:["Tél : ",h]}),h&&f&&r.jsx("span",{children:" | "}),f&&r.jsxs("span",{children:["Email : ",f]})]}),m&&r.jsx("p",{children:m})]})]})},Ta=({data:e,isPreview:t})=>{const{logoUrl:n,labName:s,addressLine1:i,addressLine2:l,cityPostalCode:u,phone:h,email:f,website:m}=e;return r.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:r.jsxs("div",{className:" w-full py-2 flex items-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-md ",children:[r.jsx("div",{className:"mb-2",children:r.jsxs(lu,{className:"h-16 w-16 rounded-md border",children:[r.jsx(Yf,{src:n||void 0,alt:"Logo",className:"object-contain"}),r.jsx(cu,{className:"rounded-md bg-muted",children:r.jsx(oh,{className:"h-8 w-8 text-muted-foreground"})})]})}),r.jsxs("div",{className:"text-xs space-y-0.5",children:[r.jsx("p",{className:"font-bold text-sm",children:s||"[Nom Laboratoire]"}),r.jsx("p",{children:i||"[Adresse Ligne 1]"}),l&&r.jsx("p",{children:l}),u&&r.jsx("p",{children:u}),r.jsxs("p",{children:[h&&r.jsxs("span",{children:["Tél : ",h]}),h&&f&&r.jsx("span",{children:" | "}),f&&r.jsxs("span",{children:["Email : ",f]})]}),m&&r.jsx("p",{children:m})]})]})})},Ma=({data:e,isPreview:t})=>{const{logoUrl:n,labName:s,addressLine1:i,addressLine2:l,cityPostalCode:u,phone:h,email:f,website:m}=e;return r.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:r.jsxs("div",{className:" template-heading-shadow w-full py-4 flex items-center justify-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-[50%] ",children:[r.jsx("div",{className:"mb-2",children:r.jsxs(lu,{className:"h-16 w-16 rounded-md border",children:[r.jsx(Yf,{src:n||void 0,alt:"Logo",className:"object-contain"}),r.jsx(cu,{className:"rounded-md bg-muted",children:r.jsx(oh,{className:"h-8 w-8 text-muted-foreground"})})]})}),r.jsxs("div",{className:"text-xs space-y-0.5",children:[r.jsx("p",{className:"font-bold text-sm",children:s||"[Nom Laboratoire]"}),r.jsx("p",{children:i||"[Adresse Ligne 1]"}),l&&r.jsx("p",{children:l}),u&&r.jsx("p",{children:u}),r.jsxs("p",{children:[h&&r.jsxs("span",{children:["Tél : ",h]}),h&&f&&r.jsx("span",{children:" | "}),f&&r.jsxs("span",{children:["Email : ",f]})]}),m&&r.jsx("p",{children:m})]})]})})};function hg(e,t){const n=t.trim();try{if(n.startsWith("<")&&!n.startsWith("<=")){const i=parseFloat(n.substring(1).trim().replace(",","."));if(!isNaN(i))return e<i?"in-range":"out-of-range"}else if(n.startsWith(">")&&!n.startsWith(">=")){const i=parseFloat(n.substring(1).trim().replace(",","."));if(!isNaN(i))return e>i?"in-range":"out-of-range"}else if(n.startsWith("<=")||n.startsWith("≤")){const i=parseFloat(n.substring(2).trim().replace(",","."));if(!isNaN(i))return e<=i?"in-range":"out-of-range"}else if(n.startsWith(">=")||n.startsWith("≥")){const i=parseFloat(n.substring(2).trim().replace(",","."));if(!isNaN(i))return e>=i?"in-range":"out-of-range"}else if(n.includes("-")){const i=n.split("-").map(l=>parseFloat(l.trim().replace(",",".")));if(i.length===2&&!isNaN(i[0])&&!isNaN(i[1])){const l=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]);return e>=l&&e<=u?"in-range":"out-of-range"}}const s=parseFloat(n.replace(",","."));if(!isNaN(s))return"indeterminate"}catch(s){console.error("Error parsing single range line:",t,s)}return"indeterminate"}function s1(e,t,n,s,i){if(i.includes(n)||i.includes(s))return"in-range";if(e==null||t===null||t===void 0||t.trim()==="")return"indeterminate";if(t.trim()==="-"){switch(e.trim().toLocaleLowerCase()){case"0 negatif":case"0 négatif":case"negatif":case"négatif":case"négative":case"neant":case"néant":case"0":return"in-range";case"positif":case"positive":return"out-of-range"}if(!isNaN(parseFloat(e)))return"out-of-range"}const l=parseFloat(e.replace(",",".")),u=t.trim(),h=e.trim().toLowerCase(),f=!isNaN(l);if(u.includes("Homme")||u.includes("HOMME")||u.match(/^(<|>|<=|>=)\s*\d+\s*(y|a|ans?)/i))return"indeterminate";const g=u.match(/^([a-zA-Z\s][a-zA-Z\s\d]*):\s*(.*)$/),x=u.includes(":")&&u.includes(";");if(g&&!x)return"indeterminate";if(u.toLowerCase().includes("negatif:")&&u.toLowerCase().includes("positif:")&&u.includes(";")){const w=u.split(";").map(S=>S.trim()).filter(S=>S.length>0);let j=null,N=null;for(const S of w){const _=S.match(/^(.+?):\s*(.*)$/);if(_){const E=_[1].trim().toLowerCase(),C=_[2].trim();E==="negatif"?j=C:E==="positif"&&(N=C)}else return"indeterminate"}return!j||!N?(console.warn("NEGATIF/POSITIF format detected, but couldn't extract both range segments."),"indeterminate"):h==="negatif"?"in-range":h==="positif"?"out-of-range":f?hg(l,j)==="in-range"?"in-range":hg(l,N)==="in-range"?"out-of-range":"indeterminate":"indeterminate"}if(!f)return isNaN(parseFloat(u.charAt(0)))&&!["<",">","-"].some(w=>u.includes(w))?h===u.toLowerCase()?"in-range":"out-of-range":"indeterminate";try{return hg(l,u)}catch(w){return console.error("Error parsing simple range string:",u,w),"indeterminate"}}function $U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>s=>{t.forEach(i=>i(s))},t)}const Nh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ix(e){return"nodeType"in e}function Or(e){var t,n;return e?Cl(e)?e:Ix(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function $x(e){const{Document:t}=Or(e);return e instanceof t}function Cu(e){return Cl(e)?!1:e instanceof Or(e).HTMLElement}function D2(e){return e instanceof Or(e).SVGElement}function Rl(e){return e?Cl(e)?e.document:Ix(e)?$x(e)?e:Cu(e)||D2(e)?e.ownerDocument:document:document:document}const Gs=Nh?p.useLayoutEffect:p.useEffect;function zx(e){const t=p.useRef(e);return Gs(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t.current==null?void 0:t.current(...s)},[])}function zU(){const e=p.useRef(null),t=p.useCallback((s,i)=>{e.current=setInterval(s,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Qc(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return Gs(()=>{n.current!==e&&(n.current=e)},t),n}function Ru(e,t){const n=p.useRef();return p.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Of(e){const t=zx(e),n=p.useRef(null),s=p.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,s]}function cv(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let mg={};function Tu(e,t){return p.useMemo(()=>{if(t)return t;const n=mg[e]==null?0:mg[e]+1;return mg[e]=n,e+"-"+n},[e,t])}function P2(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((l,u)=>{const h=Object.entries(u);for(const[f,m]of h){const g=l[f];g!=null&&(l[f]=g+e*m)}return l},{...t})}}const al=P2(1),Zc=P2(-1);function UU(e){return"clientX"in e&&"clientY"in e}function Ux(e){if(!e)return!1;const{KeyboardEvent:t}=Or(e.target);return t&&e instanceof t}function FU(e){if(!e)return!1;const{TouchEvent:t}=Or(e.target);return t&&e instanceof t}function uv(e){if(FU(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return UU(e)?{x:e.clientX,y:e.clientY}:null}const Jc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Jc.Translate.toString(e),Jc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),a1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function BU(e){return e.matches(a1)?e:e.querySelector(a1)}const HU={display:"none"};function VU(e){let{id:t,value:n}=e;return we.createElement("div",{id:t,style:HU},n)}function qU(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return we.createElement("div",{id:t,style:i,role:"status","aria-live":s,"aria-atomic":!0},n)}function YU(){const[e,t]=p.useState("");return{announce:p.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const L2=p.createContext(null);function GU(e){const t=p.useContext(L2);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function WU(){const[e]=p.useState(()=>new Set),t=p.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[p.useCallback(s=>{let{type:i,event:l}=s;e.forEach(u=>{var h;return(h=u[i])==null?void 0:h.call(u,l)})},[e]),t]}const XU={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},KU={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function QU(e){let{announcements:t=KU,container:n,hiddenTextDescribedById:s,screenReaderInstructions:i=XU}=e;const{announce:l,announcement:u}=YU(),h=Tu("DndLiveRegion"),[f,m]=p.useState(!1);if(p.useEffect(()=>{m(!0)},[]),GU(p.useMemo(()=>({onDragStart(x){let{active:y}=x;l(t.onDragStart({active:y}))},onDragMove(x){let{active:y,over:w}=x;t.onDragMove&&l(t.onDragMove({active:y,over:w}))},onDragOver(x){let{active:y,over:w}=x;l(t.onDragOver({active:y,over:w}))},onDragEnd(x){let{active:y,over:w}=x;l(t.onDragEnd({active:y,over:w}))},onDragCancel(x){let{active:y,over:w}=x;l(t.onDragCancel({active:y,over:w}))}}),[l,t])),!f)return null;const g=we.createElement(we.Fragment,null,we.createElement(VU,{id:s,value:i.draggable}),we.createElement(qU,{id:h,announcement:u}));return n?xs.createPortal(g,n):g}var Fn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Fn||(Fn={}));function Af(){}function i1(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ZU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const _s=Object.freeze({x:0,y:0});function I2(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $2(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function JU(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function o1(e){let{left:t,top:n,height:s,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+s},{x:t+i,y:n+s}]}function z2(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function l1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const eF=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=l1(t,t.left,t.top),l=[];for(const u of s){const{id:h}=u,f=n.get(h);if(f){const m=I2(l1(f),i);l.push({id:h,data:{droppableContainer:u,value:m}})}}return l.sort($2)},tF=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=o1(t),l=[];for(const u of s){const{id:h}=u,f=n.get(h);if(f){const m=o1(f),g=i.reduce((y,w,j)=>y+I2(m[j],w),0),x=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:u,value:x}})}}return l.sort($2)};function nF(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),u=i-s,h=l-n;if(s<i&&n<l){const f=t.width*t.height,m=e.width*e.height,g=u*h,x=g/(f+m-g);return Number(x.toFixed(4))}return 0}const rF=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=[];for(const l of s){const{id:u}=l,h=n.get(u);if(h){const f=nF(h,t);f>0&&i.push({id:u,data:{droppableContainer:l,value:f}})}}return i.sort(JU)};function sF(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function U2(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:_s}function aF(e){return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return i.reduce((u,h)=>({...u,top:u.top+e*h.y,bottom:u.bottom+e*h.y,left:u.left+e*h.x,right:u.right+e*h.x}),{...n})}}const iF=aF(1);function oF(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function lF(e,t,n){const s=oF(t);if(!s)return e;const{scaleX:i,scaleY:l,x:u,y:h}=s,f=e.left-u-(1-i)*parseFloat(n),m=e.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=i?e.width/i:e.width,x=l?e.height/l:e.height;return{width:g,height:x,top:m,right:f+g,bottom:m+x,left:f}}const cF={ignoreTransform:!1};function Tl(e,t){t===void 0&&(t=cF);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:g}=Or(e).getComputedStyle(e);m&&(n=lF(n,m,g))}const{top:s,left:i,width:l,height:u,bottom:h,right:f}=n;return{top:s,left:i,width:l,height:u,bottom:h,right:f}}function c1(e){return Tl(e,{ignoreTransform:!0})}function uF(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function dF(e,t){return t===void 0&&(t=Or(e).getComputedStyle(e)),t.position==="fixed"}function fF(e,t){t===void 0&&(t=Or(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const l=t[i];return typeof l=="string"?n.test(l):!1})}function Sh(e,t){const n=[];function s(i){if(t!=null&&n.length>=t||!i)return n;if($x(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Cu(i)||D2(i)||n.includes(i))return n;const l=Or(e).getComputedStyle(i);return i!==e&&fF(i,l)&&n.push(i),dF(i,l)?n:s(i.parentNode)}return e?s(e):n}function F2(e){const[t]=Sh(e,1);return t??null}function pg(e){return!Nh||!e?null:Cl(e)?e:Ix(e)?$x(e)||e===Rl(e).scrollingElement?window:Cu(e)?e:null:null}function B2(e){return Cl(e)?e.scrollX:e.scrollLeft}function H2(e){return Cl(e)?e.scrollY:e.scrollTop}function dv(e){return{x:B2(e),y:H2(e)}}var Kn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Kn||(Kn={}));function V2(e){return!Nh||!e?!1:e===document.scrollingElement}function q2(e){const t={x:0,y:0},n=V2(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,u=e.scrollTop>=s.y,h=e.scrollLeft>=s.x;return{isTop:i,isLeft:l,isBottom:u,isRight:h,maxScroll:s,minScroll:t}}const hF={x:.2,y:.2};function mF(e,t,n,s,i){let{top:l,left:u,right:h,bottom:f}=n;s===void 0&&(s=10),i===void 0&&(i=hF);const{isTop:m,isBottom:g,isLeft:x,isRight:y}=q2(e),w={x:0,y:0},j={x:0,y:0},N={height:t.height*i.y,width:t.width*i.x};return!m&&l<=t.top+N.height?(w.y=Kn.Backward,j.y=s*Math.abs((t.top+N.height-l)/N.height)):!g&&f>=t.bottom-N.height&&(w.y=Kn.Forward,j.y=s*Math.abs((t.bottom-N.height-f)/N.height)),!y&&h>=t.right-N.width?(w.x=Kn.Forward,j.x=s*Math.abs((t.right-N.width-h)/N.width)):!x&&u<=t.left+N.width&&(w.x=Kn.Backward,j.x=s*Math.abs((t.left+N.width-u)/N.width)),{direction:w,speed:j}}function pF(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:t,left:n,right:s,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Y2(e){return e.reduce((t,n)=>al(t,dv(n)),_s)}function gF(e){return e.reduce((t,n)=>t+B2(n),0)}function vF(e){return e.reduce((t,n)=>t+H2(n),0)}function xF(e,t){if(t===void 0&&(t=Tl),!e)return;const{top:n,left:s,bottom:i,right:l}=t(e);F2(e)&&(i<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const bF=[["x",["left","right"],gF],["y",["top","bottom"],vF]];class Fx{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Sh(n),i=Y2(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,u,h]of bF)for(const f of u)Object.defineProperty(this,f,{get:()=>{const m=h(s),g=i[l]-m;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Uc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var i;(i=this.target)==null||i.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function yF(e){const{EventTarget:t}=Or(e);return e instanceof t?e:Rl(e)}function gg(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var as;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(as||(as={}));function u1(e){e.preventDefault()}function wF(e){e.stopPropagation()}var Mt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Mt||(Mt={}));const G2={start:[Mt.Space,Mt.Enter],cancel:[Mt.Esc],end:[Mt.Space,Mt.Enter,Mt.Tab]},jF=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Mt.Right:return{...n,x:n.x+25};case Mt.Left:return{...n,x:n.x-25};case Mt.Down:return{...n,y:n.y+25};case Mt.Up:return{...n,y:n.y-25}}};class Bx{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Uc(Rl(n)),this.windowListeners=new Uc(Or(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(as.Resize,this.handleCancel),this.windowListeners.add(as.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(as.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&xF(s),n(_s)}handleKeyDown(t){if(Ux(t)){const{active:n,context:s,options:i}=this.props,{keyboardCodes:l=G2,coordinateGetter:u=jF,scrollBehavior:h="smooth"}=i,{code:f}=t;if(l.end.includes(f)){this.handleEnd(t);return}if(l.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:m}=s.current,g=m?{x:m.left,y:m.top}:_s;this.referenceCoordinates||(this.referenceCoordinates=g);const x=u(t,{active:n,context:s.current,currentCoordinates:g});if(x){const y=Zc(x,g),w={x:0,y:0},{scrollableAncestors:j}=s.current;for(const N of j){const S=t.code,{isTop:_,isRight:E,isLeft:C,isBottom:M,maxScroll:R,minScroll:A}=q2(N),k=pF(N),L={x:Math.min(S===Mt.Right?k.right-k.width/2:k.right,Math.max(S===Mt.Right?k.left:k.left+k.width/2,x.x)),y:Math.min(S===Mt.Down?k.bottom-k.height/2:k.bottom,Math.max(S===Mt.Down?k.top:k.top+k.height/2,x.y))},U=S===Mt.Right&&!E||S===Mt.Left&&!C,Y=S===Mt.Down&&!M||S===Mt.Up&&!_;if(U&&L.x!==x.x){const oe=N.scrollLeft+y.x,Q=S===Mt.Right&&oe<=R.x||S===Mt.Left&&oe>=A.x;if(Q&&!y.y){N.scrollTo({left:oe,behavior:h});return}Q?w.x=N.scrollLeft-oe:w.x=S===Mt.Right?N.scrollLeft-R.x:N.scrollLeft-A.x,w.x&&N.scrollBy({left:-w.x,behavior:h});break}else if(Y&&L.y!==x.y){const oe=N.scrollTop+y.y,Q=S===Mt.Down&&oe<=R.y||S===Mt.Up&&oe>=A.y;if(Q&&!y.x){N.scrollTo({top:oe,behavior:h});return}Q?w.y=N.scrollTop-oe:w.y=S===Mt.Down?N.scrollTop-R.y:N.scrollTop-A.y,w.y&&N.scrollBy({top:-w.y,behavior:h});break}}this.handleMove(t,al(Zc(x,this.referenceCoordinates),w))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Bx.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=G2,onActivation:i}=t,{active:l}=n;const{code:u}=e.nativeEvent;if(s.start.includes(u)){const h=l.activatorNode.current;return h&&e.target!==h?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function d1(e){return!!(e&&"distance"in e)}function f1(e){return!!(e&&"delay"in e)}class Hx{constructor(t,n,s){var i;s===void 0&&(s=yF(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:u}=l;this.props=t,this.events=n,this.document=Rl(u),this.documentListeners=new Uc(this.document),this.listeners=new Uc(s),this.windowListeners=new Uc(Or(u)),this.initialCoordinates=(i=uv(l))!=null?i:_s,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(as.Resize,this.handleCancel),this.windowListeners.add(as.DragStart,u1),this.windowListeners.add(as.VisibilityChange,this.handleCancel),this.windowListeners.add(as.ContextMenu,u1),this.documentListeners.add(as.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(f1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(d1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:i}=this.props;i(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(as.Click,wF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(as.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:i,props:l}=this,{onMove:u,options:{activationConstraint:h}}=l;if(!i)return;const f=(n=uv(t))!=null?n:_s,m=Zc(i,f);if(!s&&h){if(d1(h)){if(h.tolerance!=null&&gg(m,h.tolerance))return this.handleCancel();if(gg(m,h.distance))return this.handleStart()}if(f1(h)&&gg(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}t.cancelable&&t.preventDefault(),u(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Mt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const NF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Vx extends Hx{constructor(t){const{event:n}=t,s=Rl(n.target);super(t,NF,s)}}Vx.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const SF={move:{name:"mousemove"},end:{name:"mouseup"}};var fv;(function(e){e[e.RightClick=2]="RightClick"})(fv||(fv={}));class _F extends Hx{constructor(t){super(t,SF,Rl(t.event.target))}}_F.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===fv.RightClick?!1:(s==null||s({event:n}),!0)}}];const vg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class EF extends Hx{constructor(t){super(t,vg)}static setup(){return window.addEventListener(vg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(vg.move.name,t)};function t(){}}}EF.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:i}=n;return i.length>1?!1:(s==null||s({event:n}),!0)}}];var Fc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fc||(Fc={}));var kf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(kf||(kf={}));function CF(e){let{acceleration:t,activator:n=Fc.Pointer,canScroll:s,draggingRect:i,enabled:l,interval:u=5,order:h=kf.TreeOrder,pointerCoordinates:f,scrollableAncestors:m,scrollableAncestorRects:g,delta:x,threshold:y}=e;const w=TF({delta:x,disabled:!l}),[j,N]=zU(),S=p.useRef({x:0,y:0}),_=p.useRef({x:0,y:0}),E=p.useMemo(()=>{switch(n){case Fc.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Fc.DraggableRect:return i}},[n,i,f]),C=p.useRef(null),M=p.useCallback(()=>{const A=C.current;if(!A)return;const k=S.current.x*_.current.x,L=S.current.y*_.current.y;A.scrollBy(k,L)},[]),R=p.useMemo(()=>h===kf.TreeOrder?[...m].reverse():m,[h,m]);p.useEffect(()=>{if(!l||!m.length||!E){N();return}for(const A of R){if((s==null?void 0:s(A))===!1)continue;const k=m.indexOf(A),L=g[k];if(!L)continue;const{direction:U,speed:Y}=mF(A,L,E,t,y);for(const oe of["x","y"])w[oe][U[oe]]||(Y[oe]=0,U[oe]=0);if(Y.x>0||Y.y>0){N(),C.current=A,j(M,u),S.current=Y,_.current=U;return}}S.current={x:0,y:0},_.current={x:0,y:0},N()},[t,M,s,N,l,u,JSON.stringify(E),JSON.stringify(w),j,m,R,g,JSON.stringify(y)])}const RF={x:{[Kn.Backward]:!1,[Kn.Forward]:!1},y:{[Kn.Backward]:!1,[Kn.Forward]:!1}};function TF(e){let{delta:t,disabled:n}=e;const s=cv(t);return Ru(i=>{if(n||!s||!i)return RF;const l={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Kn.Backward]:i.x[Kn.Backward]||l.x===-1,[Kn.Forward]:i.x[Kn.Forward]||l.x===1},y:{[Kn.Backward]:i.y[Kn.Backward]||l.y===-1,[Kn.Forward]:i.y[Kn.Forward]||l.y===1}}},[n,t,s])}function MF(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Ru(i=>{var l;return t==null?null:(l=s??i)!=null?l:null},[s,t])}function OF(e,t){return p.useMemo(()=>e.reduce((n,s)=>{const{sensor:i}=s,l=i.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,s)}));return[...n,...l]},[]),[e,t])}var eu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(eu||(eu={}));var hv;(function(e){e.Optimized="optimized"})(hv||(hv={}));const h1=new Map;function AF(e,t){let{dragging:n,dependencies:s,config:i}=t;const[l,u]=p.useState(null),{frequency:h,measure:f,strategy:m}=i,g=p.useRef(e),x=S(),y=Qc(x),w=p.useCallback(function(_){_===void 0&&(_=[]),!y.current&&u(E=>E===null?_:E.concat(_.filter(C=>!E.includes(C))))},[y]),j=p.useRef(null),N=Ru(_=>{if(x&&!n)return h1;if(!_||_===h1||g.current!==e||l!=null){const E=new Map;for(let C of e){if(!C)continue;if(l&&l.length>0&&!l.includes(C.id)&&C.rect.current){E.set(C.id,C.rect.current);continue}const M=C.node.current,R=M?new Fx(f(M),M):null;C.rect.current=R,R&&E.set(C.id,R)}return E}return _},[e,l,n,x,f]);return p.useEffect(()=>{g.current=e},[e]),p.useEffect(()=>{x||w()},[n,x]),p.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),p.useEffect(()=>{x||typeof h!="number"||j.current!==null||(j.current=setTimeout(()=>{w(),j.current=null},h))},[h,x,w,...s]),{droppableRects:N,measureDroppableContainers:w,measuringScheduled:l!=null};function S(){switch(m){case eu.Always:return!1;case eu.BeforeDragging:return n;default:return!n}}}function W2(e,t){return Ru(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function kF(e,t){return W2(e,t)}function DF(e){let{callback:t,disabled:n}=e;const s=zx(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function _h(e){let{callback:t,disabled:n}=e;const s=zx(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function PF(e){return new Fx(Tl(e),e)}function m1(e,t,n){t===void 0&&(t=PF);const[s,i]=p.useState(null);function l(){i(f=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=f??n)!=null?m:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const u=DF({callback(f){if(e)for(const m of f){const{type:g,target:x}=m;if(g==="childList"&&x instanceof HTMLElement&&x.contains(e)){l();break}}}}),h=_h({callback:l});return Gs(()=>{l(),e?(h==null||h.observe(e),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(h==null||h.disconnect(),u==null||u.disconnect())},[e]),s}function LF(e){const t=W2(e);return U2(e,t)}const p1=[];function IF(e){const t=p.useRef(e),n=Ru(s=>e?s&&s!==p1&&e&&t.current&&e.parentNode===t.current.parentNode?s:Sh(e):p1,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function $F(e){const[t,n]=p.useState(null),s=p.useRef(e),i=p.useCallback(l=>{const u=pg(l.target);u&&n(h=>h?(h.set(u,dv(u)),new Map(h)):null)},[]);return p.useEffect(()=>{const l=s.current;if(e!==l){u(l);const h=e.map(f=>{const m=pg(f);return m?(m.addEventListener("scroll",i,{passive:!0}),[m,dv(m)]):null}).filter(f=>f!=null);n(h.length?new Map(h):null),s.current=e}return()=>{u(e),u(l)};function u(h){h.forEach(f=>{const m=pg(f);m==null||m.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,u)=>al(l,u),_s):Y2(e):_s,[e,t])}function g1(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const s=e!==_s;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Zc(e,n.current):_s}function zF(e){p.useEffect(()=>{if(!Nh)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function UF(e,t){return p.useMemo(()=>e.reduce((n,s)=>{let{eventName:i,handler:l}=s;return n[i]=u=>{l(u,t)},n},{}),[e,t])}function X2(e){return p.useMemo(()=>e?uF(e):null,[e])}const v1=[];function FF(e,t){t===void 0&&(t=Tl);const[n]=e,s=X2(n?Or(n):null),[i,l]=p.useState(v1);function u(){l(()=>e.length?e.map(f=>V2(f)?s:new Fx(t(f),f)):v1)}const h=_h({callback:u});return Gs(()=>{h==null||h.disconnect(),u(),e.forEach(f=>h==null?void 0:h.observe(f))},[e]),i}function BF(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Cu(t)?t:e}function HF(e){let{measure:t}=e;const[n,s]=p.useState(null),i=p.useCallback(m=>{for(const{target:g}of m)if(Cu(g)){s(x=>{const y=t(g);return x?{...x,width:y.width,height:y.height}:y});break}},[t]),l=_h({callback:i}),u=p.useCallback(m=>{const g=BF(m);l==null||l.disconnect(),g&&(l==null||l.observe(g)),s(g?t(g):null)},[t,l]),[h,f]=Of(u);return p.useMemo(()=>({nodeRef:h,rect:n,setRef:f}),[n,h,f])}const VF=[{sensor:Vx,options:{}},{sensor:Bx,options:{}}],qF={current:{}},hf={draggable:{measure:c1},droppable:{measure:c1,strategy:eu.WhileDragging,frequency:hv.Optimized},dragOverlay:{measure:Tl}};class Bc extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const YF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Af},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hf,measureDroppableContainers:Af,windowRect:null,measuringScheduled:!1},GF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Af,draggableNodes:new Map,over:null,measureDroppableContainers:Af},Eh=p.createContext(GF),K2=p.createContext(YF);function WF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bc}}}function XF(e,t){switch(t.type){case Fn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Fn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Fn.DragEnd:case Fn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fn.RegisterDroppable:{const{element:n}=t,{id:s}=n,i=new Bc(e.droppable.containers);return i.set(s,n),{...e,droppable:{...e.droppable,containers:i}}}case Fn.SetDroppableDisabled:{const{id:n,key:s,disabled:i}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const u=new Bc(e.droppable.containers);return u.set(n,{...l,disabled:i}),{...e,droppable:{...e.droppable,containers:u}}}case Fn.UnregisterDroppable:{const{id:n,key:s}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const l=new Bc(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function KF(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:i}=p.useContext(Eh),l=cv(s),u=cv(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!s&&l&&u!=null){if(!Ux(l)||document.activeElement===l.target)return;const h=i.get(u);if(!h)return;const{activatorNode:f,node:m}=h;if(!f.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[f.current,m.current]){if(!g)continue;const x=BU(g);if(x){x.focus();break}}})}},[s,t,i,u,l]),null}function QF(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((i,l)=>l({transform:i,...s}),n):n}function ZF(e){return p.useMemo(()=>({draggable:{...hf.draggable,...e==null?void 0:e.draggable},droppable:{...hf.droppable,...e==null?void 0:e.droppable},dragOverlay:{...hf.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function JF(e){let{activeNode:t,measure:n,initialRect:s,config:i=!0}=e;const l=p.useRef(!1),{x:u,y:h}=typeof i=="boolean"?{x:i,y:i}:i;Gs(()=>{if(!u&&!h||!t){l.current=!1;return}if(l.current||!s)return;const m=t==null?void 0:t.node.current;if(!m||m.isConnected===!1)return;const g=n(m),x=U2(g,s);if(u||(x.x=0),h||(x.y=0),l.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const y=F2(m);y&&y.scrollBy({top:x.y,left:x.x})}},[t,u,h,s,n])}const Q2=p.createContext({..._s,scaleX:1,scaleY:1});var ii;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ii||(ii={}));const eB=p.memo(function(t){var n,s,i,l;let{id:u,accessibility:h,autoScroll:f=!0,children:m,sensors:g=VF,collisionDetection:x=rF,measuring:y,modifiers:w,...j}=t;const N=p.useReducer(XF,void 0,WF),[S,_]=N,[E,C]=WU(),[M,R]=p.useState(ii.Uninitialized),A=M===ii.Initialized,{draggable:{active:k,nodes:L,translate:U},droppable:{containers:Y}}=S,oe=k!=null?L.get(k):null,Q=p.useRef({initial:null,translated:null}),$=p.useMemo(()=>{var tn;return k!=null?{id:k,data:(tn=oe==null?void 0:oe.data)!=null?tn:qF,rect:Q}:null},[k,oe]),ie=p.useRef(null),[le,I]=p.useState(null),[W,q]=p.useState(null),J=Qc(j,Object.values(j)),D=Tu("DndDescribedBy",u),F=p.useMemo(()=>Y.getEnabled(),[Y]),B=ZF(y),{droppableRects:H,measureDroppableContainers:P,measuringScheduled:z}=AF(F,{dragging:A,dependencies:[U.x,U.y],config:B.droppable}),V=MF(L,k),K=p.useMemo(()=>W?uv(W):null,[W]),re=Yr(),ge=kF(V,B.draggable.measure);JF({activeNode:k!=null?L.get(k):null,config:re.layoutShiftCompensation,initialRect:ge,measure:B.draggable.measure});const de=m1(V,B.draggable.measure,ge),Ne=m1(V?V.parentElement:null),Oe=p.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ot=Y.getNodeFor((n=Oe.current.over)==null?void 0:n.id),rt=HF({measure:B.dragOverlay.measure}),me=(s=rt.nodeRef.current)!=null?s:V,ve=A?(i=rt.rect)!=null?i:de:null,Pe=!!(rt.nodeRef.current&&rt.rect),ye=LF(Pe?null:de),Se=X2(me?Or(me):null),De=IF(A?ot??V:null),Qe=FF(De),Ve=QF(w,{transform:{x:U.x-ye.x,y:U.y-ye.y,scaleX:1,scaleY:1},activatorEvent:W,active:$,activeNodeRect:de,containerNodeRect:Ne,draggingNodeRect:ve,over:Oe.current.over,overlayNodeRect:rt.rect,scrollableAncestors:De,scrollableAncestorRects:Qe,windowRect:Se}),St=K?al(K,U):null,Rt=$F(De),Qt=g1(Rt),Fe=g1(Rt,[de]),it=al(Ve,Qt),on=ve?iF(ve,Ve):null,Bn=$&&on?x({active:$,collisionRect:on,droppableRects:H,droppableContainers:F,pointerCoordinates:St}):null,In=z2(Bn,"id"),[wn,pn]=p.useState(null),ln=Pe?Ve:al(Ve,Fe),Zt=sF(ln,(l=wn==null?void 0:wn.rect)!=null?l:null,de),ur=p.useRef(null),$n=p.useCallback((tn,ut)=>{let{sensor:te,options:xe}=ut;if(ie.current==null)return;const _e=L.get(ie.current);if(!_e)return;const Ae=tn.nativeEvent,Be=new te({active:ie.current,activeNode:_e,event:Ae,options:xe,context:Oe,onAbort(We){if(!L.get(We))return;const{onDragAbort:ft}=J.current,bt={id:We};ft==null||ft(bt),E({type:"onDragAbort",event:bt})},onPending(We,gt,ft,bt){if(!L.get(We))return;const{onDragPending:Bt}=J.current,sn={id:We,constraint:gt,initialCoordinates:ft,offset:bt};Bt==null||Bt(sn),E({type:"onDragPending",event:sn})},onStart(We){const gt=ie.current;if(gt==null)return;const ft=L.get(gt);if(!ft)return;const{onDragStart:bt}=J.current,It={activatorEvent:Ae,active:{id:gt,data:ft.data,rect:Q}};xs.unstable_batchedUpdates(()=>{bt==null||bt(It),R(ii.Initializing),_({type:Fn.DragStart,initialCoordinates:We,active:gt}),E({type:"onDragStart",event:It}),I(ur.current),q(Ae)})},onMove(We){_({type:Fn.DragMove,coordinates:We})},onEnd:dt(Fn.DragEnd),onCancel:dt(Fn.DragCancel)});ur.current=Be;function dt(We){return async function(){const{active:ft,collisions:bt,over:It,scrollAdjustedTranslate:Bt}=Oe.current;let sn=null;if(ft&&Bt){const{cancelDrop:Mn}=J.current;sn={activatorEvent:Ae,active:ft,collisions:bt,delta:Bt,over:It},We===Fn.DragEnd&&typeof Mn=="function"&&await Promise.resolve(Mn(sn))&&(We=Fn.DragCancel)}ie.current=null,xs.unstable_batchedUpdates(()=>{_({type:We}),R(ii.Uninitialized),pn(null),I(null),q(null),ur.current=null;const Mn=We===Fn.DragEnd?"onDragEnd":"onDragCancel";if(sn){const gn=J.current[Mn];gn==null||gn(sn),E({type:Mn,event:sn})}})}}},[L]),jn=p.useCallback((tn,ut)=>(te,xe)=>{const _e=te.nativeEvent,Ae=L.get(xe);if(ie.current!==null||!Ae||_e.dndKit||_e.defaultPrevented)return;const Be={active:Ae};tn(te,ut.options,Be)===!0&&(_e.dndKit={capturedBy:ut.sensor},ie.current=xe,$n(te,ut))},[L,$n]),Ar=OF(g,jn);zF(g),Gs(()=>{de&&M===ii.Initializing&&R(ii.Initialized)},[de,M]),p.useEffect(()=>{const{onDragMove:tn}=J.current,{active:ut,activatorEvent:te,collisions:xe,over:_e}=Oe.current;if(!ut||!te)return;const Ae={active:ut,activatorEvent:te,collisions:xe,delta:{x:it.x,y:it.y},over:_e};xs.unstable_batchedUpdates(()=>{tn==null||tn(Ae),E({type:"onDragMove",event:Ae})})},[it.x,it.y]),p.useEffect(()=>{const{active:tn,activatorEvent:ut,collisions:te,droppableContainers:xe,scrollAdjustedTranslate:_e}=Oe.current;if(!tn||ie.current==null||!ut||!_e)return;const{onDragOver:Ae}=J.current,Be=xe.get(In),dt=Be&&Be.rect.current?{id:Be.id,rect:Be.rect.current,data:Be.data,disabled:Be.disabled}:null,We={active:tn,activatorEvent:ut,collisions:te,delta:{x:_e.x,y:_e.y},over:dt};xs.unstable_batchedUpdates(()=>{pn(dt),Ae==null||Ae(We),E({type:"onDragOver",event:We})})},[In]),Gs(()=>{Oe.current={activatorEvent:W,active:$,activeNode:V,collisionRect:on,collisions:Bn,droppableRects:H,draggableNodes:L,draggingNode:me,draggingNodeRect:ve,droppableContainers:Y,over:wn,scrollableAncestors:De,scrollAdjustedTranslate:it},Q.current={initial:ve,translated:on}},[$,V,Bn,on,L,me,ve,H,Y,wn,De,it]),CF({...re,delta:U,draggingRect:on,pointerCoordinates:St,scrollableAncestors:De,scrollableAncestorRects:Qe});const Tn=p.useMemo(()=>({active:$,activeNode:V,activeNodeRect:de,activatorEvent:W,collisions:Bn,containerNodeRect:Ne,dragOverlay:rt,draggableNodes:L,droppableContainers:Y,droppableRects:H,over:wn,measureDroppableContainers:P,scrollableAncestors:De,scrollableAncestorRects:Qe,measuringConfiguration:B,measuringScheduled:z,windowRect:Se}),[$,V,de,W,Bn,Ne,rt,L,Y,H,wn,P,De,Qe,B,z,Se]),Xs=p.useMemo(()=>({activatorEvent:W,activators:Ar,active:$,activeNodeRect:de,ariaDescribedById:{draggable:D},dispatch:_,draggableNodes:L,over:wn,measureDroppableContainers:P}),[W,Ar,$,de,_,D,L,wn,P]);return we.createElement(L2.Provider,{value:C},we.createElement(Eh.Provider,{value:Xs},we.createElement(K2.Provider,{value:Tn},we.createElement(Q2.Provider,{value:Zt},m)),we.createElement(KF,{disabled:(h==null?void 0:h.restoreFocus)===!1})),we.createElement(QU,{...h,hiddenTextDescribedById:D}));function Yr(){const tn=(le==null?void 0:le.autoScrollEnabled)===!1,ut=typeof f=="object"?f.enabled===!1:f===!1,te=A&&!tn&&!ut;return typeof f=="object"?{...f,enabled:te}:{enabled:te}}}),tB=p.createContext(null),x1="button",nB="Draggable";function rB(e){let{id:t,data:n,disabled:s=!1,attributes:i}=e;const l=Tu(nB),{activators:u,activatorEvent:h,active:f,activeNodeRect:m,ariaDescribedById:g,draggableNodes:x,over:y}=p.useContext(Eh),{role:w=x1,roleDescription:j="draggable",tabIndex:N=0}=i??{},S=(f==null?void 0:f.id)===t,_=p.useContext(S?Q2:tB),[E,C]=Of(),[M,R]=Of(),A=UF(u,t),k=Qc(n);Gs(()=>(x.set(t,{id:t,key:l,node:E,activatorNode:M,data:k}),()=>{const U=x.get(t);U&&U.key===l&&x.delete(t)}),[x,t]);const L=p.useMemo(()=>({role:w,tabIndex:N,"aria-disabled":s,"aria-pressed":S&&w===x1?!0:void 0,"aria-roledescription":j,"aria-describedby":g.draggable}),[s,w,N,S,j,g.draggable]);return{active:f,activatorEvent:h,activeNodeRect:m,attributes:L,isDragging:S,listeners:s?void 0:A,node:E,over:y,setNodeRef:C,setActivatorNodeRef:R,transform:_}}function sB(){return p.useContext(K2)}const aB="Droppable",iB={timeout:25};function oB(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:i}=e;const l=Tu(aB),{active:u,dispatch:h,over:f,measureDroppableContainers:m}=p.useContext(Eh),g=p.useRef({disabled:n}),x=p.useRef(!1),y=p.useRef(null),w=p.useRef(null),{disabled:j,updateMeasurementsFor:N,timeout:S}={...iB,...i},_=Qc(N??s),E=p.useCallback(()=>{if(!x.current){x.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(_.current)?_.current:[_.current]),w.current=null},S)},[S]),C=_h({callback:E,disabled:j||!u}),M=p.useCallback((L,U)=>{C&&(U&&(C.unobserve(U),x.current=!1),L&&C.observe(L))},[C]),[R,A]=Of(M),k=Qc(t);return p.useEffect(()=>{!C||!R.current||(C.disconnect(),x.current=!1,C.observe(R.current))},[R,C]),p.useEffect(()=>(h({type:Fn.RegisterDroppable,element:{id:s,key:l,disabled:n,node:R,rect:y,data:k}}),()=>h({type:Fn.UnregisterDroppable,key:l,id:s})),[s]),p.useEffect(()=>{n!==g.current.disabled&&(h({type:Fn.SetDroppableDisabled,id:s,key:l,disabled:n}),g.current.disabled=n)},[s,l,n,h]),{active:u,rect:y,isOver:(f==null?void 0:f.id)===s,node:R,over:f,setNodeRef:A}}function qx(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function lB(e,t){return e.reduce((n,s,i)=>{const l=t.get(s);return l&&(n[i]=l),n},Array(e.length))}function Zd(e){return e!==null&&e>=0}function cB(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function uB(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Jd={scaleX:1,scaleY:1},dB=e=>{var t;let{rects:n,activeNodeRect:s,activeIndex:i,overIndex:l,index:u}=e;const h=(t=n[i])!=null?t:s;if(!h)return null;const f=fB(n,u,i);if(u===i){const m=n[l];return m?{x:i<l?m.left+m.width-(h.left+h.width):m.left-h.left,y:0,...Jd}:null}return u>i&&u<=l?{x:-h.width-f,y:0,...Jd}:u<i&&u>=l?{x:h.width+f,y:0,...Jd}:{x:0,y:0,...Jd}};function fB(e,t,n){const s=e[t],i=e[t-1],l=e[t+1];return!s||!i&&!l?0:n<t?i?s.left-(i.left+i.width):l.left-(s.left+s.width):l?l.left-(s.left+s.width):s.left-(i.left+i.width)}const Z2=e=>{let{rects:t,activeIndex:n,overIndex:s,index:i}=e;const l=qx(t,s,n),u=t[i],h=l[i];return!h||!u?null:{x:h.left-u.left,y:h.top-u.top,scaleX:h.width/u.width,scaleY:h.height/u.height}},J2="Sortable",eC=we.createContext({activeIndex:-1,containerId:J2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Z2,disabled:{draggable:!1,droppable:!1}});function hB(e){let{children:t,id:n,items:s,strategy:i=Z2,disabled:l=!1}=e;const{active:u,dragOverlay:h,droppableRects:f,over:m,measureDroppableContainers:g}=sB(),x=Tu(J2,n),y=h.rect!==null,w=p.useMemo(()=>s.map(A=>typeof A=="object"&&"id"in A?A.id:A),[s]),j=u!=null,N=u?w.indexOf(u.id):-1,S=m?w.indexOf(m.id):-1,_=p.useRef(w),E=!cB(w,_.current),C=S!==-1&&N===-1||E,M=uB(l);Gs(()=>{E&&j&&g(w)},[E,w,j,g]),p.useEffect(()=>{_.current=w},[w]);const R=p.useMemo(()=>({activeIndex:N,containerId:x,disabled:M,disableTransforms:C,items:w,overIndex:S,useDragOverlay:y,sortedRects:lB(w,f),strategy:i}),[N,x,M.draggable,M.droppable,C,w,S,f,y,i]);return we.createElement(eC.Provider,{value:R},t)}const mB=e=>{let{id:t,items:n,activeIndex:s,overIndex:i}=e;return qx(n,s,i).indexOf(t)},pB=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:i,items:l,newIndex:u,previousItems:h,previousContainerId:f,transition:m}=e;return!m||!s||h!==l&&i===u?!1:n?!0:u!==i&&t===f},gB={duration:200,easing:"ease"},tC="transform",vB=Jc.Transition.toString({property:tC,duration:0,easing:"linear"}),xB={roleDescription:"sortable"};function bB(e){let{disabled:t,index:n,node:s,rect:i}=e;const[l,u]=p.useState(null),h=p.useRef(n);return Gs(()=>{if(!t&&n!==h.current&&s.current){const f=i.current;if(f){const m=Tl(s.current,{ignoreTransform:!0}),g={x:f.left-m.left,y:f.top-m.top,scaleX:f.width/m.width,scaleY:f.height/m.height};(g.x||g.y)&&u(g)}}n!==h.current&&(h.current=n)},[t,n,s,i]),p.useEffect(()=>{l&&u(null)},[l]),l}function yB(e){let{animateLayoutChanges:t=pB,attributes:n,disabled:s,data:i,getNewIndex:l=mB,id:u,strategy:h,resizeObserverConfig:f,transition:m=gB}=e;const{items:g,containerId:x,activeIndex:y,disabled:w,disableTransforms:j,sortedRects:N,overIndex:S,useDragOverlay:_,strategy:E}=p.useContext(eC),C=wB(s,w),M=g.indexOf(u),R=p.useMemo(()=>({sortable:{containerId:x,index:M,items:g},...i}),[x,i,M,g]),A=p.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:k,node:L,isOver:U,setNodeRef:Y}=oB({id:u,data:R,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...f}}),{active:oe,activatorEvent:Q,activeNodeRect:$,attributes:ie,setNodeRef:le,listeners:I,isDragging:W,over:q,setActivatorNodeRef:J,transform:D}=rB({id:u,data:R,attributes:{...xB,...n},disabled:C.draggable}),F=$U(Y,le),B=!!oe,H=B&&!j&&Zd(y)&&Zd(S),P=!_&&W,z=P&&H?D:null,K=H?z??(h??E)({rects:N,activeNodeRect:$,activeIndex:y,overIndex:S,index:M}):null,re=Zd(y)&&Zd(S)?l({id:u,items:g,activeIndex:y,overIndex:S}):M,ge=oe==null?void 0:oe.id,de=p.useRef({activeId:ge,items:g,newIndex:re,containerId:x}),Ne=g!==de.current.items,Oe=t({active:oe,containerId:x,isDragging:W,isSorting:B,id:u,index:M,items:g,newIndex:de.current.newIndex,previousItems:de.current.items,previousContainerId:de.current.containerId,transition:m,wasDragging:de.current.activeId!=null}),ot=bB({disabled:!Oe,index:M,node:L,rect:k});return p.useEffect(()=>{B&&de.current.newIndex!==re&&(de.current.newIndex=re),x!==de.current.containerId&&(de.current.containerId=x),g!==de.current.items&&(de.current.items=g)},[B,re,x,g]),p.useEffect(()=>{if(ge===de.current.activeId)return;if(ge!=null&&de.current.activeId==null){de.current.activeId=ge;return}const me=setTimeout(()=>{de.current.activeId=ge},50);return()=>clearTimeout(me)},[ge]),{active:oe,activeIndex:y,attributes:ie,data:R,rect:k,index:M,newIndex:re,items:g,isOver:U,isSorting:B,isDragging:W,listeners:I,node:L,overIndex:S,over:q,setNodeRef:F,setActivatorNodeRef:J,setDroppableNodeRef:Y,setDraggableNodeRef:le,transform:ot??K,transition:rt()};function rt(){if(ot||Ne&&de.current.newIndex===M)return vB;if(!(P&&!Ux(Q)||!m)&&(B||Oe))return Jc.Transition.toString({...m,property:tC})}}function wB(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function Df(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const jB=[Mt.Down,Mt.Right,Mt.Up,Mt.Left],NB=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:i,droppableContainers:l,over:u,scrollableAncestors:h}}=t;if(jB.includes(e.code)){if(e.preventDefault(),!n||!s)return;const f=[];l.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const y=i.get(x.id);if(y)switch(e.code){case Mt.Down:s.top<y.top&&f.push(x);break;case Mt.Up:s.top>y.top&&f.push(x);break;case Mt.Left:s.left>y.left&&f.push(x);break;case Mt.Right:s.left<y.left&&f.push(x);break}});const m=tF({collisionRect:s,droppableRects:i,droppableContainers:f});let g=z2(m,"id");if(g===(u==null?void 0:u.id)&&m.length>1&&(g=m[1].id),g!=null){const x=l.get(n.id),y=l.get(g),w=y?i.get(y.id):null,j=y==null?void 0:y.node.current;if(j&&w&&x&&y){const S=Sh(j).some((A,k)=>h[k]!==A),_=nC(x,y),E=SB(x,y),C=S||!_?{x:0,y:0}:{x:E?s.width-w.width:0,y:E?s.height-w.height:0},M={x:w.left,y:w.top};return C.x&&C.y?M:Zc(M,C)}}}};function nC(e,t){return!Df(e)||!Df(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function SB(e,t){return!Df(e)||!Df(t)||!nC(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function _B(e){const t=new Date(e);return{day:t.getDate().toString().padStart(2,"0"),month:(t.getMonth()+1).toString().padStart(2,"0"),year:t.getFullYear().toString()}}function Ml({date:e}){const[t,n]=p.useState(!1),[s,i]=p.useState(_B(e)),l=p.useRef(null);let u;const h=()=>n(!0),f=w=>{const{name:j,value:N}=w.target;i(S=>({...S,[j]:N.replace(/\D/g,"")}))},m=w=>{w.key==="Enter"&&n(!1)},g=()=>{u=setTimeout(()=>n(!1),0)},x=()=>{u&&clearTimeout(u)},y=`${s.year}-${s.month}-${s.day}`;return r.jsxs("div",{className:"flex items-center justify-between  font-bold",children:[r.jsxs("p",{children:["Bamako, le"," ",t?r.jsxs("span",{ref:l,tabIndex:-1,onBlur:g,onFocus:x,children:[r.jsx("input",{type:"text",name:"day",value:s.day,onChange:f,onKeyDown:m,maxLength:2,size:2,className:"border-b border-gray-400 focus:outline-none bg-transparent w-6 text-center mx-0.5",autoFocus:!0}),"/",r.jsx("input",{type:"text",name:"month",value:s.month,onChange:f,onKeyDown:m,maxLength:2,size:2,className:"border-b border-gray-400 focus:outline-none bg-transparent w-6 text-center mx-0.5"}),"/",r.jsx("input",{type:"text",name:"year",value:s.year,onChange:f,onKeyDown:m,maxLength:4,size:4,className:"border-b border-gray-400 focus:outline-none bg-transparent w-10 text-center mx-0.5"})]}):r.jsx("span",{onClick:h,style:{cursor:"pointer"},title:"Click to edit date",children:ct(new Date(y),"dd/MM/yyyy")})]}),r.jsx("p",{children:"Le Biologiste"})]})}const EB=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],CB="template1",RB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},TB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},MB=()=>{const{resultId:e}=br(),t=cr(),[n,s]=p.useState(null),[i,l]=p.useState(null),[u,h]=p.useState(null),[f,m]=p.useState([]),[g,x]=p.useState(!0),[y,w]=p.useState(!1),[j,N]=p.useState(null),[S,_]=p.useState(null),[E,C]=p.useState(null),[M,R]=p.useState(!0),A=p.useRef(null),k=ZU(i1(Vx),i1(Bx,{coordinateGetter:NB})),[L,U]=p.useState({}),[Y,oe]=p.useState({}),[Q,$]=p.useState(""),[ie,le]=p.useState(!1),[I,W]=p.useState(!1),[q,J]=p.useState(""),[D,F]=p.useState(""),[B,H]=p.useState(!1),[P,z]=p.useState(null),[V,K]=p.useState([]);p.useEffect(()=>{(async()=>{const{data:xe,error:_e}=await se.from("skip_range_check").select("value, type");!_e&&xe&&K(xe)})()},[]);const[re,ge]=p.useState(5),[de,Ne]=p.useState(40),[Oe,ot]=p.useState(15),[rt,me]=p.useState(10),[ve,Pe]=p.useState(35);p.useEffect(()=>{async function te(){const{data:xe,error:_e}=await se.from("result_column_widths").select("*").order("updated_at",{ascending:!1}).limit(1).single();xe&&(Ne(xe.param_width),ot(xe.value_width),me(xe.unit_width),Pe(xe.ref_width))}te()},[]);const[ye,Se]=p.useState([]),[De,Qe]=p.useState([]),[Ve,St]=p.useState([]),[Rt,Qt]=p.useState([]),[Fe,it]=p.useState([]);p.useEffect(()=>{f.length>0&&Se(te=>{if(te.length===0)return f.map(_e=>_e.category.id);const xe=new Set(te);return f.forEach(_e=>xe.add(_e.category.id)),Array.from(xe)})},[f]),p.useEffect(()=>{f.length>0&&Qt(te=>{if(te.length===0)return f.map(_e=>_e.category.id);const xe=new Set(te);return f.forEach(_e=>xe.add(_e.category.id)),Array.from(xe)}),console.log("categoriesUnitToShow:",Rt)},[f]),p.useEffect(()=>{f.length>0&&it(te=>{if(te.length===0)return f.map(_e=>_e.category.id);const xe=new Set(te);return f.forEach(_e=>xe.add(_e.category.id)),Array.from(xe)}),console.log("categoriesRefToShow:",Fe)},[f]);const on=te=>{Qt(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])},Bn=te=>{it(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])},In=te=>{Se(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])};p.useEffect(()=>{if(f.length>0){console.log("groupedResults:",f);const te=f.flatMap(xe=>xe.testTypes.flatMap(_e=>_e.parameters.map(Ae=>Ae.id)));console.log("parametersIds:",te)}},[f]);const wn=te=>{Qe(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])};p.useEffect(()=>{if(f.length>0){const te=f.flatMap(xe=>xe.category.id);console.log("testTypesIds:",te),St(te)}console.log("testTypesToPrint:",Ve)},[f]);const pn=te=>{St(xe=>xe.includes(te)?xe.filter(_e=>_e!==te):[...xe,te])},ln=p.useMemo(()=>{var xe;const te=(E==null?void 0:E.selected_template)||CB;return((xe=EB.find(_e=>_e.id===te))==null?void 0:xe.component)||Qn},[E]),Zt=p.useMemo(()=>({logoUrl:(E==null?void 0:E.logo_url)||null,labName:E==null?void 0:E.lab_name,addressLine1:E==null?void 0:E.address_line1,addressLine2:E==null?void 0:E.address_line2,cityPostalCode:E==null?void 0:E.city_postal_code,phone:E==null?void 0:E.phone,email:E==null?void 0:E.email,website:E==null?void 0:E.website}),[E]),ur=p.useCallback(async()=>{if(!e){N("ID du résultat manquant."),x(!1);return}x(!0),N(null),_(null),s(null),l(null),h(null),m([]),C(null);try{const{data:te,error:xe}=await se.from("patient_result").select("*").eq("id",e).single();if(xe)throw xe;if(!te)throw new Error("Résultat non trouvé.");s(te);const[_e,Ae,Be]=await Promise.all([se.from("patient").select("*").eq("id",te.patient_id).single(),se.from("doctor").select("*").eq("id",te.doctor_id).single(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);_e.error&&console.warn("Erreur chargement patient:",_e.error.message),Ae.error&&console.warn("Erreur chargement médecin:",Ae.error.message),l(_e.data),h(Ae.data),Be.error&&console.warn("Erreur chargement config en-tête:",Be.error.message),C(Be.data),R(!1);const{data:dt,error:We}=await se.from("result_value").select(`
                    value,
                    test_parameter: test_parameter_id (
                        *,
                        test_type: test_type_id (
                            *,
                            category: category_id (id, name)
                        )
                    )
                `).eq("patient_result_id",e);if(We)throw We;const gt=new Map;(dt||[]).forEach(bt=>{const It=bt.test_parameter;if(It&&It.test_type&&It.test_type.category){const Bt=It.test_type.category.id,sn=It.test_type.category.name,Mn=It.test_type.id,gn=It.test_type.name;gt.has(Bt)||gt.set(Bt,{category:{...It.test_type.category,created_at:"",updated_at:""},testTypes:[]});const On=gt.get(Bt);let fe=On.testTypes.find(Ee=>Ee.testType.id===Mn);fe||(fe={testType:{...It.test_type,category_id:Bt,category:null},parameters:[]},On.testTypes.push(fe)),fe.parameters.push({...It,resultValue:bt.value,test_type:null})}else console.warn("Données de paramètre/type/catégorie manquantes pour une valeur:",bt)}),gt.forEach(bt=>{bt.testTypes.forEach(It=>{It.parameters.sort((Bt,sn)=>Bt.order!==sn.order?Bt.order-sn.order:Bt.name.localeCompare(sn.name))}),bt.testTypes.sort((It,Bt)=>It.testType.name.localeCompare(Bt.testType.name))});const ft=Array.from(gt.values()).sort((bt,It)=>bt.category.name.localeCompare(It.category.name));m(ft)}catch(te){console.error("Erreur chargement détails du résultat:",te),N(te.message||"Une erreur est survenue lors du chargement du résultat.")}finally{x(!1)}},[e]);p.useEffect(()=>{ur()},[ur]),p.useEffect(()=>{n!=null&&n.description&&$(n.description)},[n]),p.useEffect(()=>{J((n==null?void 0:n.normal_price)!=null?String(n.normal_price):""),F((n==null?void 0:n.insurance_price)!=null?String(n.insurance_price):"")},[n]);const $n=p.useCallback(async te=>{if(e){le(!0);try{const{error:xe}=await se.from("patient_result").update({description:te}).eq("id",e);if(xe)throw xe}catch(xe){console.error("Error saving description:",xe)}finally{le(!1)}}},[e]);p.useEffect(()=>{const te=setTimeout(()=>{Q!==(n==null?void 0:n.description)&&$n(Q)},1e3);return()=>clearTimeout(te)},[Q,n==null?void 0:n.description,$n]),p.useEffect(()=>{console.log("Grouped results: ",f)},[f]);const jn=p.useCallback(async()=>{H(!0),z(null);try{const te=q!==""?Number(q):null,xe=D!==""?Number(D):null;if(q!==""&&isNaN(te)||D!==""&&isNaN(xe)){z("Les prix doivent être des nombres valides."),H(!1);return}const{error:_e,data:Ae}=await se.from("patient_result").update({normal_price:te,insurance_price:xe}).eq("id",n.id).select().single();if(_e)throw _e;s(Be=>Be&&{...Be,normal_price:te,insurance_price:xe}),W(!1)}catch(te){z(te.message||"Erreur lors de la sauvegarde des prix.")}finally{H(!1)}},[n,q,D]),Ar=async te=>{if(!(!n||te===n.status)){w(!0),_(null);try{const{data:xe,error:_e}=await se.from("patient_result").update({status:te}).eq("id",n.id).select().single();if(_e)throw _e;s(xe||(Ae=>Ae?{...Ae,status:te}:null))}catch(xe){console.error("Erreur mise à jour statut:",xe),_(xe.message||"Impossible de mettre à jour le statut.")}finally{w(!1)}}},Tn=()=>{window.print()},Xs=te=>{const{active:xe,over:_e}=te;_e&&xe.id!==_e.id&&m(Ae=>{const Be=Ae.findIndex(We=>We.category.id===xe.id),dt=Ae.findIndex(We=>We.category.id===_e.id);return Be===-1||dt===-1?Ae:qx(Ae,Be,dt)})},Yr=(te,xe)=>{U(_e=>({..._e,[te]:xe}))},tn=te=>{oe(xe=>{const _e=xe[te],Ae={...xe};let Be="indeterminate";for(const dt of f){for(const We of dt.testTypes){const gt=We.parameters.find(ft=>ft.id===te);if(gt){Be=s1(gt.resultValue,gt.reference_range,dt.category.name,We.testType.name,V.map(({value:ft})=>ft));break}}if(Be!=="indeterminate")break}return _e===void 0?Ae[te]="off":_e==="off"?Ae[te]="on":_e==="on"?Ae[te]="warn":delete Ae[te],Ae})},ut=(te,xe,_e,Ae)=>{const Be=te;return r.jsxs("div",{className:Me("flex items-start space-x-3",Ae),children:[r.jsx(Be,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:xe}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:_e||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})};return g||M?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):j?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:n!=null&&n.patient_id?`/patients/${n.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[j," ",r.jsx(ne,{variant:"link",onClick:ur,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):n?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:i?`/patients/${i.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",i?`à ${i.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(st,{to:`/results/${e}/edit`,children:r.jsxs(ne,{variant:"secondary",size:"sm",children:[r.jsx(cs,{className:"mr-2 h-4 w-4"})," Modifier"]})}),r.jsxs(ne,{variant:"outline",size:"sm",onClick:Tn,disabled:g,children:[r.jsx(lh,{className:"mr-2 h-4 w-4"})," Imprimer"]}),r.jsxs(ne,{variant:"outline",size:"sm",disabled:!0,children:[r.jsx(sL,{className:"mr-2 h-4 w-4"})," Télécharger"]})]})]}),r.jsxs("div",{ref:A,className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[E?r.jsx("div",{className:"mb-6 print:mb-4",children:r.jsx(ln,{data:Zt,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):r.jsxs(Dt,{variant:"default",className:"mb-6 print:hidden",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"En-tête Manquant"}),r.jsxs(Lt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",r.jsx(st,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),r.jsx(os,{className:"my-4 print:hidden"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ut(Ge,"NOM PRENOM",i==null?void 0:i.full_name),ut(Ge,"IDENTIFIANT Unique",i==null?void 0:i.patient_unique_id),ut(hn,"Date Naissance",i!=null&&i.date_of_birth?ct(Kt(i.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:ut(hn,"Date Résultat",n.result_date?ct(Kt(n.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ut(qt,"NOM PRENOM",u==null?void 0:u.full_name),ut(yn,"Téléphone",u==null?void 0:u.phone),ut(Ge,"Provenance",u==null?void 0:u.hospital)]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ut(hn,"Date Résultat",n.result_date?ct(Kt(n.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),I?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:q,onChange:te=>J(te.target.value),disabled:B}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:q,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),I?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:D,onChange:te=>F(te.target.value),disabled:B}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:D,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:I?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:jn,disabled:B,children:[B?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>W(!1),disabled:B,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>W(!0),children:"Modifier Prix"})}),P&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:P})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:n.status??"",onValueChange:te=>Ar(te),disabled:y,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zL,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),y&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),S&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:S}),r.jsx(us,{variant:RB(n.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:TB(n.status)})]})]})]})]})]}),r.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 hidden print:grid",children:[r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(qt,{className:"h-4 w-4"})," Patient"]}),ut(Ge,"NOM PRENOM",i==null?void 0:i.full_name),ut(Ge,"ID Unique",i==null?void 0:i.patient_unique_id),ut(yn,"Téléphone",i==null?void 0:i.phone)]}),r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(ar,{className:"h-4 w-4"})," Médecin"]}),ut(qt,"NOM PRENOM",u==null?void 0:u.full_name),ut(yn,"Téléphone",u==null?void 0:u.phone),ut(Ge,"Provenance",u==null?void 0:u.hospital)]})]}),f.length>1&&r.jsxs("div",{className:"my-6 print:hidden",children:[r.jsx(Ie,{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Réorganiser les Catégories (Glisser-Déposer) :"}),r.jsx(eB,{sensors:k,collisionDetection:eF,onDragEnd:Xs,children:r.jsx(hB,{items:f.map(te=>te.category.id),strategy:dB,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(te=>r.jsx(OB,{category:te.category},te.category.id))})})}),r.jsx(os,{className:"mt-6"})]}),r.jsxs("div",{className:"flex gap-4 mb-2 print:hidden items-end",children:[r.jsxs("div",{className:"flex flex-col text-xs",children:[r.jsx("label",{htmlFor:"paramWidth",children:"Paramètre (%)"}),r.jsx("input",{id:"paramWidth",type:"number",min:5,max:80,value:de,onChange:te=>Ne(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),r.jsxs("div",{className:"flex flex-col text-xs",children:[r.jsx("label",{htmlFor:"valueWidth",children:"Valeur (%)"}),r.jsx("input",{id:"valueWidth",type:"number",min:5,max:80,value:Oe,onChange:te=>ot(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),r.jsxs("div",{className:"flex flex-col text-xs",children:[r.jsx("label",{htmlFor:"unitWidth",children:"Unité (%)"}),r.jsx("input",{id:"unitWidth",type:"number",min:5,max:80,value:rt,onChange:te=>me(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),r.jsxs("div",{className:"flex flex-col text-xs",children:[r.jsx("label",{htmlFor:"refWidth",children:"Réf. (%)"}),r.jsx("input",{id:"refWidth",type:"number",min:5,max:80,value:ve,onChange:te=>Pe(Number(te.target.value)),className:"border px-2 py-1 w-16 rounded"})]})]}),r.jsx("div",{className:"space-y-8 print:space-y-4",children:f.map(te=>{const xe=L[te.category.id]??!1,_e=ye.includes(te.category.id);return r.jsxs("div",{className:Me(xe&&"print-force-break-before",!_e&&"print:hidden"),children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3 print:mb-2",children:[" ",r.jsxs("h2",{className:"text-xl font-bold uppercase mx-auto tracking-tight  print:text-center",children:[" ",te.category.name]}),r.jsx(os,{className:"flex-1 print:hidden"}),r.jsxs("div",{className:"flex items-center space-x-2 ml-auto print:hidden pl-4",children:[r.jsx(va,{id:`break-${te.category.id}`,checked:xe,onCheckedChange:Ae=>{const Be=Ae===!0;Yr(te.category.id,Be)},"aria-label":"Forcer saut de page avant"}),r.jsxs(Ie,{htmlFor:`break-${te.category.id}`,className:"text-xs font-medium text-muted-foreground cursor-pointer flex items-center gap-1",title:"Forcer un saut de page avant cette catégorie à l'impression",children:[r.jsx(z3,{className:"h-3.5 w-3.5"})," Saut Page Avant"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-auto print:hidden pl-4",children:[r.jsx(va,{id:`print-${te.category.id}`,checked:ye.includes(te.category.id),onCheckedChange:Ae=>{In(te.category.id)},"aria-label":"Inclure dans l'impression"}),r.jsx(Ie,{htmlFor:`print-${te.category.id}`,className:"text-xs font-medium text-muted-foreground cursor-pointer flex items-center gap-1",title:"Inclure cette catégorie dans l'impression",children:"Imprimer"})]})]}),r.jsxs(Sa,{className:"print:text-xs",children:[r.jsx(_a,{className:"bg-muted/10 print:bg-gray-300 text-black",children:r.jsxs(en,{children:[r.jsx(xt,{style:{width:`${de}%`},className:"pl-4 print:pl-1",children:"Paramètre"}),r.jsx(xt,{style:{width:`${Oe}%`},className:Me("pl-2 print:pl-1",Rt.includes(te.category.id)&&Fe.includes(te.category.id)?"":"do-something"),children:"Valeur"}),r.jsx(xt,{style:{width:`${rt}%`},className:"pl-2 print:pl-1 cursor-pointer",onClick:()=>{on(te.category.id)},children:Rt.includes(te.category.id)?"Unité":""}),r.jsx(xt,{style:{width:`${ve}%`},className:"pr-4 print:pr-1 cursor-pointer",onClick:()=>{Bn(te.category.id)},children:Fe.includes(te.category.id)?"Réf.":""})]})}),r.jsxs(Ea,{children:[te.testTypes.length===0&&r.jsx(en,{children:r.jsx(et,{colSpan:4,className:"h-10 text-center text-xs italic text-muted-foreground",children:"(Aucun type de test dans cette catégorie)"})}),te.testTypes.map(Ae=>r.jsxs(we.Fragment,{children:[Ae.parameters.length>1&&r.jsx(en,{className:Me("bg-muted/50 print:bg-gray-100  print:break-inside-avoid",Ve.includes(Ae.testType.id)&&"!bg-red-400 print:hidden"),children:r.jsx(et,{colSpan:4,className:"py-1.5 px-4 print:px-1 font-semibold text-sm print:text-xs text-foreground print:text-black cursor-pointer",onClick:()=>pn(Ae.testType.id),children:Ae.testType.name})}),Ae.parameters.length>0?r.jsxs(r.Fragment,{children:[Ae.parameters.map(Be=>{var It,Bt;const dt=s1(Be.resultValue,Be.reference_range,te.category.name,Ae.testType.name,V.map(({value:sn})=>sn)),We=Y[Be.id];let gt="",ft="";We==="on"?(gt="result-out-of-range",ft="font-bold text-red-700 dark:text-red-400 print:text-red-700"):We==="off"?gt="":We==="warn"?gt="result-indeterminate-range":dt==="out-of-range"?(gt="result-out-of-range",ft="font-bold text-red-700 dark:text-red-400 print:text-red-700"):dt==="indeterminate"?gt="result-indeterminate-range":gt="";const bt=Ae.parameters.length===1;return r.jsxs(en,{className:Me("print:even:bg-white print:break-inside-avoid  ",De.length>0&&De.includes(Be.id)?"print:hidden":""),children:[r.jsx(et,{style:{width:`${de}%`},className:Me("font-medium text-black pl-6 print:pl-2 cursor-pointer",De.includes(Be.id)?" bg-red-400":""),dangerouslySetInnerHTML:{__html:bt?`<span style="font-weight: 600; color: black; display:inline-block; margin-left: -5px">${Be.name}</span>`:Be.name},onClick:()=>wn(Be.id)}),r.jsx(et,{style:{width:`${Oe}%`},className:Me("pl-2 print:pl-1 cursor-pointer hover:bg-muted/50","cursor-pointer hover:bg-black/5 dark:hover:bg-white/5",ft,gt==="result-indeterminate-range"&&gt),onClick:()=>tn(Be.id),title:"Cliquer pour changer le surlignage",children:r.jsx("p",{className:` inline-block px-2 mx-auto ${gt}`,children:Be.resultValue})}),r.jsx(et,{style:{width:`${rt}%`},className:"pl-2 print:pl-1 text-black",dangerouslySetInnerHTML:{__html:Be.unit||"-"}}),r.jsxs(et,{style:{width:`${ve}%`},className:"text-black pr-4 print:pr-1 !whitespace-pre-line",children:[!Be.reference_range&&"-",Be.reference_range==="NEGATIF"&&"-",((It=Be.reference_range)==null?void 0:It.includes("style"))&&r.jsx("div",{dangerouslySetInnerHTML:{__html:Be.reference_range}}),Be.reference_range!=="NEGATIF"&&!((Bt=Be.reference_range)!=null&&Bt.includes("style"))&&Be.reference_range&&Be.reference_range.split(";").map((sn,Mn)=>r.jsx("div",{children:sn},Mn))]})]},Be.id)}),Ae.testType.description&&r.jsx(en,{children:r.jsx(et,{colSpan:4,className:"py-2 px-6 print:px-2 text-sm print:text-xs",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:Ae.testType.description}})})})]}):r.jsx(r.Fragment,{})]},Ae.testType.id)),te.testTypes.length>0&&te.testTypes.every(Ae=>Ae.parameters.length===0)&&r.jsx(en,{children:r.jsx(et,{colSpan:4,className:"h-10 text-center text-xs italic text-muted-foreground",children:"(Aucun paramètre défini pour les tests de cette catégorie)"})})]})]})]},te.category.id)})}),r.jsxs(Ce,{className:"mt-8 print:hidden",children:[r.jsx(Te,{className:"pb-2",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2",children:[r.jsx(ls,{className:"h-4 w-4"}),"Description du résultat"]})}),r.jsx(Re,{children:r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:Q,onChange:te=>$(te.target.value),className:"w-full min-h-[100px] p-2 border rounded-md resize-y",placeholder:"Entrez une description pour ce résultat..."}),ie&&r.jsx("div",{className:"absolute right-2 top-2",children:r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]})})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-2 print:hidden",children:[r.jsx("label",{htmlFor:"marginTopControl",className:"text-xs",children:"Décalage vertical (mt):"}),r.jsx("input",{id:"marginTopControl",type:"number",min:0,max:20,value:re,onChange:te=>ge(Number(te.target.value)),className:"border px-2 py-1 text-xs w-16 rounded"})]}),r.jsxs("div",{className:"text-sm text-black print:block print:mt-4",style:{marginTop:`${re*.25}rem`},children:[r.jsx("div",{className:"font-bold",children:Q.split(`
`).map((te,xe)=>r.jsx("div",{children:te},xe))}),r.jsx("div",{className:"mt-4",children:r.jsx(Ml,{date:n.result_date})}),r.jsxs("div",{className:"mt-[200px] flex flex-wrap flex-row items-center space-x-2 print:hidden",children:[r.jsx("div",{className:"",children:r.jsx(ne,{onClick:()=>t(`/protidogramme/${e}`),children:"Protidogramme"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(ne,{onClick:()=>t(`/atb/${e}`),children:"ATB"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(ne,{onClick:()=>t(`/ecb/${e}`),children:"ECB"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(ne,{onClick:()=>t(`/vhb/${e}`),children:"VHB"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(ne,{onClick:()=>t(`/vih/${e}`),children:"VIH"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(ne,{onClick:()=>t(`/anapath/${e}`),children:"Anapath"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(ne,{onClick:()=>t(`/spermogramme/${e}`),children:"Spermogramme"})})]})]})]})," "]}):r.jsx("div",{children:"Résultat non trouvé."})},OB=({category:e})=>{const{attributes:t,listeners:n,setNodeRef:s,transform:i,transition:l,isDragging:u}=yB({id:e.id}),h={transform:Jc.Transform.toString(i),transition:l,opacity:u?.7:1,zIndex:u?10:void 0};return r.jsx("div",{ref:s,style:h,...t,children:r.jsxs(ne,{variant:"secondary",size:"sm",className:"cursor-grab touch-none flex items-center gap-1.5",children:[r.jsx("span",{...n,"aria-label":`Réorganiser ${e.name}`,children:r.jsx(lL,{className:"h-4 w-4 text-muted-foreground"})}),e.name]})})};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function AB(e,t){if(eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(eo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rC(e){var t=AB(e,"string");return eo(t)=="symbol"?t:t+""}function Pc(e,t,n){return(t=rC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(n),!0).forEach(function(s){Pc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kB(e){if(Array.isArray(e))return e}function DB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,l,u,h=[],f=!0,m=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(s=l.call(n)).done)&&(h.push(s.value),h.length!==t);f=!0);}catch(g){m=!0,i=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw i}}return h}}function mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function sC(e,t){if(e){if(typeof e=="string")return mv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mv(e,t):void 0}}function PB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xa(e,t){return kB(e)||DB(e,t)||sC(e,t)||PB()}function LB(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Oa(e,t){if(e==null)return{};var n,s,i=LB(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var IB=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function $B(e){var t=e.defaultInputValue,n=t===void 0?"":t,s=e.defaultMenuIsOpen,i=s===void 0?!1:s,l=e.defaultValue,u=l===void 0?null:l,h=e.inputValue,f=e.menuIsOpen,m=e.onChange,g=e.onInputChange,x=e.onMenuClose,y=e.onMenuOpen,w=e.value,j=Oa(e,IB),N=p.useState(h!==void 0?h:n),S=xa(N,2),_=S[0],E=S[1],C=p.useState(f!==void 0?f:i),M=xa(C,2),R=M[0],A=M[1],k=p.useState(w!==void 0?w:u),L=xa(k,2),U=L[0],Y=L[1],oe=p.useCallback(function(q,J){typeof m=="function"&&m(q,J),Y(q)},[m]),Q=p.useCallback(function(q,J){var D;typeof g=="function"&&(D=g(q,J)),E(D!==void 0?D:q)},[g]),$=p.useCallback(function(){typeof y=="function"&&y(),A(!0)},[y]),ie=p.useCallback(function(){typeof x=="function"&&x(),A(!1)},[x]),le=h!==void 0?h:_,I=f!==void 0?f:R,W=w!==void 0?w:U;return Xe(Xe({},j),{},{inputValue:le,menuIsOpen:I,onChange:oe,onInputChange:Q,onMenuClose:ie,onMenuOpen:$,value:W})}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Je.apply(null,arguments)}function zB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y1(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rC(s.key),s)}}function UB(e,t,n){return t&&y1(e.prototype,t),n&&y1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pv(e,t){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pv(e,t)}function FB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pv(e,t)}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pf(e)}function aC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!e})()}function BB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(e,t){if(t&&(eo(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BB(e)}function VB(e){var t=aC();return function(){var n,s=Pf(e);if(t){var i=Pf(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return HB(this,n)}}function qB(e){if(Array.isArray(e))return mv(e)}function YB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yx(e){return qB(e)||YB(e)||sC(e)||GB()}function WB(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function XB(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var KB=function(){function e(n){var s=this;this._insertTag=function(i){var l;s.tags.length===0?s.insertionPoint?l=s.insertionPoint.nextSibling:s.prepend?l=s.container.firstChild:l=s.before:l=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(i,l),s.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(s){s.forEach(this._insertTag)},t.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var l=WB(i);try{l.insertRule(s,l.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(s));this.ctr++},t.flush=function(){this.tags.forEach(function(s){var i;return(i=s.parentNode)==null?void 0:i.removeChild(s)}),this.tags=[],this.ctr=0},e}(),lr="-ms-",Lf="-moz-",Yt="-webkit-",iC="comm",Gx="rule",Wx="decl",QB="@import",oC="@keyframes",ZB="@layer",JB=Math.abs,Ch=String.fromCharCode,eH=Object.assign;function tH(e,t){return rr(e,0)^45?(((t<<2^rr(e,0))<<2^rr(e,1))<<2^rr(e,2))<<2^rr(e,3):0}function lC(e){return e.trim()}function nH(e,t){return(e=t.exec(e))?e[0]:e}function Gt(e,t,n){return e.replace(t,n)}function gv(e,t){return e.indexOf(t)}function rr(e,t){return e.charCodeAt(t)|0}function tu(e,t,n){return e.slice(t,n)}function Ps(e){return e.length}function Xx(e){return e.length}function ef(e,t){return t.push(e),e}function rH(e,t){return e.map(t).join("")}var Rh=1,gl=1,cC=0,Mr=0,Ln=0,Ol="";function Th(e,t,n,s,i,l,u){return{value:e,root:t,parent:n,type:s,props:i,children:l,line:Rh,column:gl,length:u,return:""}}function Mc(e,t){return eH(Th("",null,null,"",null,null,0),e,{length:-e.length},t)}function sH(){return Ln}function aH(){return Ln=Mr>0?rr(Ol,--Mr):0,gl--,Ln===10&&(gl=1,Rh--),Ln}function Br(){return Ln=Mr<cC?rr(Ol,Mr++):0,gl++,Ln===10&&(gl=1,Rh++),Ln}function Hs(){return rr(Ol,Mr)}function mf(){return Mr}function Mu(e,t){return tu(Ol,e,t)}function nu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uC(e){return Rh=gl=1,cC=Ps(Ol=e),Mr=0,[]}function dC(e){return Ol="",e}function pf(e){return lC(Mu(Mr-1,vv(e===91?e+2:e===40?e+1:e)))}function iH(e){for(;(Ln=Hs())&&Ln<33;)Br();return nu(e)>2||nu(Ln)>3?"":" "}function oH(e,t){for(;--t&&Br()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return Mu(e,mf()+(t<6&&Hs()==32&&Br()==32))}function vv(e){for(;Br();)switch(Ln){case e:return Mr;case 34:case 39:e!==34&&e!==39&&vv(Ln);break;case 40:e===41&&vv(e);break;case 92:Br();break}return Mr}function lH(e,t){for(;Br()&&e+Ln!==57;)if(e+Ln===84&&Hs()===47)break;return"/*"+Mu(t,Mr-1)+"*"+Ch(e===47?e:Br())}function cH(e){for(;!nu(Hs());)Br();return Mu(e,Mr)}function uH(e){return dC(gf("",null,null,null,[""],e=uC(e),0,[0],e))}function gf(e,t,n,s,i,l,u,h,f){for(var m=0,g=0,x=u,y=0,w=0,j=0,N=1,S=1,_=1,E=0,C="",M=i,R=l,A=s,k=C;S;)switch(j=E,E=Br()){case 40:if(j!=108&&rr(k,x-1)==58){gv(k+=Gt(pf(E),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:k+=pf(E);break;case 9:case 10:case 13:case 32:k+=iH(j);break;case 92:k+=oH(mf()-1,7);continue;case 47:switch(Hs()){case 42:case 47:ef(dH(lH(Br(),mf()),t,n),f);break;default:k+="/"}break;case 123*N:h[m++]=Ps(k)*_;case 125*N:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+g:_==-1&&(k=Gt(k,/\f/g,"")),w>0&&Ps(k)-x&&ef(w>32?j1(k+";",s,n,x-1):j1(Gt(k," ","")+";",s,n,x-2),f);break;case 59:k+=";";default:if(ef(A=w1(k,t,n,m,g,i,h,C,M=[],R=[],x),l),E===123)if(g===0)gf(k,t,A,A,M,l,x,h,R);else switch(y===99&&rr(k,3)===110?100:y){case 100:case 108:case 109:case 115:gf(e,A,A,s&&ef(w1(e,A,A,0,0,i,h,C,i,M=[],x),R),i,R,x,h,s?M:R);break;default:gf(k,A,A,A,[""],R,0,h,R)}}m=g=w=0,N=_=1,C=k="",x=u;break;case 58:x=1+Ps(k),w=j;default:if(N<1){if(E==123)--N;else if(E==125&&N++==0&&aH()==125)continue}switch(k+=Ch(E),E*N){case 38:_=g>0?1:(k+="\f",-1);break;case 44:h[m++]=(Ps(k)-1)*_,_=1;break;case 64:Hs()===45&&(k+=pf(Br())),y=Hs(),g=x=Ps(C=k+=cH(mf())),E++;break;case 45:j===45&&Ps(k)==2&&(N=0)}}return l}function w1(e,t,n,s,i,l,u,h,f,m,g){for(var x=i-1,y=i===0?l:[""],w=Xx(y),j=0,N=0,S=0;j<s;++j)for(var _=0,E=tu(e,x+1,x=JB(N=u[j])),C=e;_<w;++_)(C=lC(N>0?y[_]+" "+E:Gt(E,/&\f/g,y[_])))&&(f[S++]=C);return Th(e,t,n,i===0?Gx:h,f,m,g)}function dH(e,t,n){return Th(e,t,n,iC,Ch(sH()),tu(e,2,-2),0)}function j1(e,t,n,s){return Th(e,t,n,Wx,tu(e,0,s),tu(e,s+1,-1),s)}function il(e,t){for(var n="",s=Xx(e),i=0;i<s;i++)n+=t(e[i],i,e,t)||"";return n}function fH(e,t,n,s){switch(e.type){case ZB:if(e.children.length)break;case QB:case Wx:return e.return=e.return||e.value;case iC:return"";case oC:return e.return=e.value+"{"+il(e.children,s)+"}";case Gx:e.value=e.props.join(",")}return Ps(n=il(e.children,s))?e.return=e.value+"{"+n+"}":""}function hH(e){var t=Xx(e);return function(n,s,i,l){for(var u="",h=0;h<t;h++)u+=e[h](n,s,i,l)||"";return u}}function mH(e){return function(t){t.root||(t=t.return)&&e(t)}}function pH(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var gH=function(t,n,s){for(var i=0,l=0;i=l,l=Hs(),i===38&&l===12&&(n[s]=1),!nu(l);)Br();return Mu(t,Mr)},vH=function(t,n){var s=-1,i=44;do switch(nu(i)){case 0:i===38&&Hs()===12&&(n[s]=1),t[s]+=gH(Mr-1,n,s);break;case 2:t[s]+=pf(i);break;case 4:if(i===44){t[++s]=Hs()===58?"&\f":"",n[s]=t[s].length;break}default:t[s]+=Ch(i)}while(i=Br());return t},xH=function(t,n){return dC(vH(uC(t),n))},N1=new WeakMap,bH=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,s=t.parent,i=t.column===s.column&&t.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!N1.get(s))&&!i){N1.set(t,!0);for(var l=[],u=xH(n,l),h=s.props,f=0,m=0;f<u.length;f++)for(var g=0;g<h.length;g++,m++)t.props[m]=l[f]?u[f].replace(/&\f/g,h[g]):h[g]+" "+u[f]}}},yH=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function fC(e,t){switch(tH(e,t)){case 5103:return Yt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Yt+e+Lf+e+lr+e+e;case 6828:case 4268:return Yt+e+lr+e+e;case 6165:return Yt+e+lr+"flex-"+e+e;case 5187:return Yt+e+Gt(e,/(\w+).+(:[^]+)/,Yt+"box-$1$2"+lr+"flex-$1$2")+e;case 5443:return Yt+e+lr+"flex-item-"+Gt(e,/flex-|-self/,"")+e;case 4675:return Yt+e+lr+"flex-line-pack"+Gt(e,/align-content|flex-|-self/,"")+e;case 5548:return Yt+e+lr+Gt(e,"shrink","negative")+e;case 5292:return Yt+e+lr+Gt(e,"basis","preferred-size")+e;case 6060:return Yt+"box-"+Gt(e,"-grow","")+Yt+e+lr+Gt(e,"grow","positive")+e;case 4554:return Yt+Gt(e,/([^-])(transform)/g,"$1"+Yt+"$2")+e;case 6187:return Gt(Gt(Gt(e,/(zoom-|grab)/,Yt+"$1"),/(image-set)/,Yt+"$1"),e,"")+e;case 5495:case 3959:return Gt(e,/(image-set\([^]*)/,Yt+"$1$`$1");case 4968:return Gt(Gt(e,/(.+:)(flex-)?(.*)/,Yt+"box-pack:$3"+lr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yt+e+e;case 4095:case 3583:case 4068:case 2532:return Gt(e,/(.+)-inline(.+)/,Yt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ps(e)-1-t>6)switch(rr(e,t+1)){case 109:if(rr(e,t+4)!==45)break;case 102:return Gt(e,/(.+:)(.+)-([^]+)/,"$1"+Yt+"$2-$3$1"+Lf+(rr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~gv(e,"stretch")?fC(Gt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(rr(e,t+1)!==115)break;case 6444:switch(rr(e,Ps(e)-3-(~gv(e,"!important")&&10))){case 107:return Gt(e,":",":"+Yt)+e;case 101:return Gt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yt+(rr(e,14)===45?"inline-":"")+"box$3$1"+Yt+"$2$3$1"+lr+"$2box$3")+e}break;case 5936:switch(rr(e,t+11)){case 114:return Yt+e+lr+Gt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Yt+e+lr+Gt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Yt+e+lr+Gt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Yt+e+lr+e+e}return e}var wH=function(t,n,s,i){if(t.length>-1&&!t.return)switch(t.type){case Wx:t.return=fC(t.value,t.length);break;case oC:return il([Mc(t,{value:Gt(t.value,"@","@"+Yt)})],i);case Gx:if(t.length)return rH(t.props,function(l){switch(nH(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([Mc(t,{props:[Gt(l,/:(read-\w+)/,":"+Lf+"$1")]})],i);case"::placeholder":return il([Mc(t,{props:[Gt(l,/:(plac\w+)/,":"+Yt+"input-$1")]}),Mc(t,{props:[Gt(l,/:(plac\w+)/,":"+Lf+"$1")]}),Mc(t,{props:[Gt(l,/:(plac\w+)/,lr+"input-$1")]})],i)}return""})}},jH=[wH],NH=function(t){var n=t.key;if(n==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(N){var S=N.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var i=t.stylisPlugins||jH,l={},u,h=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(N){for(var S=N.getAttribute("data-emotion").split(" "),_=1;_<S.length;_++)l[S[_]]=!0;h.push(N)});var f,m=[bH,yH];{var g,x=[fH,mH(function(N){g.insert(N)})],y=hH(m.concat(i,x)),w=function(S){return il(uH(S),y)};f=function(S,_,E,C){g=E,w(S?S+"{"+_.styles+"}":_.styles),C&&(j.inserted[_.name]=!0)}}var j={key:n,sheet:new KB({key:n,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:f};return j.sheet.hydrate(h),j},xg={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function SH(){if(S1)return Xt;S1=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,s=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,u=e?Symbol.for("react.provider"):60109,h=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,m=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,x=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,w=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,N=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function C(R){if(typeof R=="object"&&R!==null){var A=R.$$typeof;switch(A){case t:switch(R=R.type,R){case f:case m:case s:case l:case i:case x:return R;default:switch(R=R&&R.$$typeof,R){case h:case g:case j:case w:case u:return R;default:return A}}case n:return A}}}function M(R){return C(R)===m}return Xt.AsyncMode=f,Xt.ConcurrentMode=m,Xt.ContextConsumer=h,Xt.ContextProvider=u,Xt.Element=t,Xt.ForwardRef=g,Xt.Fragment=s,Xt.Lazy=j,Xt.Memo=w,Xt.Portal=n,Xt.Profiler=l,Xt.StrictMode=i,Xt.Suspense=x,Xt.isAsyncMode=function(R){return M(R)||C(R)===f},Xt.isConcurrentMode=M,Xt.isContextConsumer=function(R){return C(R)===h},Xt.isContextProvider=function(R){return C(R)===u},Xt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},Xt.isForwardRef=function(R){return C(R)===g},Xt.isFragment=function(R){return C(R)===s},Xt.isLazy=function(R){return C(R)===j},Xt.isMemo=function(R){return C(R)===w},Xt.isPortal=function(R){return C(R)===n},Xt.isProfiler=function(R){return C(R)===l},Xt.isStrictMode=function(R){return C(R)===i},Xt.isSuspense=function(R){return C(R)===x},Xt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===s||R===m||R===l||R===i||R===x||R===y||typeof R=="object"&&R!==null&&(R.$$typeof===j||R.$$typeof===w||R.$$typeof===u||R.$$typeof===h||R.$$typeof===g||R.$$typeof===S||R.$$typeof===_||R.$$typeof===E||R.$$typeof===N)},Xt.typeOf=C,Xt}var _1;function _H(){return _1||(_1=1,xg.exports=SH()),xg.exports}var bg,E1;function EH(){if(E1)return bg;E1=1;var e=_H(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[e.ForwardRef]=s,l[e.Memo]=i;function u(j){return e.isMemo(j)?i:l[j.$$typeof]||t}var h=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,y=Object.prototype;function w(j,N,S){if(typeof N!="string"){if(y){var _=x(N);_&&_!==y&&w(j,_,S)}var E=f(N);m&&(E=E.concat(m(N)));for(var C=u(j),M=u(N),R=0;R<E.length;++R){var A=E[R];if(!n[A]&&!(S&&S[A])&&!(M&&M[A])&&!(C&&C[A])){var k=g(N,A);try{h(j,A,k)}catch{}}}}return j}return bg=w,bg}EH();var CH=!0;function RH(e,t,n){var s="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(s+=i+" ")}),s}var hC=function(t,n,s){var i=t.key+"-"+n.name;(s===!1||CH===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},TH=function(t,n,s){hC(t,n,s);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var l=n;do t.insert(n===l?"."+i:"",l,t.sheet,!0),l=l.next;while(l!==void 0)}};function MH(e){for(var t=0,n,s=0,i=e.length;i>=4;++s,i-=4)n=e.charCodeAt(s)&255|(e.charCodeAt(++s)&255)<<8|(e.charCodeAt(++s)&255)<<16|(e.charCodeAt(++s)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(s+2)&255)<<16;case 2:t^=(e.charCodeAt(s+1)&255)<<8;case 1:t^=e.charCodeAt(s)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var OH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},AH=/[A-Z]|^ms/g,kH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mC=function(t){return t.charCodeAt(1)===45},C1=function(t){return t!=null&&typeof t!="boolean"},yg=pH(function(e){return mC(e)?e:e.replace(AH,"-$&").toLowerCase()}),R1=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(kH,function(s,i,l){return Ls={name:i,styles:l,next:Ls},i})}return OH[t]!==1&&!mC(t)&&typeof n=="number"&&n!==0?n+"px":n};function ru(e,t,n){if(n==null)return"";var s=n;if(s.__emotion_styles!==void 0)return s;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ls={name:i.name,styles:i.styles,next:Ls},i.name;var l=n;if(l.styles!==void 0){var u=l.next;if(u!==void 0)for(;u!==void 0;)Ls={name:u.name,styles:u.styles,next:Ls},u=u.next;var h=l.styles+";";return h}return DH(e,t,n)}case"function":{if(e!==void 0){var f=Ls,m=n(e);return Ls=f,ru(e,t,m)}break}}var g=n;return g}function DH(e,t,n){var s="";if(Array.isArray(n))for(var i=0;i<n.length;i++)s+=ru(e,t,n[i])+";";else for(var l in n){var u=n[l];if(typeof u!="object"){var h=u;C1(h)&&(s+=yg(l)+":"+R1(l,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&t==null)for(var f=0;f<u.length;f++)C1(u[f])&&(s+=yg(l)+":"+R1(l,u[f])+";");else{var m=ru(e,t,u);switch(l){case"animation":case"animationName":{s+=yg(l)+":"+m+";";break}default:s+=l+"{"+m+"}"}}}return s}var T1=/label:\s*([^\s;{]+)\s*(;|$)/g,Ls;function pC(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Ls=void 0;var l=e[0];if(l==null||l.raw===void 0)s=!1,i+=ru(n,t,l);else{var u=l;i+=u[0]}for(var h=1;h<e.length;h++)if(i+=ru(n,t,e[h]),s){var f=l;i+=f[h]}T1.lastIndex=0;for(var m="",g;(g=T1.exec(i))!==null;)m+="-"+g[1];var x=MH(i)+m;return{name:x,styles:i,next:Ls}}var PH=function(t){return t()},LH=kg.useInsertionEffect?kg.useInsertionEffect:!1,IH=LH||PH,gC=p.createContext(typeof HTMLElement<"u"?NH({key:"css"}):null);gC.Provider;var $H=function(t){return p.forwardRef(function(n,s){var i=p.useContext(gC);return t(n,i,s)})},zH=p.createContext({}),Kx={}.hasOwnProperty,xv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",UH=function(t,n){var s={};for(var i in n)Kx.call(n,i)&&(s[i]=n[i]);return s[xv]=t,s},FH=function(t){var n=t.cache,s=t.serialized,i=t.isStringTag;return hC(n,s,i),IH(function(){return TH(n,s,i)}),null},BH=$H(function(e,t,n){var s=e.css;typeof s=="string"&&t.registered[s]!==void 0&&(s=t.registered[s]);var i=e[xv],l=[s],u="";typeof e.className=="string"?u=RH(t.registered,l,e.className):e.className!=null&&(u=e.className+" ");var h=pC(l,void 0,p.useContext(zH));u+=t.key+"-"+h.name;var f={};for(var m in e)Kx.call(e,m)&&m!=="css"&&m!==xv&&(f[m]=e[m]);return f.className=u,n&&(f.ref=n),p.createElement(p.Fragment,null,p.createElement(FH,{cache:t,serialized:h,isStringTag:typeof i=="string"}),p.createElement(i,f))}),HH=BH,Ye=function(t,n){var s=arguments;if(n==null||!Kx.call(n,"css"))return p.createElement.apply(void 0,s);var i=s.length,l=new Array(i);l[0]=HH,l[1]=UH(t,n);for(var u=2;u<i;u++)l[u]=s[u];return p.createElement.apply(null,l)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Ye||(Ye={}));function Qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pC(t)}function VH(){var e=Qx.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function qH(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bv=p.useLayoutEffect,YH=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],If=function(){};function GH(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function WH(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];var l=[].concat(s);if(t&&e)for(var u in t)t.hasOwnProperty(u)&&t[u]&&l.push("".concat(GH(e,u)));return l.filter(function(h){return h}).map(function(h){return String(h).trim()}).join(" ")}var M1=function(t){return rV(t)?t.filter(Boolean):eo(t)==="object"&&t!==null?[t]:[]},vC=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Oa(t,YH);return Xe({},n)},En=function(t,n,s){var i=t.cx,l=t.getStyles,u=t.getClassNames,h=t.className;return{css:l(n,t),className:i(s??{},u(n,t),h)}};function Mh(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function XH(e){return Mh(e)?window.innerHeight:e.clientHeight}function xC(e){return Mh(e)?window.pageYOffset:e.scrollTop}function $f(e,t){if(Mh(e)){window.scrollTo(0,t);return}e.scrollTop=t}function KH(e){var t=getComputedStyle(e),n=t.position==="absolute",s=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&s.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function QH(e,t,n,s){return n*((e=e/s-1)*e*e+1)+t}function tf(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:If,i=xC(e),l=t-i,u=10,h=0;function f(){h+=u;var m=QH(h,i,l,n);$f(e,m),h<n?window.requestAnimationFrame(f):s(e)}f()}function O1(e,t){var n=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=t.offsetHeight/3;s.bottom+i>n.bottom?$f(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):s.top-i<n.top&&$f(e,Math.max(t.offsetTop-i,0))}function ZH(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function A1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function JH(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var bC=!1,eV={get passive(){return bC=!0}},nf=typeof window<"u"?window:{};nf.addEventListener&&nf.removeEventListener&&(nf.addEventListener("p",If,eV),nf.removeEventListener("p",If,!1));var tV=bC;function nV(e){return e!=null}function rV(e){return Array.isArray(e)}function rf(e,t,n){return e?t:n}var sV=function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];var l=Object.entries(t).filter(function(u){var h=xa(u,1),f=h[0];return!s.includes(f)});return l.reduce(function(u,h){var f=xa(h,2),m=f[0],g=f[1];return u[m]=g,u},{})},aV=["children","innerProps"],iV=["children","innerProps"];function oV(e){var t=e.maxHeight,n=e.menuEl,s=e.minHeight,i=e.placement,l=e.shouldScroll,u=e.isFixedPosition,h=e.controlHeight,f=KH(n),m={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return m;var g=f.getBoundingClientRect(),x=g.height,y=n.getBoundingClientRect(),w=y.bottom,j=y.height,N=y.top,S=n.offsetParent.getBoundingClientRect(),_=S.top,E=u?window.innerHeight:XH(f),C=xC(f),M=parseInt(getComputedStyle(n).marginBottom,10),R=parseInt(getComputedStyle(n).marginTop,10),A=_-R,k=E-N,L=A+C,U=x-C-N,Y=w-E+C+M,oe=C+N-R,Q=160;switch(i){case"auto":case"bottom":if(k>=j)return{placement:"bottom",maxHeight:t};if(U>=j&&!u)return l&&tf(f,Y,Q),{placement:"bottom",maxHeight:t};if(!u&&U>=s||u&&k>=s){l&&tf(f,Y,Q);var $=u?k-M:U-M;return{placement:"bottom",maxHeight:$}}if(i==="auto"||u){var ie=t,le=u?A:L;return le>=s&&(ie=Math.min(le-M-h,t)),{placement:"top",maxHeight:ie}}if(i==="bottom")return l&&$f(f,Y),{placement:"bottom",maxHeight:t};break;case"top":if(A>=j)return{placement:"top",maxHeight:t};if(L>=j&&!u)return l&&tf(f,oe,Q),{placement:"top",maxHeight:t};if(!u&&L>=s||u&&A>=s){var I=t;return(!u&&L>=s||u&&A>=s)&&(I=u?A-R:L-R),l&&tf(f,oe,Q),{placement:"top",maxHeight:I}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return m}function lV(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var yC=function(t){return t==="auto"?"bottom":t},cV=function(t,n){var s,i=t.placement,l=t.theme,u=l.borderRadius,h=l.spacing,f=l.colors;return Xe((s={label:"menu"},Pc(s,lV(i),"100%"),Pc(s,"position","absolute"),Pc(s,"width","100%"),Pc(s,"zIndex",1),s),n?{}:{backgroundColor:f.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},wC=p.createContext(null),uV=function(t){var n=t.children,s=t.minMenuHeight,i=t.maxMenuHeight,l=t.menuPlacement,u=t.menuPosition,h=t.menuShouldScrollIntoView,f=t.theme,m=p.useContext(wC)||{},g=m.setPortalPlacement,x=p.useRef(null),y=p.useState(i),w=xa(y,2),j=w[0],N=w[1],S=p.useState(null),_=xa(S,2),E=_[0],C=_[1],M=f.spacing.controlHeight;return bv(function(){var R=x.current;if(R){var A=u==="fixed",k=h&&!A,L=oV({maxHeight:i,menuEl:R,minHeight:s,placement:l,shouldScroll:k,isFixedPosition:A,controlHeight:M});N(L.maxHeight),C(L.placement),g==null||g(L.placement)}},[i,l,u,h,s,g,M]),n({ref:x,placerProps:Xe(Xe({},t),{},{placement:E||yC(l),maxHeight:j})})},dV=function(t){var n=t.children,s=t.innerRef,i=t.innerProps;return Ye("div",Je({},En(t,"menu",{menu:!0}),{ref:s},i),n)},fV=dV,hV=function(t,n){var s=t.maxHeight,i=t.theme.spacing.baseUnit;return Xe({maxHeight:s,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},mV=function(t){var n=t.children,s=t.innerProps,i=t.innerRef,l=t.isMulti;return Ye("div",Je({},En(t,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:i},s),n)},jC=function(t,n){var s=t.theme,i=s.spacing.baseUnit,l=s.colors;return Xe({textAlign:"center"},n?{}:{color:l.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},pV=jC,gV=jC,vV=function(t){var n=t.children,s=n===void 0?"No options":n,i=t.innerProps,l=Oa(t,aV);return Ye("div",Je({},En(Xe(Xe({},l),{},{children:s,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),s)},xV=function(t){var n=t.children,s=n===void 0?"Loading...":n,i=t.innerProps,l=Oa(t,iV);return Ye("div",Je({},En(Xe(Xe({},l),{},{children:s,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),s)},bV=function(t){var n=t.rect,s=t.offset,i=t.position;return{left:n.left,position:i,top:s,width:n.width,zIndex:1}},yV=function(t){var n=t.appendTo,s=t.children,i=t.controlElement,l=t.innerProps,u=t.menuPlacement,h=t.menuPosition,f=p.useRef(null),m=p.useRef(null),g=p.useState(yC(u)),x=xa(g,2),y=x[0],w=x[1],j=p.useMemo(function(){return{setPortalPlacement:w}},[]),N=p.useState(null),S=xa(N,2),_=S[0],E=S[1],C=p.useCallback(function(){if(i){var k=ZH(i),L=h==="fixed"?0:window.pageYOffset,U=k[y]+L;(U!==(_==null?void 0:_.offset)||k.left!==(_==null?void 0:_.rect.left)||k.width!==(_==null?void 0:_.rect.width))&&E({offset:U,rect:k})}},[i,h,y,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);bv(function(){C()},[C]);var M=p.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),i&&f.current&&(m.current=vS(i,f.current,C,{elementResize:"ResizeObserver"in window}))},[i,C]);bv(function(){M()},[M]);var R=p.useCallback(function(k){f.current=k,M()},[M]);if(!n&&h!=="fixed"||!_)return null;var A=Ye("div",Je({ref:R},En(Xe(Xe({},t),{},{offset:_.offset,position:h,rect:_.rect}),"menuPortal",{"menu-portal":!0}),l),s);return Ye(wC.Provider,{value:j},n?xs.createPortal(A,n):A)},wV=function(t){var n=t.isDisabled,s=t.isRtl;return{label:"container",direction:s?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},jV=function(t){var n=t.children,s=t.innerProps,i=t.isDisabled,l=t.isRtl;return Ye("div",Je({},En(t,"container",{"--is-disabled":i,"--is-rtl":l}),s),n)},NV=function(t,n){var s=t.theme.spacing,i=t.isMulti,l=t.hasValue,u=t.selectProps.controlShouldRenderValue;return Xe({alignItems:"center",display:i&&l&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px")})},SV=function(t){var n=t.children,s=t.innerProps,i=t.isMulti,l=t.hasValue;return Ye("div",Je({},En(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":l}),s),n)},_V=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},EV=function(t){var n=t.children,s=t.innerProps;return Ye("div",Je({},En(t,"indicatorsContainer",{indicators:!0}),s),n)},k1,CV=["size"],RV=["innerProps","isRtl","size"],TV={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},NC=function(t){var n=t.size,s=Oa(t,CV);return Ye("svg",Je({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:TV},s))},Zx=function(t){return Ye(NC,Je({size:20},t),Ye("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},SC=function(t){return Ye(NC,Je({size:20},t),Ye("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},_C=function(t,n){var s=t.isFocused,i=t.theme,l=i.spacing.baseUnit,u=i.colors;return Xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:s?u.neutral60:u.neutral20,padding:l*2,":hover":{color:s?u.neutral80:u.neutral40}})},MV=_C,OV=function(t){var n=t.children,s=t.innerProps;return Ye("div",Je({},En(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),s),n||Ye(SC,null))},AV=_C,kV=function(t){var n=t.children,s=t.innerProps;return Ye("div",Je({},En(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),s),n||Ye(Zx,null))},DV=function(t,n){var s=t.isDisabled,i=t.theme,l=i.spacing.baseUnit,u=i.colors;return Xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:s?u.neutral10:u.neutral20,marginBottom:l*2,marginTop:l*2})},PV=function(t){var n=t.innerProps;return Ye("span",Je({},n,En(t,"indicatorSeparator",{"indicator-separator":!0})))},LV=VH(k1||(k1=qH([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),IV=function(t,n){var s=t.isFocused,i=t.size,l=t.theme,u=l.colors,h=l.spacing.baseUnit;return Xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:s?u.neutral60:u.neutral20,padding:h*2})},wg=function(t){var n=t.delay,s=t.offset;return Ye("span",{css:Qx({animation:"".concat(LV," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:s?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},$V=function(t){var n=t.innerProps,s=t.isRtl,i=t.size,l=i===void 0?4:i,u=Oa(t,RV);return Ye("div",Je({},En(Xe(Xe({},u),{},{innerProps:n,isRtl:s,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Ye(wg,{delay:0,offset:s}),Ye(wg,{delay:160,offset:!0}),Ye(wg,{delay:320,offset:!s}))},zV=function(t,n){var s=t.isDisabled,i=t.isFocused,l=t.theme,u=l.colors,h=l.borderRadius,f=l.spacing;return Xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:s?u.neutral5:u.neutral0,borderColor:s?u.neutral10:i?u.primary:u.neutral20,borderRadius:h,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:i?u.primary:u.neutral30}})},UV=function(t){var n=t.children,s=t.isDisabled,i=t.isFocused,l=t.innerRef,u=t.innerProps,h=t.menuIsOpen;return Ye("div",Je({ref:l},En(t,"control",{control:!0,"control--is-disabled":s,"control--is-focused":i,"control--menu-is-open":h}),u,{"aria-disabled":s||void 0}),n)},FV=UV,BV=["data"],HV=function(t,n){var s=t.theme.spacing;return n?{}:{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},VV=function(t){var n=t.children,s=t.cx,i=t.getStyles,l=t.getClassNames,u=t.Heading,h=t.headingProps,f=t.innerProps,m=t.label,g=t.theme,x=t.selectProps;return Ye("div",Je({},En(t,"group",{group:!0}),f),Ye(u,Je({},h,{selectProps:x,theme:g,getStyles:i,getClassNames:l,cx:s}),m),Ye("div",null,n))},qV=function(t,n){var s=t.theme,i=s.colors,l=s.spacing;return Xe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},YV=function(t){var n=vC(t);n.data;var s=Oa(n,BV);return Ye("div",Je({},En(t,"groupHeading",{"group-heading":!0}),s))},GV=VV,WV=["innerRef","isDisabled","isHidden","inputClassName"],XV=function(t,n){var s=t.isDisabled,i=t.value,l=t.theme,u=l.spacing,h=l.colors;return Xe(Xe({visibility:s?"hidden":"visible",transform:i?"translateZ(0)":""},KV),n?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:h.neutral80})},EC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},KV={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},EC)},QV=function(t){return Xe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},EC)},ZV=function(t){var n=t.cx,s=t.value,i=vC(t),l=i.innerRef,u=i.isDisabled,h=i.isHidden,f=i.inputClassName,m=Oa(i,WV);return Ye("div",Je({},En(t,"input",{"input-container":!0}),{"data-value":s||""}),Ye("input",Je({className:n({input:!0},f),ref:l,style:QV(h),disabled:u},m)))},JV=ZV,e9=function(t,n){var s=t.theme,i=s.spacing,l=s.borderRadius,u=s.colors;return Xe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:u.neutral10,borderRadius:l/2,margin:i.baseUnit/2})},t9=function(t,n){var s=t.theme,i=s.borderRadius,l=s.colors,u=t.cropWithEllipsis;return Xe({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},n9=function(t,n){var s=t.theme,i=s.spacing,l=s.borderRadius,u=s.colors,h=t.isFocused;return Xe({alignItems:"center",display:"flex"},n?{}:{borderRadius:l/2,backgroundColor:h?u.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},CC=function(t){var n=t.children,s=t.innerProps;return Ye("div",s,n)},r9=CC,s9=CC;function a9(e){var t=e.children,n=e.innerProps;return Ye("div",Je({role:"button"},n),t||Ye(Zx,{size:14}))}var i9=function(t){var n=t.children,s=t.components,i=t.data,l=t.innerProps,u=t.isDisabled,h=t.removeProps,f=t.selectProps,m=s.Container,g=s.Label,x=s.Remove;return Ye(m,{data:i,innerProps:Xe(Xe({},En(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),l),selectProps:f},Ye(g,{data:i,innerProps:Xe({},En(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},n),Ye(x,{data:i,innerProps:Xe(Xe({},En(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},h),selectProps:f}))},o9=i9,l9=function(t,n){var s=t.isDisabled,i=t.isFocused,l=t.isSelected,u=t.theme,h=u.spacing,f=u.colors;return Xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:l?f.primary:i?f.primary25:"transparent",color:s?f.neutral20:l?f.neutral0:"inherit",padding:"".concat(h.baseUnit*2,"px ").concat(h.baseUnit*3,"px"),":active":{backgroundColor:s?void 0:l?f.primary:f.primary50}})},c9=function(t){var n=t.children,s=t.isDisabled,i=t.isFocused,l=t.isSelected,u=t.innerRef,h=t.innerProps;return Ye("div",Je({},En(t,"option",{option:!0,"option--is-disabled":s,"option--is-focused":i,"option--is-selected":l}),{ref:u,"aria-disabled":s},h),n)},u9=c9,d9=function(t,n){var s=t.theme,i=s.spacing,l=s.colors;return Xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:l.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},f9=function(t){var n=t.children,s=t.innerProps;return Ye("div",Je({},En(t,"placeholder",{placeholder:!0}),s),n)},h9=f9,m9=function(t,n){var s=t.isDisabled,i=t.theme,l=i.spacing,u=i.colors;return Xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:s?u.neutral40:u.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},p9=function(t){var n=t.children,s=t.isDisabled,i=t.innerProps;return Ye("div",Je({},En(t,"singleValue",{"single-value":!0,"single-value--is-disabled":s}),i),n)},g9=p9,v9={ClearIndicator:kV,Control:FV,DropdownIndicator:OV,DownChevron:SC,CrossIcon:Zx,Group:GV,GroupHeading:YV,IndicatorsContainer:EV,IndicatorSeparator:PV,Input:JV,LoadingIndicator:$V,Menu:fV,MenuList:mV,MenuPortal:yV,LoadingMessage:xV,NoOptionsMessage:vV,MultiValue:o9,MultiValueContainer:r9,MultiValueLabel:s9,MultiValueRemove:a9,Option:u9,Placeholder:h9,SelectContainer:jV,SingleValue:g9,ValueContainer:SV},x9=function(t){return Xe(Xe({},v9),t.components)},D1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function b9(e,t){return!!(e===t||D1(e)&&D1(t))}function y9(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!b9(e[n],t[n]))return!1;return!0}function w9(e,t){t===void 0&&(t=y9);var n=null;function s(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var u=e.apply(this,i);return n={lastResult:u,lastArgs:i,lastThis:this},u}return s.clear=function(){n=null},s}var j9={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},N9=function(t){return Ye("span",Je({css:j9},t))},P1=N9,S9={guidance:function(t){var n=t.isSearchable,s=t.isMulti,i=t.tabSelectsValue,l=t.context,u=t.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,s=t.label,i=s===void 0?"":s,l=t.labels,u=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return u?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,s=t.focused,i=t.options,l=t.label,u=l===void 0?"":l,h=t.selectValue,f=t.isDisabled,m=t.isSelected,g=t.isAppleDevice,x=function(N,S){return N&&N.length?"".concat(N.indexOf(S)+1," of ").concat(N.length):""};if(n==="value"&&h)return"value ".concat(u," focused, ").concat(x(h,s),".");if(n==="menu"&&g){var y=f?" disabled":"",w="".concat(m?" selected":"").concat(y);return"".concat(u).concat(w,", ").concat(x(i,s),".")}return""},onFilter:function(t){var n=t.inputValue,s=t.resultsMessage;return"".concat(s).concat(n?" for search term "+n:"",".")}},_9=function(t){var n=t.ariaSelection,s=t.focusedOption,i=t.focusedValue,l=t.focusableOptions,u=t.isFocused,h=t.selectValue,f=t.selectProps,m=t.id,g=t.isAppleDevice,x=f.ariaLiveMessages,y=f.getOptionLabel,w=f.inputValue,j=f.isMulti,N=f.isOptionDisabled,S=f.isSearchable,_=f.menuIsOpen,E=f.options,C=f.screenReaderStatus,M=f.tabSelectsValue,R=f.isLoading,A=f["aria-label"],k=f["aria-live"],L=p.useMemo(function(){return Xe(Xe({},S9),x||{})},[x]),U=p.useMemo(function(){var le="";if(n&&L.onChange){var I=n.option,W=n.options,q=n.removedValue,J=n.removedValues,D=n.value,F=function(re){return Array.isArray(re)?null:re},B=q||I||F(D),H=B?y(B):"",P=W||J||void 0,z=P?P.map(y):[],V=Xe({isDisabled:B&&N(B,h),label:H,labels:z},n);le=L.onChange(V)}return le},[n,L,N,h,y]),Y=p.useMemo(function(){var le="",I=s||i,W=!!(s&&h&&h.includes(s));if(I&&L.onFocus){var q={focused:I,label:y(I),isDisabled:N(I,h),isSelected:W,options:l,context:I===s?"menu":"value",selectValue:h,isAppleDevice:g};le=L.onFocus(q)}return le},[s,i,y,N,L,l,h,g]),oe=p.useMemo(function(){var le="";if(_&&E.length&&!R&&L.onFilter){var I=C({count:l.length});le=L.onFilter({inputValue:w,resultsMessage:I})}return le},[l,w,_,L,E,C,R]),Q=(n==null?void 0:n.action)==="initial-input-focus",$=p.useMemo(function(){var le="";if(L.guidance){var I=i?"value":_?"menu":"input";le=L.guidance({"aria-label":A,context:I,isDisabled:s&&N(s,h),isMulti:j,isSearchable:S,tabSelectsValue:M,isInitialFocus:Q})}return le},[A,s,i,j,N,S,_,L,h,M,Q]),ie=Ye(p.Fragment,null,Ye("span",{id:"aria-selection"},U),Ye("span",{id:"aria-focused"},Y),Ye("span",{id:"aria-results"},oe),Ye("span",{id:"aria-guidance"},$));return Ye(p.Fragment,null,Ye(P1,{id:m},Q&&ie),Ye(P1,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!Q&&ie))},E9=_9,yv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],C9=new RegExp("["+yv.map(function(e){return e.letters}).join("")+"]","g"),RC={};for(var jg=0;jg<yv.length;jg++)for(var Ng=yv[jg],Sg=0;Sg<Ng.letters.length;Sg++)RC[Ng.letters[Sg]]=Ng.base;var TC=function(t){return t.replace(C9,function(n){return RC[n]})},R9=w9(TC),L1=function(t){return t.replace(/^\s+|\s+$/g,"")},T9=function(t){return"".concat(t.label," ").concat(t.value)},M9=function(t){return function(n,s){if(n.data.__isNew__)return!0;var i=Xe({ignoreCase:!0,ignoreAccents:!0,stringify:T9,trim:!0,matchFrom:"any"},t),l=i.ignoreCase,u=i.ignoreAccents,h=i.stringify,f=i.trim,m=i.matchFrom,g=f?L1(s):s,x=f?L1(h(n)):h(n);return l&&(g=g.toLowerCase(),x=x.toLowerCase()),u&&(g=R9(g),x=TC(x)),m==="start"?x.substr(0,g.length)===g:x.indexOf(g)>-1}},O9=["innerRef"];function A9(e){var t=e.innerRef,n=Oa(e,O9),s=sV(n,"onExited","in","enter","exit","appear");return Ye("input",Je({ref:t},s,{css:Qx({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var k9=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function D9(e){var t=e.isEnabled,n=e.onBottomArrive,s=e.onBottomLeave,i=e.onTopArrive,l=e.onTopLeave,u=p.useRef(!1),h=p.useRef(!1),f=p.useRef(0),m=p.useRef(null),g=p.useCallback(function(S,_){if(m.current!==null){var E=m.current,C=E.scrollTop,M=E.scrollHeight,R=E.clientHeight,A=m.current,k=_>0,L=M-R-C,U=!1;L>_&&u.current&&(s&&s(S),u.current=!1),k&&h.current&&(l&&l(S),h.current=!1),k&&_>L?(n&&!u.current&&n(S),A.scrollTop=M,U=!0,u.current=!0):!k&&-_>C&&(i&&!h.current&&i(S),A.scrollTop=0,U=!0,h.current=!0),U&&k9(S)}},[n,s,i,l]),x=p.useCallback(function(S){g(S,S.deltaY)},[g]),y=p.useCallback(function(S){f.current=S.changedTouches[0].clientY},[]),w=p.useCallback(function(S){var _=f.current-S.changedTouches[0].clientY;g(S,_)},[g]),j=p.useCallback(function(S){if(S){var _=tV?{passive:!1}:!1;S.addEventListener("wheel",x,_),S.addEventListener("touchstart",y,_),S.addEventListener("touchmove",w,_)}},[w,y,x]),N=p.useCallback(function(S){S&&(S.removeEventListener("wheel",x,!1),S.removeEventListener("touchstart",y,!1),S.removeEventListener("touchmove",w,!1))},[w,y,x]);return p.useEffect(function(){if(t){var S=m.current;return j(S),function(){N(S)}}},[t,j,N]),function(S){m.current=S}}var I1=["boxSizing","height","overflow","paddingRight","position"],$1={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function z1(e){e.cancelable&&e.preventDefault()}function U1(e){e.stopPropagation()}function F1(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function B1(){return"ontouchstart"in window||navigator.maxTouchPoints}var H1=!!(typeof window<"u"&&window.document&&window.document.createElement),Oc=0,Ko={capture:!1,passive:!1};function P9(e){var t=e.isEnabled,n=e.accountForScrollbars,s=n===void 0?!0:n,i=p.useRef({}),l=p.useRef(null),u=p.useCallback(function(f){if(H1){var m=document.body,g=m&&m.style;if(s&&I1.forEach(function(j){var N=g&&g[j];i.current[j]=N}),s&&Oc<1){var x=parseInt(i.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,w=window.innerWidth-y+x||0;Object.keys($1).forEach(function(j){var N=$1[j];g&&(g[j]=N)}),g&&(g.paddingRight="".concat(w,"px"))}m&&B1()&&(m.addEventListener("touchmove",z1,Ko),f&&(f.addEventListener("touchstart",F1,Ko),f.addEventListener("touchmove",U1,Ko))),Oc+=1}},[s]),h=p.useCallback(function(f){if(H1){var m=document.body,g=m&&m.style;Oc=Math.max(Oc-1,0),s&&Oc<1&&I1.forEach(function(x){var y=i.current[x];g&&(g[x]=y)}),m&&B1()&&(m.removeEventListener("touchmove",z1,Ko),f&&(f.removeEventListener("touchstart",F1,Ko),f.removeEventListener("touchmove",U1,Ko)))}},[s]);return p.useEffect(function(){if(t){var f=l.current;return u(f),function(){h(f)}}},[t,u,h]),function(f){l.current=f}}var L9=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},I9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function $9(e){var t=e.children,n=e.lockEnabled,s=e.captureEnabled,i=s===void 0?!0:s,l=e.onBottomArrive,u=e.onBottomLeave,h=e.onTopArrive,f=e.onTopLeave,m=D9({isEnabled:i,onBottomArrive:l,onBottomLeave:u,onTopArrive:h,onTopLeave:f}),g=P9({isEnabled:n}),x=function(w){m(w),g(w)};return Ye(p.Fragment,null,n&&Ye("div",{onClick:L9,css:I9}),t(x))}var z9={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},U9=function(t){var n=t.name,s=t.onFocus;return Ye("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:s,css:z9,value:"",onChange:function(){}})},F9=U9;function Jx(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function B9(){return Jx(/^iPhone/i)}function MC(){return Jx(/^Mac/i)}function H9(){return Jx(/^iPad/i)||MC()&&navigator.maxTouchPoints>1}function V9(){return B9()||H9()}function q9(){return MC()||V9()}var Y9=function(t){return t.label},G9=function(t){return t.label},W9=function(t){return t.value},X9=function(t){return!!t.isDisabled},K9={clearIndicator:AV,container:wV,control:zV,dropdownIndicator:MV,group:HV,groupHeading:qV,indicatorsContainer:_V,indicatorSeparator:DV,input:XV,loadingIndicator:IV,loadingMessage:gV,menu:cV,menuList:hV,menuPortal:bV,multiValue:e9,multiValueLabel:t9,multiValueRemove:n9,noOptionsMessage:pV,option:l9,placeholder:d9,singleValue:m9,valueContainer:NV},Q9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Z9=4,OC=4,J9=38,e7=OC*2,t7={baseUnit:OC,controlHeight:J9,menuGutter:e7},_g={borderRadius:Z9,colors:Q9,spacing:t7},n7={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:A1(),captureMenuScroll:!A1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:M9(),formatGroupLabel:Y9,getOptionLabel:G9,getOptionValue:W9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:X9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!JH(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function V1(e,t,n,s){var i=DC(e,t,n),l=PC(e,t,n),u=kC(e,t),h=zf(e,t);return{type:"option",data:t,isDisabled:i,isSelected:l,label:u,value:h,index:s}}function vf(e,t){return e.options.map(function(n,s){if("options"in n){var i=n.options.map(function(u,h){return V1(e,u,t,h)}).filter(function(u){return Y1(e,u)});return i.length>0?{type:"group",data:n,options:i,index:s}:void 0}var l=V1(e,n,t,s);return Y1(e,l)?l:void 0}).filter(nV)}function AC(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Yx(n.options.map(function(s){return s.data}))):t.push(n.data),t},[])}function q1(e,t){return e.reduce(function(n,s){return s.type==="group"?n.push.apply(n,Yx(s.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(s.index,"-").concat(i.index)}}))):n.push({data:s.data,id:"".concat(t,"-").concat(s.index)}),n},[])}function r7(e,t){return AC(vf(e,t))}function Y1(e,t){var n=e.inputValue,s=n===void 0?"":n,i=t.data,l=t.isSelected,u=t.label,h=t.value;return(!IC(e)||!l)&&LC(e,{label:u,value:h,data:i},s)}function s7(e,t){var n=e.focusedValue,s=e.selectValue,i=s.indexOf(n);if(i>-1){var l=t.indexOf(n);if(l>-1)return n;if(i<t.length)return t[i]}return null}function a7(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Eg=function(t,n){var s,i=(s=t.find(function(l){return l.data===n}))===null||s===void 0?void 0:s.id;return i||null},kC=function(t,n){return t.getOptionLabel(n)},zf=function(t,n){return t.getOptionValue(n)};function DC(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function PC(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var s=zf(e,t);return n.some(function(i){return zf(e,i)===s})}function LC(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var IC=function(t){var n=t.hideSelectedOptions,s=t.isMulti;return n===void 0?s:n},i7=1,$C=function(e){FB(n,e);var t=VB(n);function n(s){var i;if(zB(this,n),i=t.call(this,s),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=q9(),i.controlRef=null,i.getControlRef=function(f){i.controlRef=f},i.focusedOptionRef=null,i.getFocusedOptionRef=function(f){i.focusedOptionRef=f},i.menuListRef=null,i.getMenuListRef=function(f){i.menuListRef=f},i.inputRef=null,i.getInputRef=function(f){i.inputRef=f},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(f,m){var g=i.props,x=g.onChange,y=g.name;m.name=y,i.ariaOnChange(f,m),x(f,m)},i.setValue=function(f,m,g){var x=i.props,y=x.closeMenuOnSelect,w=x.isMulti,j=x.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:j}),y&&(i.setState({inputIsHiddenAfterUpdate:!w}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(f,{action:m,option:g})},i.selectOption=function(f){var m=i.props,g=m.blurInputOnSelect,x=m.isMulti,y=m.name,w=i.state.selectValue,j=x&&i.isOptionSelected(f,w),N=i.isOptionDisabled(f,w);if(j){var S=i.getOptionValue(f);i.setValue(w.filter(function(_){return i.getOptionValue(_)!==S}),"deselect-option",f)}else if(!N)x?i.setValue([].concat(Yx(w),[f]),"select-option",f):i.setValue(f,"select-option");else{i.ariaOnChange(f,{action:"select-option",option:f,name:y});return}g&&i.blurInput()},i.removeValue=function(f){var m=i.props.isMulti,g=i.state.selectValue,x=i.getOptionValue(f),y=g.filter(function(j){return i.getOptionValue(j)!==x}),w=rf(m,y,y[0]||null);i.onChange(w,{action:"remove-value",removedValue:f}),i.focusInput()},i.clearValue=function(){var f=i.state.selectValue;i.onChange(rf(i.props.isMulti,[],null),{action:"clear",removedValues:f})},i.popValue=function(){var f=i.props.isMulti,m=i.state.selectValue,g=m[m.length-1],x=m.slice(0,m.length-1),y=rf(f,x,x[0]||null);g&&i.onChange(y,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(f){return Eg(i.state.focusableOptionsWithIds,f)},i.getFocusableOptionsWithIds=function(){return q1(vf(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return WH.apply(void 0,[i.props.classNamePrefix].concat(m))},i.getOptionLabel=function(f){return kC(i.props,f)},i.getOptionValue=function(f){return zf(i.props,f)},i.getStyles=function(f,m){var g=i.props.unstyled,x=K9[f](m,g);x.boxSizing="border-box";var y=i.props.styles[f];return y?y(x,m):x},i.getClassNames=function(f,m){var g,x;return(g=(x=i.props.classNames)[f])===null||g===void 0?void 0:g.call(x,m)},i.getElementId=function(f){return"".concat(i.state.instancePrefix,"-").concat(f)},i.getComponents=function(){return x9(i.props)},i.buildCategorizedOptions=function(){return vf(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return AC(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(f,m){i.setState({ariaSelection:Xe({value:f},m)})},i.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(f){i.blockOptionHover=!1},i.onControlMouseDown=function(f){if(!f.defaultPrevented){var m=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&i.onMenuClose():m&&i.openMenu("first"):(m&&(i.openAfterFocus=!0),i.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},i.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!i.props.isDisabled){var m=i.props,g=m.isMulti,x=m.menuIsOpen;i.focusInput(),x?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),f.preventDefault()}},i.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(i.clearValue(),f.preventDefault(),i.openAfterFocus=!1,f.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(f){typeof i.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Mh(f.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(f)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(f){var m=f.touches,g=m&&m.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(f){var m=f.touches,g=m&&m.item(0);if(g){var x=Math.abs(g.clientX-i.initialTouchX),y=Math.abs(g.clientY-i.initialTouchY),w=5;i.userIsDragging=x>w||y>w}},i.onTouchEnd=function(f){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(f.target)&&i.menuListRef&&!i.menuListRef.contains(f.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(f){i.userIsDragging||i.onControlMouseDown(f)},i.onClearIndicatorTouchEnd=function(f){i.userIsDragging||i.onClearIndicatorMouseDown(f)},i.onDropdownIndicatorTouchEnd=function(f){i.userIsDragging||i.onDropdownIndicatorMouseDown(f)},i.handleInputChange=function(f){var m=i.props.inputValue,g=f.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:m}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(f){i.props.onFocus&&i.props.onFocus(f),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(f){var m=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(f),i.onInputChange("",{action:"input-blur",prevInputValue:m}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(f){if(!(i.blockOptionHover||i.state.focusedOption===f)){var m=i.getFocusableOptions(),g=m.indexOf(f);i.setState({focusedOption:f,focusedOptionId:g>-1?i.getFocusedOptionId(f):null})}},i.shouldHideSelectedOptions=function(){return IC(i.props)},i.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),i.focus()},i.onKeyDown=function(f){var m=i.props,g=m.isMulti,x=m.backspaceRemovesValue,y=m.escapeClearsValue,w=m.inputValue,j=m.isClearable,N=m.isDisabled,S=m.menuIsOpen,_=m.onKeyDown,E=m.tabSelectsValue,C=m.openMenuOnFocus,M=i.state,R=M.focusedOption,A=M.focusedValue,k=M.selectValue;if(!N&&!(typeof _=="function"&&(_(f),f.defaultPrevented))){switch(i.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||w)return;i.focusValue("previous");break;case"ArrowRight":if(!g||w)return;i.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(A)i.removeValue(A);else{if(!x)return;g?i.popValue():j&&i.clearValue()}break;case"Tab":if(i.isComposing||f.shiftKey||!S||!E||!R||C&&i.isOptionSelected(R,k))return;i.selectOption(R);break;case"Enter":if(f.keyCode===229)break;if(S){if(!R||i.isComposing)return;i.selectOption(R);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:w}),i.onMenuClose()):j&&y&&i.clearValue();break;case" ":if(w)return;if(!S){i.openMenu("first");break}if(!R)return;i.selectOption(R);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}f.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++i7),i.state.selectValue=M1(s.value),s.menuIsOpen&&i.state.selectValue.length){var l=i.getFocusableOptionsWithIds(),u=i.buildFocusableOptions(),h=u.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=l,i.state.focusedOption=u[h],i.state.focusedOptionId=Eg(l,u[h])}return i}return UB(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&O1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var l=this.props,u=l.isDisabled,h=l.menuIsOpen,f=this.state.isFocused;(f&&!u&&i.isDisabled||f&&h&&!i.menuIsOpen)&&this.focusInput(),f&&u&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!u&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(O1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,l){this.props.onInputChange(i,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var l=this,u=this.state,h=u.selectValue,f=u.isFocused,m=this.buildFocusableOptions(),g=i==="first"?0:m.length-1;if(!this.props.isMulti){var x=m.indexOf(h[0]);x>-1&&(g=x)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[g],focusedOptionId:this.getFocusedOptionId(m[g])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(i){var l=this.state,u=l.selectValue,h=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=u.indexOf(h);h||(f=-1);var m=u.length-1,g=-1;if(u.length){switch(i){case"previous":f===0?g=0:f===-1?g=m:g=f-1;break;case"next":f>-1&&f<m&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:u[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,u=this.state.focusedOption,h=this.getFocusableOptions();if(h.length){var f=0,m=h.indexOf(u);u||(m=-1),i==="up"?f=m>0?m-1:h.length-1:i==="down"?f=(m+1)%h.length:i==="pageup"?(f=m-l,f<0&&(f=0)):i==="pagedown"?(f=m+l,f>h.length-1&&(f=h.length-1)):i==="last"&&(f=h.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:h[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(h[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(_g):Xe(Xe({},_g),this.props.theme):_g}},{key:"getCommonProps",value:function(){var i=this.clearValue,l=this.cx,u=this.getStyles,h=this.getClassNames,f=this.getValue,m=this.selectOption,g=this.setValue,x=this.props,y=x.isMulti,w=x.isRtl,j=x.options,N=this.hasValue();return{clearValue:i,cx:l,getStyles:u,getClassNames:h,getValue:f,hasValue:N,isMulti:y,isRtl:w,options:j,selectOption:m,selectProps:x,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,l=i.isClearable,u=i.isMulti;return l===void 0?u:l}},{key:"isOptionDisabled",value:function(i,l){return DC(this.props,i,l)}},{key:"isOptionSelected",value:function(i,l){return PC(this.props,i,l)}},{key:"filterOption",value:function(i,l){return LC(this.props,i,l)}},{key:"formatOptionLabel",value:function(i,l){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,h=this.state.selectValue;return this.props.formatOptionLabel(i,{context:l,inputValue:u,selectValue:h})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,l=i.isDisabled,u=i.isSearchable,h=i.inputId,f=i.inputValue,m=i.tabIndex,g=i.form,x=i.menuIsOpen,y=i.required,w=this.getComponents(),j=w.Input,N=this.state,S=N.inputIsHidden,_=N.ariaSelection,E=this.commonProps,C=h||this.getElementId("input"),M=Xe(Xe(Xe({"aria-autocomplete":"list","aria-expanded":x,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},x&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?p.createElement(j,Je({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:l,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:g,type:"text",value:f},M)):p.createElement(A9,Je({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:If,onFocus:this.onInputFocus,disabled:l,tabIndex:m,inputMode:"none",form:g,value:""},M))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,l=this.getComponents(),u=l.MultiValue,h=l.MultiValueContainer,f=l.MultiValueLabel,m=l.MultiValueRemove,g=l.SingleValue,x=l.Placeholder,y=this.commonProps,w=this.props,j=w.controlShouldRenderValue,N=w.isDisabled,S=w.isMulti,_=w.inputValue,E=w.placeholder,C=this.state,M=C.selectValue,R=C.focusedValue,A=C.isFocused;if(!this.hasValue()||!j)return _?null:p.createElement(x,Je({},y,{key:"placeholder",isDisabled:N,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),E);if(S)return M.map(function(L,U){var Y=L===R,oe="".concat(i.getOptionLabel(L),"-").concat(i.getOptionValue(L));return p.createElement(u,Je({},y,{components:{Container:h,Label:f,Remove:m},isFocused:Y,isDisabled:N,key:oe,index:U,removeProps:{onClick:function(){return i.removeValue(L)},onTouchEnd:function(){return i.removeValue(L)},onMouseDown:function($){$.preventDefault()}},data:L}),i.formatOptionLabel(L,"value"))});if(_)return null;var k=M[0];return p.createElement(g,Je({},y,{data:k,isDisabled:N}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),l=i.ClearIndicator,u=this.commonProps,h=this.props,f=h.isDisabled,m=h.isLoading,g=this.state.isFocused;if(!this.isClearable()||!l||f||!this.hasValue()||m)return null;var x={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(l,Je({},u,{innerProps:x,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),l=i.LoadingIndicator,u=this.commonProps,h=this.props,f=h.isDisabled,m=h.isLoading,g=this.state.isFocused;if(!l||!m)return null;var x={"aria-hidden":"true"};return p.createElement(l,Je({},u,{innerProps:x,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),l=i.DropdownIndicator,u=i.IndicatorSeparator;if(!l||!u)return null;var h=this.commonProps,f=this.props.isDisabled,m=this.state.isFocused;return p.createElement(u,Je({},h,{isDisabled:f,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),l=i.DropdownIndicator;if(!l)return null;var u=this.commonProps,h=this.props.isDisabled,f=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(l,Je({},u,{innerProps:m,isDisabled:h,isFocused:f}))}},{key:"renderMenu",value:function(){var i=this,l=this.getComponents(),u=l.Group,h=l.GroupHeading,f=l.Menu,m=l.MenuList,g=l.MenuPortal,x=l.LoadingMessage,y=l.NoOptionsMessage,w=l.Option,j=this.commonProps,N=this.state.focusedOption,S=this.props,_=S.captureMenuScroll,E=S.inputValue,C=S.isLoading,M=S.loadingMessage,R=S.minMenuHeight,A=S.maxMenuHeight,k=S.menuIsOpen,L=S.menuPlacement,U=S.menuPosition,Y=S.menuPortalTarget,oe=S.menuShouldBlockScroll,Q=S.menuShouldScrollIntoView,$=S.noOptionsMessage,ie=S.onMenuScrollToTop,le=S.onMenuScrollToBottom;if(!k)return null;var I=function(H,P){var z=H.type,V=H.data,K=H.isDisabled,re=H.isSelected,ge=H.label,de=H.value,Ne=N===V,Oe=K?void 0:function(){return i.onOptionHover(V)},ot=K?void 0:function(){return i.selectOption(V)},rt="".concat(i.getElementId("option"),"-").concat(P),me={id:rt,onClick:ot,onMouseMove:Oe,onMouseOver:Oe,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:re};return p.createElement(w,Je({},j,{innerProps:me,data:V,isDisabled:K,isSelected:re,key:rt,label:ge,type:z,value:de,isFocused:Ne,innerRef:Ne?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(H.data,"menu"))},W;if(this.hasOptions())W=this.getCategorizedOptions().map(function(B){if(B.type==="group"){var H=B.data,P=B.options,z=B.index,V="".concat(i.getElementId("group"),"-").concat(z),K="".concat(V,"-heading");return p.createElement(u,Je({},j,{key:V,data:H,options:P,Heading:h,headingProps:{id:K,data:B.data},label:i.formatGroupLabel(B.data)}),B.options.map(function(re){return I(re,"".concat(z,"-").concat(re.index))}))}else if(B.type==="option")return I(B,"".concat(B.index))});else if(C){var q=M({inputValue:E});if(q===null)return null;W=p.createElement(x,j,q)}else{var J=$({inputValue:E});if(J===null)return null;W=p.createElement(y,j,J)}var D={minMenuHeight:R,maxMenuHeight:A,menuPlacement:L,menuPosition:U,menuShouldScrollIntoView:Q},F=p.createElement(uV,Je({},j,D),function(B){var H=B.ref,P=B.placerProps,z=P.placement,V=P.maxHeight;return p.createElement(f,Je({},j,D,{innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:C,placement:z}),p.createElement($9,{captureEnabled:_,onTopArrive:ie,onBottomArrive:le,lockEnabled:oe},function(K){return p.createElement(m,Je({},j,{innerRef:function(ge){i.getMenuListRef(ge),K(ge)},innerProps:{role:"listbox","aria-multiselectable":j.isMulti,id:i.getElementId("listbox")},isLoading:C,maxHeight:V,focusedOption:N}),W)}))});return Y||U==="fixed"?p.createElement(g,Je({},j,{appendTo:Y,controlElement:this.controlRef,menuPlacement:L,menuPosition:U}),F):F}},{key:"renderFormField",value:function(){var i=this,l=this.props,u=l.delimiter,h=l.isDisabled,f=l.isMulti,m=l.name,g=l.required,x=this.state.selectValue;if(g&&!this.hasValue()&&!h)return p.createElement(F9,{name:m,onFocus:this.onValueInputFocus});if(!(!m||h))if(f)if(u){var y=x.map(function(N){return i.getOptionValue(N)}).join(u);return p.createElement("input",{name:m,type:"hidden",value:y})}else{var w=x.length>0?x.map(function(N,S){return p.createElement("input",{key:"i-".concat(S),name:m,type:"hidden",value:i.getOptionValue(N)})}):p.createElement("input",{name:m,type:"hidden",value:""});return p.createElement("div",null,w)}else{var j=x[0]?this.getOptionValue(x[0]):"";return p.createElement("input",{name:m,type:"hidden",value:j})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,l=this.state,u=l.ariaSelection,h=l.focusedOption,f=l.focusedValue,m=l.isFocused,g=l.selectValue,x=this.getFocusableOptions();return p.createElement(E9,Je({},i,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:h,focusedValue:f,isFocused:m,selectValue:g,focusableOptions:x,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),l=i.Control,u=i.IndicatorsContainer,h=i.SelectContainer,f=i.ValueContainer,m=this.props,g=m.className,x=m.id,y=m.isDisabled,w=m.menuIsOpen,j=this.state.isFocused,N=this.commonProps=this.getCommonProps();return p.createElement(h,Je({},N,{className:g,innerProps:{id:x,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:j}),this.renderLiveRegion(),p.createElement(l,Je({},N,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:j,menuIsOpen:w}),p.createElement(f,Je({},N,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),p.createElement(u,Je({},N,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,l){var u=l.prevProps,h=l.clearFocusValueOnUpdate,f=l.inputIsHiddenAfterUpdate,m=l.ariaSelection,g=l.isFocused,x=l.prevWasFocused,y=l.instancePrefix,w=i.options,j=i.value,N=i.menuIsOpen,S=i.inputValue,_=i.isMulti,E=M1(j),C={};if(u&&(j!==u.value||w!==u.options||N!==u.menuIsOpen||S!==u.inputValue)){var M=N?r7(i,E):[],R=N?q1(vf(i,E),"".concat(y,"-option")):[],A=h?s7(l,E):null,k=a7(l,M),L=Eg(R,k);C={selectValue:E,focusedOption:k,focusedOptionId:L,focusableOptionsWithIds:R,focusedValue:A,clearFocusValueOnUpdate:!1}}var U=f!=null&&i!==u?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},Y=m,oe=g&&x;return g&&!oe&&(Y={value:rf(_,E,E[0]||null),options:E,action:"initial-input-focus"},oe=!x),(m==null?void 0:m.action)==="initial-input-focus"&&(Y=null),Xe(Xe(Xe({},C),U),{},{prevProps:i,ariaSelection:Y,prevWasFocused:oe})}}]),n}(p.Component);$C.defaultProps=n7;var o7=p.forwardRef(function(e,t){var n=$B(e);return p.createElement($C,Je({ref:t},n))}),zC=o7;const G1=()=>{const{patientId:e,resultId:t}=br(),n=cr(),s=!!t,[i,l]=p.useState(null),[u,h]=p.useState(!1),[f,m]=p.useState(""),[g,x]=p.useState(e||null),[y,w]=p.useState([]),[j,N]=p.useState([]),[S,_]=p.useState([]),[E,C]=p.useState(void 0),[M,R]=p.useState(void 0),[A,k]=p.useState(new Date),[L,U]=p.useState(new Map),[Y,oe]=p.useState(""),[Q,$]=p.useState(!0),[ie,le]=p.useState(!1),[I,W]=p.useState(null),[q,J]=p.useState(!1),[D,F]=p.useState([]),[B,H]=p.useState(""),[P,z]=p.useState(""),V=yu(Y,250),K=p.useCallback(async()=>{if(t){$(!0),W(null);try{const[me,ve,Pe,ye]=await Promise.all([se.from("patient_result").select("*").eq("id",t).single(),se.from("result_value").select("id, value, test_parameter_id, test_parameter:test_parameter_id(test_type_id, test_type:test_type_id(id, name))").eq("patient_result_id",t),se.from("doctor").select("id, full_name").order("full_name"),se.from("test_type").select("id, name, category_id").order("name")]);if(me.error)throw me.error;if(!me.data)throw new Error("Résultat non trouvé.");const Se=me.data;if(l(me.data.patient),R(me.data.doctor_id),k(me.data.result_date?new Date(me.data.result_date):void 0),x(me.data.patient_id),F(ve.data||[]),H(me.data.normal_price??""),z(me.data.insurance_price??""),h(!!me.data.isFree),m(me.data.notes??""),Pe.error)throw Pe.error;if(ye.error)throw ye.error;if(w(Pe.data||[]),N(ye.data||[]),ve.error)throw ve.error;const De=ve.data||[],Qe=new Map,Ve=[...new Set(De.map(Qt=>{var Fe,it;return(it=(Fe=Qt.test_parameter)==null?void 0:Fe.test_type)==null?void 0:it.id}).filter(Boolean))],{data:St,error:Rt}=await se.from("test_parameter").select("*, test_type:test_type_id(id, name), order").in("test_type_id",Ve);if(Rt)throw Rt;Ve.forEach(Qt=>{var Bn,In,wn;const Fe=De.find(pn=>{var ln,Zt;return((Zt=(ln=pn.test_parameter)==null?void 0:ln.test_type)==null?void 0:Zt.id)===Qt}),it=((In=(Bn=Fe==null?void 0:Fe.test_parameter)==null?void 0:Bn.test_type)==null?void 0:In.name)||"Type Inconnu",on=(St||[]).filter(pn=>pn.test_type_id===Qt);Qe.set(Qt,{id:Qt,name:it,category_id:((wn=on[0])==null?void 0:wn.test_type_id)||"",created_at:"",updated_at:"",parameters:on.map(pn=>{const ln=De.find(Zt=>Zt.test_parameter_id===pn.id);return{...pn,resultValue:(ln==null?void 0:ln.value)||"",isVisible:!0,originalValueId:(ln==null?void 0:ln.id)||null}}),loadingParams:!1,errorLoadingParams:!1})}),U(Qe)}catch(me){console.error("Erreur chargement données pour modification:",me),W(me.message||"Impossible de charger les données pour la modification.")}finally{$(!1)}}},[t]),re=p.useCallback(async()=>{if(e){$(!0),W(null);try{const[me,ve,Pe]=await Promise.all([se.from("patient").select("*").eq("id",e).single(),se.from("doctor").select("id, full_name").order("full_name"),se.from("test_type").select("id, name, category_id").order("name")]);if(me.error)throw me.error;if(!me.data)throw new Error("Patient non trouvé pour la création.");if(ve.error)throw ve.error;if(Pe.error)throw Pe.error;l(me.data),x(e),w(ve.data||[]),N(Pe.data||[]),H(""),z("")}catch(me){console.error("Erreur chargement données pour création:",me),W(me.message||"Impossible de charger les informations nécessaires.")}finally{$(!1)}}},[e]);p.useEffect(()=>{(async()=>{const{data:ve,error:Pe}=await se.from("category").select("id, name").order("name");if(Pe){W("Erreur lors du chargement des catégories");return}_(ve||[])})()},[]),p.useEffect(()=>{s?K():re()},[s,K,re]);const ge=p.useMemo(()=>{if(E)return j.filter(me=>me.category_id===E);{if(!V)return j;const me=V.toLowerCase();return j.filter(ve=>ve.name.toLowerCase().includes(me))}},[j,V,E]),de=p.useCallback(async(me,ve)=>{const Pe=j.find(ye=>ye.id===ve);if(Pe)if(me===!0){U(ye=>{const Se=new Map(ye),De=Se.get(ve),Qe={...De||Pe,parameters:(De==null?void 0:De.parameters)||[],loadingParams:!0,errorLoadingParams:!1};return Se.set(ve,Qe),Se});try{const{data:ye,error:Se}=await se.from("test_parameter").select("*, test_type:test_type_id(id, name), order").eq("test_type_id",ve).order("order");if(Se)throw Se;U(De=>{const Qe=new Map(De),Ve=Qe.get(ve);if(Ve){const St=new Map(Ve.parameters.map(Fe=>[Fe.id,Fe])),Rt=(ye||[]).map(Fe=>{const it=St.get(Fe.id);return{...Fe,resultValue:(it==null?void 0:it.resultValue)||"",isVisible:(it==null?void 0:it.isVisible)!==!1,originalValueId:(it==null?void 0:it.originalValueId)||null}}),Qt={...Ve,parameters:Rt,loadingParams:!1,errorLoadingParams:!1};return Qe.set(ve,Qt),Qe}return De})}catch(ye){console.error(`Erreur chargement paramètres pour ${Pe.name}:`,ye),U(Se=>{const De=new Map(Se),Qe=De.get(ve);if(Qe){const Ve={...Qe,loadingParams:!1,errorLoadingParams:!0};return De.set(ve,Ve),De}return Se}),W(Se=>Se?`${Se}
Impossible de charger les paramètres pour ${Pe.name}.`:`Impossible de charger les paramètres pour ${Pe.name}.`)}}else U(ye=>{const Se=new Map(ye);return Se.delete(ve),Se})},[j]),Ne=(me,ve,Pe)=>{U(ye=>{const Se=new Map(ye),De=Se.get(me);if(De){const Qe=De.parameters.map(St=>St.id===ve?{...St,resultValue:Pe}:St),Ve={...De,parameters:Qe};return Se.set(me,Ve),Se}return ye})},Oe=(me,ve)=>{U(Pe=>{const ye=new Map(Pe),Se=ye.get(me);if(Se){const De=Se.parameters.map(Ve=>Ve.id===ve?{...Ve,isVisible:!1}:Ve),Qe={...Se,parameters:De};return ye.set(me,Qe),ye}return Pe})},ot=async me=>{if(me.preventDefault(),W(null),!g){W("Erreur: ID du patient non défini.");return}if(!M){W("Veuillez sélectionner un médecin prescripteur.");return}if(!A){W("Veuillez sélectionner la date du résultat.");return}if(L.size===0&&!s){W("Veuillez sélectionner au moins un type de test.");return}if(B!==""&&isNaN(Number(B))){W("Le prix normal doit être un nombre valide.");return}if(P!==""&&isNaN(Number(P))){W("Le prix assurance doit être un nombre valide.");return}le(!0);try{const ve={patient_id:g,doctor_id:M,result_date:ct(A,"yyyy-MM-dd'T'HH:mm:ssXXX")};B!==""&&(ve.normal_price=Number(B)),P!==""&&(ve.insurance_price=Number(P)),ve.isFree=u,ve.notes=f;const{data:Pe,error:ye}=await(s?se.from("patient_result").update(ve).eq("id",t).select().single():se.from("patient_result").insert(ve).select().single());if(ye)throw ye;const Se=Pe==null?void 0:Pe.id;if(!Se)throw new Error("Erreur lors de l'enregistrement de l'en-tête du résultat (ID manquant).");const De=new Map,Qe=new Set;L.forEach(Fe=>{Fe.parameters.forEach(it=>{it.isVisible!==!1&&(Qe.add(it.id),it.resultValue!==void 0&&it.resultValue.trim()!==""&&De.set(it.id,{value:it.resultValue.trim(),test_parameter_id:it.id}))})});const Ve=new Map(D.map(Fe=>[Fe.test_parameter_id,Fe])),St=[],Rt=[],Qt=[];if(D.forEach(Fe=>{(!Qe.has(Fe.test_parameter_id)||!De.has(Fe.test_parameter_id))&&St.push(Fe.id)}),De.forEach((Fe,it)=>{const on=Ve.get(it);on!=null&&on.id?Rt.push({id:on.id,patient_result_id:Se,test_parameter_id:Fe.test_parameter_id,value:Fe.value}):Qt.push({patient_result_id:Se,test_parameter_id:Fe.test_parameter_id,value:Fe.value})}),St.length>0){const{error:Fe}=await se.from("result_value").delete().in("id",St);if(Fe)throw Fe}for(const Fe of Rt){const{error:it}=await se.from("result_value").update({value:Fe.value,test_parameter_id:Fe.test_parameter_id,patient_result_id:Fe.patient_result_id}).eq("id",Fe.id);if(it)throw it}if(Qt.length>0){const{error:Fe}=await se.from("result_value").insert(Qt);if(Fe)throw Fe}n(s?`/results/${Se}`:`/results/${Se}`)}catch(ve){console.error(`Erreur lors de ${s?"la mise à jour":"la création"} du résultat:`,ve),W((ve==null?void 0:ve.message)||`Une erreur est survenue lors de ${s?"la mise à jour":"l'enregistrement"}.`)}finally{le(!1)}};if(Q)return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/2"})}),r.jsxs(Re,{className:"space-y-6",children:[r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-20 w-full"})]}),r.jsx(js,{children:r.jsx(X,{className:"h-10 w-32"})})]})]});const rt=s?`/results/${t}`:`/patients/${g}`;return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:rt,children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),s?"Retour au Résultat":"Retour au Patient"]})})}),r.jsxs(Ce,{className:"shadow-md",children:[r.jsxs(Te,{children:[r.jsxs(pt,{className:"text-xl font-semibold flex items-center gap-2",children:[s?r.jsx(cs,{className:"h-5 w-5 text-primary"}):r.jsx(lx,{className:"h-5 w-5 text-primary"}),s?"Modifier le Résultat":"Ajouter un Nouveau Résultat"]}),i&&r.jsxs(Cr,{children:["Pour le patient :"," ",r.jsx("span",{className:"font-medium",children:i.full_name})," (ID:"," ",i.patient_unique_id,")"]})]}),r.jsxs("form",{onSubmit:ot,children:[r.jsxs(Re,{className:"space-y-6",children:[I&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{className:"whitespace-pre-line",children:I})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{htmlFor:"doctor",className:"font-semibold",children:["Médecin Prescripteur"," ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(zC,{name:"doctor",options:y.length>0?y.map(me=>({value:me.id,label:me.full_name})):[],value:y.length>0&&y.map(me=>({value:me.id,label:me.full_name})).find(me=>me.value===M)||null,onChange:me=>R(me==null?void 0:me.value),placeholder:y.length===0?"Aucun médecin...":"Rechercher...",required:!0,isDisabled:ie||y.length===0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{htmlFor:"resultDate",className:"font-semibold",children:["Date du Résultat ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsxs(HE,{open:q,onOpenChange:J,children:[r.jsx(VE,{asChild:!0,children:r.jsxs(ne,{variant:"outline",className:Me("w-full justify-start text-left font-normal h-10",!A&&"text-muted-foreground"),disabled:ie,children:[r.jsx(__,{className:"mr-2 h-4 w-4"}),A?ct(A,"PPP",{locale:Wt}):r.jsx("span",{children:"Choisir une date"})]})}),r.jsx(qE,{className:"w-auto p-0",children:r.jsx(n2,{mode:"single",selected:A,onSelect:me=>{k(me||new Date),J(!1)},initialFocus:!0,locale:Wt,disabled:me=>me>new Date})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"font-semibold",children:"Prix Normal"}),r.jsx(Ke,{id:"normal_price",name:"normal_price",type:"number",required:!0,min:"0",step:"0.01",placeholder:"Prix normal du test (ex: 1000)",value:B,onChange:me=>H(me.target.value),disabled:ie})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"font-semibold",children:"Prix Assurance"}),r.jsx(Ke,{id:"insurance_price",name:"insurance_price",type:"number",required:!0,min:"0",step:"0.01",placeholder:"Prix avec assurance (ex: 800)",value:P,onChange:me=>z(me.target.value),disabled:ie})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(va,{id:"isFree",checked:u,onCheckedChange:me=>h(!!me),disabled:ie}),r.jsx(Ie,{htmlFor:"isFree",className:"font-semibold",children:"Gratuit"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(Ie,{htmlFor:"notes",className:"font-semibold",children:"Notes"}),r.jsx("textarea",{id:"notes",value:f,onChange:me=>m(me.target.value),rows:3,className:"w-full border rounded-md p-2 mt-1 focus:outline-none focus:ring focus:border-blue-300",placeholder:"Ajouter des notes ou des commentaires...",disabled:ie})]}),r.jsxs("div",{style:{marginBottom:16},children:[r.jsx(Ie,{htmlFor:"category-filter",children:"Catégorie"}),r.jsxs(pr,{value:E??"all",onValueChange:me=>C(me==="all"?void 0:me),children:[r.jsx(vr,{id:"category-filter",children:r.jsx(gr,{placeholder:"Filtrer par catégorie"})}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"all",children:"Toutes les catégories"}),S.map(me=>r.jsx(Nt,{value:me.id,children:me.name},me.id))]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ie,{className:"font-semibold text-base",children:"Types de Tests Inclus"}),r.jsxs("div",{className:"relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Ke,{type:"search",placeholder:"Rechercher et ajouter un type de test...",value:Y,onChange:me=>oe(me.target.value),className:"pl-10 w-full md:w-1/2 h-9",disabled:j.length===0})]}),j.length>0?r.jsx("div",{className:"grid grid-cols-2 _sm:grid-cols-3 _md:grid-cols-4 gap-x-4 gap-y-3 rounded-md border p-4 max-h-80 overflow-y-auto",children:ge.length>0?ge.map(me=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(va,{id:`test-type-${me.id}`,checked:L.has(me.id),onCheckedChange:ve=>de(ve,me.id),disabled:ie}),r.jsx("label",{htmlFor:`test-type-${me.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:me.name})]},me.id)):r.jsx("p",{className:"col-span-full text-sm text-muted-foreground text-center py-4",children:"Aucun type de test ne correspond."})}):r.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Aucun type de test configuré."})]}),L.size>0&&r.jsx(os,{}),Array.from(L.values()).map(me=>r.jsxs("div",{className:"space-y-4 py-4 border-b last:border-b-0",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center justify-between gap-2",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(ox,{className:"h-5 w-5 text-green-600"}),me.name]}),r.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:bg-destructive/10",onClick:()=>de(!1,me.id),disabled:ie,children:"Retirer ce Test"})]}),me.loadingParams?r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pl-7",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(X,{className:"h-5 w-20"}),r.jsx(X,{className:"h-9 w-full"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(X,{className:"h-5 w-20"}),r.jsx(X,{className:"h-9 w-full"})]})]}):me.errorLoadingParams?r.jsxs(Dt,{variant:"destructive",className:"ml-7",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur Paramètres"}),r.jsx(Lt,{children:"Impossible de charger les paramètres pour ce test."})]}):me.parameters.length>0?r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-3 pl-7",children:[me.parameters.filter(ve=>ve.isVisible!==!1).sort((ve,Pe)=>(ve.order??0)-(Pe.order??0)).map(ve=>r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(Ie,{htmlFor:`param-${ve.id}`,className:"text-sm font-medium flex items-center gap-1",children:[r.jsx("span",{dangerouslySetInnerHTML:{__html:ve.name}}),ve.unit&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",ve.unit,")"]})]}),r.jsx(ne,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>Oe(me.id,ve.id),disabled:ie,"aria-label":`Retirer ${ve.name}`,children:r.jsx(ch,{className:"h-4 w-4"})})]}),r.jsx(Ke,{id:`param-${ve.id}`,name:`param-${ve.id}`,value:ve.resultValue||"",onChange:Pe=>Ne(me.id,ve.id,Pe.target.value),placeholder:`Valeur ${ve.reference_range?`(Réf: ${ve.reference_range})`:""}`,disabled:ie,className:"h-9"}),ve.description&&r.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:ve.description})]},ve.id)),me.parameters.every(ve=>ve.isVisible===!1)&&r.jsx("p",{className:"col-span-full text-sm text-muted-foreground italic",children:"Tous les paramètres pour ce test sont masqués."})]}):r.jsx("p",{className:"text-sm text-muted-foreground italic pl-7",children:"Aucun paramètre défini pour ce type de test."})]},me.id))]}),r.jsxs(js,{className:"border-t px-6 py-4 flex justify-between",children:[r.jsx(ne,{type:"submit",disabled:ie||Q,children:ie?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Mise à jour...":"Enregistrement..."]}):s?"Mettre à jour le Résultat":"Enregistrer le Résultat"}),r.jsx(st,{to:rt,children:r.jsx(ne,{type:"button",variant:"outline",disabled:ie,children:"Annuler"})})]})]})]})]})},l7=()=>{const[e,t]=p.useState([]),[n,s]=p.useState([]),[i,l]=p.useState(!0),[u,h]=p.useState(null),[f,m]=p.useState(""),[g,x]=p.useState("all"),[y,w]=p.useState(!1),[j,N]=p.useState(null),S=yu(f,300),_=p.useCallback(async()=>{l(!0),h(null);try{const[M,R]=await Promise.all([se.from("test_type").select(`
            id,
            name,
            created_at,
            updated_at,
            category:category_id (id, name)
          `).order("name",{ascending:!0}),se.from("category").select("*").order("name",{ascending:!0})]);if(M.error)throw M.error;if(t(M.data||[]),R.error)throw R.error;s(R.data||[])}catch(M){console.error("Erreur lors de la récupération des données:",M),h((M==null?void 0:M.message)||"Une erreur est survenue lors du chargement."),t([]),s([])}finally{l(!1)}},[]);p.useEffect(()=>{_()},[_]);const E=p.useMemo(()=>{let M=e;if(g!=="all"&&(M=M.filter(R=>{var A;return((A=R.category)==null?void 0:A.id)===g})),S){const R=S.toLowerCase();M=M.filter(A=>A.name.toLowerCase().includes(R))}return M},[e,g,S]),C=async M=>{l(!0),h(null);try{const{error:R}=await se.from("test_type").delete().eq("id",M);if(R)throw R;_()}catch(R){h((R==null?void 0:R.message)||"Erreur lors de la suppression.")}finally{l(!1),w(!1),N(null)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[r.jsx(Ef,{className:"h-6 w-6"}),"Gestion des Types de Test"]}),r.jsx(st,{to:"/test-types/new",children:r.jsxs(ne,{children:[r.jsx(hi,{className:"mr-2 h-4 w-4"}),"Ajouter un Type de Test"]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 sm:flex-none sm:w-64 space-y-1.5",children:[r.jsx(Ie,{htmlFor:"categoryFilter",className:"text-xs font-medium text-muted-foreground",children:"Filtrer par Catégorie"}),r.jsxs(pr,{value:g,onValueChange:M=>x(M||"all"),disabled:i||n.length===0,children:[r.jsx(vr,{id:"categoryFilter",className:"h-10",children:r.jsx(gr,{placeholder:"Toutes les catégories"})}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"all",children:"Toutes les catégories"}),n.map(M=>r.jsx(Nt,{value:M.id,children:M.name},M.id))]})]})]}),r.jsxs("div",{className:"flex-1 space-y-1.5",children:[r.jsx(Ie,{htmlFor:"testTypeSearch",className:"text-xs font-medium text-muted-foreground",children:"Rechercher par Nom"}),r.jsxs("div",{className:"relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Ke,{id:"testTypeSearch",type:"search",placeholder:"Nom du type de test...",value:f,onChange:M=>m(M.target.value),className:"pl-10 h-10 w-full",disabled:i})]})]})]}),i&&r.jsxs("div",{className:"border rounded-lg",children:[r.jsx(X,{className:"h-12 w-full rounded-t-lg"})," ",r.jsxs("div",{className:"p-4 space-y-2",children:[r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"})]})]}),!i&&u&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur de Chargement"}),r.jsxs(Lt,{children:[u," ",r.jsx(ne,{variant:"link",onClick:_,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!i&&!u&&r.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{children:"Nom du Type de Test"}),r.jsx(xt,{className:"w-[250px]",children:"Catégorie"}),r.jsx(xt,{className:"text-right w-[150px]",children:"Actions"})]})}),r.jsx(Ea,{children:E.length>0?E.map(M=>r.jsxs(en,{children:[r.jsx(et,{className:"font-medium",children:M.name}),r.jsx(et,{children:r.jsx("div",{className:"flex items-center gap-2",children:M.category?r.jsxs(r.Fragment,{children:[r.jsx(zc,{className:"h-4 w-4 text-muted-foreground"}),M.category.name]}):r.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})})}),r.jsxs(et,{className:"text-right",children:[r.jsx(st,{to:`/test-types/${M.id}/edit`,children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(cs,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),r.jsx("span",{className:"sm:hidden",children:"Éditer"})]})}),r.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer",onClick:()=>{N(M.id),w(!0)},children:[r.jsx(nl,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Supprimer"}),r.jsx("span",{className:"sm:hidden",children:"Del"})]})]})]},M.id)):r.jsx(en,{children:r.jsx(et,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:f||g!=="all"?"Aucun type de test ne correspond à vos filtres.":r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r.jsx(ih,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun type de test défini."]})})})})]})}),r.jsx(Wi,{open:y,onOpenChange:w,children:r.jsxs(Xi,{children:[r.jsxs(Ki,{children:[r.jsx(Qi,{children:"Confirmer la suppression"}),r.jsx(bE,{children:"Êtes-vous sûr de vouloir supprimer ce type de test ? Cette action est irréversible."})]}),r.jsxs(hl,{children:[r.jsx(xE,{asChild:!0,children:r.jsx(ne,{variant:"outline",children:"Annuler"})}),r.jsx(ne,{variant:"destructive",onClick:()=>{j&&C(j)},disabled:i,children:"Supprimer"})]})]})})]})},nr=[];for(let e=0;e<256;++e)nr.push((e+256).toString(16).slice(1));function c7(e,t=0){return(nr[e[t+0]]+nr[e[t+1]]+nr[e[t+2]]+nr[e[t+3]]+"-"+nr[e[t+4]]+nr[e[t+5]]+"-"+nr[e[t+6]]+nr[e[t+7]]+"-"+nr[e[t+8]]+nr[e[t+9]]+"-"+nr[e[t+10]]+nr[e[t+11]]+nr[e[t+12]]+nr[e[t+13]]+nr[e[t+14]]+nr[e[t+15]]).toLowerCase()}let Cg;const u7=new Uint8Array(16);function d7(){if(!Cg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Cg=crypto.getRandomValues.bind(crypto)}return Cg(u7)}const f7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W1={randomUUID:f7};function X1(e,t,n){var i;if(W1.randomUUID&&!e)return W1.randomUUID();e=e||{};const s=e.random??((i=e.rng)==null?void 0:i.call(e))??d7();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,c7(s)}function su({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:Me("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const K1=()=>{const{testTypeId:e}=br(),t=cr(),n=!!e,[s,i]=p.useState(""),[l,u]=p.useState(""),[h,f]=p.useState(void 0),[m,g]=p.useState([]),[x,y]=p.useState([]),[w,j]=p.useState(null),[N,S]=p.useState([]),[_,E]=p.useState(!0),[C,M]=p.useState(!1),[R,A]=p.useState(null),k=p.useCallback(async()=>{E(!0),A(null),g([]),S([]),j(null),i(""),u(""),f(void 0);try{const{data:Q,error:$}=await se.from("category").select("*").order("name");if($)throw $;if(y(Q||[]),n&&e){const{data:ie,error:le}=await se.from("test_type").select("*").eq("id",e).single();if(le)throw le;if(!ie)throw new Error("Type de test non trouvé.");const{data:I,error:W}=await se.from("test_parameter").select("*").eq("test_type_id",e).order("name");if(W)throw W;j(ie),i(ie.name),u(ie.description||""),f(ie.category_id);const q=(I||[]).map(J=>({...J,tempId:J.id||X1()}));g(q),S(JSON.parse(JSON.stringify(q)))}}catch(Q){console.error("Erreur chargement données:",Q),A(Q.message||"Impossible de charger les données.")}finally{E(!1)}},[n,e]);p.useEffect(()=>{k()},[k]);const L=(Q,$,ie)=>{g(le=>le.map(I=>I.tempId===Q?{...I,[$]:$==="order"?Number(ie):ie}:I))},U=()=>{const Q=m.reduce((ie,le)=>Math.max(ie,le.order??0),0),$={tempId:X1(),name:"",unit:"",reference_range:"",description:"",order:Q+1,id:void 0,test_type_id:void 0};g(ie=>[...ie,$])},Y=Q=>{g($=>$.filter(ie=>ie.tempId!==Q))},oe=async Q=>{if(Q.preventDefault(),A(null),!s.trim()){A("Le nom du type de test est requis.");return}if(!h){A("Veuillez sélectionner une catégorie.");return}const $=m.find(ie=>{var le;return!((le=ie.name)!=null&&le.trim())});if($){A(`Le nom est requis pour tous les paramètres (problème avec paramètre temporaire ID ${$.tempId}).`);return}M(!0);try{let ie=e;const le={name:s.trim(),category_id:h,description:l.trim()||null};if(n){const{error:F}=await se.from("test_type").update(le).eq("id",ie);if(F)throw F}else{const{data:F,error:B}=await se.from("test_type").insert(le).select("id").single();if(B)throw B;if(!(F!=null&&F.id))throw new Error("Impossible d'obtenir l'ID du nouveau type de test.");ie=F.id}const I=new Map(m.map(F=>[F.tempId,F])),W=new Map(N.map(F=>[F.tempId,F])),q=[],J=[],D=[];if(N.forEach(F=>{!I.has(F.tempId)&&F.id&&q.push(F.id)}),m.forEach(F=>{const B=W.get(F.tempId),H={test_type_id:ie,name:F.name,unit:F.unit||null,reference_range:F.reference_range||null,description:F.description||null,order:F.order??0};if(B!=null&&B.id){const P={test_type_id:B.test_type_id||ie,name:B.name,unit:B.unit||null,reference_range:B.reference_range||null,description:B.description||null,order:B.order??0};JSON.stringify(H)!==JSON.stringify(P)&&D.push({id:B.id,...H})}else J.push(H)}),q.length>0){console.log("Deleting parameters:",q);const{error:F}=await se.from("test_parameter").delete().in("id",q);if(F)throw new Error(`Erreur suppression paramètres: ${F.message}`)}if(J.length>0){console.log("Inserting parameters:",J);const{error:F}=await se.from("test_parameter").insert(J);if(F)throw new Error(`Erreur insertion paramètres: ${F.message}`)}if(D.length>0){console.log("Updating parameters:",D);const{error:F}=await se.from("test_parameter").upsert(D);if(F)throw new Error(`Erreur mise à jour paramètres: ${F.message}`)}console.log("Save successful"),t("/test-types")}catch(ie){console.error("Erreur sauvegarde type de test:",ie),A(ie.message||`Une erreur est survenue lors de ${n?"la mise à jour":"l'enregistrement"}.`)}finally{M(!1)}};return _?r.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[r.jsx(X,{className:"h-8 w-32"})," ",r.jsxs(Ce,{children:[r.jsxs(Te,{children:[" ",r.jsx(X,{className:"h-6 w-1/2"})," ",r.jsx(X,{className:"h-4 w-3/4"})," "]}),r.jsxs(Re,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsx(os,{}),r.jsx(X,{className:"h-6 w-1/3"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(X,{className:"h-20 w-full"}),r.jsx(X,{className:"h-20 w-full"})]}),r.jsx(X,{className:"h-9 w-36"})]}),r.jsx(js,{children:r.jsx(X,{className:"h-10 w-32"})})]})]}):r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:"/test-types",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),r.jsx("form",{onSubmit:oe,children:r.jsxs(Ce,{className:"shadow-md",children:[r.jsxs(Te,{children:[r.jsxs(pt,{className:"text-xl font-semibold flex items-center gap-2",children:[n?r.jsx(Ef,{className:"h-5 w-5"}):r.jsx(Ef,{className:"h-5 w-5"}),n?"Modifier le Type de Test":"Ajouter un Type de Test"]}),r.jsx(Cr,{children:"Définissez le nom, la catégorie et les paramètres pour ce type de test."})]}),r.jsxs(Re,{className:"space-y-6",children:[R&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{className:"whitespace-pre-line",children:R})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{htmlFor:"testTypeName",className:"font-semibold",children:["Nom du Type ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(Ke,{id:"testTypeName",value:s,onChange:Q=>i(Q.target.value),placeholder:"Ex: Numération Formule Sanguine",disabled:C,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"testTypeDescription",className:"font-semibold",children:"Description"}),r.jsx(su,{id:"testTypeDescription",value:l,onChange:Q=>u(Q.target.value),placeholder:"Description du type de test, instructions de préparation, etc.",disabled:C,rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{htmlFor:"category",className:"font-semibold",children:["Catégorie ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsxs(pr,{value:h,onValueChange:Q=>f(Q),disabled:C||x.length===0,required:!0,children:[r.jsx(vr,{id:"category",className:"h-10",children:r.jsx(gr,{placeholder:"Sélectionner une catégorie..."})}),r.jsxs(xr,{children:[x.map(Q=>r.jsx(Nt,{value:Q.id,children:Q.name},Q.id)),x.length===0&&r.jsx(Nt,{value:"-",disabled:!0,children:"Aucune catégorie"})]})]})]})]}),r.jsx(os,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Paramètres Associés"}),m.length>0&&r.jsx("div",{className:"space-y-4",children:m.map((Q,$)=>r.jsxs(Ce,{className:"bg-muted/30 p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[r.jsxs(Ie,{htmlFor:`param-name-${Q.tempId}`,className:"text-sm",children:["Nom du Paramètre"," ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(Ke,{id:`param-name-${Q.tempId}`,value:Q.name||"",onChange:ie=>L(Q.tempId,"name",ie.target.value),placeholder:"Ex: Hémoglobine",disabled:C,required:!0,className:"bg-background h-9"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:`param-unit-${Q.tempId}`,className:"text-sm",children:"Unité"}),r.jsx(Ke,{id:`param-unit-${Q.tempId}`,value:Q.unit||"",onChange:ie=>L(Q.tempId,"unit",ie.target.value),placeholder:"Ex: g/dL",disabled:C,className:"bg-background h-9"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:`param-ref-${Q.tempId}`,className:"text-sm",children:"Valeurs de Référence"}),r.jsx(Ke,{id:`param-ref-${Q.tempId}`,value:Q.reference_range||"",onChange:ie=>L(Q.tempId,"reference_range",ie.target.value),placeholder:"Ex: 12.0 - 16.0",disabled:C,className:"bg-background h-9"})]}),r.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[r.jsx(Ie,{htmlFor:`param-desc-${Q.tempId}`,className:"text-sm",children:"Description (Optionnel)"}),r.jsx(su,{id:`param-desc-${Q.tempId}`,value:Q.description||"",onChange:ie=>L(Q.tempId,"description",ie.target.value),placeholder:"Explication du paramètre ou des valeurs...",disabled:C,className:"bg-background",rows:2})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:`param-order-${Q.tempId}`,className:"text-sm",children:"Ordre"}),r.jsx(Ke,{id:`param-order-${Q.tempId}`,value:Q.order||"",onChange:ie=>L(Q.tempId,"order",ie.target.value),type:"number",disabled:C,className:"bg-background h-9"})]})]}),r.jsx("div",{className:"mt-3 text-right",children:r.jsxs(ne,{type:"button",variant:"destructive",size:"sm",onClick:()=>Y(Q.tempId),disabled:C,className:"h-8 px-2 py-1 text-xs",children:[r.jsx(xu,{className:"h-3.5 w-3.5 mr-1"}),"Retirer Param. #",$+1]})})]},Q.tempId))}),m.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground italic text-center py-4",children:"Aucun paramètre défini pour ce type de test."}),r.jsxs(ne,{type:"button",variant:"outline",onClick:U,disabled:C,className:"mt-4",children:[r.jsx(hi,{className:"mr-2 h-4 w-4"}),"Ajouter un Paramètre"]})]})]}),r.jsxs(js,{className:"border-t px-6 py-4 flex justify-between",children:[r.jsx(ne,{type:"submit",disabled:C||_,children:C?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dl,{className:"mr-2 h-4 w-4"}),n?"Enregistrer les Modifications":"Enregistrer le Type de Test"]})}),r.jsx(st,{to:"/test-types",children:r.jsx(ne,{type:"button",variant:"outline",disabled:C,children:"Annuler"})})]})]})})]})},Q1=()=>{const{doctorId:e}=br(),t=cr(),n=!!e,[s,i]=p.useState({full_name:"",phone:"",hospital:"",bio:""}),[l,u]=p.useState(n),[h,f]=p.useState(!1),[m,g]=p.useState(null),x=p.useCallback(async()=>{if(!n||!e){u(!1);return}u(!0),g(null);try{const{data:j,error:N}=await se.from("doctor").select("*").eq("id",e).single();if(N)throw N;if(!j)throw new Error("Médecin non trouvé.");i({full_name:j.full_name||"",phone:j.phone||"",hospital:j.hospital||"",bio:j.bio||""})}catch(j){console.error("Erreur chargement médecin:",j),j instanceof Error?g(j.message||"Impossible de charger les données du médecin."):g("Une erreur inconnue est survenue.")}finally{u(!1)}},[n,e]);p.useEffect(()=>{x()},[x]);const y=j=>{const{name:N,value:S}=j.target;i(_=>({..._,[N]:S}))},w=async j=>{var N,S,_;if(j.preventDefault(),g(null),!s.full_name||!s.full_name.trim()){g("Le nom complet du médecin est requis.");return}f(!0);try{const E={full_name:s.full_name.trim(),phone:((N=s.phone)==null?void 0:N.trim())||null,hospital:((S=s.hospital)==null?void 0:S.trim())||null,bio:((_=s.bio)==null?void 0:_.trim())||null};let C=null;if(n){const{error:M}=await se.from("doctor").update(E).eq("id",e);C=M}else{const{error:M}=await se.from("doctor").insert(E);C=M}if(C)if(C.code==="23505")g("Un médecin avec ces informations (ex: nom) existe peut-être déjà.");else throw C;else t("/doctors")}catch(E){console.error(`Erreur ${n?"mise à jour":"création"} médecin:`,E),E instanceof Error?g(E.message||`Une erreur est survenue lors de ${n?"la mise à jour":"l'enregistrement"}.`):g(`Une erreur inconnue est survenue lors de ${n?"la mise à jour":"l'enregistrement"}.`)}finally{f(!1)}};return l?r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx(X,{className:"h-8 w-32"})," ",r.jsxs(Ce,{children:[r.jsxs(Te,{children:[" ",r.jsx(X,{className:"h-6 w-1/2"})," ",r.jsx(X,{className:"h-4 w-3/4"})," "]}),r.jsxs(Re,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-10 w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-20 w-full"})]})]}),r.jsx(js,{children:r.jsx(X,{className:"h-10 w-32"})})]})]}):r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:"/doctors",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),r.jsx("form",{onSubmit:w,children:r.jsxs(Ce,{className:"shadow-md",children:[r.jsxs(Te,{children:[r.jsxs(pt,{className:"text-xl font-semibold flex items-center gap-2",children:[n?r.jsx(cs,{className:"h-5 w-5"}):r.jsx(M_,{className:"h-5 w-5"}),n?"Modifier le Médecin":"Ajouter un Nouveau Médecin"]}),r.jsx(Cr,{children:n?"Mettez à jour les informations du médecin.":"Entrez les informations du nouveau médecin."})]}),r.jsxs(Re,{className:"space-y-6",children:[m&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{className:"whitespace-pre-line",children:m})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ie,{htmlFor:"full_name",className:"font-semibold",children:["Nom Complet ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(Ke,{id:"full_name",name:"full_name",value:s.full_name||"",onChange:y,placeholder:"Ex: Dr. Alain Dupont",disabled:h,required:!0,className:"h-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"phone",className:"font-semibold",children:"Téléphone"}),r.jsx(Ke,{id:"phone",name:"phone",type:"tel",value:s.phone||"",onChange:y,placeholder:"Ex: +33 6 11 22 33 44",disabled:h,className:"h-10"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"hospital",className:"font-semibold",children:"Hôpital / Clinique"}),r.jsx(Ke,{id:"hospital",name:"hospital",value:s.hospital||"",onChange:y,placeholder:"Ex: Hôpital Central",disabled:h,className:"h-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"bio",className:"font-semibold",children:"Bio / Notes (Optionnel)"}),r.jsx(su,{id:"bio",name:"bio",value:s.bio||"",onChange:y,placeholder:"Spécialité, notes importantes...",disabled:h,rows:4})]})]}),r.jsxs(js,{className:"border-t px-6 py-4 flex justify-between",children:[r.jsx(ne,{type:"submit",disabled:h||l,children:h?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dl,{className:"mr-2 h-4 w-4"}),n?"Enregistrer les Modifications":"Enregistrer le Médecin"]})}),r.jsx(st,{to:"/doctors",children:r.jsx(ne,{type:"button",variant:"outline",disabled:h,children:"Annuler"})})]})]})})]})},h7=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(!0),[i,l]=p.useState(null),[u,h]=p.useState(null),[f,m]=p.useState(!1),[g,x]=p.useState(!1),[y,w]=p.useState(null),[j,N]=p.useState({name:""}),[S,_]=p.useState(null),E=p.useCallback(async(L=!0)=>{L&&s(!0),l(null);try{const{data:U,error:Y}=await se.from("category").select("*").order("name",{ascending:!0});if(Y)throw Y;t(U||[])}catch(U){console.error("Erreur chargement catégories:",U),U instanceof Error?l(U.message||"Impossible de charger les catégories."):l("Impossible de charger les catégories."),t([])}finally{L&&s(!1)}},[]);p.useEffect(()=>{E()},[E]);const C=(L=null)=>{w(L),N({name:(L==null?void 0:L.name)||""}),h(null),x(!0)},M=()=>{x(!1),setTimeout(()=>{w(null),N({name:""})},150)},R=L=>{N({name:L.target.value})},A=async L=>{if(L.preventDefault(),h(null),!j.name||!j.name.trim()){h("Le nom de la catégorie est requis.");return}m(!0);const U={name:j.name.trim()};try{let Y=null;if(y){const{error:oe}=await se.from("category").update(U).eq("id",y.id);Y=oe}else{const{error:oe}=await se.from("category").insert(U);Y=oe}if(Y)if(Y.code==="23505")h("Ce nom de catégorie existe déjà.");else throw Y;else M(),await E(!1)}catch(Y){console.error("Erreur sauvegarde catégorie:",Y),Y instanceof Error?h(Y.message||"Une erreur est survenue."):h("Une erreur est survenue.")}finally{m(!1)}},k=async()=>{if(S){m(!0),l(null);try{const{error:L}=await se.from("category").delete().eq("id",S.id);if(L)if(L.code==="23503")l(`Impossible de supprimer la catégorie "${S.name}" car elle est utilisée par un ou plusieurs types de test.`),_(null);else throw L;else _(null),await E(!1)}catch(L){console.error("Erreur suppression catégorie:",L),L instanceof Error?l(L.message||"Une erreur est survenue lors de la suppression."):l("Une erreur est survenue lors de la suppression."),_(null)}finally{m(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[r.jsx(zc,{className:"h-6 w-6"}),"Gestion des Catégories"]}),r.jsxs(ne,{onClick:()=>C(null),children:[r.jsx(hi,{className:"mr-2 h-4 w-4"}),"Ajouter une Catégorie"]})]}),i&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:i})]}),n&&r.jsxs("div",{className:"border rounded-lg",children:[r.jsx(X,{className:"h-12 w-full rounded-t-lg"})," ",r.jsxs("div",{className:"p-4 space-y-2",children:[r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"})]})]}),!n&&!i&&r.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{children:"Nom de la Catégorie"}),r.jsx(xt,{className:"text-right w-[200px]",children:"Actions"})]})}),r.jsx(Ea,{children:e.length>0?e.map(L=>r.jsxs(en,{children:[r.jsx(et,{className:"font-medium",children:L.name}),r.jsxs(et,{className:"text-right space-x-2",children:[r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>C(L),children:r.jsx(cs,{className:"h-4 w-4"})}),r.jsx(Xc,{children:r.jsx(fh,{asChild:!0,children:r.jsx(ne,{variant:"destructive",size:"sm",onClick:U=>{U.stopPropagation(),_(L)},children:r.jsx(xu,{className:"h-4 w-4"})})})})]})]},L.id)):r.jsx(en,{children:r.jsx(et,{colSpan:2,className:"h-24 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r.jsx(ih,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucune catégorie définie."]})})})})]})}),r.jsx(Wi,{open:g,onOpenChange:x,children:r.jsx(Xi,{className:"sm:max-w-[425px]",children:r.jsxs("form",{onSubmit:A,children:[r.jsxs(Ki,{children:[r.jsx(Qi,{children:y?"Modifier la Catégorie":"Ajouter une Catégorie"}),r.jsx(bE,{children:y?"Modifiez le nom de la catégorie ci-dessous.":"Entrez le nom de la nouvelle catégorie."})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[u&&r.jsxs(Dt,{variant:"destructive",className:"text-xs",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:u})]}),r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsxs(Ie,{htmlFor:"category-name",className:"text-right col-span-1",children:["Nom ",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(Ke,{id:"category-name",name:"name",value:j.name,onChange:R,className:"col-span-3 h-9",disabled:f,required:!0,autoFocus:!0})]})]}),r.jsxs(hl,{children:[r.jsx(xE,{asChild:!0,children:r.jsx(ne,{type:"button",variant:"outline",disabled:f,children:"Annuler"})}),r.jsxs(ne,{type:"submit",disabled:f,children:[f&&r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),y?"Enregistrer Modifications":"Ajouter Catégorie"]})]})]})})}),r.jsx(Xc,{open:!!S,onOpenChange:L=>!L&&_(null),children:r.jsxs(hh,{children:[r.jsxs(mh,{children:[r.jsx(gh,{children:"Êtes-vous sûr(e) ?"}),r.jsxs(vh,{children:["Cette action est irréversible. Voulez-vous vraiment supprimer la catégorie",r.jsxs("span",{className:"font-medium",children:[' "',S==null?void 0:S.name,'"']})," ?",r.jsx("br",{}),r.jsx("span",{className:"text-destructive/80 font-medium",children:"Attention :"})," ","La suppression échouera si des types de test utilisent encore cette catégorie."]})]}),r.jsxs(ph,{children:[r.jsx(xh,{disabled:f,onClick:()=>_(null),children:"Annuler"}),r.jsxs(ne,{variant:"destructive",onClick:k,disabled:f,children:[f&&r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Supprimer"]})]})]})})]})};function m7(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const p7=e=>{switch(e){case"success":return x7;case"info":return y7;case"warning":return b7;case"error":return w7;default:return null}},g7=Array(12).fill(0),v7=({visible:e,className:t})=>we.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},we.createElement("div",{className:"sonner-spinner"},g7.map((n,s)=>we.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),x7=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b7=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),y7=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),w7=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j7=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},we.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),we.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),N7=()=>{const[e,t]=we.useState(document.hidden);return we.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let wv=1;class S7{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...i}=t,l=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:wv++,u=this.toasts.find(f=>f.id===l),h=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...t,id:l,title:s}),{...f,...t,id:l,dismissible:h,title:s}):f):this.addToast({title:s,...i,dismissible:h,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let l=s!==void 0,u;const h=i.then(async m=>{if(u=["resolve",m],we.isValidElement(m))l=!1,this.create({id:s,type:"default",message:m});else if(E7(m)&&!m.ok){l=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,y=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,j=typeof x=="object"&&!we.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:y,...j})}else if(m instanceof Error){l=!1;const x=typeof n.error=="function"?await n.error(m):n.error,y=typeof n.description=="function"?await n.description(m):n.description,j=typeof x=="object"&&!we.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:y,...j})}else if(n.success!==void 0){l=!1;const x=typeof n.success=="function"?await n.success(m):n.success,y=typeof n.description=="function"?await n.description(m):n.description,j=typeof x=="object"&&!we.isValidElement(x)?x:{message:x};this.create({id:s,type:"success",description:y,...j})}}).catch(async m=>{if(u=["reject",m],n.error!==void 0){l=!1;const g=typeof n.error=="function"?await n.error(m):n.error,x=typeof n.description=="function"?await n.description(m):n.description,w=typeof g=="object"&&!we.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...w})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,g)=>h.then(()=>u[0]==="reject"?g(u[1]):m(u[1])).catch(g));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||wv++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Er=new S7,_7=(e,t)=>{const n=(t==null?void 0:t.id)||wv++;return Er.addToast({title:e,...t,id:n}),n},E7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",C7=_7,R7=()=>Er.toasts,T7=()=>Er.getActiveToasts(),Rg=Object.assign(C7,{success:Er.success,info:Er.info,warning:Er.warning,error:Er.error,custom:Er.custom,message:Er.message,promise:Er.promise,dismiss:Er.dismiss,loading:Er.loading},{getHistory:R7,getToasts:T7});m7("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function sf(e){return e.label!==void 0}const M7=3,O7="24px",A7="16px",Z1=4e3,k7=356,D7=14,P7=45,L7=200;function ks(...e){return e.filter(Boolean).join(" ")}function I7(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const $7=e=>{var t,n,s,i,l,u,h,f,m;const{invert:g,toast:x,unstyled:y,interacting:w,setHeights:j,visibleToasts:N,heights:S,index:_,toasts:E,expanded:C,removeToast:M,defaultRichColors:R,closeButton:A,style:k,cancelButtonStyle:L,actionButtonStyle:U,className:Y="",descriptionClassName:oe="",duration:Q,position:$,gap:ie,expandByDefault:le,classNames:I,icons:W,closeButtonAriaLabel:q="Close toast"}=e,[J,D]=we.useState(null),[F,B]=we.useState(null),[H,P]=we.useState(!1),[z,V]=we.useState(!1),[K,re]=we.useState(!1),[ge,de]=we.useState(!1),[Ne,Oe]=we.useState(!1),[ot,rt]=we.useState(0),[me,ve]=we.useState(0),Pe=we.useRef(x.duration||Q||Z1),ye=we.useRef(null),Se=we.useRef(null),De=_===0,Qe=_+1<=N,Ve=x.type,St=x.dismissible!==!1,Rt=x.className||"",Qt=x.descriptionClassName||"",Fe=we.useMemo(()=>S.findIndex(te=>te.toastId===x.id)||0,[S,x.id]),it=we.useMemo(()=>{var te;return(te=x.closeButton)!=null?te:A},[x.closeButton,A]),on=we.useMemo(()=>x.duration||Q||Z1,[x.duration,Q]),Bn=we.useRef(0),In=we.useRef(0),wn=we.useRef(0),pn=we.useRef(null),[ln,Zt]=$.split("-"),ur=we.useMemo(()=>S.reduce((te,xe,_e)=>_e>=Fe?te:te+xe.height,0),[S,Fe]),$n=N7(),jn=x.invert||g,Ar=Ve==="loading";In.current=we.useMemo(()=>Fe*ie+ur,[Fe,ur]),we.useEffect(()=>{Pe.current=on},[on]),we.useEffect(()=>{P(!0)},[]),we.useEffect(()=>{const te=Se.current;if(te){const xe=te.getBoundingClientRect().height;return ve(xe),j(_e=>[{toastId:x.id,height:xe,position:x.position},..._e]),()=>j(_e=>_e.filter(Ae=>Ae.toastId!==x.id))}},[j,x.id]),we.useLayoutEffect(()=>{if(!H)return;const te=Se.current,xe=te.style.height;te.style.height="auto";const _e=te.getBoundingClientRect().height;te.style.height=xe,ve(_e),j(Ae=>Ae.find(dt=>dt.toastId===x.id)?Ae.map(dt=>dt.toastId===x.id?{...dt,height:_e}:dt):[{toastId:x.id,height:_e,position:x.position},...Ae])},[H,x.title,x.description,j,x.id]);const Tn=we.useCallback(()=>{V(!0),rt(In.current),j(te=>te.filter(xe=>xe.toastId!==x.id)),setTimeout(()=>{M(x)},L7)},[x,M,j,In]);we.useEffect(()=>{if(x.promise&&Ve==="loading"||x.duration===1/0||x.type==="loading")return;let te;return C||w||$n?(()=>{if(wn.current<Bn.current){const Ae=new Date().getTime()-Bn.current;Pe.current=Pe.current-Ae}wn.current=new Date().getTime()})():(()=>{Pe.current!==1/0&&(Bn.current=new Date().getTime(),te=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Tn()},Pe.current))})(),()=>clearTimeout(te)},[C,w,x,Ve,$n,Tn]),we.useEffect(()=>{x.delete&&Tn()},[Tn,x.delete]);function Xs(){var te;if(W!=null&&W.loading){var xe;return we.createElement("div",{className:ks(I==null?void 0:I.loader,x==null||(xe=x.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Ve==="loading"},W.loading)}return we.createElement(v7,{className:ks(I==null?void 0:I.loader,x==null||(te=x.classNames)==null?void 0:te.loader),visible:Ve==="loading"})}const Yr=x.icon||(W==null?void 0:W[Ve])||p7(Ve);var tn,ut;return we.createElement("li",{tabIndex:0,ref:Se,className:ks(Y,Rt,I==null?void 0:I.toast,x==null||(t=x.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Ve],x==null||(n=x.classNames)==null?void 0:n[Ve]),"data-sonner-toast":"","data-rich-colors":(tn=x.richColors)!=null?tn:R,"data-styled":!(x.jsx||x.unstyled||y),"data-mounted":H,"data-promise":!!x.promise,"data-swiped":Ne,"data-removed":z,"data-visible":Qe,"data-y-position":ln,"data-x-position":Zt,"data-index":_,"data-front":De,"data-swiping":K,"data-dismissible":St,"data-type":Ve,"data-invert":jn,"data-swipe-out":ge,"data-swipe-direction":F,"data-expanded":!!(C||le&&H),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${z?ot:In.current}px`,"--initial-height":le?"auto":`${me}px`,...k,...x.style},onDragEnd:()=>{re(!1),D(null),pn.current=null},onPointerDown:te=>{Ar||!St||(ye.current=new Date,rt(In.current),te.target.setPointerCapture(te.pointerId),te.target.tagName!=="BUTTON"&&(re(!0),pn.current={x:te.clientX,y:te.clientY}))},onPointerUp:()=>{var te,xe,_e;if(ge||!St)return;pn.current=null;const Ae=Number(((te=Se.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Be=Number(((xe=Se.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((_e=ye.current)==null?void 0:_e.getTime()),We=J==="x"?Ae:Be,gt=Math.abs(We)/dt;if(Math.abs(We)>=P7||gt>.11){rt(In.current),x.onDismiss==null||x.onDismiss.call(x,x),B(J==="x"?Ae>0?"right":"left":Be>0?"down":"up"),Tn(),de(!0);return}else{var ft,bt;(ft=Se.current)==null||ft.style.setProperty("--swipe-amount-x","0px"),(bt=Se.current)==null||bt.style.setProperty("--swipe-amount-y","0px")}Oe(!1),re(!1),D(null)},onPointerMove:te=>{var xe,_e,Ae;if(!pn.current||!St||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const dt=te.clientY-pn.current.y,We=te.clientX-pn.current.x;var gt;const ft=(gt=e.swipeDirections)!=null?gt:I7($);!J&&(Math.abs(We)>1||Math.abs(dt)>1)&&D(Math.abs(We)>Math.abs(dt)?"x":"y");let bt={x:0,y:0};const It=Bt=>1/(1.5+Math.abs(Bt)/20);if(J==="y"){if(ft.includes("top")||ft.includes("bottom"))if(ft.includes("top")&&dt<0||ft.includes("bottom")&&dt>0)bt.y=dt;else{const Bt=dt*It(dt);bt.y=Math.abs(Bt)<Math.abs(dt)?Bt:dt}}else if(J==="x"&&(ft.includes("left")||ft.includes("right")))if(ft.includes("left")&&We<0||ft.includes("right")&&We>0)bt.x=We;else{const Bt=We*It(We);bt.x=Math.abs(Bt)<Math.abs(We)?Bt:We}(Math.abs(bt.x)>0||Math.abs(bt.y)>0)&&Oe(!0),(_e=Se.current)==null||_e.style.setProperty("--swipe-amount-x",`${bt.x}px`),(Ae=Se.current)==null||Ae.style.setProperty("--swipe-amount-y",`${bt.y}px`)}},it&&!x.jsx&&Ve!=="loading"?we.createElement("button",{"aria-label":q,"data-disabled":Ar,"data-close-button":!0,onClick:Ar||!St?()=>{}:()=>{Tn(),x.onDismiss==null||x.onDismiss.call(x,x)},className:ks(I==null?void 0:I.closeButton,x==null||(s=x.classNames)==null?void 0:s.closeButton)},(ut=W==null?void 0:W.close)!=null?ut:j7):null,(Ve||x.icon||x.promise)&&x.icon!==null&&((W==null?void 0:W[Ve])!==null||x.icon)?we.createElement("div",{"data-icon":"",className:ks(I==null?void 0:I.icon,x==null||(i=x.classNames)==null?void 0:i.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Xs():null,x.type!=="loading"?Yr:null):null,we.createElement("div",{"data-content":"",className:ks(I==null?void 0:I.content,x==null||(l=x.classNames)==null?void 0:l.content)},we.createElement("div",{"data-title":"",className:ks(I==null?void 0:I.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?we.createElement("div",{"data-description":"",className:ks(oe,Qt,I==null?void 0:I.description,x==null||(h=x.classNames)==null?void 0:h.description)},typeof x.description=="function"?x.description():x.description):null),we.isValidElement(x.cancel)?x.cancel:x.cancel&&sf(x.cancel)?we.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||L,onClick:te=>{sf(x.cancel)&&St&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,te),Tn())},className:ks(I==null?void 0:I.cancelButton,x==null||(f=x.classNames)==null?void 0:f.cancelButton)},x.cancel.label):null,we.isValidElement(x.action)?x.action:x.action&&sf(x.action)?we.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||U,onClick:te=>{sf(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,te),!te.defaultPrevented&&Tn())},className:ks(I==null?void 0:I.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function J1(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function z7(e,t){const n={};return[e,t].forEach((s,i)=>{const l=i===1,u=l?"--mobile-offset":"--offset",h=l?A7:O7;function f(m){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?n[`${u}-${m}`]=h:n[`${u}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):f(h)}),n}const U7=we.forwardRef(function(t,n){const{invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:f,offset:m,mobileOffset:g,theme:x="light",richColors:y,duration:w,style:j,visibleToasts:N=M7,toastOptions:S,dir:_=J1(),gap:E=D7,icons:C,containerAriaLabel:M="Notifications"}=t,[R,A]=we.useState([]),k=we.useMemo(()=>Array.from(new Set([i].concat(R.filter(F=>F.position).map(F=>F.position)))),[R,i]),[L,U]=we.useState([]),[Y,oe]=we.useState(!1),[Q,$]=we.useState(!1),[ie,le]=we.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=we.useRef(null),W=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=we.useRef(null),J=we.useRef(!1),D=we.useCallback(F=>{A(B=>{var H;return(H=B.find(P=>P.id===F.id))!=null&&H.delete||Er.dismiss(F.id),B.filter(({id:P})=>P!==F.id)})},[]);return we.useEffect(()=>Er.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{A(B=>B.map(H=>H.id===F.id?{...H,delete:!0}:H))});return}setTimeout(()=>{wN.flushSync(()=>{A(B=>{const H=B.findIndex(P=>P.id===F.id);return H!==-1?[...B.slice(0,H),{...B[H],...F},...B.slice(H+1)]:[F,...B]})})})}),[R]),we.useEffect(()=>{if(x!=="system"){le(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:B})=>{le(B?"dark":"light")})}catch{F.addListener(({matches:H})=>{try{le(H?"dark":"light")}catch(P){console.error(P)}})}},[x]),we.useEffect(()=>{R.length<=1&&oe(!1)},[R]),we.useEffect(()=>{const F=B=>{var H;if(l.every(V=>B[V]||B.code===V)){var z;oe(!0),(z=I.current)==null||z.focus()}B.code==="Escape"&&(document.activeElement===I.current||(H=I.current)!=null&&H.contains(document.activeElement))&&oe(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[l]),we.useEffect(()=>{if(I.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,J.current=!1)}},[I.current]),we.createElement("section",{ref:n,"aria-label":`${M} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((F,B)=>{var H;const[P,z]=F.split("-");return R.length?we.createElement("ol",{key:F,dir:_==="auto"?J1():_,tabIndex:-1,ref:I,className:f,"data-sonner-toaster":!0,"data-sonner-theme":ie,"data-y-position":P,"data-lifted":Y&&R.length>1&&!u,"data-x-position":z,style:{"--front-toast-height":`${((H=L[0])==null?void 0:H.height)||0}px`,"--width":`${k7}px`,"--gap":`${E}px`,...j,...z7(m,g)},onBlur:V=>{J.current&&!V.currentTarget.contains(V.relatedTarget)&&(J.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||J.current||(J.current=!0,q.current=V.relatedTarget)},onMouseEnter:()=>oe(!0),onMouseMove:()=>oe(!0),onMouseLeave:()=>{Q||oe(!1)},onDragEnd:()=>oe(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},R.filter(V=>!V.position&&B===0||V.position===F).map((V,K)=>{var re,ge;return we.createElement($7,{key:V.id,icons:C,index:K,toast:V,defaultRichColors:y,duration:(re=S==null?void 0:S.duration)!=null?re:w,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:s,visibleToasts:N,closeButton:(ge=S==null?void 0:S.closeButton)!=null?ge:h,interacting:Q,position:F,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:D,toasts:R.filter(de=>de.position==V.position),heights:L.filter(de=>de.position==V.position),setHeights:U,expandByDefault:u,gap:E,expanded:Y,swipeDirections:t.swipeDirections})})):null}))});var eb="Progress",tb=100,[F7,wY]=yr(eb),[B7,H7]=F7(eb),UC=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:i,getValueLabel:l=V7,...u}=e;(i||i===0)&&!eN(i)&&console.error(q7(`${i}`,"Progress"));const h=eN(i)?i:tb;s!==null&&!tN(s,h)&&console.error(Y7(`${s}`,"Progress"));const f=tN(s,h)?s:null,m=Uf(f)?l(f,h):void 0;return r.jsx(B7,{scope:n,value:f,max:h,children:r.jsx(nt.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":Uf(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":HC(f,h),"data-value":f??void 0,"data-max":h,...u,ref:t})})});UC.displayName=eb;var FC="ProgressIndicator",BC=p.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,i=H7(FC,n);return r.jsx(nt.div,{"data-state":HC(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:t})});BC.displayName=FC;function V7(e,t){return`${Math.round(e/t*100)}%`}function HC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Uf(e){return typeof e=="number"}function eN(e){return Uf(e)&&!isNaN(e)&&e>0}function tN(e,t){return Uf(e)&&!isNaN(e)&&e<=t&&e>=0}function q7(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tb}\`.`}function Y7(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var G7=UC,W7=BC;function X7({className:e,value:t,...n}){return r.jsx(G7,{"data-slot":"progress",className:Me("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:r.jsx(W7,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var nb="Radio",[K7,VC]=yr(nb),[Q7,Z7]=K7(nb),qC=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:i=!1,required:l,disabled:u,value:h="on",onCheck:f,form:m,...g}=e,[x,y]=p.useState(null),w=Ct(t,S=>y(S)),j=p.useRef(!1),N=x?m||!!x.closest("form"):!0;return r.jsxs(Q7,{scope:n,checked:i,disabled:u,children:[r.jsx(nt.button,{type:"button",role:"radio","aria-checked":i,"data-state":WC(i),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:w,onClick:ke(e.onClick,S=>{i||f==null||f(),N&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),N&&r.jsx(J7,{control:x,bubbles:!j.current,name:s,value:h,checked:i,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});qC.displayName=nb;var YC="RadioIndicator",GC=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...i}=e,l=Z7(YC,n);return r.jsx(qr,{present:s||l.checked,children:r.jsx(nt.span,{"data-state":WC(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})})});GC.displayName=YC;var J7=e=>{const{control:t,checked:n,bubbles:s=!0,...i}=e,l=p.useRef(null),u=Dx(n),h=Xv(t);return p.useEffect(()=>{const f=l.current,m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&x){const y=new Event("click",{bubbles:s});x.call(f,n),f.dispatchEvent(y)}},[u,n,s]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function WC(e){return e?"checked":"unchecked"}var eq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rb="RadioGroup",[tq,jY]=yr(rb,[th,VC]),XC=th(),KC=VC(),[nq,rq]=tq(rb),QC=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:i,value:l,required:u=!1,disabled:h=!1,orientation:f,dir:m,loop:g=!0,onValueChange:x,...y}=e,w=XC(n),j=Gf(m),[N,S]=ci({prop:l,defaultProp:i,onChange:x});return r.jsx(nq,{scope:n,name:s,required:u,disabled:h,value:N,onValueChange:S,children:r.jsx(DS,{asChild:!0,...w,orientation:f,dir:j,loop:g,children:r.jsx(nt.div,{role:"radiogroup","aria-required":u,"aria-orientation":f,"data-disabled":h?"":void 0,dir:j,...y,ref:t})})})});QC.displayName=rb;var ZC="RadioGroupItem",JC=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...i}=e,l=rq(ZC,n),u=l.disabled||s,h=XC(n),f=KC(n),m=p.useRef(null),g=Ct(t,m),x=l.value===i.value,y=p.useRef(!1);return p.useEffect(()=>{const w=N=>{eq.includes(N.key)&&(y.current=!0)},j=()=>y.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",j)}},[]),r.jsx(PS,{asChild:!0,...h,focusable:!u,active:x,children:r.jsx(qC,{disabled:u,required:l.required,checked:x,...f,...i,name:l.name,ref:g,onCheck:()=>l.onValueChange(i.value),onKeyDown:ke(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:ke(i.onFocus,()=>{var w;y.current&&((w=m.current)==null||w.click())})})})});JC.displayName=ZC;var sq="RadioGroupIndicator",eR=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,i=KC(n);return r.jsx(GC,{...i,...s,ref:t})});eR.displayName=sq;var aq=QC,iq=JC,oq=eR;function lq({className:e,...t}){return r.jsx(aq,{"data-slot":"radio-group",className:Me("grid gap-3",e),...t})}function cq({className:e,...t}){return r.jsx(iq,{"data-slot":"radio-group-item",className:Me("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(oq,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:r.jsx(eL,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const uq={logoUrl:null,labName:"Laboratoire XYZ",addressLine1:"123 Rue Principale",cityPostalCode:"75001 Paris",phone:"01 23 45 67 89"},dq=({templates:e,selectedTemplateId:t,onSelectTemplate:n,disabled:s=!1})=>r.jsx(lq,{value:t,onValueChange:n,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",disabled:s,children:e.map(i=>r.jsxs(Ie,{htmlFor:i.id,className:Me("border-2 rounded-lg p-4 flex flex-col items-center gap-4 cursor-pointer transition-colors hover:border-primary/80",t===i.id&&"border-primary ring-2 ring-primary ring-offset-2",s&&"cursor-not-allowed opacity-50"),children:[r.jsx(cq,{value:i.id,id:i.id,className:"sr-only"}),r.jsx("span",{className:"font-medium text-sm text-center",children:i.name}),r.jsxs(Ce,{className:"w-full scale-75 origin-top border-dashed",children:[" ",r.jsx(Re,{className:"p-2",children:r.jsx(i.component,{data:uq,isPreview:!0})})]})]},i.id))}),fq="public",hq="header-logo",Tg=[{id:"template1",name:"Classique (Sans Logo)",component:Qn},{id:"template2",name:"Centré (Logo au Dessus)",component:Ra},{id:"template3",name:"Centré (encercle)",component:Ta},{id:"template4",name:"Centré (encercle en %)",component:Ma}],Mg="template1",mq=()=>{var le;const[e,t]=p.useState(null),[n,s]=p.useState({}),[i,l]=p.useState(null),[u,h]=p.useState(Mg),[f,m]=p.useState(null),[g,x]=p.useState(null),[y,w]=p.useState(!1),[j,N]=p.useState(null),[S,_]=p.useState(null),[E,C]=p.useState(!0),[M,R]=p.useState(!1),[A,k]=p.useState(null),L=p.useCallback(async()=>{C(!0),k(null);try{const{data:I,error:W}=await se.from("print_header_config").select("*").limit(1).maybeSingle();if(W)throw W;I?(t(I.id),s({lab_name:I.lab_name,address_line1:I.address_line1,address_line2:I.address_line2,city_postal_code:I.city_postal_code,phone:I.phone,email:I.email,website:I.website}),l(I.logo_url),h(I.selected_template||Mg)):(t(null),s({}),l(null),h(Mg))}catch(I){console.error("Erreur chargement configuration:",I),k(I instanceof Error?I.message:"Impossible de charger la configuration de l'en-tête.")}finally{C(!1)}},[]);p.useEffect(()=>{L()},[L]);const U=I=>{const{name:W,value:q}=I.target;s(J=>({...J,[W]:q}))},Y=I=>{var q;const W=(q=I.target.files)==null?void 0:q[0];if(f&&(URL.revokeObjectURL(f),m(null)),W){x(W),_(null);const J=URL.createObjectURL(W);m(J)}else x(null)};p.useEffect(()=>()=>{f&&URL.revokeObjectURL(f)},[f]);const oe=async()=>{var I;if(!g)return i;w(!0),_(null),N(0);try{const W=((I=g.name.split(".").pop())==null?void 0:I.toLowerCase())||"png",q=`${fq}/${hq}.${W}`,{error:J}=await se.storage.from("logos").upload(q,g,{cacheControl:"3600",upsert:!0});if(J)throw J;const{data:D}=se.storage.from("logos").getPublicUrl(q);if(!(D!=null&&D.publicUrl))throw new Error("Impossible d'obtenir l'URL publique du logo.");const F=`${D.publicUrl}?t=${new Date().getTime()}`;return l(F),x(null),f&&(URL.revokeObjectURL(f),m(null)),F}catch(W){console.error("Erreur upload logo:",W);const q=W instanceof Error?W.message:"Échec de l'upload du logo.";return _(q),Rg.error("Erreur Upload Logo",{description:q}),i}finally{w(!1),N(null)}},Q=async I=>{var W,q,J,D,F,B,H;I.preventDefault(),k(null),_(null),R(!0);try{let P=i;if(g&&(P=await oe(),!P||S)){k(S||"L'upload du logo a échoué. Veuillez réessayer."),R(!1);return}const z={lab_name:((W=n.lab_name)==null?void 0:W.trim())||null,address_line1:((q=n.address_line1)==null?void 0:q.trim())||null,address_line2:((J=n.address_line2)==null?void 0:J.trim())||null,city_postal_code:((D=n.city_postal_code)==null?void 0:D.trim())||null,phone:((F=n.phone)==null?void 0:F.trim())||null,email:((B=n.email)==null?void 0:B.trim())||null,website:((H=n.website)==null?void 0:H.trim())||null,logo_url:P,selected_template:u};let V=null,K=null;if(e){const{data:re,error:ge}=await se.from("print_header_config").update(z).eq("id",e).select().single();V=ge,K=re}else{const{data:re,error:ge}=await se.from("print_header_config").insert(z).select().single();V=ge,K=re,K!=null&&K.id&&t(K.id)}if(V)throw V;Rg.success("Configuration Enregistrée",{description:"L'en-tête d'impression a été mis à jour avec succès.",duration:3e3})}catch(P){console.error("Erreur sauvegarde configuration:",P);const z=P instanceof Error?P.message:"Une erreur est survenue lors de l'enregistrement.";k(z),Rg.error("Erreur Sauvegarde",{description:z})}finally{R(!1)}},$=p.useMemo(()=>{var I;return((I=Tg.find(W=>W.id===u))==null?void 0:I.component)||Qn},[u]),ie=p.useMemo(()=>({logoUrl:f||i,labName:n.lab_name,addressLine1:n.address_line1,addressLine2:n.address_line2,cityPostalCode:n.city_postal_code,phone:n.phone,email:n.email,website:n.website}),[n,i,f]);return E?r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsx(X,{className:"h-8 w-3/4 mb-4"}),r.jsx(X,{className:"h-32 w-full"})," ",r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/2"})}),r.jsxs(Re,{className:"space-y-4",children:[r.jsx(X,{className:"h-9 w-full"}),r.jsx(X,{className:"h-9 w-full"}),r.jsx(X,{className:"h-9 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/2"})}),r.jsxs(Re,{className:"space-y-4",children:[r.jsx(X,{className:"h-16 w-32 mx-auto"}),r.jsx(X,{className:"h-9 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/2"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-24 w-full"})})]}),r.jsx(X,{className:"h-10 w-36 ml-auto"})," "]}):r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[r.jsx(ls,{className:"h-6 w-6"}),"Configuration En-tête Impression/PDF"]}),A&&!M&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[A," ",r.jsx(ne,{variant:"link",onClick:L,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),r.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsxs(pt,{className:"flex items-center gap-2",children:[r.jsx(mL,{className:"h-5 w-5"})," Modèle d'En-tête"]}),r.jsx(Cr,{children:"Choisissez la disposition de l'en-tête pour vos rapports."})]}),r.jsx(Re,{children:r.jsx(dq,{templates:Tg,selectedTemplateId:u,onSelectTemplate:h,disabled:M||y})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(pt,{children:"Informations du Laboratoire"}),r.jsx(Cr,{children:"Ces informations apparaîtront dans l'en-tête choisi."})]}),r.jsxs(Re,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:"lab_name",children:"Nom du Laboratoire"}),r.jsx(Ke,{id:"lab_name",name:"lab_name",value:n.lab_name||"",onChange:U,disabled:M})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:"address_line1",children:"Adresse Ligne 1"}),r.jsx(Ke,{id:"address_line1",name:"address_line1",value:n.address_line1||"",onChange:U,disabled:M})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:"address_line2",children:"Adresse Ligne 2"}),r.jsx(Ke,{id:"address_line2",name:"address_line2",value:n.address_line2||"",onChange:U,disabled:M})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:"city_postal_code",children:"Ville & Code Postal"}),r.jsx(Ke,{id:"city_postal_code",name:"city_postal_code",value:n.city_postal_code||"",onChange:U,disabled:M})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:"phone",children:"Téléphone"}),r.jsx(Ke,{id:"phone",name:"phone",type:"tel",value:n.phone||"",onChange:U,disabled:M})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:"email",children:"E-mail"}),r.jsx(Ke,{id:"email",name:"email",type:"email",value:n.email||"",onChange:U,disabled:M})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Ie,{htmlFor:"website",children:"Site Web"}),r.jsx(Ke,{id:"website",name:"website",type:"url",value:n.website||"",onChange:U,disabled:M})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(pt,{children:"Logo du Laboratoire"})}),r.jsxs(Re,{className:"space-y-4",children:[r.jsx(Ie,{children:"Aperçu Actuel / Nouveau"}),r.jsxs(lu,{className:"h-20 w-20 rounded-md border",children:[r.jsx(Yf,{src:f||i||void 0,alt:"Logo",className:"object-contain"}),r.jsx(cu,{className:"rounded-md text-muted-foreground",children:r.jsx(oh,{})})]}),r.jsxs(Ie,{htmlFor:"logo-upload",className:Me(cl({variant:"outline"}),"cursor-pointer w-full",y||M&&"cursor-not-allowed opacity-50"),children:[" ",r.jsx(DL,{className:"mr-2 h-4 w-4"})," ",g?"Changer le logo...":"Choisir un logo..."," "]}),r.jsx(Ke,{id:"logo-upload",type:"file",accept:"image/png, image/jpeg, image/gif, image/svg+xml",onChange:Y,className:"hidden",disabled:y||M}),g&&!y&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fichier : ",g.name]}),y&&r.jsx(X7,{value:j,className:"w-full h-2"}),S&&!y&&r.jsxs(Dt,{variant:"destructive",className:"text-xs",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur Upload Précédente"}),r.jsx(Lt,{children:S})]})]})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsxs(pt,{children:["Aperçu de l'En-tête (Modèle:"," ",((le=Tg.find(I=>I.id===u))==null?void 0:le.name)||u,")"]}),r.jsx(Cr,{children:"Ceci est une prévisualisation basée sur le modèle sélectionné et les informations saisies."})]}),r.jsx(Re,{children:r.jsx($,{data:ie,isPreview:!0})})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs(ne,{type:"submit",disabled:M||y,children:[M?r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(dl,{className:"mr-2 h-4 w-4"}),"Enregistrer la Configuration"]})})]})]})},pq={pending:"default",approved:"warning",paid:"success"},gq={pending:"En attente",approved:"Approuvé",paid:"Payé"},Og=10,vq=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(!0),[i,l]=p.useState(null),[u,h]=p.useState(""),[f,m]=p.useState(1),[g,x]=p.useState(0),y=yu(u,300),[w,j]=p.useState(null),[N,S]=p.useState(!1),[_,E]=p.useState(null),[C,M]=p.useState(()=>!sessionStorage.getItem("ristourne_access_granted")),[R,A]=p.useState(""),[k,L]=p.useState(null),[U,Y]=p.useState(null),[oe,Q]=p.useState(!0);p.useEffect(()=>{(async()=>{Q(!0);const{data:H,error:P}=await se.from("settings").select("ristourne_access_code").limit(1).single();!P&&H&&H.ristourne_access_code?Y(H.ristourne_access_code):Y(null),Q(!1)})()},[]);const $=B=>{B.preventDefault(),R===U?(M(!1),A(""),L(null),sessionStorage.setItem("ristourne_access_granted","1")):L("Code incorrect. Veuillez réessayer.")},ie=async()=>{s(!0),l(null);try{const{count:B}=await se.from("ristourne").select("id",{count:"exact",head:!0});x(B||0);const H=(f-1)*Og,P=H+Og-1,{data:z,error:V}=await se.from("ristourne").select(`
          *,
          doctor:doctor_id (
            id,
            full_name,
            hospital
          )
        `).order("created_date",{ascending:!1}).range(H,P);if(V)throw V;t(z||[])}catch(B){console.error("Erreur lors de la récupération des ristournes:",B),l((B instanceof Error?B.message:"")||"Une erreur est survenue lors du chargement des ristournes."),t([])}finally{s(!1)}};p.useEffect(()=>{ie()},[f]);const le=p.useMemo(()=>{let B=e;if(y){const H=y.toLowerCase();B=e.filter(P=>{var z,V;return((z=P.doctor)==null?void 0:z.full_name.toLowerCase().includes(H))||((V=P.doctor)==null?void 0:V.hospital)&&P.doctor.hospital.toLowerCase().includes(H)})}return B.slice().sort((H,P)=>new Date(P.created_date).getTime()-new Date(H.created_date).getTime())},[e,y]),I=Math.ceil(g/Og),W=f>1,q=f<I,J=B=>new Date(B).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),D=B=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(B),F=async()=>{if(w){S(!0),E(null);try{const{error:B}=await se.from("ristourne").delete().eq("id",w.id);if(B)throw B;j(null),ie()}catch(B){E(B.message||"Erreur lors de la suppression")}finally{S(!1)}}};return r.jsxs(r.Fragment,{children:[r.jsx(Wi,{open:C,children:r.jsxs(Xi,{className:"max-w-[350px]",children:[r.jsx(Ki,{children:r.jsx(Qi,{children:"Code d'accès requis"})}),r.jsxs("form",{onSubmit:$,className:"space-y-4",children:[r.jsx(Ke,{type:"password",placeholder:"Entrer le code d'accès",value:R,onChange:B=>A(B.target.value),disabled:oe,autoFocus:!0}),k&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:k})]}),r.jsx(hl,{children:r.jsx(ne,{type:"submit",disabled:oe||!R,children:oe?"Chargement...":"Valider"})})]})]})}),!C&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[r.jsx(S_,{className:"h-6 w-6"}),"Gestion des Ristournes"]}),r.jsx(st,{to:"/ristournes/new",children:r.jsxs(ne,{children:[r.jsx(hi,{className:"mr-2 h-4 w-4"}),"Nouvelle Ristourne"]})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Ke,{type:"search",placeholder:"Rechercher par médecin ou hôpital...",value:u,onChange:B=>h(B.target.value),className:"pl-10 w-full md:w-1/3 h-10",disabled:n})]}),n&&r.jsxs("div",{className:"border rounded-lg",children:[r.jsx(X,{className:"h-12 w-full rounded-t-lg"}),r.jsxs("div",{className:"p-4 space-y-2",children:[r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"})]})]}),!n&&i&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur de Chargement"}),r.jsxs(Lt,{children:[i," ",r.jsx(ne,{variant:"link",onClick:ie,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!n&&!i&&r.jsxs("div",{className:"border rounded-lg overflow-hidden bg-background",children:[r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{children:"Date"}),r.jsx(xt,{children:"Médecin"}),r.jsx(xt,{children:"Hôpital"}),r.jsx(xt,{children:"Montant Total"}),r.jsx(xt,{children:"Statut"}),r.jsx(xt,{className:"text-right",children:"Actions"})]})}),r.jsx(Ea,{children:le.length>0?le.map(B=>{var H,P;return r.jsxs(en,{children:[r.jsx(et,{children:J(B.created_date)}),r.jsx(et,{className:"font-medium",children:(H=B.doctor)==null?void 0:H.full_name}),r.jsx(et,{children:((P=B.doctor)==null?void 0:P.hospital)||r.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),r.jsx(et,{children:D(B.total_fee)}),r.jsx(et,{children:r.jsx(us,{variant:pq[B.status],children:gq[B.status]})}),r.jsxs(et,{className:"text-right",children:[r.jsx(st,{to:`/ristournes/${B.id}`,children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(cs,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),r.jsx("span",{className:"sm:hidden",children:"Éditer"})]})}),r.jsxs(ne,{variant:"destructive",size:"sm",className:"ml-2",onClick:()=>j(B),disabled:N,children:[r.jsx(xu,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Supprimer"}),r.jsx("span",{className:"sm:hidden",children:"Del"})]})]})]},B.id)}):r.jsx(en,{children:r.jsx(et,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:u?"Aucune ristourne ne correspond à votre recherche.":r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[r.jsx("p",{children:"Aucune ristourne n'a été créée."}),r.jsx(st,{to:"/ristournes/new",children:r.jsxs(ne,{variant:"link",className:"gap-2",children:[r.jsx(hi,{className:"h-4 w-4"}),"Créer une ristourne"]})})]})})})})]}),r.jsxs("div",{className:"flex justify-between items-center py-3 px-2 border-t bg-muted text-xs",children:[r.jsxs("div",{children:["Page ",f," sur ",I]}),r.jsxs("div",{className:"space-x-2",children:[r.jsx(ne,{size:"sm",variant:"outline",onClick:()=>m(f-1),disabled:!W,children:"Précédent"}),r.jsx(ne,{size:"sm",variant:"outline",onClick:()=>m(f+1),disabled:!q,children:"Suivant"})]}),r.jsxs("div",{children:[g," résultats"]})]})]}),r.jsx(Wi,{open:!!w,onOpenChange:()=>j(null),children:r.jsxs(Xi,{children:[r.jsx(Ki,{children:r.jsx(Qi,{children:"Confirmer la suppression"})}),r.jsxs("div",{children:["Voulez-vous vraiment supprimer cette ristourne ? Cette action est irréversible.",_&&r.jsxs(Dt,{variant:"destructive",className:"mt-2",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:_})]})]}),r.jsxs(hl,{children:[r.jsx(ne,{variant:"outline",onClick:()=>j(null),disabled:N,children:"Annuler"}),r.jsx(ne,{variant:"destructive",onClick:F,loading:N,children:"Supprimer"})]})]})})]})]})},nN=()=>{const e=cr(),{ristourneId:t}=br(),n=!!t,[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(40),[m,g]=p.useState(100),[x,y]=p.useState(!1),[w,j]=p.useState([]),[N,S]=p.useState(""),[_,E]=p.useState(0),[C,M]=p.useState("pending"),[R,A]=p.useState([]),[k,L]=p.useState(!0),[U,Y]=p.useState(!1),[oe,Q]=p.useState(null),$=[{value:"pending",label:"En attente"},{value:"paid",label:"Payé"}];p.useEffect(()=>{(async()=>{try{const{data:V,error:K}=await se.from("doctor").select("*");if(K){Q("Erreur lors du chargement des médecins"),console.error("Error fetching doctors:",K);return}if(A(V||[]),n&&t){const{data:re,error:ge}=await se.from("ristourne").select(`
              *,
              doctor:doctor_id(*),
              ristourne_patient_result(
                *,
                patient_result:patient_result_id(
                  *,
                  patient:patient_id(*)
                )
              )
            `).eq("id",t).single();if(ge){Q("Erreur lors du chargement de la ristourne"),console.error("Error fetching ristourne:",ge);return}if(re){i(re.doctor),S(re.notes||""),E(re.total_fee),M(re.status);const de=re.ristourne_patient_result.map(Ne=>({...Ne.patient_result,calculatedFee:Ne.fee_amount,isSelected:!0,isSelectedInitial:!0,patient:Ne.patient_result.patient}));if(j(de),re.doctor){const{data:Ne}=await se.from("doctor_fee_config").select("*").eq("doctor_id",re.doctor.id).order("effective_date",{ascending:!1}).limit(1).single();Ne&&(u(Ne),f(Ne.normal_price_percentage),g(Ne.insurance_price_percentage),await q(re.doctor.id,Ne,de))}}}}catch(V){console.error("Error:",V),Q("Une erreur est survenue lors du chargement des données")}finally{L(!1)}})()},[n,t]);const ie=(z,V)=>{const K=z.normal_price?z.normal_price*V.normal_price_percentage/100:0,re=z.insurance_price?z.insurance_price*V.insurance_price_percentage/100:0;return Math.round(K+re)},le=p.useCallback((z,V)=>{if(!V)return z;const K=z.map(ge=>({...ge,calculatedFee:ie(ge,V)})),re=K.filter(ge=>ge.isSelected).reduce((ge,de)=>ge+de.calculatedFee,0);return E(re),K},[]),I=(z,V)=>{j(K=>{const re=K.map(ge=>ge.id===z?{...ge,isSelected:V}:ge);if(l){const ge=re.filter(de=>de.isSelected).reduce((de,Ne)=>de+Ne.calculatedFee,0);E(ge)}return re})},W=async()=>{if(s){y(!0);try{const z={doctor_id:s.id,normal_price_percentage:h,insurance_price_percentage:m,effective_date:new Date().toISOString()},{data:V,error:K}=await se.from("doctor_fee_config").insert(z).select().single();if(K)throw K;u(V),j(re=>le(re,V)),await q(s.id,V,w.filter(re=>re.isSelected))}catch(z){console.error("Error saving fee config:",z),Q(z.message||"Une erreur est survenue lors de la sauvegarde de la configuration")}finally{y(!1)}}},q=async(z,V,K)=>{let re=[];K&&K.length>0&&(re=K.map(ve=>ve.id));let ge=[];if(n&&t){const{data:ve,error:Pe}=await se.from("ristourne_patient_result").select("patient_result_id, ristourne(status, id)");!Pe&&Array.isArray(ve)&&(ge=ve.filter(ye=>ye.ristourne&&["paid","pending"].includes(ye.ristourne.status)&&ye.ristourne.id!==t).map(ye=>ye.patient_result_id))}else{const{data:ve,error:Pe}=await se.from("ristourne_patient_result").select("patient_result_id, ristourne(status)");!Pe&&Array.isArray(ve)&&(ge=ve.filter(ye=>ye.ristourne&&["paid","pending"].includes(ye.ristourne.status)).map(ye=>ye.patient_result_id))}let de=se.from("patient_result").select("*, patient:patient_id(*)");if(de=de.eq("isFree",!1),re.length>0?(de=de.or(`paid_status.eq.unpaid,or(paid_status.eq.paid,id.in.(${re.join(",")}))`),de=de.eq("doctor_id",z)):de=de.eq("doctor_id",z).eq("paid_status","unpaid"),ge.length>0){const ve=ge.filter(Pe=>!re.includes(Pe));ve.length>0&&(de=de.not("id","in",`(${ve.join(",")})`))}const{data:Ne,error:Oe}=await de;if(Oe){Q("Erreur lors du chargement des résultats"),console.error("Error fetching patient results:",Oe);return}const ot=new Map((K==null?void 0:K.map(ve=>[ve.id,ve]))||[]),rt=(Ne||[]).map(ve=>{const Pe=ot.get(ve.id);return{...ve,calculatedFee:(Pe==null?void 0:Pe.calculatedFee)||ie(ve,V),isSelected:!!Pe}});j(rt);const me=rt.filter(ve=>ve.isSelected).reduce((ve,Pe)=>ve+Pe.calculatedFee,0);E(me)};p.useEffect(()=>{s?(async V=>{const{data:K,error:re}=await se.from("doctor_fee_config").select("*").eq("doctor_id",V).order("effective_date",{ascending:!1}).limit(1).single();if(re&&re.code!=="PGRST116"){Q("Erreur lors du chargement de la configuration des frais"),console.error("Error fetching doctor fee config:",re);return}K?(u(K),f(K.normal_price_percentage),g(K.insurance_price_percentage),await q(V,K,w)):(u(null),f(40),g(100),j([]))})(s.id):(u(null),j([]),E(0))},[s]);const J=z=>{const V=R.find(K=>K.id===z);i(V||null)},D=z=>{M(z)},F=async z=>{if(z.preventDefault(),!s){Q("Veuillez sélectionner un médecin");return}const V=w.filter(K=>K.isSelected);Y(!0),Q(null);try{if(n){const de=w.filter(Ne=>Ne.isSelectedInitial).map(Ne=>Ne.id).filter(Ne=>!V.some(Oe=>Oe.id===Ne));de.length>0&&await se.from("patient_result").update({paid_status:"unpaid"}).in("id",de)}const{data:K,error:re}=await se.rpc("handle_ristourne_upsert",{p_ristourne_id:t||null,p_doctor_id:s.id,p_notes:N,p_total_fee:_,p_status:C,p_patient_results:V.map(ge=>({patient_result_id:ge.id,fee_amount:ge.calculatedFee}))});if(re)throw re;e("/ristournes",{state:{message:`Ristourne ${n?"modifiée":"créée"} avec succès.`}})}catch(K){console.error("Error saving ristourne:",K),Q(K.message||"Une erreur est survenue lors de la sauvegarde")}finally{Y(!1)}};p.useEffect(()=>{n&&w.length>0&&j(z=>z.map(V=>({...V,isSelectedInitial:V.isSelectedInitial??V.isSelected})))},[n,w.length]);const B=w.length>0&&w.every(z=>z.isSelected),H=w.some(z=>z.isSelected),P=z=>{if(j(V=>V.map(K=>({...K,isSelected:z}))),l){const V=w.map(K=>({...K,isSelected:z})).filter(K=>K.isSelected).reduce((K,re)=>K+re.calculatedFee,0);E(V)}};return k?r.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(X,{className:"h-10 w-10"}),r.jsx(X,{className:"h-10 w-40"})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-8 w-3/4"}),r.jsx(X,{className:"h-4 w-1/2"})]}),r.jsxs(Re,{className:"space-y-4",children:[r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-10 w-full"}),r.jsx(X,{className:"h-32 w-full"})]})]})]}):r.jsxs("div",{className:"ristourne-print-root container mx-auto p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsx(ne,{variant:"outline",size:"icon",onClick:()=>e("/ristournes"),children:r.jsx(Cn,{className:"h-4 w-4"})}),r.jsxs("h1",{className:"text-2xl font-bold",children:[n?"Modifier":"Nouvelle"," Ristourne"]}),r.jsx(ne,{variant:"default",className:"ml-auto",onClick:()=>window.print(),children:"Imprimer"})]}),oe&&r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsx(Lt,{children:oe})]}),r.jsxs("div",{className:"ristourne-print-summary  hidden print:block",children:[r.jsxs("h1",{children:["Ristourne: ",(s==null?void 0:s.full_name)||"-"]}),r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Patient"}),r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Prix"}),r.jsx("th",{children:"Prix AMO"}),r.jsx("th",{children:"Montant"})]})}),r.jsx("tbody",{children:w.filter(z=>z.isSelected&&z.paid_status==="paid").length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,children:"Aucun résultat payé sélectionné"})}):w.filter(z=>z.isSelected&&z.paid_status==="paid").map(z=>{var V,K;return r.jsxs("tr",{children:[r.jsx("td",{children:z.patient.full_name}),r.jsx("td",{children:z.result_date?ct(new Date(z.result_date),"dd/MM/yyyy"):""}),r.jsxs("td",{children:[(V=z.normal_price)==null?void 0:V.toLocaleString()," "]}),r.jsxs("td",{children:[(K=z.insurance_price)==null?void 0:K.toLocaleString()," "]}),r.jsxs("td",{children:[z.calculatedFee.toLocaleString()," "]})]},z.id)})})]}),r.jsx("div",{className:"flex items-center justify-end",children:r.jsxs(us,{variant:"secondary",className:"text-lg px-4 py-2",children:["Total: ",_.toLocaleString()," FCFA"]})})]}),r.jsxs("form",{className:"ristourne-print-area print:hidden",onSubmit:F,children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(pt,{children:"Sélection du Médecin"}),r.jsx(Cr,{children:"Sélectionnez le médecin pour lequel vous souhaitez créer une ristourne"})]}),r.jsx(Re,{children:r.jsx("div",{className:"w-[30%]",children:r.jsx(zC,{name:"doctor",options:R.map(z=>({value:z.id,label:z.full_name})),value:R.map(z=>({value:z.id,label:z.full_name})).find(z=>z.value===(s==null?void 0:s.id))||null,onChange:z=>J(z==null?void 0:z.value),isDisabled:U||n,placeholder:"Sélectionner un médecin..."})})})]}),s&&r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(pt,{children:"Configuration des Frais"}),r.jsx(Cr,{children:l?"Modifier la configuration des frais du médecin":"Créer une nouvelle configuration des frais pour le médecin"})]}),r.jsx(Re,{children:r.jsxs("div",{className:"grid gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"normalPrice",children:"Pourcentage Prix Normal"}),r.jsx(Ke,{id:"normalPrice",type:"number",min:"0",max:"100",value:h,onChange:z=>f(Number(z.target.value))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ie,{htmlFor:"insurancePrice",children:"Pourcentage Prix Assurance"}),r.jsx(Ke,{id:"insurancePrice",type:"number",min:"0",max:"100",value:m,onChange:z=>g(Number(z.target.value))})]})]})}),r.jsx(js,{children:r.jsxs(ne,{type:"button",onClick:W,disabled:x,children:[x&&r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),r.jsx(dl,{className:"mr-2 h-4 w-4"}),l?"Mettre à jour":"Enregistrer"]})})]}),s&&l&&r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(pt,{children:"Sélection des Résultats"}),r.jsx(Cr,{children:"Sélectionnez les résultats à inclure dans la ristourne"})]}),r.jsxs(Re,{children:[r.jsx("div",{className:"rounded-md border",children:r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{className:"w-12",children:r.jsx(va,{checked:B,indeterminate:H&&!B,onCheckedChange:z=>P(!!z),disabled:U||w.length===0,"aria-label":"Tout sélectionner"})}),r.jsx(xt,{children:"Patient"}),r.jsx(xt,{children:"Date"}),r.jsx(xt,{children:"Prix Normal"}),r.jsx(xt,{children:"Prix Assurance"}),r.jsx(xt,{className:"text-right",children:"Frais Calculés"})]})}),r.jsx(Ea,{children:w.length===0?r.jsx(en,{children:r.jsx(et,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucun résultat non payé trouvé pour ce médecin"})}):w.map(z=>{var V,K;return r.jsxs(en,{children:[r.jsx(et,{children:r.jsx(va,{checked:z.isSelected,onCheckedChange:re=>I(z.id,re),disabled:U})}),r.jsx(et,{children:z.patient.full_name}),r.jsx(et,{children:z.result_date?ct(new Date(z.result_date),"dd/MM/yyyy"):""}),r.jsxs(et,{children:[(V=z.normal_price)==null?void 0:V.toLocaleString()," FCFA"]}),r.jsxs(et,{children:[(K=z.insurance_price)==null?void 0:K.toLocaleString()," FCFA"]}),r.jsxs(et,{className:"text-right font-medium",children:[z.calculatedFee.toLocaleString()," FCFA"]})]},z.id)})})]})}),r.jsx("div",{className:"mt-4 flex justify-end items-center gap-2 print:block",children:r.jsxs(us,{variant:"secondary",className:"text-lg px-4 py-2",children:["Total: ",_.toLocaleString()," FCFA"]})})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(pt,{children:"Statut"}),r.jsx(Cr,{children:"Sélectionnez le statut de la ristourne"})]}),r.jsx(Re,{children:r.jsxs(pr,{value:C,onValueChange:D,children:[r.jsx(vr,{children:r.jsx(gr,{placeholder:"Sélectionner un statut"})}),r.jsx(xr,{children:$.map(z=>r.jsx(Nt,{value:z.value,children:z.label},z.value))})]})})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(pt,{children:"Notes"}),r.jsx(Cr,{children:"Ajoutez des notes ou commentaires optionnels"})]}),r.jsx(Re,{children:r.jsx(su,{value:N,onChange:z=>S(z.target.value),placeholder:"Notes ou commentaires...",disabled:U})})]}),r.jsx(Ce,{children:r.jsxs(js,{className:"flex justify-end space-x-4",children:[r.jsx(ne,{type:"button",variant:"outline",onClick:()=>e("/ristournes"),disabled:U,children:"Annuler"}),r.jsxs(ne,{type:"submit",disabled:U||!l,children:[U&&r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),r.jsx(dl,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})]})})]})]})},xq=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(""),[i,l]=p.useState("category"),[u,h]=p.useState(!1),[f,m]=p.useState(null),[g,x]=p.useState(null),y=async()=>{h(!0),m(null);const{data:N,error:S}=await se.from("skip_range_check").select("id, value, type").order("type").order("value");!S&&N?t(N):m("Erreur lors du chargement des valeurs."),h(!1)};p.useEffect(()=>{y()},[]);const w=async N=>{if(N.preventDefault(),!n.trim())return;h(!0),m(null);const{error:S}=await se.from("skip_range_check").insert({value:n.trim(),type:i});S?m("Erreur lors de l'ajout."):(s(""),y()),h(!1)},j=async N=>{h(!0),m(null);const{error:S}=await se.from("skip_range_check").delete().eq("id",N);S?m("Erreur lors de la suppression."):y(),h(!1)};return r.jsx("div",{className:"max-w-xl mx-auto mt-10",children:r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(pt,{children:"Gestion des valeurs à ignorer pour le contrôle des plages"})}),r.jsxs(Re,{children:[r.jsxs("form",{onSubmit:w,className:"flex gap-2 mb-6",children:[r.jsx(Ke,{placeholder:"Nom de la catégorie ou du test type",value:n,onChange:N=>s(N.target.value),disabled:u,required:!0}),r.jsxs(pr,{value:i,onValueChange:N=>l(N),children:[r.jsx(vr,{className:"w-32",children:r.jsx(gr,{})}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"category",children:"Catégorie"}),r.jsx(Nt,{value:"test_type",children:"Test Type"})]})]}),r.jsx(ne,{type:"submit",disabled:u,children:"Ajouter"})]}),f&&r.jsx("div",{className:"text-red-500 mb-2",children:f}),u?r.jsx("div",{children:"Chargement…"}):r.jsx("ul",{className:"space-y-2",children:e.map(({id:N,value:S,type:_})=>r.jsxs("li",{className:"flex items-center justify-between border-b pb-2",children:[r.jsxs("span",{children:[r.jsxs("span",{className:"font-semibold",children:[_==="category"?"Catégorie":"Test Type",":"]})," ",S]}),r.jsxs(Xc,{children:[r.jsx(fh,{asChild:!0,children:r.jsx(ne,{variant:"destructive",size:"sm",disabled:u,onClick:()=>x(N),children:"Supprimer"})}),r.jsxs(hh,{children:[r.jsxs(mh,{children:[r.jsx(gh,{children:"Confirmer la suppression"}),r.jsx(vh,{children:"Voulez-vous vraiment supprimer cette valeur à ignorer ? Cette action est irréversible."})]}),r.jsxs(ph,{children:[r.jsx(xh,{asChild:!0,children:r.jsx(ne,{variant:"outline",onClick:()=>x(null),children:"Annuler"})}),r.jsx(bx,{asChild:!0,children:r.jsx(ne,{variant:"destructive",onClick:async()=>{await j(N),x(null)},children:"Supprimer"})})]})]})]})]},N))})]})]})})},bq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},yq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},wq=()=>{const{resultId:e}=br();cr();const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(null),[m,g]=p.useState(!0),[x,y]=p.useState(!1),[w,j]=p.useState(null),[N,S]=p.useState(null),[_,E]=p.useState(""),[C,M]=p.useState(!1),[R,A]=p.useState(""),[k,L]=p.useState(""),[U,Y]=p.useState(!1),[oe,Q]=p.useState(null),$=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],ie="template1",[le,I]=p.useState(null),[W,q]=p.useState(!0),J=async()=>{if(!e){j("ID du résultat manquant."),g(!1);return}g(!0),j(null),S(null),n(null),i(null),u(null),f(null),q(!0),I(null);try{const{data:V,error:K}=await se.from("patient_result").select("*").eq("id",e).single();if(K)throw K;if(!V)throw new Error("Résultat non trouvé.");n(V);const[re,ge,de,Ne]=await Promise.all([se.from("patient").select("*").eq("id",V.patient_id).single(),se.from("doctor").select("*").eq("id",V.doctor_id).single(),se.from("protidogramme").select("*").eq("result_id",e).maybeSingle(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);re.error&&console.warn("Erreur chargement patient:",re.error.message),ge.error&&console.warn("Erreur chargement médecin:",ge.error.message),i(re.data),u(ge.data),f(de.data||null),I(Ne.data),q(!1)}catch(V){console.error("Erreur chargement détails du résultat:",V),j(V.message||"Une erreur est survenue lors du chargement du résultat.")}finally{g(!1)}};p.useEffect(()=>{J()},[e]),p.useEffect(()=>{A((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),L((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const D=p.useCallback(async V=>{if(e)try{const{error:K}=await se.from("patient_result").update({description:V}).eq("id",e);if(K)throw K}catch(K){console.error("Error saving description:",K)}},[e]);p.useEffect(()=>{const V=setTimeout(()=>{_!==(t==null?void 0:t.description)&&D(_)},1e3);return()=>clearTimeout(V)},[_,t==null?void 0:t.description,D]);const F=p.useCallback(async()=>{Y(!0),Q(null);try{const V=R!==""?Number(R):null,K=k!==""?Number(k):null;if(R!==""&&isNaN(V)||k!==""&&isNaN(K)){Q("Les prix doivent être des nombres valides."),Y(!1);return}const{error:re,data:ge}=await se.from("patient_result").update({normal_price:V,insurance_price:K}).eq("id",t.id).select().single();if(re)throw re;n(de=>de&&{...de,normal_price:V,insurance_price:K}),M(!1)}catch(V){Q(V.message||"Erreur lors de la sauvegarde des prix.")}finally{Y(!1)}},[t,R,k]),B=async V=>{if(!(!t||V===t.status)){y(!0),S(null);try{const{data:K,error:re}=await se.from("patient_result").update({status:V}).eq("id",t.id).select().single();if(re)throw re;n(K||(ge=>ge?{...ge,status:V}:null))}catch(K){console.error("Erreur mise à jour statut:",K),S(K.message||"Impossible de mettre à jour le statut.")}finally{y(!1)}}},H=(V,K,re,ge)=>{const de=V;return r.jsxs("div",{className:Me("flex items-start space-x-3",ge),children:[r.jsx(de,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:K}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:re||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},P=p.useMemo(()=>{var K;const V=(le==null?void 0:le.selected_template)||ie;return((K=$.find(re=>re.id===V))==null?void 0:K.component)||Qn},[le]),z=p.useMemo(()=>({logoUrl:(le==null?void 0:le.logo_url)||null,labName:le==null?void 0:le.lab_name,addressLine1:le==null?void 0:le.address_line1,addressLine2:le==null?void 0:le.address_line2,cityPostalCode:le==null?void 0:le.city_postal_code,phone:le==null?void 0:le.phone,email:le==null?void 0:le.email,website:le==null?void 0:le.website}),[le]);return m?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):w?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[w," ",r.jsx(ne,{variant:"link",onClick:J,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:s?`/patients/${s.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",s?`à ${s.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),r.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[le?r.jsx("div",{className:"mb-2 print:mb-0",children:r.jsx(P,{data:z,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):r.jsxs(Dt,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"En-tête Manquant"}),r.jsxs(Lt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",r.jsx(st,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),r.jsx(os,{className:"my-2 print:my-0 print:border-none"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[H(Ge,"NOM PRENOM",s==null?void 0:s.full_name),H(Ge,"IDENTIFIANT Unique",s==null?void 0:s.patient_unique_id),H(hn,"Date Naissance",s!=null&&s.date_of_birth?ct(Kt(s.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:H(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[H(qt,"NOM PRENOM",l==null?void 0:l.full_name),H(yn,"Téléphone",l==null?void 0:l.phone),H(Ge,"Provenance",l==null?void 0:l.hospital)]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[H(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),C?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:V=>A(V.target.value),disabled:U}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),C?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:k,onChange:V=>L(V.target.value),disabled:U}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:k,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:C?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:F,disabled:U,children:[U?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>M(!1),disabled:U,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>M(!0),children:"Modifier Prix"})}),oe&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:oe})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:t.status??"",onValueChange:V=>B(V),disabled:x,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),x&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),N&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:N}),r.jsx(us,{variant:bq(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:yq(t.status)})]})]})]})]})]}),r.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]}),H(Ge,"NOM PRENOM",s==null?void 0:s.full_name),H(Ge,"ID Unique",s==null?void 0:s.patient_unique_id),H(yn,"Téléphone",s==null?void 0:s.phone)]}),r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(ar,{className:"h-4 w-4"})," Médecin"]}),H(qt,"NOM PRENOM",l==null?void 0:l.full_name),H(yn,"Téléphone",l==null?void 0:l.phone),H(Ge,"Hôpital",l==null?void 0:l.hospital)]})]}),r.jsxs(Ce,{className:"shadow print:shadow-none print:border-none",children:[r.jsx(Te,{className:"flex-row items-center gap-2 print:hidden",children:r.jsx(pt,{className:"flex-1 text-lg",children:"Protidogramme"})}),r.jsx(Re,{children:r.jsx(jq,{})})]})]})," "]}):r.jsx("div",{children:"Résultat non trouvé."})},jq=()=>{const{resultId:e}=br(),[t,n]=p.useState(null),[s,i]=p.useState(!0),[l,u]=p.useState(null),[h,f]=p.useState(!1),[m,g]=p.useState(""),[x,y]=p.useState(null),[w,j]=p.useState(null),[N,S]=p.useState(!1),[_,E]=p.useState(null),C=p.useRef(null);p.useEffect(()=>{e&&(i(!0),u(null),se.from("protidogramme").select("*").eq("result_id",e).single().then(({data:L,error:U})=>{U&&U.code!=="PGRST116"&&u("Erreur de chargement"),n(L),g((L==null?void 0:L.description)||""),j(L!=null&&L.image?M(L.image):null),i(!1)}))},[e,h]);function M(L){return se.storage.from("images").getPublicUrl(L).data.publicUrl}function R(L){var Y;const U=((Y=L.target.files)==null?void 0:Y[0])||null;y(U),j(U?URL.createObjectURL(U):null)}async function A(L){if(L.preventDefault(),!e)return;S(!0),E(null);let U=(t==null?void 0:t.image)||null;try{if(x){const oe=x.name.split(".").pop(),Q=`protidogramme/${e}_${Date.now()}.${oe}`,{error:$}=await se.storage.from("images").upload(Q,x,{upsert:!0});if($){E("Erreur lors de l'upload de l'image"),S(!1),console.error($);return}U=Q}const{error:Y}=await se.from("protidogramme").upsert({result_id:e,image:U,description:m,updated_at:new Date().toISOString()},{onConflict:"result_id"});if(Y){E("Erreur lors de la sauvegarde"),S(!1),console.error(Y);return}f(!1),y(null)}catch(Y){E("Erreur inattendue lors de la sauvegarde"),console.error(Y)}finally{S(!1)}}function k(){window.print()}return s?r.jsxs("div",{className:"max-w-xl mx-auto py-10",children:[r.jsx(X,{className:"h-40 w-full mb-4"}),r.jsx(X,{className:"h-6 w-1/2"})]}):r.jsxs("div",{className:"max-w-xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 print:hidden",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Protidogramme"}),r.jsx("div",{className:"flex gap-2",children:!h&&r.jsxs(ne,{variant:"outline",size:"sm",onClick:k,children:[r.jsx(lh,{className:"w-4 h-4 mr-1"})," Imprimer"]})})]}),r.jsxs(Ce,{className:"shadow print:shadow-none print:border-none",children:[r.jsxs(Te,{className:"flex-row items-center gap-2 print:hidden",children:[r.jsx(pt,{className:"flex-1 text-lg",children:h?t?"Modifier":"Ajouter":"Aperçu"}),!h&&r.jsxs(ne,{size:"sm",variant:"secondary",onClick:()=>f(!0),children:[r.jsx(cs,{className:"w-4 h-4 mr-1"})," Modifier"]})]}),r.jsx(Re,{children:h?r.jsxs("form",{className:"space-y-4",onSubmit:A,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-1 font-medium",children:"Image"}),w&&r.jsx("img",{src:w,alt:"Aperçu",className:"max-h-60 rounded  mb-2"}),r.jsx(Ke,{type:"file",accept:"image/*",onChange:R,ref:C}),_&&r.jsx("div",{className:"text-red-500 text-sm mt-1",children:_})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-1 font-medium",children:"Description"}),r.jsx(su,{value:m,onChange:L=>g(L.target.value),rows:4,required:!0,className:"resize-vertical"})]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(ne,{type:"submit",disabled:N,children:N?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dl,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})}),r.jsxs(ne,{type:"button",variant:"outline",onClick:()=>{f(!1),E(null),y(null),j(t!=null&&t.image?M(t.image):null),g((t==null?void 0:t.description)||"")},children:[r.jsx(ch,{className:"w-4 h-4 mr-1"})," Annuler"]})]})]}):r.jsxs("div",{className:"print:block",children:[(t==null?void 0:t.image)&&r.jsx("img",{src:M(t.image),alt:"Protidogramme",className:"max-h-96 mb-4 rounded border mx-auto print:max-h-[450px]",style:{maxWidth:"100%"}}),r.jsx("div",{className:"prose prose-sm print:prose print:max-w-full print:break-words",children:t!=null&&t.description?r.jsxs("div",{children:[" ",t.description.split(`
`).map(L=>r.jsxs("div",{children:[" ",L," "]},L))," "]}):r.jsx("span",{className:"text-muted-foreground",children:"Aucune description"})}),r.jsx("div",{className:"mt-4",children:r.jsx(Ml,{date:new Date().toISOString()||""})})]})})]})]})},Nq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},Sq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},_q=()=>{const{resultId:e}=br();cr();const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(!0),[m,g]=p.useState(!1),[x,y]=p.useState(null),[w,j]=p.useState(null),[N,S]=p.useState(""),[_,E]=p.useState(!1),[C,M]=p.useState(""),[R,A]=p.useState(""),[k,L]=p.useState(!1),[U,Y]=p.useState(null),oe=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],Q="template1",[$,ie]=p.useState(null),[le,I]=p.useState(!0),[W,q]=p.useState(null),[J,D]=p.useState(!0);p.useEffect(()=>{(async()=>{if(D(!0),!e)return;const{data:Se,error:De}=await se.from("atbs_result").select("id, nature_prelevement, souche").eq("result_id",e).single();Se&&q(Se.id),D(!1)})()},[e]);const F=async()=>{if(!e){y("ID du résultat manquant."),f(!1);return}f(!0),y(null),j(null),n(null),i(null),u(null),I(!0),ie(null);try{const{data:ye,error:Se}=await se.from("patient_result").select("*").eq("id",e).single();if(Se)throw Se;if(!ye)throw new Error("Résultat non trouvé.");n(ye);const[De,Qe,Ve]=await Promise.all([se.from("patient").select("*").eq("id",ye.patient_id).single(),se.from("doctor").select("*").eq("id",ye.doctor_id).single(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);De.error&&console.warn("Erreur chargement patient:",De.error.message),Qe.error&&console.warn("Erreur chargement médecin:",Qe.error.message),i(De.data),u(Qe.data),ie(Ve.data),I(!1)}catch(ye){console.error("Erreur chargement détails du résultat:",ye),y(ye.message||"Une erreur est survenue lors du chargement du résultat.")}finally{f(!1)}};p.useEffect(()=>{F()},[e]),p.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),A((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const B=p.useCallback(async ye=>{if(e)try{const{error:Se}=await se.from("patient_result").update({description:ye}).eq("id",e);if(Se)throw Se}catch(Se){console.error("Error saving description:",Se)}},[e]);p.useEffect(()=>{const ye=setTimeout(()=>{N!==(t==null?void 0:t.description)&&B(N)},1e3);return()=>clearTimeout(ye)},[N,t==null?void 0:t.description,B]);const H=p.useCallback(async()=>{L(!0),Y(null);try{const ye=C!==""?Number(C):null,Se=R!==""?Number(R):null;if(C!==""&&isNaN(ye)||R!==""&&isNaN(Se)){Y("Les prix doivent être des nombres valides."),L(!1);return}const{error:De,data:Qe}=await se.from("patient_result").update({normal_price:ye,insurance_price:Se}).eq("id",t.id).select().single();if(De)throw De;n(Ve=>Ve&&{...Ve,normal_price:ye,insurance_price:Se}),E(!1)}catch(ye){Y(ye.message||"Erreur lors de la sauvegarde des prix.")}finally{L(!1)}},[t,C,R]),P=async ye=>{if(!(!t||ye===t.status)){g(!0),j(null);try{const{data:Se,error:De}=await se.from("patient_result").update({status:ye}).eq("id",t.id).select().single();if(De)throw De;n(Se||(Qe=>Qe?{...Qe,status:ye}:null))}catch(Se){console.error("Erreur mise à jour statut:",Se),j(Se.message||"Impossible de mettre à jour le statut.")}finally{g(!1)}}},[z,V]=p.useState([]),[K,re]=p.useState(!1);p.useEffect(()=>{e&&(re(!0),se.from("atbs_result").select("*").eq("result_id",e).then(({data:ye})=>{V(ye||[]),re(!1)}))},[e]);const[ge,de]=p.useState([]),Ne=ye=>{de(Se=>Se.includes(ye)?Se.filter(De=>De!==ye):[...Se,ye])},Oe=(ye,Se,De,Qe)=>{const Ve=ye;return r.jsxs("div",{className:Me("flex items-start space-x-3",Qe),children:[r.jsx(Ve,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:Se}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:De||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},ot=p.useMemo(()=>{var Se;const ye=($==null?void 0:$.selected_template)||Q;return((Se=oe.find(De=>De.id===ye))==null?void 0:Se.component)||Qn},[$]),rt=p.useMemo(()=>({logoUrl:($==null?void 0:$.logo_url)||null,labName:$==null?void 0:$.lab_name,addressLine1:$==null?void 0:$.address_line1,addressLine2:$==null?void 0:$.address_line2,cityPostalCode:$==null?void 0:$.city_postal_code,phone:$==null?void 0:$.phone,email:$==null?void 0:$.email,website:$==null?void 0:$.website}),[$]),[me,ve]=p.useState(!1),Pe=async()=>{if(e){ve(!0);try{const{data:ye,error:Se}=await se.from("atbs_result").insert({result_id:e}).select("id");if(Se||!ye||!ye[0])throw Se;const De=ye[0].id,{data:Qe,error:Ve}=await se.from("atbs").select("id");if(Ve||!Qe)throw Ve;const St=Qe.map(Rt=>({atbs_result_id:De,atb_id:Rt.id}));St.length>0&&await se.from("atbs_result_atb").insert(St),window.location.reload()}catch{ve(!1)}}};return p.useEffect(()=>!e||h?void 0:((async()=>{const{data:Se,error:De}=await se.from("atbs_result").select("id").eq("result_id",e);if(De){console.error("Erreur lors de la vérification d'atbs_result:",De);return}if(Se&&Se.length>0)return;const{data:Qe,error:Ve}=await se.from("atbs_result").insert({result_id:e}).select("id").single();if(Ve||!Qe){console.error("Erreur lors de la création d'atbs_result:",Ve);return}const{data:St,error:Rt}=await se.from("atbs").select("id");if(Rt||!St){console.error("Erreur lors de la récupération des ATBs:",Rt);return}const Qt=St.map(Fe=>({atbs_result_id:Qe.id,atb_id:Fe.id}));if(Qt.length>0){const{error:Fe}=await se.from("atbs_result_atb").insert(Qt);Fe&&console.error("Erreur lors de la création des atbs_result_atb:",Fe)}})(),()=>{}),[e,h]),h?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):x?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[x," ",r.jsx(ne,{variant:"link",onClick:F,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:s?`/patients/${s.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",s?`à ${s.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]}),r.jsxs("div",{className:"flex justify-end",children:[r.jsx(ne,{variant:"default",onClick:()=>window.print(),children:"Imprimer"}),r.jsx(ne,{variant:"secondary",onClick:Pe,disabled:me,children:me?"Création...":"Créer un nouvel ATB Résultat"})]})]}),r.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[$?r.jsx("div",{className:"mb-2 print:mb-0",children:r.jsx(ot,{data:rt,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):r.jsxs(Dt,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"En-tête Manquant"}),r.jsxs(Lt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",r.jsx(st,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),r.jsx(os,{className:"my-2 print:my-0 print:border-none print:hidden"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Oe(Ge,"NOM PRENOM",s==null?void 0:s.full_name),Oe(Ge,"IDENTIFIANT Unique",s==null?void 0:s.patient_unique_id),Oe(hn,"Date Naissance",s!=null&&s.date_of_birth?ct(Kt(s.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:Oe(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Oe(qt,"NOM PRENOM",l==null?void 0:l.full_name),Oe(yn,"Téléphone",l==null?void 0:l.phone),Oe(Ge,"Provenance",l==null?void 0:l.hospital)]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Oe(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:ye=>M(ye.target.value),disabled:k}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:ye=>A(ye.target.value),disabled:k}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:_?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:H,disabled:k,children:[k?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:k,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),U&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:U})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:t.status??"",onValueChange:ye=>P(ye),disabled:m,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),m&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),r.jsx(us,{variant:Nq(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:Sq(t.status)})]})]})]})]})]}),r.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden ",children:[r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]}),Oe(Ge,"NOM PRENOM",s==null?void 0:s.full_name),Oe(Ge,"ID Unique",s==null?void 0:s.patient_unique_id),Oe(yn,"Téléphone",s==null?void 0:s.phone)]}),r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(ar,{className:"h-4 w-4"})," Médecin"]}),Oe(qt,"NOM PRENOM",l==null?void 0:l.full_name),Oe(yn,"Téléphone",l==null?void 0:l.phone),Oe(Ge,"Hôpital",l==null?void 0:l.hospital)]})]}),r.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[r.jsx(Ke,{className:"text-2xl font-bold text-center w-auto",value:N||"ANTIBIOGRAMME",onChange:ye=>S(ye.target.value),style:{maxWidth:400}}),r.jsx("div",{className:"w-full mt-0",children:K?r.jsx("div",{className:"text-center",children:"Chargement des antibiogrammes..."}):z.length===0?r.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[r.jsx("div",{className:"text-center text-muted-foreground",children:"Aucun antibiogramme trouvé."}),r.jsx(ne,{onClick:()=>window.location.reload(),className:"mx-auto",children:"Creer"})]}):r.jsx("div",{className:"flex flex-col gap-8 mt-0",children:z.map(ye=>r.jsxs("div",{className:ge.length>0&&!ge.includes(ye.id)?"print:hidden":"",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 print:hidden",children:[r.jsx("input",{type:"checkbox",checked:ge.length===0||ge.includes(ye.id),onChange:()=>Ne(ye.id),id:`print-checkbox-${ye.id}`}),r.jsx("label",{htmlFor:`print-checkbox-${ye.id}`,className:"text-sm",children:"Inclure pour impression"})]}),r.jsx(Eq,{resultId:ye.id})]},ye.id))})})]})," ",r.jsx("style",{children:`
        @media print {
          .report-content table {
            font-size: 16px;
            width: 100%;
          }
          .report-content th, .report-content td {
            padding: 4px 4px !important;
            font-size: 16px;
          }
          .report-content {
            padding: 2px !important;
            margin: 0 !important;
          }
          .report-content table {
            border-collapse: collapse;
          }
          .report-content th, .report-content td {
            border: 1px solid #ccc;
          }
        }
      `})]})]}):r.jsx("div",{children:"Résultat non trouvé."})},Eq=({resultId:e})=>{const[t,n]=p.useState([]),[s,i]=p.useState(null),[l,u]=p.useState([]),[h,f]=p.useState({}),[m,g]=p.useState(!0),[x,y]=p.useState(!1),[w,j]=p.useState(null),[N,S]=p.useState(""),[_,E]=p.useState("");p.useEffect(()=>{(async()=>{if(g(!0),!e)return;const{data:A}=await se.from("atbs_result").select("*").eq("id",e);if(!A||A.length===0){g(!1);return}const k=A[0].id;i(k),S(A[0].nature_prelement),E(A[0].souche);const{data:L}=await se.from("atbs").select("id, name");n(L||[]);const{data:U}=await se.from("atbs_result_atb").select("id, atb_id, sensible, intermediaire, resistant").eq("atbs_result_id",k);u(U||[]);const Y={};(U||[]).forEach(oe=>{Y[oe.atb_id]={S:!!oe.sensible,I:!!oe.intermediaire,R:!!oe.resistant}}),f(Y),g(!1)})()},[e]);const C=(R,A)=>{f(k=>{var L;return{...k,[R]:{...k[R],[A]:!((L=k[R])!=null&&L[A])}}})},M=async()=>{var R,A,k;if(s){y(!0),j(null);try{for(const L of t){const U=l.find(Y=>Y.atb_id===L.id);U&&await se.from("atbs_result_atb").update({sensible:((R=h[L.id])==null?void 0:R.S)||!1,intermediaire:((A=h[L.id])==null?void 0:A.I)||!1,resistant:((k=h[L.id])==null?void 0:k.R)||!1}).eq("id",U.id)}await se.from("atbs_result").update({nature_prelement:N,souche:_}).eq("id",s),j("success")}catch{j("error")}y(!1)}};return m?r.jsx("div",{className:"text-center",children:"Chargement du tableau..."}):s?r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("div",{className:"flex gap-4 w-full justify-center",children:[r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx(Ie,{htmlFor:"nature_prelevement",className:"text-lg font-bold print:-mb-2",children:"Nature du prélèvement"}),r.jsx(Ke,{id:"nature_prelevement",value:N,onChange:R=>S(R.target.value),style:{minWidth:220},className:"print:border-none print:bg-transparent"})]}),r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx(Ie,{htmlFor:"souche",className:"text-lg font-bold print:-mb-2",children:"Souche étudiée"}),r.jsx(Ke,{id:"souche",value:_,onChange:R=>E(R.target.value),style:{minWidth:180},className:"print:border-none print:bg-transparent"})]})]}),r.jsxs(Sa,{children:[r.jsx(_a,{children:r.jsxs(en,{children:[r.jsx(xt,{className:"text-left",children:"Dénomination"}),r.jsx(xt,{className:"text-center",children:"S"}),r.jsx(xt,{className:"text-center",children:"I"}),r.jsx(xt,{className:"text-center",children:"R"})]})}),r.jsx(Ea,{children:t.map((R,A)=>{var k,L,U,Y,oe,Q;return r.jsxs(en,{className:A%2===0?"bg-muted/50":"",children:[r.jsx(et,{children:R.name}),r.jsxs(et,{className:"text-center",children:[r.jsx(va,{className:"print:hidden",checked:!!((k=h[R.id])!=null&&k.S),onCheckedChange:()=>C(R.id,"S")}),r.jsx("p",{className:"hidden print:inline",children:((L=h[R.id])==null?void 0:L.S)&&r.jsx(r.Fragment,{children:"S"})})]}),r.jsxs(et,{className:"text-center",children:[r.jsx(va,{className:"print:hidden",checked:!!((U=h[R.id])!=null&&U.I),onCheckedChange:()=>C(R.id,"I")}),r.jsx("p",{className:"hidden print:inline",children:((Y=h[R.id])==null?void 0:Y.I)&&r.jsx(r.Fragment,{children:"I"})})]}),r.jsxs(et,{className:"text-center",children:[r.jsx(va,{checked:!!((oe=h[R.id])!=null&&oe.R),onCheckedChange:()=>C(R.id,"R"),className:"print:hidden"}),r.jsx("p",{className:"hidden print:inline",children:((Q=h[R.id])==null?void 0:Q.R)&&r.jsx(r.Fragment,{children:"R"})})]})]},R.id)})})]}),r.jsx("div",{className:"mt-2 text-sm  font-semibold text-center",children:"S = sensible   |   I = intermédiaire   |   R = résistant"}),r.jsxs("div",{className:"flex flex-col items-center mt-4 print:hidden",children:[r.jsx(ne,{disabled:x,onClick:M,children:x?"Enregistrement...":"Enregistrer les modifications"}),w==="success"&&r.jsx("span",{className:"text-green-600 mt-2 print:hidden",children:"Modifications enregistrées !"}),w==="error"&&r.jsx("span",{className:"text-red-600 mt-2 print:hidden",children:"Erreur lors de l'enregistrement."})]}),r.jsx("div",{className:"mt-4",children:r.jsx(Ml,{date:new Date().toISOString()||""})})]}):r.jsx("div",{className:"text-center text-muted-foreground",children:"Aucun antibiogramme trouvé."})},Cq=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(!1),[i,l]=p.useState(""),[u,h]=p.useState(null),[f,m]=p.useState(""),[g,x]=p.useState(null),[y,w]=p.useState(null),j=async()=>{s(!0);const{data:C,error:M}=await se.from("atbs").select("*").order("name");M?x(M.message):t(C||[]),s(!1)};p.useEffect(()=>{j()},[]);const N=async()=>{if(!i.trim())return;s(!0);const{error:C}=await se.from("atbs").insert({name:i.trim()});C&&x(C.message),l(""),j(),s(!1)},S=C=>{h(C.id),m(C.name),x(null)},_=async C=>{if(!f.trim())return;s(!0);const{error:M}=await se.from("atbs").update({name:f.trim()}).eq("id",C);M&&x(M.message),h(null),m(""),j(),s(!1)},E=async C=>{s(!0);const{error:M}=await se.from("atbs").delete().eq("id",C);M&&x(M.message),j(),s(!1),w(null)};return r.jsxs("div",{className:"max-w-xl mx-auto mt-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestion des ATBs"}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx(Ke,{value:i,onChange:C=>l(C.target.value),placeholder:"Nom de l'ATB",disabled:n,onKeyDown:C=>{C.key==="Enter"&&N()}}),r.jsxs(ne,{onClick:N,disabled:n||!i.trim(),children:[r.jsx(df,{className:"w-4 h-4 mr-1"})," Ajouter"]})]}),g&&r.jsx("div",{className:"text-red-500 mb-2",children:g}),r.jsxs("table",{className:"min-w-full border",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-2 border",children:"Nom"}),r.jsx("th",{className:"text-left p-2 border",children:"Actions"})]})}),r.jsx("tbody",{children:e.map(C=>r.jsxs("tr",{children:[r.jsx("td",{className:"p-2 border",children:u===C.id?r.jsx(Ke,{value:f,onChange:M=>m(M.target.value),onKeyDown:M=>{M.key==="Enter"&&_(C.id),M.key==="Escape"&&h(null)},autoFocus:!0}):C.name}),r.jsx("td",{className:"p-2 border",children:u===C.id?r.jsx(ne,{size:"sm",onClick:()=>_(C.id),disabled:n||!f.trim(),children:"Enregistrer"}):r.jsxs(r.Fragment,{children:[r.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>S(C),children:r.jsx(T_,{className:"w-4 h-4"})}),r.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>w(C.id),disabled:n,children:r.jsx(nl,{className:"w-4 h-4"})})]})})]},C.id))})]}),r.jsx(Wi,{open:!!y,onOpenChange:C=>!C&&w(null),children:r.jsxs(Xi,{children:[r.jsx(Ki,{children:r.jsx(Qi,{children:"Confirmer la suppression"})}),r.jsx("div",{children:"Êtes-vous sûr de vouloir supprimer cet ATB ?"}),r.jsxs(hl,{children:[r.jsx(ne,{variant:"destructive",onClick:()=>y&&E(y),disabled:n,children:"Supprimer"}),r.jsx(ne,{variant:"ghost",onClick:()=>w(null),disabled:n,children:"Annuler"})]})]})})]})},Rq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},Tq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},Mq=()=>{var On;const{resultId:e}=br();cr();const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(!0),[m,g]=p.useState(!1),[x,y]=p.useState(null),[w,j]=p.useState(null),[N,S]=p.useState(""),[_,E]=p.useState(!1),[C,M]=p.useState(""),[R,A]=p.useState(""),[k,L]=p.useState(!1),[U,Y]=p.useState(null),[oe,Q]=p.useState([]),[$,ie]=p.useState(!0),[le,I]=p.useState(""),[W,q]=p.useState(!1),[J,D]=p.useState(null);p.useEffect(()=>{(async()=>{ie(!0);const{data:Ee,error:Le}=await se.from("ecb_model").select("id, name, description, structure");Le||Q(Ee||[]),ie(!1)})()},[]);const F=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],B="template1",[H,P]=p.useState(null),[z,V]=p.useState(!0),K=async()=>{if(!e){y("ID du résultat manquant."),f(!1);return}f(!0),y(null),j(null),n(null),i(null),u(null),V(!0),P(null);try{const{data:fe,error:Ee}=await se.from("patient_result").select("*").eq("id",e).single();if(Ee)throw Ee;if(!fe)throw new Error("Résultat non trouvé.");n(fe);const[Le,Ot,vn]=await Promise.all([se.from("patient").select("*").eq("id",fe.patient_id).single(),se.from("doctor").select("*").eq("id",fe.doctor_id).single(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);Le.error&&console.warn("Erreur chargement patient:",Le.error.message),Ot.error&&console.warn("Erreur chargement médecin:",Ot.error.message),i(Le.data),u(Ot.data),P(vn.data),V(!1)}catch(fe){console.error("Erreur chargement détails du résultat:",fe),y(fe.message||"Une erreur est survenue lors du chargement du résultat.")}finally{f(!1)}};p.useEffect(()=>{K()},[e]),p.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),A((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const re=p.useCallback(async fe=>{if(e)try{const{error:Ee}=await se.from("patient_result").update({description:fe}).eq("id",e);if(Ee)throw Ee}catch(Ee){console.error("Error saving description:",Ee)}},[e]);p.useEffect(()=>{const fe=setTimeout(()=>{N!==(t==null?void 0:t.description)&&re(N)},1e3);return()=>clearTimeout(fe)},[N,t==null?void 0:t.description,re]);const ge=p.useCallback(async()=>{L(!0),Y(null);try{const fe=C!==""?Number(C):null,Ee=R!==""?Number(R):null;if(C!==""&&isNaN(fe)||R!==""&&isNaN(Ee)){Y("Les prix doivent être des nombres valides."),L(!1);return}const{error:Le,data:Ot}=await se.from("patient_result").update({normal_price:fe,insurance_price:Ee}).eq("id",t.id).select().single();if(Le)throw Le;n(vn=>vn&&{...vn,normal_price:fe,insurance_price:Ee}),E(!1)}catch(fe){Y(fe.message||"Erreur lors de la sauvegarde des prix.")}finally{L(!1)}},[t,C,R]),de=async fe=>{if(!(!t||fe===t.status)){g(!0),j(null);try{const{data:Ee,error:Le}=await se.from("patient_result").update({status:fe}).eq("id",t.id).select().single();if(Le)throw Le;n(Ee||(Ot=>Ot?{...Ot,status:fe}:null))}catch(Ee){console.error("Erreur mise à jour statut:",Ee),j(Ee.message||"Impossible de mettre à jour le statut.")}finally{g(!1)}}},Ne=(fe,Ee,Le,Ot)=>{const vn=fe;return r.jsxs("div",{className:Me("flex items-start space-x-3",Ot),children:[r.jsx(vn,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:Ee}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:Le||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},Oe=p.useMemo(()=>{var Ee;const fe=(H==null?void 0:H.selected_template)||B;return((Ee=F.find(Le=>Le.id===fe))==null?void 0:Ee.component)||Qn},[H]),ot=p.useMemo(()=>({logoUrl:(H==null?void 0:H.logo_url)||null,labName:H==null?void 0:H.lab_name,addressLine1:H==null?void 0:H.address_line1,addressLine2:H==null?void 0:H.address_line2,cityPostalCode:H==null?void 0:H.city_postal_code,phone:H==null?void 0:H.phone,email:H==null?void 0:H.email,website:H==null?void 0:H.website}),[H]),[rt,me]=p.useState([]),[ve,Pe]=p.useState({}),[ye,Se]=p.useState({}),[De,Qe]=p.useState(!0),[Ve,St]=p.useState(null),[Rt,Qt]=p.useState({}),[Fe,it]=p.useState(null),[on,Bn]=p.useState(null),[In,wn]=p.useState(null),[pn,ln]=p.useState(""),[Zt,ur]=p.useState(null),$n=(fe,Ee)=>{wn(fe),ln(Ee)},jn=()=>{wn(null),ln("")},Ar=async fe=>{ur(fe),await se.from("ecb").update({title:pn}).eq("id",fe),ur(null),wn(null),ln(""),await Tn()},Tn=p.useCallback(async()=>{if(!e)return;Qe(!0);const{data:fe,error:Ee}=await se.from("ecb").select("*").eq("result_id",e).order("created_at",{ascending:!0});if(Ee){Qe(!1);return}me(fe||[]);const Le=(fe||[]).map($t=>$t.id),{data:Ot}=await se.from("ecb_section").select("*").in("ecb_id",Le.length?Le:["00000000-0000-0000-0000-000000000000"]).order("position",{ascending:!0}),vn={};(Ot||[]).forEach($t=>{vn[$t.ecb_id]||(vn[$t.ecb_id]=[]),vn[$t.ecb_id].push($t)}),Pe(vn);const Zn=(Ot||[]).map($t=>$t.id),{data:jr}=await se.from("ecb_value").select("*").in("section_id",Zn.length?Zn:["00000000-0000-0000-0000-000000000000"]).order("position",{ascending:!0}),Hn={};(jr||[]).forEach($t=>{Hn[$t.section_id]||(Hn[$t.section_id]=[]),Hn[$t.section_id].push($t)}),Se(Hn),Qe(!1)},[e]);p.useEffect(()=>{Tn()},[Tn,W]);const Xs=fe=>{St(fe);let Ee={};(ve[fe]||[]).forEach(Le=>{(ye[Le.id]||[]).forEach(Ot=>{Ee[Ot.id]=Ot.value??""})}),Qt(Ee)},Yr=()=>{St(null),Qt({})},tn=(fe,Ee)=>{Qt(Le=>({...Le,[fe]:Ee}))},ut=async fe=>{it(fe);const Ee=Object.entries(Rt).map(([Le,Ot])=>se.from("ecb_value").update({value:Ot}).eq("id",Le));await Promise.all(Ee),it(null),St(null),Qt({}),await Tn()},te=fe=>{Bn(fe),setTimeout(()=>window.print(),100)};function xe(){if(typeof window<"u")try{const fe=window.localStorage.getItem("ecb_bold_toggles");return fe?JSON.parse(fe):{}}catch{return{}}return{}}const[_e,Ae]=p.useState(xe);p.useEffect(()=>{window.localStorage.setItem("ecb_bold_toggles",JSON.stringify(_e))},[_e]);const Be=fe=>{Ae(Ee=>{var Le;return{...Ee,[fe]:{...Ee[fe],labelBold:!((Le=Ee[fe])!=null&&Le.labelBold)}}})},dt=fe=>{Ae(Ee=>{var Le;return{...Ee,[fe]:{...Ee[fe],valueBold:!((Le=Ee[fe])!=null&&Le.valueBold)}}})};function We(fe){if(typeof window<"u")try{const Ee=window.localStorage.getItem("ecb_section_bold_toggles"),Le=Ee?JSON.parse(Ee):{};for(const Ot of fe)Ot in Le||(Le[Ot]=!0);return Le}catch{return Object.fromEntries(fe.map(Ee=>[Ee,!0]))}return Object.fromEntries(fe.map(Ee=>[Ee,!0]))}const gt=Object.values(ve||{}).flat().map(fe=>fe.id),[ft,bt]=p.useState(()=>We(gt));p.useEffect(()=>{window.localStorage.setItem("ecb_section_bold_toggles",JSON.stringify(ft))},[ft]),p.useEffect(()=>{bt(fe=>{let Ee=!1;const Le={...fe};for(const Ot of gt)Ot in Le||(Le[Ot]=!0,Ee=!0);return Ee?Le:fe})},[gt.length]);const It=fe=>{bt(Ee=>({...Ee,[fe]:!Ee[fe]}))};function Bt(){if(typeof window<"u")try{const fe=window.localStorage.getItem("ecb_abnormal_cells");return fe?JSON.parse(fe):{}}catch{return{}}return{}}const[sn,Mn]=p.useState(Bt);p.useEffect(()=>{window.localStorage.setItem("ecb_abnormal_cells",JSON.stringify(sn))},[sn]);const gn=fe=>{Mn(Ee=>({...Ee,[fe]:!Ee[fe]}))};return h?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[r.jsxs("div",{className:"pb-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[r.jsxs("div",{className:"pb-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[r.jsxs("div",{className:"pb-2",children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[r.jsx("div",{className:"pb-2",children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx("div",{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[r.jsx("div",{className:"pb-2",children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx("div",{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):x?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[x," ",r.jsx(ne,{variant:"link",onClick:K,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:s?`/patients/${s.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",s?`à ${s.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),r.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[H?r.jsx("div",{className:"mb-2 print:mb-0",children:r.jsx(Oe,{data:ot,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):r.jsxs(Dt,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"En-tête Manquant"}),r.jsxs(Lt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",r.jsx(st,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),r.jsx(os,{className:"my-2 print:my-0 print:border-none"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[r.jsx("div",{className:"pb-2",children:r.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ne(Ge,"NOM PRENOM",s==null?void 0:s.full_name),Ne(Ge,"IDENTIFIANT Unique",s==null?void 0:s.patient_unique_id),Ne(hn,"Date Naissance",s!=null&&s.date_of_birth?ct(Kt(s.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:Ne(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[r.jsx("div",{className:"pb-2",children:r.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ne(qt,"NOM PRENOM",l==null?void 0:l.full_name),Ne(yn,"Téléphone",l==null?void 0:l.phone),Ne(Ge,"Provenance",l==null?void 0:l.hospital)]})]}),r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4 print:hidden",children:[r.jsx("div",{className:"pb-2",children:r.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ne(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:fe=>M(fe.target.value),disabled:k}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:fe=>A(fe.target.value),disabled:k}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:_?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:ge,disabled:k,children:[k?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:k,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),U&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:U})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:t.status??"",onValueChange:fe=>de(fe),disabled:m,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),m&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),r.jsx(us,{variant:Rq(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:Tq(t.status)})]})]})]})]})]}),r.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]}),Ne(Ge,"NOM PRENOM",s==null?void 0:s.full_name),Ne(Ge,"ID Unique",s==null?void 0:s.patient_unique_id),Ne(yn,"Téléphone",s==null?void 0:s.phone)]}),r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(ar,{className:"h-4 w-4"})," Médecin"]}),Ne(qt,"NOM PRENOM",l==null?void 0:l.full_name),Ne(yn,"Téléphone",l==null?void 0:l.phone),Ne(Ge,"Hôpital",l==null?void 0:l.hospital)]})]}),r.jsxs("div",{className:"page-content",children:[r.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx("div",{className:"font-semibold",children:"Créer un nouvel ECB"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Ie,{htmlFor:"ecb-model-select",children:"Sélectionner un modèle"}),r.jsxs(pr,{value:le,onValueChange:I,disabled:$||W,children:[r.jsx(vr,{id:"ecb-model-select",className:"w-full",children:r.jsx(gr,{placeholder:$?"Chargement...":"Choisir un modèle"})}),r.jsx(xr,{children:oe.map(fe=>r.jsx(Nt,{value:fe.id,children:fe.name},fe.id))})]}),le&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:(On=oe.find(fe=>fe.id===le))==null?void 0:On.description})]}),r.jsxs(ne,{onClick:async()=>{var fe;q(!0),D(null);try{if(!le||!e)throw new Error("Sélectionner un modèle.");const Ee=oe.find($t=>$t.id===le);if(!Ee)throw new Error("Modèle non trouvé.");const{data:Le,error:Ot}=await se.from("ecb").insert({result_id:e,model_id:Ee.id,title:Ee.name,created_by:((fe=(await se.auth.getUser()).data.user)==null?void 0:fe.id)||null}).select().single();if(Ot)throw Ot;const vn=Ee.structure;let Zn=[],jr=[],Hn=0;for(const $t of vn){const Aa=crypto.randomUUID();Zn.push({id:Aa,ecb_id:Le.id,section_title:$t.title,position:Hn});let Ks=0;for(const An of $t.labels)jr.push({section_id:Aa,label:An,value:null,position:Ks}),Ks++;Hn++}if(Zn.length){const{error:$t}=await se.from("ecb_section").insert(Zn);if($t)throw $t}if(jr.length){const{error:$t}=await se.from("ecb_value").insert(jr);if($t)throw $t}await Tn(),I("")}catch(Ee){D(Ee.message||"Erreur lors de la création de l''ECB.")}finally{q(!1)}},disabled:!le||W,className:"min-w-[120px]",children:[W?r.jsx(zt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Créer"]})]}),J&&r.jsx("div",{className:"text-xs text-destructive mt-2",children:J})]})]}),De?r.jsx(X,{className:"h-12 w-full"}):rt.length===0?r.jsx("div",{className:"text-muted-foreground text-sm",children:"Aucun ECB trouvé pour ce résultat."}):r.jsx("div",{className:"space-y-6 print:space-y-0",children:rt.map(fe=>r.jsxs("div",{className:"relative  p-4",children:[r.jsxs("div",{className:"print:hidden flex flex-row items-center justify-between border-b pb-2 mb-2 print:mb-0",children:[r.jsxs("div",{className:"print:hidden",children:[r.jsx("div",{className:"font-semibold text-base flex items-center gap-2",children:In===fe.id?r.jsxs(r.Fragment,{children:[r.jsx(Ke,{value:pn,onChange:Ee=>ln(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&Ar(fe.id),Ee.key==="Escape"&&jn()},disabled:Zt===fe.id,className:"text-base w-48",autoFocus:!0}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>Ar(fe.id),disabled:Zt===fe.id,children:Zt===fe.id?r.jsx(zt,{className:"h-3 w-3 animate-spin"}):"Enregistrer"}),r.jsx(ne,{size:"xs",variant:"ghost",onClick:jn,disabled:Zt===fe.id,children:"Annuler"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:fe.title}),r.jsx(ne,{size:"xs",variant:"ghost",onClick:()=>$n(fe.id,fe.title),className:"ml-1",children:r.jsx(cs,{className:"h-3 w-3"})})]})}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Créé le"," ",ct(Kt(fe.created_at),"Pp",{locale:Wt})]})]}),r.jsx("div",{className:"flex gap-2 print:hidden",children:Ve===fe.id?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>ut(fe.id),disabled:Fe===fe.id,children:[Fe===fe.id?r.jsx(zt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Enregistrer toutes les modifications"]}),r.jsx(ne,{size:"sm",variant:"ghost",onClick:Yr,disabled:Fe===fe.id,children:"Annuler"})]}):r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>Xs(fe.id),children:[r.jsx(cs,{className:"h-4 w-4 mr-1"})," Modifier"]}),r.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>te(fe.id),children:[r.jsx(lh,{className:"h-4 w-4 mr-1"})," Imprimer"]})]})})]}),r.jsx("div",{className:"print:hidden",children:(ve[fe.id]||[]).map(Ee=>r.jsxs("div",{className:"mb-4 print:mb-0",children:[r.jsxs("div",{className:"font-semibold mb-2 text-lg flex items-center gap-1",children:[Ee.section_title,r.jsx(ne,{size:"icon",variant:ft[Ee.id]?"default":"ghost",className:"h-5 w-5 p-0",title:ft[Ee.id]?"Définir en normal":"Mettre en gras",onClick:()=>It(Ee.id),type:"button",tabIndex:-1,children:r.jsx("b",{children:"B"})})]}),r.jsx("div",{className:"grid grid-cols-1  gap-2",children:(ye[Ee.id]||[]).map(Le=>{var Ot,vn,Zn,jr,Hn;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Ie,{className:"w-40 text-md font-medium flex items-center gap-1",children:[Le.label,r.jsx(ne,{size:"icon",variant:(Ot=_e[Le.id])!=null&&Ot.labelBold?"default":"ghost",className:"h-5 w-5 p-0",title:(vn=_e[Le.id])!=null&&vn.labelBold?"Définir en normal":"Mettre en gras",onClick:()=>Be(Le.id),type:"button",tabIndex:-1,children:r.jsx("b",{children:"B"})})]}),Ve===fe.id?r.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[r.jsx(Ke,{value:Rt[Le.id]??"",onChange:$t=>tn(Le.id,$t.target.value),disabled:Fe===fe.id,className:"text-xs flex-1"}),r.jsx(ne,{size:"icon",variant:(Zn=_e[Le.id])!=null&&Zn.valueBold?"default":"ghost",className:"h-5 w-5 p-0",title:(jr=_e[Le.id])!=null&&jr.valueBold?"Définir en normal":"Mettre en gras",onClick:()=>dt(Le.id),type:"button",tabIndex:-1,children:r.jsx("b",{children:"B"})}),r.jsx(ne,{size:"icon",variant:sn[Le.id]?"destructive":"ghost",className:"h-5 w-5 p-0",title:sn[Le.id]?"Cellule anormale":"Marquer comme anormale",onClick:()=>gn(Le.id),type:"button",tabIndex:-1,children:r.jsx("span",{style:{fontWeight:"bold"},children:"!"})})]}):r.jsx("span",{className:`text-xs flex-1 ${(Hn=_e[Le.id])!=null&&Hn.valueBold?"font-bold":""} ${sn[Le.id]?"bg-gray-200 font-bold":""}`,children:Le.value??r.jsx("span",{className:"italic text-muted-foreground",children:"(vide)"})})]},Le.id)})})]},Ee.id))}),on===fe.id&&r.jsxs("div",{className:"hidden print:block bg-white p-4 print:p-0",children:[r.jsx("div",{className:"font-semibold text-lg text-center mb-1",children:fe.title}),r.jsx("table",{className:"w-full border-collapse print-ecb-table",children:r.jsx("tbody",{children:(ve[fe.id]||[]).map(Ee=>r.jsxs(we.Fragment,{children:[r.jsx("tr",{children:r.jsx("td",{colSpan:2,className:`text-xs mb-1 py-2 print-ecb-section-title ${ft[Ee.id]?"font-bold":"font-normal"}`,children:Ee.section_title})}),(ye[Ee.id]||[]).map(Le=>{var Ot,vn;return r.jsxs("tr",{children:[r.jsx("td",{className:`align-top pr-4 pb-1 text-xs print-ecb-label ${(Ot=_e[Le.id])!=null&&Ot.labelBold?"font-bold":"font-normal"}`,style:{width:"35%"},children:Le.label}),r.jsx("td",{className:`align-top pb-1 text-xs print-ecb-value ${(vn=_e[Le.id])!=null&&vn.valueBold?"font-bold":"font-normal"} ${sn[Le.id]?"print-ecb-abnormal-cell":""}`,children:Le.value?r.jsx("div",{className:"flex items-center justify-between",children:Le.value.split(";").map((Zn,jr)=>r.jsx("div",{children:Zn},jr))}):r.jsx("span",{className:"italic text-muted-foreground",children:"(vide)"})})]},Le.id)})]},Ee.id))})}),r.jsx("div",{className:"mt-4",children:r.jsx(Ml,{date:new Date().toISOString()})}),r.jsx("style",{jsx:!0,global:!0,children:`
                        @media print {
                          .print-ecb-table {
                            width: 100%;
                            border-collapse: collapse;
                            font-size: 13.5px;
                          }
                          .print-ecb-label {
                            text-align: left;
                            padding-right: 16px;
                            vertical-align: top;
                            width: 35%;
                            font-size: 13.5px;
                          }
                          .print-ecb-section-title {
                            background: #f6f6f6;
                            font-size: 14px;
                            font-weight: bold;
                            padding-top: 12px;
                            padding-bottom: 6px;
                            text-align: left;
                            border-bottom: 1px solid #e5e5e5;
                          }
                          .print-ecb-value {
                            text-align: left;
                            vertical-align: top;
                            word-break: break-word;
                            font-size: 13.5px;
                          }
                          .print-ecb-abnormal-cell {
                            background: #e5e5e5 !important;
                            font-weight: bold !important;
                          }
                          .print-ecb-table td {
                            padding-top: 3px;
                            padding-bottom: 3px;
                          }
                        }
                      `})]})]},fe.id))})]})]})," "]}):r.jsx("div",{children:"Résultat non trouvé."})},Oq=()=>{const[e,t]=p.useState([]),[n,s]=p.useState(!1),[i,l]=p.useState(null),[u,h]=p.useState(""),[f,m]=p.useState(""),[g,x]=p.useState(""),[y,w]=p.useState(""),[j,N]=p.useState(!1),[S,_]=p.useState(null),[E,C]=p.useState([]),[M,R]=p.useState(null),[A,k]=p.useState(null),L=async()=>{s(!0);const{data:B,error:H}=await se.from("ecb_model").select("id, name, description, structure, created_at").order("created_at");H||t(B||[]),s(!1)};p.useEffect(()=>{L()},[]);const U=B=>{l(B.id),h(B.name),m(B.description||"")},Y=async B=>{N(!0),await se.from("ecb_model").update({name:u,description:f}).eq("id",B),l(null),h(""),m(""),N(!1),L()},oe=async B=>{N(!0),await se.from("ecb_model").delete().eq("id",B),L(),N(!1),k(null)},Q=async()=>{g.trim()&&(N(!0),await se.from("ecb_model").insert({name:g.trim(),description:y.trim(),structure:JSON.stringify([])}),x(""),w(""),N(!1),L())},$=B=>{_(B),C(Array.isArray(B.structure)?B.structure:[]),R(null)},ie=()=>{_(null),C([]),R(null)},le=async()=>{if(S){for(const B of E){if(!B.title.trim()){R("Titre de section requis");return}if(!Array.isArray(B.labels)||B.labels.some(H=>!H.trim())){R("Chaque section doit avoir des labels non vides");return}}N(!0),await se.from("ecb_model").update({structure:E}).eq("id",S.id),N(!1),ie(),L()}},I=()=>C([...E,{title:"Nouvelle section",labels:["Label 1"]}]),W=B=>C(E.filter((H,P)=>P!==B)),q=(B,H)=>C(E.map((P,z)=>z===B?{...P,title:H}:P)),J=B=>C(E.map((H,P)=>P===B?{...H,labels:[...H.labels,"Nouveau label"]}:H)),D=(B,H,P)=>C(E.map((z,V)=>V===B?{...z,labels:z.labels.map((K,re)=>re===H?P:K)}:z)),F=(B,H)=>C(E.map((P,z)=>z===B?{...P,labels:P.labels.filter((V,K)=>K!==H)}:P));return r.jsxs("div",{className:"w-full mx-auto p-4",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestion des Modèles ECB"}),r.jsxs("div",{className:"mb-6 flex gap-2",children:[r.jsx(Ke,{value:g,onChange:B=>x(B.target.value),placeholder:"Nouveau modèle",className:"flex-1"}),r.jsx(Ke,{value:y,onChange:B=>w(B.target.value),placeholder:"Description (optionnelle)",className:"flex-1"}),r.jsxs(ne,{onClick:Q,disabled:j||!g.trim(),children:[r.jsx(df,{className:"w-4 h-4 mr-1"})," Ajouter"]})]}),r.jsx("div",{className:"bg-white rounded shadow p-4",children:n?r.jsx("div",{children:"Chargement..."}):r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2",children:"Nom du modèle"}),r.jsx("th",{className:"text-left py-2",children:"Description"}),r.jsx("th",{className:"text-left py-2",children:"Structure"}),r.jsx("th",{className:"w-48"})]})}),r.jsx("tbody",{children:e.map(B=>r.jsxs(we.Fragment,{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:i===B.id?r.jsx(Ke,{value:u,onChange:H=>h(H.target.value),className:"inline-block w-auto",onKeyDown:H=>{H.key==="Enter"&&Y(B.id),H.key==="Escape"&&l(null)},autoFocus:!0}):r.jsx("span",{children:B.name})}),r.jsx("td",{className:"py-2",children:i===B.id?r.jsx(Ke,{value:f,onChange:H=>m(H.target.value),className:"inline-block w-auto",onKeyDown:H=>{H.key==="Enter"&&Y(B.id),H.key==="Escape"&&l(null)}}):r.jsx("span",{children:B.description})}),r.jsx("td",{className:"py-2",children:r.jsx(ne,{size:"sm",variant:"outline",onClick:()=>$(B),children:"Éditer Structure"})}),r.jsx("td",{children:i===B.id?r.jsx(ne,{size:"sm",onClick:()=>Y(B.id),disabled:j||!u.trim(),children:"Enregistrer"}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ne,{size:"icon",variant:"ghost",onClick:()=>U(B),children:r.jsx(T_,{className:"w-4 h-4"})}),r.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>k(B.id),children:r.jsx(nl,{className:"w-4 h-4"})})]})})]}),S&&S.id===B.id&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,children:r.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 border rounded p-4 bg-muted",children:[r.jsx("div",{className:"mb-2 font-semibold text-lg",children:"Éditer la structure du modèle"}),E.map((H,P)=>r.jsxs("div",{className:"border rounded p-3 mb-2",children:[r.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[r.jsx(Ke,{value:H.title,onChange:z=>q(P,z.target.value),placeholder:"Titre de section",className:"flex-1"}),r.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>W(P),children:r.jsx(nl,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"ml-4 space-y-1",children:[H.labels.map((z,V)=>r.jsxs("div",{className:"flex gap-2 items-center mb-1",children:[r.jsx(Ke,{value:z,onChange:K=>D(P,V,K.target.value),placeholder:"Label",className:"flex-1"}),r.jsx(ne,{size:"icon",variant:"destructive",onClick:()=>F(P,V),children:r.jsx(nl,{className:"w-4 h-4"})})]},V)),r.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>J(P),children:[r.jsx(df,{className:"w-4 h-4 mr-1"})," Ajouter Label"]})]})]},P)),r.jsxs(ne,{size:"sm",variant:"secondary",onClick:I,children:[r.jsx(df,{className:"w-4 h-4 mr-1"})," Ajouter Section"]}),M&&r.jsx("div",{className:"text-red-500 text-sm",children:M}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx(ne,{onClick:le,disabled:j,children:"Enregistrer la structure"}),r.jsx(ne,{variant:"ghost",onClick:ie,children:"Annuler"})]})]})})})]},B.id))})]})}),r.jsx(Wi,{open:!!A,onOpenChange:B=>!B&&k(null),children:r.jsxs(Xi,{children:[r.jsx(Ki,{children:r.jsx(Qi,{children:"Confirmer la suppression"})}),r.jsx("div",{children:"Êtes-vous sûr de vouloir supprimer ce modèle ECB ?"}),r.jsxs(hl,{children:[r.jsx(ne,{variant:"destructive",onClick:()=>A&&oe(A),disabled:j,children:"Supprimer"}),r.jsx(ne,{variant:"ghost",onClick:()=>k(null),disabled:j,children:"Annuler"})]})]})})]})},Aq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},kq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},Dq=()=>{const{resultId:e}=br();cr();const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(!0),[m,g]=p.useState(!1),[x,y]=p.useState(null),[w,j]=p.useState(null),[N,S]=p.useState(""),[_,E]=p.useState(!1),[C,M]=p.useState(""),[R,A]=p.useState(""),[k,L]=p.useState(!1),[U,Y]=p.useState(null),oe=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],Q="template1",[$,ie]=p.useState(null),[le,I]=p.useState(!0),W=async()=>{if(!e){y("ID du résultat manquant."),f(!1);return}f(!0),y(null),j(null),n(null),i(null),u(null),I(!0),ie(null);try{const{data:P,error:z}=await se.from("patient_result").select("*").eq("id",e).single();if(z)throw z;if(!P)throw new Error("Résultat non trouvé.");n(P);const[V,K,re]=await Promise.all([se.from("patient").select("*").eq("id",P.patient_id).single(),se.from("doctor").select("*").eq("id",P.doctor_id).single(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);V.error&&console.warn("Erreur chargement patient:",V.error.message),K.error&&console.warn("Erreur chargement médecin:",K.error.message),i(V.data),u(K.data),ie(re.data),I(!1)}catch(P){console.error("Erreur chargement détails du résultat:",P),y(P.message||"Une erreur est survenue lors du chargement du résultat.")}finally{f(!1)}};p.useEffect(()=>{W()},[e]),p.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),A((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const q=p.useCallback(async P=>{if(e)try{const{error:z}=await se.from("patient_result").update({description:P}).eq("id",e);if(z)throw z}catch(z){console.error("Error saving description:",z)}},[e]);p.useEffect(()=>{const P=setTimeout(()=>{N!==(t==null?void 0:t.description)&&q(N)},1e3);return()=>clearTimeout(P)},[N,t==null?void 0:t.description,q]);const J=p.useCallback(async()=>{L(!0),Y(null);try{const P=C!==""?Number(C):null,z=R!==""?Number(R):null;if(C!==""&&isNaN(P)||R!==""&&isNaN(z)){Y("Les prix doivent être des nombres valides."),L(!1);return}const{error:V,data:K}=await se.from("patient_result").update({normal_price:P,insurance_price:z}).eq("id",t.id).select().single();if(V)throw V;n(re=>re&&{...re,normal_price:P,insurance_price:z}),E(!1)}catch(P){Y(P.message||"Erreur lors de la sauvegarde des prix.")}finally{L(!1)}},[t,C,R]),D=async P=>{if(!(!t||P===t.status)){g(!0),j(null);try{const{data:z,error:V}=await se.from("patient_result").update({status:P}).eq("id",t.id).select().single();if(V)throw V;n(z||(K=>K?{...K,status:P}:null))}catch(z){console.error("Erreur mise à jour statut:",z),j(z.message||"Impossible de mettre à jour le statut.")}finally{g(!1)}}},F=(P,z,V,K)=>{const re=P;return r.jsxs("div",{className:Me("flex items-start space-x-3",K),children:[r.jsx(re,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:z}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:V||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},B=p.useMemo(()=>{var z;const P=($==null?void 0:$.selected_template)||Q;return((z=oe.find(V=>V.id===P))==null?void 0:z.component)||Qn},[$]),H=p.useMemo(()=>({logoUrl:($==null?void 0:$.logo_url)||null,labName:$==null?void 0:$.lab_name,addressLine1:$==null?void 0:$.address_line1,addressLine2:$==null?void 0:$.address_line2,cityPostalCode:$==null?void 0:$.city_postal_code,phone:$==null?void 0:$.phone,email:$==null?void 0:$.email,website:$==null?void 0:$.website}),[$]);return h?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):x?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[x," ",r.jsx(ne,{variant:"link",onClick:W,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:s?`/patients/${s.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",s?`à ${s.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),r.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[$?r.jsx("div",{className:"mb-2 print:mb-0",children:r.jsx(B,{data:H,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):r.jsxs(Dt,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"En-tête Manquant"}),r.jsxs(Lt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",r.jsx(st,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),r.jsx(os,{className:"my-2 print:my-0 print:border-none"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(Ge,"NOM PRENOM",s==null?void 0:s.full_name),F(Ge,"IDENTIFIANT Unique",s==null?void 0:s.patient_unique_id),F(hn,"Date Naissance",s!=null&&s.date_of_birth?ct(Kt(s.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:F(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(qt,"NOM PRENOM",l==null?void 0:l.full_name),F(yn,"Téléphone",l==null?void 0:l.phone),F(Ge,"Provenance",l==null?void 0:l.hospital)]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:P=>M(P.target.value),disabled:k}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:P=>A(P.target.value),disabled:k}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:_?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:k,children:[k?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:k,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),U&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:U})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:t.status??"",onValueChange:P=>D(P),disabled:m,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),m&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),r.jsx(us,{variant:Aq(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:kq(t.status)})]})]})]})]})]}),r.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]}),F(Ge,"NOM PRENOM",s==null?void 0:s.full_name),F(Ge,"ID Unique",s==null?void 0:s.patient_unique_id),F(yn,"Téléphone",s==null?void 0:s.phone)]}),r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(ar,{className:"h-4 w-4"})," Médecin"]}),F(qt,"NOM PRENOM",l==null?void 0:l.full_name),F(yn,"Téléphone",l==null?void 0:l.phone),F(Ge,"Hôpital",l==null?void 0:l.hospital)]})]}),r.jsx(Pq,{resultId:e})]})," "]}):r.jsx("div",{children:"Résultat non trouvé."})},Pq=({resultId:e})=>{var S,_,E,C;const[t,n]=p.useState(null),[s,i]=p.useState(!0),[l,u]=p.useState(null),h="Pas de virus détecté ou 366 copies/ml; 1.82 log",[f,m]=p.useState((t==null?void 0:t.value)??h),[g,x]=p.useState(!1),[y,w]=p.useState(!1);p.useEffect(()=>{(async()=>{i(!0),u(null);try{const{data:R,error:A}=await se.from("vhb").select("*").eq("result_id",e).maybeSingle();if(A)throw A;n(R),m((R==null?void 0:R.value)||h)}catch(R){u(R.message||"Erreur lors du chargement du VHB.")}finally{i(!1)}})()},[e]);const j=async()=>{w(!0),u(null);try{const{data:M,error:R}=await se.from("vhb").insert({result_id:e,value:f}).select().single();if(R)throw R;n(M),x(!1)}catch(M){u(M.message||"Erreur lors de la création du VHB.")}finally{w(!1)}},N=async()=>{if(t){w(!0),u(null);try{const{data:M,error:R}=await se.from("vhb").update({value:f}).eq("id",t.id).select().single();if(R)throw R;n(M),x(!1)}catch(M){u(M.message||"Erreur lors de la mise à jour du VHB.")}finally{w(!1)}}};return s?r.jsx("div",{children:"Chargement du VHB..."}):l?r.jsx("div",{className:"text-destructive",children:l}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"print:hidden flex justify-end",children:r.jsx(ne,{onClick:()=>window.print(),variant:"outline",size:"sm",children:"Imprimer"})}),r.jsx("div",{className:"print:hidden",children:t?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"VHB"}),g?r.jsxs(r.Fragment,{children:[r.jsx(Ke,{value:f,onChange:M=>m(M.target.value),disabled:y,placeholder:"Pas de virus détecté ou 366 copies/ml; 1.82 log"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"(Pas de virus détecté ou 366 copies/ml; 1.82 log)"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx(ne,{onClick:N,disabled:y||!f,children:y?"Sauvegarde...":"Sauvegarder"}),r.jsx(ne,{variant:"outline",onClick:()=>{x(!1),m(t.value)},disabled:y,children:"Annuler"})]})]}):r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"font-mono text-lg",children:t.value}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>x(!0),children:"Modifier"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Créer VHB"}),r.jsx(Ke,{value:f,onChange:M=>m(M.target.value),placeholder:"Pas de virus détecté ou 366 copies/ml; 1.82 log",disabled:y}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"(Pas de virus détecté ou 366 copies/ml; 1.82 log)"}),r.jsx(ne,{onClick:j,disabled:y||!f,className:"mt-2",children:y?"Création...":"Créer"})]})}),r.jsx("h2",{className:" text-3xl text-center mb-4 print:pt-4 font-bold uppercase mx-auto tracking-tight print:block  print:text-center",children:"VIROLOGIE"}),t!=null&&t.value&&(t.value.includes("Pas de virus")||t.value.includes("virus"))?r.jsxs("div",{className:" print:block mt-8 text-black text-lg",children:[r.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[r.jsx("span",{className:"font-bold underline",children:"EXAMENS"}),r.jsx("span",{className:"font-bold underline",children:"RESULTATS"})]}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"font-bold text-xl underline",children:"CHARGE VIRALE HEPATITE B"})}),r.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[r.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[r.jsx("span",{className:"font-semibold",children:"Charge virale  VHB"}),r.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps réel)"})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:[r.jsx("span",{className:"font-bold text-2xl",children:((S=t.value.match(/([\d,.]+\s*copies\/ml)/i))==null?void 0:S[1])||t.value}),r.jsx("span",{className:"text-xs mt-1",children:"( Pour 0.5 ml d'échantillon )"}),r.jsx("span",{className:"font-bold text-2xl mt-8",children:((_=t.value.split(";")[1])==null?void 0:_.trim())||""})]})]})]}):t!=null&&t.value?r.jsxs("div",{className:" mt-8 text-black text-lg positive format",children:[r.jsxs("div",{className:"flex flex-row justify-between mb-2",children:[r.jsx("span",{className:"font-bold underline text-xl",children:"EXAMENS"}),r.jsx("span",{className:"font-bold underline text-xl",children:"RESULTATS"})]}),r.jsx("div",{className:"w-full mb-6",children:r.jsx("div",{className:"font-bold text-2xl underline",children:"CHARGE VIRALE HEPATITE B"})}),r.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[r.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[r.jsx("span",{className:"font-semibold text-xl",children:"Charge virale  VHB"}),r.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps réel)"}),r.jsx("span",{className:"font-semibold mt-13 text-2xl",children:"Soit"})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:[r.jsx("span",{className:"font-bold text-2xl",children:((E=t.value.match(/([\d,.]+\s*copies\/ml)/i))==null?void 0:E[1])||t.value}),r.jsx("span",{className:"text-xs mt-1",children:"(limite de détection <35 pour 0.5 ml)"}),r.jsx("span",{className:"text-xs",children:"(d'échantillon, 1 UI= 3.41 copie/ml)"}),r.jsx("span",{className:"font-bold text-2xl mt-5",children:((C=t.value.split(";")[1])==null?void 0:C.trim())||""})]})]})]}):null,r.jsx("div",{className:" mt-20",children:r.jsx(Ml,{date:new Date().toISOString()})})]})},Lq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},Iq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},$q=()=>{const{resultId:e}=br();cr();const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(!0),[m,g]=p.useState(!1),[x,y]=p.useState(null),[w,j]=p.useState(null),[N,S]=p.useState(""),[_,E]=p.useState(!1),[C,M]=p.useState(""),[R,A]=p.useState(""),[k,L]=p.useState(!1),[U,Y]=p.useState(null),oe=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],Q="template1",[$,ie]=p.useState(null),[le,I]=p.useState(!0),W=async()=>{if(!e){y("ID du résultat manquant."),f(!1);return}f(!0),y(null),j(null),n(null),i(null),u(null),I(!0),ie(null);try{const{data:P,error:z}=await se.from("patient_result").select("*").eq("id",e).single();if(z)throw z;if(!P)throw new Error("Résultat non trouvé.");n(P);const[V,K,re]=await Promise.all([se.from("patient").select("*").eq("id",P.patient_id).single(),se.from("doctor").select("*").eq("id",P.doctor_id).single(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);V.error&&console.warn("Erreur chargement patient:",V.error.message),K.error&&console.warn("Erreur chargement médecin:",K.error.message),i(V.data),u(K.data),ie(re.data),I(!1)}catch(P){console.error("Erreur chargement détails du résultat:",P),y(P.message||"Une erreur est survenue lors du chargement du résultat.")}finally{f(!1)}};p.useEffect(()=>{W()},[e]),p.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),A((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const q=p.useCallback(async P=>{if(e)try{const{error:z}=await se.from("patient_result").update({description:P}).eq("id",e);if(z)throw z}catch(z){console.error("Error saving description:",z)}},[e]);p.useEffect(()=>{const P=setTimeout(()=>{N!==(t==null?void 0:t.description)&&q(N)},1e3);return()=>clearTimeout(P)},[N,t==null?void 0:t.description,q]);const J=p.useCallback(async()=>{L(!0),Y(null);try{const P=C!==""?Number(C):null,z=R!==""?Number(R):null;if(C!==""&&isNaN(P)||R!==""&&isNaN(z)){Y("Les prix doivent être des nombres valides."),L(!1);return}const{error:V,data:K}=await se.from("patient_result").update({normal_price:P,insurance_price:z}).eq("id",t.id).select().single();if(V)throw V;n(re=>re&&{...re,normal_price:P,insurance_price:z}),E(!1)}catch(P){Y(P.message||"Erreur lors de la sauvegarde des prix.")}finally{L(!1)}},[t,C,R]),D=async P=>{if(!(!t||P===t.status)){g(!0),j(null);try{const{data:z,error:V}=await se.from("patient_result").update({status:P}).eq("id",t.id).select().single();if(V)throw V;n(z||(K=>K?{...K,status:P}:null))}catch(z){console.error("Erreur mise à jour statut:",z),j(z.message||"Impossible de mettre à jour le statut.")}finally{g(!1)}}},F=(P,z,V,K)=>{const re=P;return r.jsxs("div",{className:Me("flex items-start space-x-3",K),children:[r.jsx(re,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:z}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:V||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},B=p.useMemo(()=>{var z;const P=($==null?void 0:$.selected_template)||Q;return((z=oe.find(V=>V.id===P))==null?void 0:z.component)||Qn},[$]),H=p.useMemo(()=>({logoUrl:($==null?void 0:$.logo_url)||null,labName:$==null?void 0:$.lab_name,addressLine1:$==null?void 0:$.address_line1,addressLine2:$==null?void 0:$.address_line2,cityPostalCode:$==null?void 0:$.city_postal_code,phone:$==null?void 0:$.phone,email:$==null?void 0:$.email,website:$==null?void 0:$.website}),[$]);return h?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):x?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[x," ",r.jsx(ne,{variant:"link",onClick:W,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:s?`/patients/${s.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",s?`à ${s.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),r.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[$?r.jsx("div",{className:"mb-2 print:mb-0",children:r.jsx(B,{data:H,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):r.jsxs(Dt,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"En-tête Manquant"}),r.jsxs(Lt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",r.jsx(st,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),r.jsx(os,{className:"my-2 print:my-0 print:border-none"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(Ge,"NOM PRENOM",s==null?void 0:s.full_name),F(Ge,"IDENTIFIANT Unique",s==null?void 0:s.patient_unique_id),F(hn,"Date Naissance",s!=null&&s.date_of_birth?ct(Kt(s.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:F(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(qt,"NOM PRENOM",l==null?void 0:l.full_name),F(yn,"Téléphone",l==null?void 0:l.phone),F(Ge,"Provenance",l==null?void 0:l.hospital)]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:P=>M(P.target.value),disabled:k}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:P=>A(P.target.value),disabled:k}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:_?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:k,children:[k?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:k,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),U&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:U})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:t.status??"",onValueChange:P=>D(P),disabled:m,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),m&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),r.jsx(us,{variant:Lq(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:Iq(t.status)})]})]})]})]})]}),r.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]}),F(Ge,"NOM PRENOM",s==null?void 0:s.full_name),F(Ge,"ID Unique",s==null?void 0:s.patient_unique_id),F(yn,"Téléphone",s==null?void 0:s.phone)]}),r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(ar,{className:"h-4 w-4"})," Médecin"]}),F(qt,"NOM PRENOM",l==null?void 0:l.full_name),F(yn,"Téléphone",l==null?void 0:l.phone),F(Ge,"Hôpital",l==null?void 0:l.hospital)]})]}),r.jsx(zq,{resultId:e})]})," "]}):r.jsx("div",{children:"Résultat non trouvé."})},zq=({resultId:e})=>{const[t,n]=p.useState(null),[s,i]=p.useState(!0),[l,u]=p.useState(null),[h,f]=p.useState((t==null?void 0:t.value)??"1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté"),[m,g]=p.useState(!1),[x,y]=p.useState(!1);p.useEffect(()=>{(async()=>{i(!0),u(null);try{const{data:S,error:_}=await se.from("vih").select("*").eq("result_id",e).maybeSingle();if(_)throw _;n(S),f((S==null?void 0:S.value)||"1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté")}catch(S){u(S.message||"Erreur lors du chargement du VIH.")}finally{i(!1)}})()},[e]);const w=async()=>{y(!0),u(null);try{const{data:N,error:S}=await se.from("vih").insert({result_id:e,value:h}).select().single();if(S)throw S;n(N),g(!1)}catch(N){u(N.message||"Erreur lors de la création du VIH.")}finally{y(!1)}},j=async()=>{if(t){y(!0),u(null);try{const{data:N,error:S}=await se.from("vih").update({value:h}).eq("id",t.id).select().single();if(S)throw S;n(N),g(!1)}catch(N){u(N.message||"Erreur lors de la mise à jour du VIH.")}finally{y(!1)}}};return s?r.jsx("div",{children:"Chargement du VIH..."}):l?r.jsx("div",{className:"text-destructive",children:l}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"print:hidden flex justify-end",children:r.jsx(ne,{onClick:()=>window.print(),variant:"outline",size:"sm",children:"Imprimer"})}),r.jsx("div",{className:"print:hidden",children:t?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"VIH"}),m?r.jsxs(r.Fragment,{children:[r.jsx(Ke,{value:h,onChange:N=>f(N.target.value),disabled:x,placeholder:"ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"(ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté)"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx(ne,{onClick:j,disabled:x||!h,children:x?"Sauvegarde...":"Sauvegarder"}),r.jsx(ne,{variant:"outline",onClick:()=>{g(!1),f(t.value)},disabled:x,children:"Annuler"})]})]}):r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"font-mono text-lg",children:t.value}),r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>g(!0),children:"Modifier"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Créer VIH"}),r.jsx(Ke,{value:h,onChange:N=>f(N.target.value),placeholder:"ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté",disabled:x}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"(ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté)"}),r.jsx(ne,{onClick:w,disabled:x||!h,className:"mt-2",children:x?"Création...":"Créer"})]})}),r.jsx("h2",{className:" text-3xl text-center mb-4 print:pt-4 font-bold uppercase mx-auto tracking-tight print:block  print:text-center",children:"VIROLOGIE"}),t!=null&&t.value?r.jsxs("div",{className:"print:block mt-8 text-black text-lg",children:[r.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[r.jsx("span",{className:"font-bold underline",children:"EXAMENS"}),r.jsx("span",{className:"font-bold underline",children:"RESULTATS"})]}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"font-bold text-xl underline",children:"CHARGE VIRALE VIH"})}),r.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[r.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[r.jsx("span",{className:"font-semibold",children:"Charge virale  VIH"}),r.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps réel)"}),!t.value.includes("virus")&&r.jsx("span",{className:"font-semibold mt-20",children:"Soit"})]}),r.jsx("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:(()=>{if(/pas de virus détecté/i.test(t.value))return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-bold text-2xl",children:"Pas de virus détecté"}),r.jsx("span",{className:"text-xs mt-1",children:"(pour 1 ml d'échantillon)"})]});const N=t.value.match(/([\d\s]+copies\/ml)/i),S=t.value.match(/;\s*([\d.]+)\s*log10/i);return r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-bold text-2xl",children:N?N[1].trim():t.value}),r.jsxs("span",{className:"text-xs font-normal",children:[" ","(limite de détection <40 pour 0.6 ml)"]}),r.jsx("span",{className:"text-xs mt-1",children:"(d'échantillon, 1 copie /ml = 0.58* 1UI/ml)"}),r.jsxs("div",{className:"flex flex-row justify-between w-full mt-8 ",children:[r.jsx("span",{}),r.jsxs("span",{className:"font-bold text-2xl",children:[S?S[1]:""," log",r.jsx("sub",{children:"10"})]})]})]})})()})]})]}):null,r.jsx("div",{className:" mt-20",children:r.jsx(Ml,{date:new Date().toISOString()})})]})},Uq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},Fq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},Bq=()=>{const{resultId:e}=br();cr();const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(!0),[m,g]=p.useState(!1),[x,y]=p.useState(null),[w,j]=p.useState(null),[N,S]=p.useState(""),[_,E]=p.useState(!1),[C,M]=p.useState(""),[R,A]=p.useState(""),[k,L]=p.useState(!1),[U,Y]=p.useState(null),oe=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],Q="template1",[$,ie]=p.useState(null),[le,I]=p.useState(!0),W=async()=>{if(!e){y("ID du résultat manquant."),f(!1);return}f(!0),y(null),j(null),n(null),i(null),u(null),I(!0),ie(null);try{const{data:P,error:z}=await se.from("patient_result").select("*").eq("id",e).single();if(z)throw z;if(!P)throw new Error("Résultat non trouvé.");n(P);const[V,K,re]=await Promise.all([se.from("patient").select("*").eq("id",P.patient_id).single(),se.from("doctor").select("*").eq("id",P.doctor_id).single(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);V.error&&console.warn("Erreur chargement patient:",V.error.message),K.error&&console.warn("Erreur chargement médecin:",K.error.message),i(V.data),u(K.data),ie(re.data),I(!1)}catch(P){console.error("Erreur chargement détails du résultat:",P),y(P.message||"Une erreur est survenue lors du chargement du résultat.")}finally{f(!1)}};p.useEffect(()=>{W()},[e]),p.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),A((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const q=p.useCallback(async P=>{if(e)try{const{error:z}=await se.from("patient_result").update({description:P}).eq("id",e);if(z)throw z}catch(z){console.error("Error saving description:",z)}},[e]);p.useEffect(()=>{const P=setTimeout(()=>{N!==(t==null?void 0:t.description)&&q(N)},1e3);return()=>clearTimeout(P)},[N,t==null?void 0:t.description,q]);const J=p.useCallback(async()=>{L(!0),Y(null);try{const P=C!==""?Number(C):null,z=R!==""?Number(R):null;if(C!==""&&isNaN(P)||R!==""&&isNaN(z)){Y("Les prix doivent être des nombres valides."),L(!1);return}const{error:V,data:K}=await se.from("patient_result").update({normal_price:P,insurance_price:z}).eq("id",t.id).select().single();if(V)throw V;n(re=>re&&{...re,normal_price:P,insurance_price:z}),E(!1)}catch(P){Y(P.message||"Erreur lors de la sauvegarde des prix.")}finally{L(!1)}},[t,C,R]),D=async P=>{if(!(!t||P===t.status)){g(!0),j(null);try{const{data:z,error:V}=await se.from("patient_result").update({status:P}).eq("id",t.id).select().single();if(V)throw V;n(z||(K=>K?{...K,status:P}:null))}catch(z){console.error("Erreur mise à jour statut:",z),j(z.message||"Impossible de mettre à jour le statut.")}finally{g(!1)}}},F=(P,z,V,K)=>{const re=P;return r.jsxs("div",{className:Me("flex items-start space-x-3",K),children:[r.jsx(re,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:z}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:V||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},B=p.useMemo(()=>{var z;const P=($==null?void 0:$.selected_template)||Q;return((z=oe.find(V=>V.id===P))==null?void 0:z.component)||Qn},[$]),H=p.useMemo(()=>({logoUrl:($==null?void 0:$.logo_url)||null,labName:$==null?void 0:$.lab_name,addressLine1:$==null?void 0:$.address_line1,addressLine2:$==null?void 0:$.address_line2,cityPostalCode:$==null?void 0:$.city_postal_code,phone:$==null?void 0:$.phone,email:$==null?void 0:$.email,website:$==null?void 0:$.website}),[$]);return h?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):x?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[x," ",r.jsx(ne,{variant:"link",onClick:W,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:s?`/patients/${s.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",s?`à ${s.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),r.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[$?r.jsx("div",{className:"mb-2 print:mb-0",children:r.jsx(B,{data:H,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):r.jsxs(Dt,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"En-tête Manquant"}),r.jsxs(Lt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",r.jsx(st,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),r.jsx(os,{className:"my-2 print:my-0 print:border-none"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(Ge,"NOM PRENOM",s==null?void 0:s.full_name),F(Ge,"IDENTIFIANT Unique",s==null?void 0:s.patient_unique_id),F(hn,"Date Naissance",s!=null&&s.date_of_birth?ct(Kt(s.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:F(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(qt,"NOM PRENOM",l==null?void 0:l.full_name),F(yn,"Téléphone",l==null?void 0:l.phone),F(Ge,"Provenance",l==null?void 0:l.hospital)]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[F(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:P=>M(P.target.value),disabled:k}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:P=>A(P.target.value),disabled:k}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:_?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:k,children:[k?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:k,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),U&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:U})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:t.status??"",onValueChange:P=>D(P),disabled:m,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),m&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),r.jsx(us,{variant:Uq(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:Fq(t.status)})]})]})]})]})]}),r.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]}),F(Ge,"NOM PRENOM",s==null?void 0:s.full_name),F(Ge,"ID Unique",s==null?void 0:s.patient_unique_id),F(yn,"Téléphone",s==null?void 0:s.phone)]}),r.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[r.jsx(ar,{className:"h-4 w-4"})," Médecin"]}),F(qt,"NOM PRENOM",l==null?void 0:l.full_name),F(yn,"Téléphone",l==null?void 0:l.phone),F(Ge,"Hôpital",l==null?void 0:l.hospital)]})]}),r.jsx(Hq,{resultId:e})]})]}):r.jsx("div",{children:"Résultat non trouvé."})};function Hq({resultId:e}){const[t,n]=p.useState(!0),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(!1),[m,g]=p.useState(null),[x,y]=p.useState({diagnostic_clinique:"",biopsie_chirurgicale:"",fixateur_utilise:"",etude_macroscopique:"",etude_histologique:"",conclusion:"",bottom_text:""}),[w,j]=p.useState({cityDate:`BAMAKO, LE ${ct(new Date,"dd/MM/yyyy")}`,doctor:"Dr, Bourama COULIBALY"});p.useEffect(()=>{const E=localStorage.getItem("anapath_city_date"),C=localStorage.getItem("anapath_doctor");j({cityDate:E||"BAMAKO, LE 4/06/2024",doctor:C||"Dr, Bourama COULIBALY"})},[]),p.useEffect(()=>{localStorage.setItem("anapath_city_date",w.cityDate),localStorage.setItem("anapath_doctor",w.doctor)},[w]);const N=E=>{const{name:C,value:M}=E.target;j(R=>({...R,[C]:M}))};p.useEffect(()=>{async function E(){n(!0),i(null);const{data:C,error:M}=await se.from("anapath").select("*").eq("result_id",e).maybeSingle();if(M){i("Erreur lors du chargement: "+M.message),n(!1);return}if(C){u(C),y({diagnostic_clinique:C.diagnostic_clinique||"",biopsie_chirurgicale:C.biopsie_chirurgicale||"",fixateur_utilise:C.fixateur_utilise||"",etude_macroscopique:C.etude_macroscopique||"",etude_histologique:C.etude_histologique||"",conclusion:C.conclusion||"",bottom_text:C.bottom_text||""}),n(!1);return}const{data:R,error:A}=await se.from("anapath").insert([{result_id:e}]).select().maybeSingle();if(A)if(A.code==="23505"||A.message&&A.message.includes("duplicate key value")){const{data:k,error:L}=await se.from("anapath").select("*").eq("result_id",e).maybeSingle();L?i("Erreur lors du chargement après duplication: "+L.message):k?(u(k),y({diagnostic_clinique:k.diagnostic_clinique||"",biopsie_chirurgicale:k.biopsie_chirurgicale||"",fixateur_utilise:k.fixateur_utilise||"",etude_macroscopique:k.etude_macroscopique||"",etude_histologique:k.etude_histologique||"",conclusion:k.conclusion||"",bottom_text:k.bottom_text||""})):i("Erreur inattendue lors de la récupération après duplication.")}else i("Erreur lors de la création: "+A.message);else u(R),y({diagnostic_clinique:R.diagnostic_clinique||"",biopsie_chirurgicale:R.biopsie_chirurgicale||"",fixateur_utilise:R.fixateur_utilise||"",etude_macroscopique:R.etude_macroscopique||"",etude_histologique:R.etude_histologique||"",conclusion:R.conclusion||"",bottom_text:R.bottom_text||""});n(!1)}e&&E()},[e]);const S=E=>{const{name:C,value:M}=E.target;y(R=>({...R,[C]:M}))},_=async()=>{if(!l)return;f(!0),g(null);const{error:E}=await se.from("anapath").update(x).eq("id",l.id);f(!1),g(E?"Erreur lors de la sauvegarde: "+E.message:"Modifications enregistrées !")};return t?r.jsx("div",{children:"Chargement..."}):s?r.jsx("div",{className:"text-red-500",children:s}):l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:r.jsxs(ne,{onClick:()=>window.print(),variant:"outline",children:[r.jsx(lh,{className:"mr-2 h-4 w-4"})," Imprimer"]})}),r.jsxs("div",{className:"w-full mx-auto bg-white p-8 rounded shadow print:bg-white print:shadow-none print:p-0 print:max-w-full print:text-black print:font-serif print:leading-relaxed print:text-[16pt] print:rounded-none",style:{minHeight:"29.7cm",minWidth:"21cm"},children:[r.jsx("h1",{className:"text-2xl font-bold text-center mb-6 uppercase print:text-[20pt] print:mb-8 print:font-bold",children:"EXAMEN ANATOMO-PATHOLOGIQUE"}),r.jsxs("div",{className:"mb-4 print:mb-6",children:[r.jsx("h2",{className:"font-bold mb-2 print:mb-1 print:text-[17pt] uppercase",children:"Résumé de l’Observation Clinique :"}),r.jsxs("div",{className:"ml-4 space-y-2 print:ml-0 print:space-y-1",children:[r.jsxs("div",{children:["Diagnostic Clinique :",r.jsxs("span",{className:"print:inline print:ml-1",children:[r.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.diagnostic_clinique}),r.jsx("input",{name:"diagnostic_clinique",value:x.diagnostic_clinique,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Diagnostic Clinique",disabled:h})]})]}),r.jsxs("div",{children:["Biopsie Chirurgicale :",r.jsxs("span",{className:"print:inline print:ml-1",children:[r.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.biopsie_chirurgicale}),r.jsx("input",{name:"biopsie_chirurgicale",value:x.biopsie_chirurgicale,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Biopsie Chirurgicale",disabled:h})]})]}),r.jsxs("div",{children:["Fixateur Utilisé :",r.jsxs("span",{className:"print:inline print:ml-1",children:[r.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.fixateur_utilise}),r.jsx("input",{name:"fixateur_utilise",value:x.fixateur_utilise,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Fixateur Utilisé",disabled:h})]})]})]})]}),r.jsxs("div",{className:"mb-4 print:mb-6",children:[r.jsx("h2",{className:"font-bold mb-2 uppercase print:mb-1 print:text-[17pt]",children:"COMPTE –RENDU HISTOPATHOLOGIQUE :"}),r.jsxs("div",{className:"ml-4 space-y-2 print:ml-0 print:space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-bold print:text-[16pt]",children:"I. Etude Macroscopique :"}),r.jsxs("span",{className:"print:inline print:ml-1",children:[r.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.etude_macroscopique}),r.jsx("textarea",{name:"etude_macroscopique",value:x.etude_macroscopique,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Etude Macroscopique",rows:2,disabled:h})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-bold print:text-[16pt]",children:"2-Etude Histologique :"}),r.jsxs("span",{className:"print:inline print:ml-1",children:[r.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.etude_histologique}),r.jsx("textarea",{name:"etude_histologique",value:x.etude_histologique,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Etude Histologique",rows:2,disabled:h})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-bold underline print:text-[16pt]",children:"3-Conclusion :"}),r.jsxs("span",{className:"print:inline print:ml-1",children:[r.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.conclusion}),r.jsx("textarea",{name:"conclusion",value:x.conclusion,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Conclusion",rows:2,disabled:h})]})]}),r.jsx("div",{children:r.jsxs("span",{className:"print:inline print:ml-1",children:[r.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.bottom_text}),r.jsx("textarea",{name:"bottom_text",value:x.bottom_text,onChange:S,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"OLGA/OLGIM...",rows:1,disabled:h})]})})]})]}),r.jsxs("div",{className:"mt-8 flex flex-col items-end print:mt-12 print:items-end",children:[r.jsxs("span",{className:"print:text-[15pt]",children:[r.jsx("span",{className:"hidden print:inline",children:w.cityDate}),r.jsx("input",{name:"cityDate",value:w.cityDate,onChange:N,className:"border-b border-gray-300 focus:outline-none bg-transparent w-auto text-right print:hidden"})]}),r.jsxs("span",{className:"print:text-[15pt]",children:[r.jsx("span",{className:"hidden print:inline",children:w.doctor}),r.jsx("input",{name:"doctor",value:w.doctor,onChange:N,className:"border-b border-gray-300 focus:outline-none bg-transparent w-auto text-right print:hidden"})]})]}),r.jsxs("div",{className:"mt-6 flex items-center gap-4 print:hidden",children:[r.jsx(ne,{onClick:_,disabled:h,variant:"default",children:h?"Enregistrement...":"Enregistrer"}),m&&r.jsx("span",{className:m.startsWith("Erreur")?"text-red-500":"text-green-600",children:m})]})]}),r.jsx("div",{className:"print:block hidden page-break-after"})]}):r.jsx("div",{children:"Entrée Anapath non trouvée."})}const Vq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},qq=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},Yq=()=>{const{resultId:e}=br();cr();const[t,n]=p.useState(null),[s,i]=p.useState(null),[l,u]=p.useState(null),[h,f]=p.useState(!0),[m,g]=p.useState(!1),[x,y]=p.useState(null),[w,j]=p.useState(null),[N,S]=p.useState(""),[_,E]=p.useState(!1),[C,M]=p.useState(""),[R,A]=p.useState(""),[k,L]=p.useState(!1),[U,Y]=p.useState(null),oe=[{id:"template1",component:Qn},{id:"template2",component:Ra},{id:"template3",component:Ta},{id:"template4",component:Ma}],Q="template1",[$,ie]=p.useState(null),[le,I]=p.useState(!0),W=async()=>{if(!e){y("ID du résultat manquant."),f(!1);return}f(!0),y(null),j(null),n(null),i(null),u(null),I(!0),ie(null);try{const{data:H,error:P}=await se.from("patient_result").select("*").eq("id",e).single();if(P)throw P;if(!H)throw new Error("Résultat non trouvé.");n(H);const[z,V,K]=await Promise.all([se.from("patient").select("*").eq("id",H.patient_id).single(),se.from("doctor").select("*").eq("id",H.doctor_id).single(),se.from("print_header_config").select("*").limit(1).maybeSingle()]);z.error&&console.warn("Erreur chargement patient:",z.error.message),V.error&&console.warn("Erreur chargement médecin:",V.error.message),i(z.data),u(V.data),ie(K.data),I(!1)}catch(H){console.error("Erreur chargement détails du résultat:",H),y(H.message||"Une erreur est survenue lors du chargement du résultat.")}finally{f(!1)}};p.useEffect(()=>{W()},[e]),p.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),A((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const q=p.useCallback(async H=>{if(e)try{const{error:P}=await se.from("patient_result").update({description:H}).eq("id",e);if(P)throw P}catch(P){console.error("Error saving description:",P)}},[e]);p.useEffect(()=>{const H=setTimeout(()=>{N!==(t==null?void 0:t.description)&&q(N)},1e3);return()=>clearTimeout(H)},[N,t==null?void 0:t.description,q]);const J=p.useCallback(async()=>{L(!0),Y(null);try{const H=C!==""?Number(C):null,P=R!==""?Number(R):null;if(C!==""&&isNaN(H)||R!==""&&isNaN(P)){Y("Les prix doivent être des nombres valides."),L(!1);return}const{error:z,data:V}=await se.from("patient_result").update({normal_price:H,insurance_price:P}).eq("id",t.id).select().single();if(z)throw z;n(K=>K&&{...K,normal_price:H,insurance_price:P}),E(!1)}catch(H){Y(H.message||"Erreur lors de la sauvegarde des prix.")}finally{L(!1)}},[t,C,R]),D=async H=>{if(!(!t||H===t.status)){g(!0),j(null);try{const{data:P,error:z}=await se.from("patient_result").update({status:H}).eq("id",t.id).select().single();if(z)throw z;n(P||(V=>V?{...V,status:H}:null))}catch(P){console.error("Erreur mise à jour statut:",P),j(P.message||"Impossible de mettre à jour le statut.")}finally{g(!1)}}},F=()=>{window.print()},B=(H,P,z,V)=>{const K=H;return r.jsxs("div",{className:Me("flex items-start space-x-3",V),children:[r.jsx(K,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:P}),r.jsx("p",{className:"text-sm font-bold print:text-xs",children:z||r.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})};return p.useMemo(()=>{var P;const H=($==null?void 0:$.selected_template)||Q;return((P=oe.find(z=>z.id===H))==null?void 0:P.component)||Qn},[$]),p.useMemo(()=>({logoUrl:($==null?void 0:$.logo_url)||null,labName:$==null?void 0:$.lab_name,addressLine1:$==null?void 0:$.address_line1,addressLine2:$==null?void 0:$.address_line2,cityPostalCode:$==null?void 0:$.city_postal_code,phone:$==null?void 0:$.phone,email:$==null?void 0:$.email,website:$==null?void 0:$.website}),[$]),h?r.jsxs("div",{className:"space-y-6",children:[r.jsx(X,{className:"h-8 w-32"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]}),r.jsxs(Ce,{children:[r.jsxs(Te,{children:[r.jsx(X,{className:"h-5 w-24"}),r.jsx(X,{className:"h-4 w-32 mt-1"})]}),r.jsxs(Re,{className:"space-y-3",children:[r.jsx(X,{className:"h-8 w-full"}),r.jsx(X,{className:"h-8 w-full"})]})]})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]}),r.jsxs(Ce,{children:[r.jsx(Te,{children:r.jsx(X,{className:"h-6 w-1/3"})}),r.jsx(Re,{children:r.jsx(X,{className:"h-20 w-full"})})]})]}):x?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx(st,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),r.jsxs(Dt,{variant:"destructive",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx(Pt,{children:"Erreur"}),r.jsxs(Lt,{children:[x," ",r.jsx(ne,{variant:"link",onClick:W,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[r.jsx("div",{children:r.jsx(st,{to:s?`/patients/${s.id}`:"/patients",children:r.jsxs(ne,{variant:"outline",size:"sm",children:[r.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Retour ",s?`à ${s.full_name}`:"à la liste"]})})}),r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[r.jsx(ls,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),r.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[r.jsxs(Ce,{className:"overflow-hidden print:shadow-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(qt,{className:"h-4 w-4"}),"Patient"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[B(Ge,"NOM PRENOM",s==null?void 0:s.full_name),B(Ge,"IDENTIFIANT Unique",s==null?void 0:s.patient_unique_id),B(hn,"Date Naissance",s!=null&&s.date_of_birth?ct(Kt(s.date_of_birth),"P",{locale:Wt}):null),r.jsx("div",{className:"hidden print:block",children:B(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null)})]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(ar,{className:"h-4 w-4"}),"Médecin"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[B(qt,"NOM PRENOM",l==null?void 0:l.full_name),B(yn,"Téléphone",l==null?void 0:l.phone),B(Ge,"Provenance",l==null?void 0:l.hospital)]})]}),r.jsxs(Ce,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[r.jsx(Te,{className:"pb-2 print:pb-1",children:r.jsxs(pt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[r.jsx(Na,{className:"h-4 w-4"}),"Résultat Info"]})}),r.jsxs(Re,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[B(hn,"Date Résultat",t.result_date?ct(Kt(t.result_date),"Pp",{locale:Wt}):null),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),_?r.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:C,onChange:H=>M(H.target.value),disabled:k}):r.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:C,disabled:!0,readOnly:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),_?r.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:H=>A(H.target.value),disabled:k}):r.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:_?r.jsxs(r.Fragment,{children:[r.jsxs(ne,{size:"xs",variant:"secondary",onClick:J,disabled:k,children:[k?r.jsx(zt,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:k,children:"Annuler"})]}):r.jsx(ne,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),U&&r.jsx("p",{className:"text-xs text-destructive mt-1",children:U})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),r.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[r.jsxs(pr,{value:t.status??"",onValueChange:H=>D(H),disabled:m,children:[r.jsxs(vr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",r.jsx(gr,{placeholder:"Changer statut..."})," "]}),r.jsxs(xr,{children:[r.jsx(Nt,{value:"attente",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),r.jsx(Nt,{value:"en cours",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),r.jsx(Nt,{value:"fini",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),m&&r.jsx(zt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&r.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),r.jsx(us,{variant:Vq(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:qq(t.status)})]})]})]})]})]}),r.jsx("div",{className:"flex items-center justify-end  print:hidden",children:r.jsx(ne,{onClick:F,className:"",children:"Imprimer"})}),r.jsx(Gq,{})]})]}):r.jsx("div",{children:"Résultat non trouvé."})},Gq=()=>r.jsx(r.Fragment,{children:r.jsxs("div",{className:"p-4 space-y-1",children:[r.jsx(Xq,{}),r.jsx(Kq,{}),r.jsx(Qo,{children:r.jsx(Wq,{})}),r.jsxs(Qo,{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[r.jsx(Ag,{label:"Délai d'abstinence",value:"3 (j)"}),r.jsx(Ag,{label:"Lieu de Recueil",value:"Laboratoire"}),r.jsx(Ag,{label:"Mode de Recueil",value:"Masturbation"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 ",children:[r.jsx($r,{label:"Volume",value:"1 ml",ref:"VN: 1.5 - 6 ml"}),r.jsx($r,{label:"pH",value:"-",ref:"VN: 7.2 - 8.5"}),r.jsx($r,{label:"Viscosité",value:"Normale"}),r.jsx($r,{label:"Couleur",value:"Normale"}),r.jsx($r,{label:"Odeur",value:"Normale"})]}),r.jsxs("div",{className:"grid grid-cols-2 pt-1 gap-2",children:[r.jsx($r,{label:"Agglutinats spontanés",value:"Absence"}),r.jsx($r,{label:"Agrégats multiples",value:"Absence"})]})]}),r.jsxs(Qo,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(wt,{type:"section",children:"MOBILITÉ DES SPERMATOZOÏDES APRÈS 1 HEURE"}),r.jsx(Oh,{children:r.jsx(wt,{type:"text",children:"Normale [a+b+c] ≥ 40%"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-1 ",children:[r.jsx($r,{label:"Rapides et progressifs (a)",value:"15%",ref:"VN:Vitesse > 25 ms"}),r.jsx($r,{label:"Lents et progressifs (b)",value:"15%",ref:"VN:Vitesse < 25 ms"}),r.jsx($r,{label:"Mobiles sur place (c)",value:"5%"}),r.jsx($r,{label:"Immobiles (d)",value:"80%"})]})]}),r.jsxs(Qo,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wt,{type:"section",children:"CULOT DE CENTRIFUGATION:"}),r.jsx(wt,{type:"text",children:"AUCUN SPERMATOZOIDE OBSERVÉ"})]}),r.jsx(wt,{type:"section",children:"NUMÉRATION/CONCENTRATION DE SPERMATOZOÏDES PAR MILLILITRE DE SPERME"}),r.jsx(Zq,{}),r.jsx(wt,{type:"text",children:"Identification des cellules rondes: Cellules épithéliales"})]}),r.jsxs(Qo,{children:[r.jsx(wt,{type:"section",children:"VITALITE ou Test de Williams"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx($r,{label:"% de spermatozoïdes Vivants",value:"40%",ref:"VN: ≥ 58%"}),r.jsx($r,{label:"% de spermatozoïdes Morts",value:"60%"})]})]}),r.jsxs(Qo,{children:[r.jsx(wt,{type:"section",children:"SPERMOCYTOGRAMME (Critères de David et Kruger)"}),r.jsx(Jq,{})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(wt,{type:"section",className:"uppercase",children:["Conclusion:"," "]}),r.jsx(wt,{type:"text",children:"Le Biologiste"})]}),r.jsx(Qq,{})]})}),wt=({children:e,type:t,className:n})=>r.jsx("span",{className:Me("inline-block text-base leading-4",t==="header"&&"font-bold print:text-[14pt] text-[#9b87f5] print:text-black",t==="section"&&" print:text-[10pt] text-[#9b87f5] print:text-black font-bold",t==="text"&&"font-normal print:text-[9pt]",n),children:e});function Oh({children:e,primary:t,bg:n}){return r.jsx("div",{className:`border border-slate-${t?300:200} rounded-full px-2  ${n?"bg-slate-50":""}`,children:e})}function $r({label:e,value:t,ref:n}){return r.jsx("div",{className:"bg-gray-50 px-2 rounded-lg",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx(wt,{type:"text",children:e}),r.jsx(Oh,{children:r.jsx(wt,{type:"text",children:n})})]}),r.jsx(wt,{type:"text",className:"font-bold",children:t})]}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex items-center gap-2 py-1",children:[r.jsxs(wt,{type:"text",children:[e,":"]}),r.jsx(wt,{type:"text",children:t})]})})})}function Ag({label:e,value:t}){return r.jsx(Oh,{children:r.jsxs("div",{className:"flex items-center gap-2 ml-1",children:[r.jsxs(wt,{type:"text",className:"text-muted-foreground leading-5",children:[e,":"]}),r.jsx(wt,{type:"text",className:"font-bold leading-5",children:t})]})})}function tR({columns:e,data:t,borderVisible:n=!0}){return r.jsx("div",{className:`${n?"border-visible":"border-none"}`,children:r.jsxs("table",{className:"w-full  ",children:[r.jsx("thead",{children:r.jsx("tr",{className:"text-left",children:e.map((s,i)=>r.jsx("th",{children:r.jsx(wt,{type:"text",className:"font-bold",children:s})},i))})}),r.jsx("tbody",{children:t.map((s,i)=>r.jsx("tr",{children:e.map((l,u)=>r.jsx("td",{children:r.jsx(wt,{type:"text",children:s[l]})},u))},i))})]})})}function Wq(){return r.jsx("div",{className:"border-none",children:r.jsxs("table",{className:"w-full  ",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{children:r.jsx(wt,{type:"text",className:"text-muted-foreground",children:"Prénom et Nom"})}),r.jsx("th",{children:r.jsx(wt,{type:"text",className:"text-muted-foreground",children:"Âge"})}),r.jsx("th",{children:r.jsx(wt,{type:"text",className:"text-muted-foreground",children:"Profession"})}),r.jsx("th",{children:r.jsx(wt,{type:"text",className:"text-muted-foreground",children:"Résidence"})}),r.jsx("th",{children:r.jsx(wt,{type:"text",className:"text-muted-foreground",children:"Ethnie"})})]})}),r.jsx("tbody",{children:r.jsxs("tr",{className:"text-left",children:[r.jsx("td",{children:r.jsx(wt,{type:"text",className:"font-bold",children:"Naouma TRAORE"})}),r.jsx("td",{children:r.jsx(wt,{type:"text",className:"font-bold",children:"- ans"})}),r.jsx("td",{children:r.jsx(wt,{type:"text",className:"font-bold",children:"-"})}),r.jsx("td",{children:r.jsx(wt,{type:"text",className:"font-bold",children:"-"})}),r.jsx("td",{children:r.jsx(wt,{type:"text",className:"font-bold",children:"-"})})]})})]})})}function Xq(){return r.jsxs("div",{className:"flex flex-col items-center border border-slate-300 rounded-lg",children:[r.jsx(wt,{type:"header",className:" text-center tracking-wider pt-2 ",children:"DÉCLIC SANTÉ"}),r.jsx(wt,{type:"text",children:"MEDINA COURA RUE: 1 PORTE: 28 BAMAKO - MALI TEL: 92906964/67737350"}),r.jsx(wt,{type:"text",children:"LABORATOIRE - ECHOGRAPHIES - CONSULTATIONS"})]})}function Kq(){const e=new Date,t=e.getFullYear(),n=e.getDate(),s=e.getMonth(),l=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][s];return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(wt,{type:"section",className:"uppercase",children:["Spermogramme ",t]}),r.jsx(Oh,{bg:!0,children:r.jsxs(wt,{type:"text",children:["Nº: 022/24 du ",n," ",l]})})]})}function Qq(){return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(wt,{type:"text",className:"font-bold -ml-[200px]",children:"OLIGO-ASTHENO-NECROZOOSPERMIE SEVERE"}),r.jsx(wt,{type:"text",className:"font-bold -ml-[200px]",children:"HYPOSPERMIE"}),r.jsx(wt,{type:"text",className:"font-bold -ml-[200px]",children:"INTERET DE BILAN INFECTIEUX"}),r.jsx(wt,{type:"text",className:"font-bold -ml-[200px]",children:"EXAMEN DE CONTROLE A REALISER DANS 03 MOIS"})]})})}const Qo=({children:e})=>r.jsx("div",{className:"border border-slate-300 rounded-lg px-2 py-1",children:e});function Zq(){const e=["Paramètres","Résultats","Ref."],t=[{Paramètres:"Nombre de Spermatozoïdes / millilitre de sperme",Résultats:"5 millions","Ref.":"> 15 millions/ml"},{Paramètres:"Nombre de Spermatozoïdes dans l'éjaculat",Résultats:"+","Ref.":"≥  39.10^6 / ml"},{Paramètres:"Cellules rondes",Résultats:"+","Ref.":"≤ 5000 / ml"},{Paramètres:"Leucocytes",Résultats:"+","Ref.":"≤ 10^6 / ml"}];return r.jsx(tR,{columns:e,data:t})}function Jq(){const e=["Paramètres","Résultats","Ref."],t=[{Paramètres:"% de spermatozoïdes de formes typiques",Résultats:"-%","Ref.":"≥ 4%"},{Paramètres:"% de spermatozoïdes présentant une anomalie de la tête",Résultats:"-%","Ref.":"-"},{Paramètres:"% de spermatozoïdes présentant une anomalie de la pièce intermédiaire",Résultats:"-%","Ref.":"-"},{Paramètres:"% de spermatozoïdes présentant une anomalie de la flagelle",Résultats:"-%","Ref.":"-"},{Paramètres:"% de spermatozoïdes de formes immatures",Résultats:"-%","Ref.":"-"}];return r.jsx(tR,{columns:e,data:t})}function eY(){return r.jsx(r.Fragment,{children:r.jsxs(fO,{children:[r.jsx(kt,{path:"/login",element:r.jsx(AI,{})}),r.jsx(kt,{element:r.jsx(RI,{}),children:r.jsxs(kt,{element:r.jsx(CI,{}),children:[r.jsx(kt,{index:!0,element:r.jsx(qj,{})}),r.jsx(kt,{path:"/patients",element:r.jsx(qj,{})}),r.jsx(kt,{path:"/patients/new",element:r.jsx(n1,{})})," ",r.jsx(kt,{path:"/patients/:patientId",element:r.jsx(J8,{})}),r.jsx(kt,{path:"/patients/:patientId/edit",element:r.jsx(n1,{})})," ",r.jsx(kt,{path:"/patients/:patientId/results/new",element:r.jsx(G1,{})}),r.jsx(kt,{path:"/results/:resultId",element:r.jsx(MB,{})}),r.jsx(kt,{path:"/results/:resultId/edit",element:r.jsx(G1,{})}),r.jsx(kt,{path:"/doctors",element:r.jsx(e$,{})}),r.jsx(kt,{path:"/doctors/new",element:r.jsx(Q1,{})})," ",r.jsx(kt,{path:"/doctors/:doctorId/edit",element:r.jsx(Q1,{})})," ",r.jsx(kt,{path:"/test-types",element:r.jsx(l7,{})}),r.jsx(kt,{path:"/test-types/new",element:r.jsx(K1,{})}),r.jsx(kt,{path:"/test-types/:testTypeId/edit",element:r.jsx(K1,{})}),r.jsx(kt,{path:"/categories",element:r.jsx(h7,{})})," ",r.jsx(kt,{path:"/ristournes",element:r.jsx(vq,{})}),r.jsx(kt,{path:"/ristournes/new",element:r.jsx(nN,{})}),r.jsx(kt,{path:"/ristournes/:ristourneId",element:r.jsx(nN,{})}),r.jsx(kt,{path:"/settings/print-header",element:r.jsx(mq,{})}),r.jsx(kt,{path:"/protidogramme/:resultId",element:r.jsx(wq,{})}),r.jsx(kt,{path:"/skip-range-management",element:r.jsx(xq,{})}),r.jsx(kt,{path:"/atbs",element:r.jsx(Cq,{})}),r.jsx(kt,{path:"/atb/:resultId",element:r.jsx(_q,{})}),r.jsx(kt,{path:"/ecb/:resultId",element:r.jsx(Mq,{})}),r.jsx(kt,{path:"/ecb-models",element:r.jsx(Oq,{})}),r.jsx(kt,{path:"/vhb/:resultId",element:r.jsx(Dq,{})}),r.jsx(kt,{path:"/vih/:resultId",element:r.jsx($q,{})}),r.jsx(kt,{path:"/anapath/:resultId",element:r.jsx(Bq,{})}),r.jsx(kt,{path:"/spermogramme/:resultId",element:r.jsx(Yq,{})})]})}),r.jsx(kt,{path:"*",element:r.jsx(t$,{})})]})})}var tY=(e,t,n,s,i,l,u,h)=>{let f=document.documentElement,m=["light","dark"];function g(w){(Array.isArray(e)?e:[e]).forEach(j=>{let N=j==="class",S=N&&l?i.map(_=>l[_]||_):i;N?(f.classList.remove(...S),f.classList.add(l&&l[w]?l[w]:w)):f.setAttribute(j,w)}),x(w)}function x(w){h&&m.includes(w)&&(f.style.colorScheme=w)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)g(s);else try{let w=localStorage.getItem(t)||n,j=u&&w==="system"?y():w;g(j)}catch{}},nY=p.createContext(void 0),rY={setTheme:e=>{},themes:[]},sY=()=>{var e;return(e=p.useContext(nY))!=null?e:rY};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:l,value:u,themes:h,nonce:f,scriptProps:m})=>{let g=JSON.stringify([n,t,l,e,h,u,s,i]).slice(1,-1);return p.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${tY.toString()})(${g})`}})});const aY=({...e})=>{const{theme:t="system"}=sY();return r.jsx(U7,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};yM.createRoot(document.getElementById("root")).render(r.jsx(we.StrictMode,{children:r.jsx(PO,{children:r.jsxs(X4,{children:[r.jsx(aY,{richColors:!0,position:"top-right"})," ",r.jsx(eY,{})]})})}));export{Ff as g};
