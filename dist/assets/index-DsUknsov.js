function TC(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function MC(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var l=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return e[a]}})}),r}var zm={exports:{}},Qo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function AC(){if(o0)return Qo;o0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:a,key:u,ref:l!==void 0?l:null,props:c}}return Qo.Fragment=t,Qo.jsx=r,Qo.jsxs=r,Qo}var c0;function kC(){return c0||(c0=1,zm.exports=AC()),zm.exports}var s=kC(),Um={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function DC(){if(u0)return ct;u0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function _(k,P,q){this.props=k,this.context=P,this.refs=N,this.updater=q||w}_.prototype.isReactComponent={},_.prototype.setState=function(k,P){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,P,"setState")},_.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=_.prototype;function E(k,P,q){this.props=k,this.context=P,this.refs=N,this.updater=q||w}var R=E.prototype=new C;R.constructor=E,j(R,_.prototype),R.isPureReactComponent=!0;var M=Array.isArray,T={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function H(k,P,q,W,O,$){return q=$.ref,{$$typeof:e,type:k,key:P,ref:q!==void 0?q:null,props:$}}function F(k,P){return H(k.type,P,void 0,void 0,void 0,k.props)}function G(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function V(k){var P={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(q){return P[q]})}var ue=/\/+/g;function re(k,P){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):P.toString(36)}function I(){}function oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(I,I):(k.status="pending",k.then(function(P){k.status==="pending"&&(k.status="fulfilled",k.value=P)},function(P){k.status==="pending"&&(k.status="rejected",k.reason=P)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ce(k,P,q,W,O){var $=typeof k;($==="undefined"||$==="boolean")&&(k=null);var B=!1;if(k===null)B=!0;else switch($){case"bigint":case"string":case"number":B=!0;break;case"object":switch(k.$$typeof){case e:case t:B=!0;break;case v:return B=k._init,ce(B(k._payload),P,q,W,O)}}if(B)return O=O(k),B=W===""?"."+re(k,0):W,M(O)?(q="",B!=null&&(q=B.replace(ue,"$&/")+"/"),ce(O,P,q,"",function(ge){return ge})):O!=null&&(G(O)&&(O=F(O,q+(O.key==null||k&&k.key===O.key?"":(""+O.key).replace(ue,"$&/")+"/")+B)),P.push(O)),1;B=0;var K=W===""?".":W+":";if(M(k))for(var se=0;se<k.length;se++)W=k[se],$=K+re(W,se),B+=ce(W,P,q,$,O);else if(se=b(k),typeof se=="function")for(k=se.call(k),se=0;!(W=k.next()).done;)W=W.value,$=K+re(W,se++),B+=ce(W,P,q,$,O);else if($==="object"){if(typeof k.then=="function")return ce(oe(k),P,q,W,O);throw P=String(k),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return B}function D(k,P,q){if(k==null)return k;var W=[],O=0;return ce(k,W,"","",function($){return P.call(q,$,O++)}),W}function X(k){if(k._status===-1){var P=k._result;P=P(),P.then(function(q){(k._status===0||k._status===-1)&&(k._status=1,k._result=q)},function(q){(k._status===0||k._status===-1)&&(k._status=2,k._result=q)}),k._status===-1&&(k._status=0,k._result=P)}if(k._status===1)return k._result.default;throw k._result}var U=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function J(){}return ct.Children={map:D,forEach:function(k,P,q){D(k,function(){P.apply(this,arguments)},q)},count:function(k){var P=0;return D(k,function(){P++}),P},toArray:function(k){return D(k,function(P){return P})||[]},only:function(k){if(!G(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ct.Component=_,ct.Fragment=r,ct.Profiler=l,ct.PureComponent=E,ct.StrictMode=a,ct.Suspense=h,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,ct.act=function(){throw Error("act(...) is not supported in production builds of React.")},ct.cache=function(k){return function(){return k.apply(null,arguments)}},ct.cloneElement=function(k,P,q){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var W=j({},k.props),O=k.key,$=void 0;if(P!=null)for(B in P.ref!==void 0&&($=void 0),P.key!==void 0&&(O=""+P.key),P)!z.call(P,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&P.ref===void 0||(W[B]=P[B]);var B=arguments.length-2;if(B===1)W.children=q;else if(1<B){for(var K=Array(B),se=0;se<B;se++)K[se]=arguments[se+2];W.children=K}return H(k.type,O,void 0,void 0,$,W)},ct.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},ct.createElement=function(k,P,q){var W,O={},$=null;if(P!=null)for(W in P.key!==void 0&&($=""+P.key),P)z.call(P,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(O[W]=P[W]);var B=arguments.length-2;if(B===1)O.children=q;else if(1<B){for(var K=Array(B),se=0;se<B;se++)K[se]=arguments[se+2];O.children=K}if(k&&k.defaultProps)for(W in B=k.defaultProps,B)O[W]===void 0&&(O[W]=B[W]);return H(k,$,void 0,void 0,null,O)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(k){return{$$typeof:f,render:k}},ct.isValidElement=G,ct.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:X}},ct.memo=function(k,P){return{$$typeof:p,type:k,compare:P===void 0?null:P}},ct.startTransition=function(k){var P=T.T,q={};T.T=q;try{var W=k(),O=T.S;O!==null&&O(q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(J,U)}catch($){U($)}finally{T.T=P}},ct.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},ct.use=function(k){return T.H.use(k)},ct.useActionState=function(k,P,q){return T.H.useActionState(k,P,q)},ct.useCallback=function(k,P){return T.H.useCallback(k,P)},ct.useContext=function(k){return T.H.useContext(k)},ct.useDebugValue=function(){},ct.useDeferredValue=function(k,P){return T.H.useDeferredValue(k,P)},ct.useEffect=function(k,P){return T.H.useEffect(k,P)},ct.useId=function(){return T.H.useId()},ct.useImperativeHandle=function(k,P,q){return T.H.useImperativeHandle(k,P,q)},ct.useInsertionEffect=function(k,P){return T.H.useInsertionEffect(k,P)},ct.useLayoutEffect=function(k,P){return T.H.useLayoutEffect(k,P)},ct.useMemo=function(k,P){return T.H.useMemo(k,P)},ct.useOptimistic=function(k,P){return T.H.useOptimistic(k,P)},ct.useReducer=function(k,P,q){return T.H.useReducer(k,P,q)},ct.useRef=function(k){return T.H.useRef(k)},ct.useState=function(k){return T.H.useState(k)},ct.useSyncExternalStore=function(k,P,q){return T.H.useSyncExternalStore(k,P,q)},ct.useTransition=function(){return T.H.useTransition()},ct.version="19.0.0",ct}var d0;function og(){return d0||(d0=1,Um.exports=DC()),Um.exports}var m=og();const xe=Xd(m),OC=TC({__proto__:null,default:xe},[m]);var $m={exports:{}},Zo={},Bm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function PC(){return f0||(f0=1,function(e){function t(D,X){var U=D.length;D.push(X);e:for(;0<U;){var J=U-1>>>1,k=D[J];if(0<l(k,X))D[J]=X,D[U]=k,U=J;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var X=D[0],U=D.pop();if(U!==X){D[0]=U;e:for(var J=0,k=D.length,P=k>>>1;J<P;){var q=2*(J+1)-1,W=D[q],O=q+1,$=D[O];if(0>l(W,U))O<k&&0>l($,W)?(D[J]=$,D[O]=U,J=O):(D[J]=W,D[q]=U,J=q);else if(O<k&&0>l($,U))D[J]=$,D[O]=U,J=O;else break e}}return X}function l(D,X){var U=D.sortIndex-X.sortIndex;return U!==0?U:D.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],p=[],v=1,x=null,b=3,w=!1,j=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function R(D){for(var X=r(p);X!==null;){if(X.callback===null)a(p);else if(X.startTime<=D)a(p),X.sortIndex=X.expirationTime,t(h,X);else break;X=r(p)}}function M(D){if(N=!1,R(D),!j)if(r(h)!==null)j=!0,oe();else{var X=r(p);X!==null&&ce(M,X.startTime-D)}}var T=!1,z=-1,H=5,F=-1;function G(){return!(e.unstable_now()-F<H)}function V(){if(T){var D=e.unstable_now();F=D;var X=!0;try{e:{j=!1,N&&(N=!1,C(z),z=-1),w=!0;var U=b;try{t:{for(R(D),x=r(h);x!==null&&!(x.expirationTime>D&&G());){var J=x.callback;if(typeof J=="function"){x.callback=null,b=x.priorityLevel;var k=J(x.expirationTime<=D);if(D=e.unstable_now(),typeof k=="function"){x.callback=k,R(D),X=!0;break t}x===r(h)&&a(h),R(D)}else a(h);x=r(h)}if(x!==null)X=!0;else{var P=r(p);P!==null&&ce(M,P.startTime-D),X=!1}}break e}finally{x=null,b=U,w=!1}X=void 0}}finally{X?ue():T=!1}}}var ue;if(typeof E=="function")ue=function(){E(V)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,I=re.port2;re.port1.onmessage=V,ue=function(){I.postMessage(null)}}else ue=function(){_(V,0)};function oe(){T||(T=!0,ue())}function ce(D,X){z=_(function(){D(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,oe())},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(D){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var U=b;b=X;try{return D()}finally{b=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=b;b=D;try{return X()}finally{b=U}},e.unstable_scheduleCallback=function(D,X,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,D){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=U+k,D={id:v++,callback:X,priorityLevel:D,startTime:U,expirationTime:k,sortIndex:-1},U>J?(D.sortIndex=U,t(p,D),r(h)===null&&D===r(p)&&(N?(C(z),z=-1):N=!0,ce(M,U-J))):(D.sortIndex=k,t(h,D),j||w||(j=!0,oe())),D},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(D){var X=b;return function(){var U=b;b=X;try{return D.apply(this,arguments)}finally{b=U}}}}(Hm)),Hm}var h0;function LC(){return h0||(h0=1,Bm.exports=PC()),Bm.exports}var qm={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function IC(){if(m0)return Qn;m0=1;var e=og();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(h,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:h,containerInfo:p,implementation:v}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(h,p,null,v)},Qn.flushSync=function(h){var p=u.T,v=a.p;try{if(u.T=null,a.p=2,h)return h()}finally{u.T=p,a.p=v,a.d.f()}},Qn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(h,p))},Qn.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Qn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,x=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):v==="script"&&a.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);a.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(h)},Qn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=f(v,p.crossOrigin);a.d.L(h,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=f(p.as,p.crossOrigin);a.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(h)},Qn.requestFormReset=function(h){a.d.r(h)},Qn.unstable_batchedUpdates=function(h,p){return h(p)},Qn.useFormState=function(h,p,v){return u.H.useFormState(h,p,v)},Qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Qn.version="19.0.0",Qn}var p0;function lj(){if(p0)return qm.exports;p0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qm.exports=IC(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function zC(){if(g0)return Zo;g0=1;var e=LC(),t=og(),r=lj();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=T&&n[T]||n["@@iterator"],typeof n=="function"?n:null)}var H=Symbol.for("react.client.reference");function F(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===H?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case h:return"Fragment";case f:return"Portal";case v:return"Profiler";case p:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case w:return(n.displayName||"Context")+".Provider";case b:return(n._context.displayName||"Context")+".Consumer";case j:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return i=n.displayName||null,i!==null?i:F(n.type)||"Memo";case E:i=n._payload,n=n._init;try{return F(n(i))}catch{}}return null}var G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,ue,re;function I(n){if(ue===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ue=i&&i[1]||"",re=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+n+re}var oe=!1;function ce(n,i){if(!n||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(he){var le=he}Reflect.construct(n,[],be)}else{try{be.call()}catch(he){le=he}n.call(be.prototype)}}else{try{throw Error()}catch(he){le=he}(be=n())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(he){if(he&&le&&typeof he.stack=="string")return[he.stack,le.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],A=y[1];if(S&&A){var L=S.split(`
`),Z=A.split(`
`);for(g=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(d===L.length||g===Z.length)for(d=L.length-1,g=Z.length-1;1<=d&&0<=g&&L[d]!==Z[g];)g--;for(;1<=d&&0<=g;d--,g--)if(L[d]!==Z[g]){if(d!==1||g!==1)do if(d--,g--,0>g||L[d]!==Z[g]){var me=`
`+L[d].replace(" at new "," at ");return n.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",n.displayName)),me}while(1<=d&&0<=g);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?I(o):""}function D(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=ce(n.type,!1),n;case 11:return n=ce(n.type.render,!1),n;case 1:return n=ce(n.type,!0),n;default:return""}}function X(n){try{var i="";do i+=D(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function U(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function J(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function k(n){if(U(n)!==n)throw Error(a(188))}function P(n){var i=n.alternate;if(!i){if(i=U(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,d=i;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){o=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return k(g),n;if(y===d)return k(g),i;y=y.sibling}throw Error(a(188))}if(o.return!==d.return)o=g,d=y;else{for(var S=!1,A=g.child;A;){if(A===o){S=!0,o=g,d=y;break}if(A===d){S=!0,d=g,o=y;break}A=A.sibling}if(!S){for(A=y.child;A;){if(A===o){S=!0,o=y,d=g;break}if(A===d){S=!0,d=y,o=g;break}A=A.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==d)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function q(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=q(n),i!==null)return i;n=n.sibling}return null}var W=Array.isArray,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},B=[],K=-1;function se(n){return{current:n}}function ge(n){0>K||(n.current=B[K],B[K]=null,K--)}function fe(n,i){K++,B[K]=n.current,n.current=i}var ae=se(null),de=se(null),Ae=se(null),Le=se(null);function ke(n,i){switch(fe(Ae,i),fe(de,n),fe(ae,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ib(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=Ib(n),i=zb(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(ae),fe(ae,i)}function _e(){ge(ae),ge(de),ge(Ae)}function He(n){n.memoizedState!==null&&fe(Le,n);var i=ae.current,o=zb(i,n.type);i!==o&&(fe(de,n),fe(ae,o))}function we(n){de.current===n&&(ge(ae),ge(de)),Le.current===n&&(ge(Le),Yo._currentValue=$)}var Te=Object.prototype.hasOwnProperty,Qe=e.unstable_scheduleCallback,et=e.unstable_cancelCallback,Ne=e.unstable_shouldYield,Ve=e.unstable_requestPaint,Rt=e.unstable_now,Mn=e.unstable_getCurrentPriorityLevel,on=e.unstable_ImmediatePriority,Sn=e.unstable_UserBlockingPriority,rn=e.unstable_NormalPriority,sn=e.unstable_LowPriority,xn=e.unstable_IdlePriority,Ot=e.log,ye=e.unstable_setDisableYieldValue,Pe=null,qe=null;function nt(n){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Pe,n,void 0,(n.current.flags&128)===128)}catch{}}function Ge(n){if(typeof Ot=="function"&&ye(n),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Pe,n)}catch{}}var Ht=Math.clz32?Math.clz32:Bn,an=Math.log,yt=Math.LN2;function Bn(n){return n>>>=0,n===0?32:31-(an(n)/yt|0)|0}var hn=128,rt=4194304;function ot(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function De(n,i){var o=n.pendingLanes;if(o===0)return 0;var d=0,g=n.suspendedLanes,y=n.pingedLanes,S=n.warmLanes;n=n.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~g,o!==0?d=ot(o):(y&=A,y!==0?d=ot(y):n||(S=A&~S,S!==0&&(d=ot(S))))):(A=o&~g,A!==0?d=ot(A):y!==0?d=ot(y):n||(S=o&~S,S!==0&&(d=ot(S)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,S=i&-i,g>=S||g===32&&(S&4194176)!==0)?i:d}function pt(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function lt(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var n=hn;return hn<<=1,(hn&4194176)===0&&(hn=128),n}function ln(){var n=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),n}function Pt(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function ht(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function En(n,i,o,d,g,y){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,L=n.expirationTimes,Z=n.hiddenUpdates;for(o=S&~o;0<o;){var me=31-Ht(o),be=1<<me;A[me]=0,L[me]=-1;var le=Z[me];if(le!==null)for(Z[me]=null,me=0;me<le.length;me++){var he=le[me];he!==null&&(he.lane&=-536870913)}o&=~be}d!==0&&qt(n,d,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~i))}function qt(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-Ht(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|o&4194218}function Qt(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var d=31-Ht(o),g=1<<d;g&i|n[d]&i&&(n[d]|=i),o&=~g}}function wr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function An(){var n=O.p;return n!==0?n:(n=window.event,n===void 0?32:n0(n.type))}function kn(n,i){var o=O.p;try{return O.p=n,i()}finally{O.p=o}}var Xn=Math.random().toString(36).slice(2),mn="__reactFiber$"+Xn,Hn="__reactProps$"+Xn,pe="__reactContainer$"+Xn,je="__reactEvents$"+Xn,Oe="__reactListeners$"+Xn,Tt="__reactHandles$"+Xn,un="__reactResources$"+Xn,qn="__reactMarker$"+Xn;function dr(n){delete n[mn],delete n[Hn],delete n[je],delete n[Oe],delete n[Tt]}function Dn(n){var i=n[mn];if(i)return i;for(var o=n.parentNode;o;){if(i=o[pe]||o[mn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Bb(n);n!==null;){if(o=n[mn])return o;n=Bb(n)}return i}n=o,o=n.parentNode}return null}function At(n){if(n=n[mn]||n[pe]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function oa(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Ds(n){var i=n[un];return i||(i=n[un]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bn(n){n[qn]=!0}var Lv=new Set,Iv={};function ei(n,i){Oi(n,i),Oi(n+"Capture",i)}function Oi(n,i){for(Iv[n]=i,n=0;n<i.length;n++)Lv.add(i[n])}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zv={},Uv={};function _E(n){return Te.call(Uv,n)?!0:Te.call(zv,n)?!1:jE.test(n)?Uv[n]=!0:(zv[n]=!0,!1)}function Jc(n,i,o){if(_E(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function eu(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Ps(n,i,o,d){if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+d)}}function Or(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $v(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function NE(n){var i=$v(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,y=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function tu(n){n._valueTracker||(n._valueTracker=NE(n))}function Bv(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return n&&(d=$v(n)?n.checked?"true":"false":n.value),n=d,n!==o?(i.setValue(n),!0):!1}function nu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var SE=/[\n"\\]/g;function Pr(n){return n.replace(SE,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Lf(n,i,o,d,g,y,S,A){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),i!=null?S==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Or(i)):n.value!==""+Or(i)&&(n.value=""+Or(i)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),i!=null?If(n,S,Or(i)):o!=null?If(n,S,Or(o)):d!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Or(A):n.removeAttribute("name")}function Hv(n,i,o,d,g,y,S,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+Or(o):"",i=i!=null?""+Or(i):o,A||i===n.value||(n.value=i),n.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=A?n.checked:!!d,n.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function If(n,i,o){i==="number"&&nu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Pi(n,i,o,d){if(n=n.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<n.length;o++)g=i.hasOwnProperty("$"+n[o].value),n[o].selected!==g&&(n[o].selected=g),g&&d&&(n[o].defaultSelected=!0)}else{for(o=""+Or(o),i=null,g=0;g<n.length;g++){if(n[g].value===o){n[g].selected=!0,d&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function qv(n,i,o){if(i!=null&&(i=""+Or(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Or(o):""}function Fv(n,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(a(92));if(W(d)){if(1<d.length)throw Error(a(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=Or(i),n.defaultValue=o,d=n.textContent,d===o&&d!==""&&d!==null&&(n.value=d)}function Li(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var EE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vv(n,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":d?n.setProperty(i,o):typeof o!="number"||o===0||EE.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Yv(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&o[g]!==d&&Vv(n,g,d)}else for(var y in i)i.hasOwnProperty(y)&&Vv(n,y,i[y])}function zf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ru(n){return RE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Uf=null;function $f(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ii=null,zi=null;function Gv(n){var i=At(n);if(i&&(n=i.stateNode)){var o=n[Hn]||null;e:switch(n=i.stateNode,i.type){case"input":if(Lf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==n&&d.form===n.form){var g=d[Hn]||null;if(!g)throw Error(a(90));Lf(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===n.form&&Bv(d)}break e;case"textarea":qv(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Pi(n,!!o.multiple,i,!1)}}}var Bf=!1;function Wv(n,i,o){if(Bf)return n(i,o);Bf=!0;try{var d=n(i);return d}finally{if(Bf=!1,(Ii!==null||zi!==null)&&($u(),Ii&&(i=Ii,n=zi,zi=Ii=null,Gv(i),n)))for(i=0;i<n.length;i++)Gv(n[i])}}function ao(n,i){var o=n.stateNode;if(o===null)return null;var d=o[Hn]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Hf=!1;if(Os)try{var io={};Object.defineProperty(io,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Hf=!1}var ca=null,qf=null,su=null;function Xv(){if(su)return su;var n,i=qf,o=i.length,d,g="value"in ca?ca.value:ca.textContent,y=g.length;for(n=0;n<o&&i[n]===g[n];n++);var S=o-n;for(d=1;d<=S&&i[o-d]===g[y-d];d++);return su=g.slice(n,1<d?1-d:void 0)}function au(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function iu(){return!0}function Kv(){return!1}function fr(n){function i(o,d,g,y,S){this._reactName=o,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?iu:Kv,this.isPropagationStopped=Kv,this}return V(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),i}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=fr(ti),lo=V({},ti,{view:0,detail:0}),TE=fr(lo),Ff,Vf,oo,ou=V({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oo&&(oo&&n.type==="mousemove"?(Ff=n.screenX-oo.screenX,Vf=n.screenY-oo.screenY):Vf=Ff=0,oo=n),Ff)},movementY:function(n){return"movementY"in n?n.movementY:Vf}}),Qv=fr(ou),ME=V({},ou,{dataTransfer:0}),AE=fr(ME),kE=V({},lo,{relatedTarget:0}),Yf=fr(kE),DE=V({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),OE=fr(DE),PE=V({},ti,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LE=fr(PE),IE=V({},ti,{data:0}),Zv=fr(IE),zE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BE(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$E[n])?!!i[n]:!1}function Gf(){return BE}var HE=V({},lo,{key:function(n){if(n.key){var i=zE[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=au(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?UE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gf,charCode:function(n){return n.type==="keypress"?au(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?au(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qE=fr(HE),FE=V({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jv=fr(FE),VE=V({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gf}),YE=fr(VE),GE=V({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),WE=fr(GE),XE=V({},ou,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),KE=fr(XE),QE=V({},ti,{newState:0,oldState:0}),ZE=fr(QE),JE=[9,13,27,32],Wf=Os&&"CompositionEvent"in window,co=null;Os&&"documentMode"in document&&(co=document.documentMode);var e2=Os&&"TextEvent"in window&&!co,ex=Os&&(!Wf||co&&8<co&&11>=co),tx=" ",nx=!1;function rx(n,i){switch(n){case"keyup":return JE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ui=!1;function t2(n,i){switch(n){case"compositionend":return sx(i);case"keypress":return i.which!==32?null:(nx=!0,tx);case"textInput":return n=i.data,n===tx&&nx?null:n;default:return null}}function n2(n,i){if(Ui)return n==="compositionend"||!Wf&&rx(n,i)?(n=Xv(),su=qf=ca=null,Ui=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ex&&i.locale!=="ko"?null:i.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ax(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!r2[n.type]:i==="textarea"}function ix(n,i,o,d){Ii?zi?zi.push(d):zi=[d]:Ii=d,i=Vu(i,"onChange"),0<i.length&&(o=new lu("onChange","change",null,o,d),n.push({event:o,listeners:i}))}var uo=null,fo=null;function s2(n){kb(n,0)}function cu(n){var i=oa(n);if(Bv(i))return n}function lx(n,i){if(n==="change")return i}var ox=!1;if(Os){var Xf;if(Os){var Kf="oninput"in document;if(!Kf){var cx=document.createElement("div");cx.setAttribute("oninput","return;"),Kf=typeof cx.oninput=="function"}Xf=Kf}else Xf=!1;ox=Xf&&(!document.documentMode||9<document.documentMode)}function ux(){uo&&(uo.detachEvent("onpropertychange",dx),fo=uo=null)}function dx(n){if(n.propertyName==="value"&&cu(fo)){var i=[];ix(i,fo,n,$f(n)),Wv(s2,i)}}function a2(n,i,o){n==="focusin"?(ux(),uo=i,fo=o,uo.attachEvent("onpropertychange",dx)):n==="focusout"&&ux()}function i2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cu(fo)}function l2(n,i){if(n==="click")return cu(i)}function o2(n,i){if(n==="input"||n==="change")return cu(i)}function c2(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var jr=typeof Object.is=="function"?Object.is:c2;function ho(n,i){if(jr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var g=o[d];if(!Te.call(i,g)||!jr(n[g],i[g]))return!1}return!0}function fx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hx(n,i){var o=fx(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=i&&d>=i)return{node:o,offset:i-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=fx(o)}}function mx(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?mx(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function px(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=nu(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=nu(n.document)}return i}function Qf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function u2(n,i){var o=px(i);i=n.focusedElem;var d=n.selectionRange;if(o!==i&&i&&i.ownerDocument&&mx(i.ownerDocument.documentElement,i)){if(d!==null&&Qf(i)){if(n=d.start,o=d.end,o===void 0&&(o=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(o,i.value.length);else if(o=(n=i.ownerDocument||document)&&n.defaultView||window,o.getSelection){o=o.getSelection();var g=i.textContent.length,y=Math.min(d.start,g);d=d.end===void 0?y:Math.min(d.end,g),!o.extend&&y>d&&(g=d,d=y,y=g),g=hx(i,y);var S=hx(i,d);g&&S&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(n=n.createRange(),n.setStart(g.node,g.offset),o.removeAllRanges(),y>d?(o.addRange(n),o.extend(S.node,S.offset)):(n.setEnd(S.node,S.offset),o.addRange(n)))}}for(n=[],o=i;o=o.parentNode;)o.nodeType===1&&n.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)o=n[i],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var d2=Os&&"documentMode"in document&&11>=document.documentMode,$i=null,Zf=null,mo=null,Jf=!1;function gx(n,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jf||$i==null||$i!==nu(d)||(d=$i,"selectionStart"in d&&Qf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),mo&&ho(mo,d)||(mo=d,d=Vu(Zf,"onSelect"),0<d.length&&(i=new lu("onSelect","select",null,i,o),n.push({event:i,listeners:d}),i.target=$i)))}function ni(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Bi={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},eh={},vx={};Os&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function ri(n){if(eh[n])return eh[n];if(!Bi[n])return n;var i=Bi[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in vx)return eh[n]=i[o];return n}var xx=ri("animationend"),yx=ri("animationiteration"),bx=ri("animationstart"),f2=ri("transitionrun"),h2=ri("transitionstart"),m2=ri("transitioncancel"),wx=ri("transitionend"),jx=new Map,_x="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qr(n,i){jx.set(n,i),ei(i,[n])}var Lr=[],Hi=0,th=0;function uu(){for(var n=Hi,i=th=Hi=0;i<n;){var o=Lr[i];Lr[i++]=null;var d=Lr[i];Lr[i++]=null;var g=Lr[i];Lr[i++]=null;var y=Lr[i];if(Lr[i++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}y!==0&&Nx(o,g,y)}}function du(n,i,o,d){Lr[Hi++]=n,Lr[Hi++]=i,Lr[Hi++]=o,Lr[Hi++]=d,th|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function nh(n,i,o,d){return du(n,i,o,d),fu(n)}function ua(n,i){return du(n,null,null,i),fu(n)}function Nx(n,i,o){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o);for(var g=!1,y=n.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;g&&i!==null&&n.tag===3&&(y=n.stateNode,g=31-Ht(o),y=y.hiddenUpdates,n=y[g],n===null?y[g]=[i]:n.push(i),i.lane=o|536870912)}function fu(n){if(50<Uo)throw Uo=0,om=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var qi={},Sx=new WeakMap;function Ir(n,i){if(typeof n=="object"&&n!==null){var o=Sx.get(n);return o!==void 0?o:(i={value:n,source:i,stack:X(i)},Sx.set(n,i),i)}return{value:n,source:i,stack:X(i)}}var Fi=[],Vi=0,hu=null,mu=0,zr=[],Ur=0,si=null,Ls=1,Is="";function ai(n,i){Fi[Vi++]=mu,Fi[Vi++]=hu,hu=n,mu=i}function Ex(n,i,o){zr[Ur++]=Ls,zr[Ur++]=Is,zr[Ur++]=si,si=n;var d=Ls;n=Is;var g=32-Ht(d)-1;d&=~(1<<g),o+=1;var y=32-Ht(i)+g;if(30<y){var S=g-g%5;y=(d&(1<<S)-1).toString(32),d>>=S,g-=S,Ls=1<<32-Ht(i)+g|o<<g|d,Is=y+n}else Ls=1<<y|o<<g|d,Is=n}function rh(n){n.return!==null&&(ai(n,1),Ex(n,1,0))}function sh(n){for(;n===hu;)hu=Fi[--Vi],Fi[Vi]=null,mu=Fi[--Vi],Fi[Vi]=null;for(;n===si;)si=zr[--Ur],zr[Ur]=null,Is=zr[--Ur],zr[Ur]=null,Ls=zr[--Ur],zr[Ur]=null}var sr=null,Fn=null,Lt=!1,Zr=null,ms=!1,ah=Error(a(519));function ii(n){var i=Error(a(418,""));throw vo(Ir(i,n)),ah}function Cx(n){var i=n.stateNode,o=n.type,d=n.memoizedProps;switch(i[mn]=n,i[Hn]=d,o){case"dialog":St("cancel",i),St("close",i);break;case"iframe":case"object":case"embed":St("load",i);break;case"video":case"audio":for(o=0;o<Bo.length;o++)St(Bo[o],i);break;case"source":St("error",i);break;case"img":case"image":case"link":St("error",i),St("load",i);break;case"details":St("toggle",i);break;case"input":St("invalid",i),Hv(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),tu(i);break;case"select":St("invalid",i);break;case"textarea":St("invalid",i),Fv(i,d.value,d.defaultValue,d.children),tu(i)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||Lb(i.textContent,o)?(d.popover!=null&&(St("beforetoggle",i),St("toggle",i)),d.onScroll!=null&&St("scroll",i),d.onScrollEnd!=null&&St("scrollend",i),d.onClick!=null&&(i.onclick=Yu),i=!0):i=!1,i||ii(n)}function Rx(n){for(sr=n.return;sr;)switch(sr.tag){case 3:case 27:ms=!0;return;case 5:case 13:ms=!1;return;default:sr=sr.return}}function po(n){if(n!==sr)return!1;if(!Lt)return Rx(n),Lt=!0,!1;var i=!1,o;if((o=n.tag!==3&&n.tag!==27)&&((o=n.tag===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Sm(n.type,n.memoizedProps)),o=!o),o&&(i=!0),i&&Fn&&ii(n),Rx(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){Fn=es(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}Fn=null}}else Fn=sr?es(n.stateNode.nextSibling):null;return!0}function go(){Fn=sr=null,Lt=!1}function vo(n){Zr===null?Zr=[n]:Zr.push(n)}var xo=Error(a(460)),Tx=Error(a(474)),ih={then:function(){}};function Mx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pu(){}function Ax(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(pu,pu),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===xo?Error(a(483)):n;default:if(typeof i.status=="string")i.then(pu,pu);else{if(n=Jt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===xo?Error(a(483)):n}throw yo=i,xo}}var yo=null;function kx(){if(yo===null)throw Error(a(459));var n=yo;return yo=null,n}var Yi=null,bo=0;function gu(n){var i=bo;return bo+=1,Yi===null&&(Yi=[]),Ax(Yi,n,i)}function wo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function vu(n,i){throw i.$$typeof===c?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Dx(n){var i=n._init;return i(n._payload)}function Ox(n){function i(ee,Q){if(n){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function o(ee,Q){if(!n)return null;for(;Q!==null;)i(ee,Q),Q=Q.sibling;return null}function d(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function g(ee,Q){return ee=ja(ee,Q),ee.index=0,ee.sibling=null,ee}function y(ee,Q,ie){return ee.index=ie,n?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=33554434,Q):ie):(ee.flags|=33554434,Q)):(ee.flags|=1048576,Q)}function S(ee){return n&&ee.alternate===null&&(ee.flags|=33554434),ee}function A(ee,Q,ie,ve){return Q===null||Q.tag!==6?(Q=em(ie,ee.mode,ve),Q.return=ee,Q):(Q=g(Q,ie),Q.return=ee,Q)}function L(ee,Q,ie,ve){var Ie=ie.type;return Ie===h?me(ee,Q,ie.props.children,ve,ie.key):Q!==null&&(Q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===E&&Dx(Ie)===Q.type)?(Q=g(Q,ie.props),wo(Q,ie),Q.return=ee,Q):(Q=Pu(ie.type,ie.key,ie.props,null,ee.mode,ve),wo(Q,ie),Q.return=ee,Q)}function Z(ee,Q,ie,ve){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=tm(ie,ee.mode,ve),Q.return=ee,Q):(Q=g(Q,ie.children||[]),Q.return=ee,Q)}function me(ee,Q,ie,ve,Ie){return Q===null||Q.tag!==7?(Q=gi(ie,ee.mode,ve,Ie),Q.return=ee,Q):(Q=g(Q,ie),Q.return=ee,Q)}function be(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=em(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return ie=Pu(Q.type,Q.key,Q.props,null,ee.mode,ie),wo(ie,Q),ie.return=ee,ie;case f:return Q=tm(Q,ee.mode,ie),Q.return=ee,Q;case E:var ve=Q._init;return Q=ve(Q._payload),be(ee,Q,ie)}if(W(Q)||z(Q))return Q=gi(Q,ee.mode,ie,null),Q.return=ee,Q;if(typeof Q.then=="function")return be(ee,gu(Q),ie);if(Q.$$typeof===w)return be(ee,ku(ee,Q),ie);vu(ee,Q)}return null}function le(ee,Q,ie,ve){var Ie=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ie!==null?null:A(ee,Q,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case u:return ie.key===Ie?L(ee,Q,ie,ve):null;case f:return ie.key===Ie?Z(ee,Q,ie,ve):null;case E:return Ie=ie._init,ie=Ie(ie._payload),le(ee,Q,ie,ve)}if(W(ie)||z(ie))return Ie!==null?null:me(ee,Q,ie,ve,null);if(typeof ie.then=="function")return le(ee,Q,gu(ie),ve);if(ie.$$typeof===w)return le(ee,Q,ku(ee,ie),ve);vu(ee,ie)}return null}function he(ee,Q,ie,ve,Ie){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ee=ee.get(ie)||null,A(Q,ee,""+ve,Ie);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case u:return ee=ee.get(ve.key===null?ie:ve.key)||null,L(Q,ee,ve,Ie);case f:return ee=ee.get(ve.key===null?ie:ve.key)||null,Z(Q,ee,ve,Ie);case E:var mt=ve._init;return ve=mt(ve._payload),he(ee,Q,ie,ve,Ie)}if(W(ve)||z(ve))return ee=ee.get(ie)||null,me(Q,ee,ve,Ie,null);if(typeof ve.then=="function")return he(ee,Q,ie,gu(ve),Ie);if(ve.$$typeof===w)return he(ee,Q,ie,ku(Q,ve),Ie);vu(Q,ve)}return null}function Be(ee,Q,ie,ve){for(var Ie=null,mt=null,Fe=Q,Xe=Q=0,Ln=null;Fe!==null&&Xe<ie.length;Xe++){Fe.index>Xe?(Ln=Fe,Fe=null):Ln=Fe.sibling;var It=le(ee,Fe,ie[Xe],ve);if(It===null){Fe===null&&(Fe=Ln);break}n&&Fe&&It.alternate===null&&i(ee,Fe),Q=y(It,Q,Xe),mt===null?Ie=It:mt.sibling=It,mt=It,Fe=Ln}if(Xe===ie.length)return o(ee,Fe),Lt&&ai(ee,Xe),Ie;if(Fe===null){for(;Xe<ie.length;Xe++)Fe=be(ee,ie[Xe],ve),Fe!==null&&(Q=y(Fe,Q,Xe),mt===null?Ie=Fe:mt.sibling=Fe,mt=Fe);return Lt&&ai(ee,Xe),Ie}for(Fe=d(Fe);Xe<ie.length;Xe++)Ln=he(Fe,ee,Xe,ie[Xe],ve),Ln!==null&&(n&&Ln.alternate!==null&&Fe.delete(Ln.key===null?Xe:Ln.key),Q=y(Ln,Q,Xe),mt===null?Ie=Ln:mt.sibling=Ln,mt=Ln);return n&&Fe.forEach(function(Ta){return i(ee,Ta)}),Lt&&ai(ee,Xe),Ie}function at(ee,Q,ie,ve){if(ie==null)throw Error(a(151));for(var Ie=null,mt=null,Fe=Q,Xe=Q=0,Ln=null,It=ie.next();Fe!==null&&!It.done;Xe++,It=ie.next()){Fe.index>Xe?(Ln=Fe,Fe=null):Ln=Fe.sibling;var Ta=le(ee,Fe,It.value,ve);if(Ta===null){Fe===null&&(Fe=Ln);break}n&&Fe&&Ta.alternate===null&&i(ee,Fe),Q=y(Ta,Q,Xe),mt===null?Ie=Ta:mt.sibling=Ta,mt=Ta,Fe=Ln}if(It.done)return o(ee,Fe),Lt&&ai(ee,Xe),Ie;if(Fe===null){for(;!It.done;Xe++,It=ie.next())It=be(ee,It.value,ve),It!==null&&(Q=y(It,Q,Xe),mt===null?Ie=It:mt.sibling=It,mt=It);return Lt&&ai(ee,Xe),Ie}for(Fe=d(Fe);!It.done;Xe++,It=ie.next())It=he(Fe,ee,Xe,It.value,ve),It!==null&&(n&&It.alternate!==null&&Fe.delete(It.key===null?Xe:It.key),Q=y(It,Q,Xe),mt===null?Ie=It:mt.sibling=It,mt=It);return n&&Fe.forEach(function(RC){return i(ee,RC)}),Lt&&ai(ee,Xe),Ie}function vn(ee,Q,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===h&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case u:e:{for(var Ie=ie.key;Q!==null;){if(Q.key===Ie){if(Ie=ie.type,Ie===h){if(Q.tag===7){o(ee,Q.sibling),ve=g(Q,ie.props.children),ve.return=ee,ee=ve;break e}}else if(Q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===E&&Dx(Ie)===Q.type){o(ee,Q.sibling),ve=g(Q,ie.props),wo(ve,ie),ve.return=ee,ee=ve;break e}o(ee,Q);break}else i(ee,Q);Q=Q.sibling}ie.type===h?(ve=gi(ie.props.children,ee.mode,ve,ie.key),ve.return=ee,ee=ve):(ve=Pu(ie.type,ie.key,ie.props,null,ee.mode,ve),wo(ve,ie),ve.return=ee,ee=ve)}return S(ee);case f:e:{for(Ie=ie.key;Q!==null;){if(Q.key===Ie)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){o(ee,Q.sibling),ve=g(Q,ie.children||[]),ve.return=ee,ee=ve;break e}else{o(ee,Q);break}else i(ee,Q);Q=Q.sibling}ve=tm(ie,ee.mode,ve),ve.return=ee,ee=ve}return S(ee);case E:return Ie=ie._init,ie=Ie(ie._payload),vn(ee,Q,ie,ve)}if(W(ie))return Be(ee,Q,ie,ve);if(z(ie)){if(Ie=z(ie),typeof Ie!="function")throw Error(a(150));return ie=Ie.call(ie),at(ee,Q,ie,ve)}if(typeof ie.then=="function")return vn(ee,Q,gu(ie),ve);if(ie.$$typeof===w)return vn(ee,Q,ku(ee,ie),ve);vu(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(o(ee,Q.sibling),ve=g(Q,ie),ve.return=ee,ee=ve):(o(ee,Q),ve=em(ie,ee.mode,ve),ve.return=ee,ee=ve),S(ee)):o(ee,Q)}return function(ee,Q,ie,ve){try{bo=0;var Ie=vn(ee,Q,ie,ve);return Yi=null,Ie}catch(Fe){if(Fe===xo)throw Fe;var mt=qr(29,Fe,null,ee.mode);return mt.lanes=ve,mt.return=ee,mt}finally{}}}var li=Ox(!0),Px=Ox(!1),Gi=se(null),xu=se(0);function Lx(n,i){n=Ws,fe(xu,n),fe(Gi,i),Ws=n|i.baseLanes}function lh(){fe(xu,Ws),fe(Gi,Gi.current)}function oh(){Ws=xu.current,ge(Gi),ge(xu)}var $r=se(null),ps=null;function da(n){var i=n.alternate;fe(Cn,Cn.current&1),fe($r,n),ps===null&&(i===null||Gi.current!==null||i.memoizedState!==null)&&(ps=n)}function Ix(n){if(n.tag===22){if(fe(Cn,Cn.current),fe($r,n),ps===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(ps=n)}}else fa()}function fa(){fe(Cn,Cn.current),fe($r,$r.current)}function zs(n){ge($r),ps===n&&(ps=null),ge(Cn)}var Cn=se(0);function yu(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var p2=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},g2=e.unstable_scheduleCallback,v2=e.unstable_NormalPriority,Rn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ch(){return{controller:new p2,data:new Map,refCount:0}}function jo(n){n.refCount--,n.refCount===0&&g2(v2,function(){n.controller.abort()})}var _o=null,uh=0,Wi=0,Xi=null;function x2(n,i){if(_o===null){var o=_o=[];uh=0,Wi=gm(),Xi={status:"pending",value:void 0,then:function(d){o.push(d)}}}return uh++,i.then(zx,zx),i}function zx(){if(--uh===0&&_o!==null){Xi!==null&&(Xi.status="fulfilled");var n=_o;_o=null,Wi=0,Xi=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function y2(n,i){var o=[],d={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),d}var Ux=G.S;G.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&x2(n,i),Ux!==null&&Ux(n,i)};var oi=se(null);function dh(){var n=oi.current;return n!==null?n:Jt.pooledCache}function bu(n,i){i===null?fe(oi,oi.current):fe(oi,i.pool)}function $x(){var n=dh();return n===null?null:{parent:Rn._currentValue,pool:n}}var ha=0,dt=null,Xt=null,wn=null,wu=!1,Ki=!1,ci=!1,ju=0,No=0,Qi=null,b2=0;function yn(){throw Error(a(321))}function fh(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!jr(n[o],i[o]))return!1;return!0}function hh(n,i,o,d,g,y){return ha=y,dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=n===null||n.memoizedState===null?ui:ma,ci=!1,y=o(d,g),ci=!1,Ki&&(y=Hx(i,o,d,g)),Bx(n),y}function Bx(n){G.H=gs;var i=Xt!==null&&Xt.next!==null;if(ha=0,wn=Xt=dt=null,wu=!1,No=0,Qi=null,i)throw Error(a(300));n===null||On||(n=n.dependencies,n!==null&&Au(n)&&(On=!0))}function Hx(n,i,o,d){dt=n;var g=0;do{if(Ki&&(Qi=null),No=0,Ki=!1,25<=g)throw Error(a(301));if(g+=1,wn=Xt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=di,y=i(o,d)}while(Ki);return y}function w2(){var n=G.H,i=n.useState()[0];return i=typeof i.then=="function"?So(i):i,n=n.useState()[0],(Xt!==null?Xt.memoizedState:null)!==n&&(dt.flags|=1024),i}function mh(){var n=ju!==0;return ju=0,n}function ph(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function gh(n){if(wu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wu=!1}ha=0,wn=Xt=dt=null,Ki=!1,No=ju=0,Qi=null}function hr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?dt.memoizedState=wn=n:wn=wn.next=n,wn}function jn(){if(Xt===null){var n=dt.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var i=wn===null?dt.memoizedState:wn.next;if(i!==null)wn=i,Xt=n;else{if(n===null)throw dt.alternate===null?Error(a(467)):Error(a(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},wn===null?dt.memoizedState=wn=n:wn=wn.next=n}return wn}var _u;_u=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function So(n){var i=No;return No+=1,Qi===null&&(Qi=[]),n=Ax(Qi,n,i),i=dt,(wn===null?i.memoizedState:wn.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?ui:ma),n}function Nu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===w)return Kn(n)}throw Error(a(438,String(n)))}function vh(n){var i=null,o=dt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=dt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=_u(),dt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),d=0;d<n;d++)o[d]=M;return i.index++,o}function Us(n,i){return typeof i=="function"?i(n):i}function Su(n){var i=jn();return xh(i,Xt,n)}function xh(n,i,o){var d=n.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=o;var g=n.baseQueue,y=d.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}i.baseQueue=g=y,d.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{i=g.next;var A=S=null,L=null,Z=i,me=!1;do{var be=Z.lane&-536870913;if(be!==Z.lane?(Mt&be)===be:(ha&be)===be){var le=Z.revertLane;if(le===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),be===Wi&&(me=!0);else if((ha&le)===le){Z=Z.next,le===Wi&&(me=!0);continue}else be={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(A=L=be,S=y):L=L.next=be,dt.lanes|=le,_a|=le;be=Z.action,ci&&o(y,be),y=Z.hasEagerState?Z.eagerState:o(y,be)}else le={lane:be,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(A=L=le,S=y):L=L.next=le,dt.lanes|=be,_a|=be;Z=Z.next}while(Z!==null&&Z!==i);if(L===null?S=y:L.next=A,!jr(y,n.memoizedState)&&(On=!0,me&&(o=Xi,o!==null)))throw o;n.memoizedState=y,n.baseState=S,n.baseQueue=L,d.lastRenderedState=y}return g===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function yh(n){var i=jn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var d=o.dispatch,g=o.pending,y=i.memoizedState;if(g!==null){o.pending=null;var S=g=g.next;do y=n(y,S.action),S=S.next;while(S!==g);jr(y,i.memoizedState)||(On=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,d]}function qx(n,i,o){var d=dt,g=jn(),y=Lt;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=i();var S=!jr((Xt||g).memoizedState,o);if(S&&(g.memoizedState=o,On=!0),g=g.queue,jh(Yx.bind(null,d,g,n),[n]),g.getSnapshot!==i||S||wn!==null&&wn.memoizedState.tag&1){if(d.flags|=2048,Zi(9,Vx.bind(null,d,g,o,i),{destroy:void 0},null),Jt===null)throw Error(a(349));y||(ha&60)!==0||Fx(d,i,o)}return o}function Fx(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=dt.updateQueue,i===null?(i=_u(),dt.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Vx(n,i,o,d){i.value=o,i.getSnapshot=d,Gx(i)&&Wx(n)}function Yx(n,i,o){return o(function(){Gx(i)&&Wx(n)})}function Gx(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!jr(n,o)}catch{return!0}}function Wx(n){var i=ua(n,2);i!==null&&ar(i,n,2)}function bh(n){var i=hr();if(typeof n=="function"){var o=n;if(n=o(),ci){Ge(!0);try{o()}finally{Ge(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:n},i}function Xx(n,i,o,d){return n.baseState=o,xh(n,Xt,typeof d=="function"?d:Us)}function j2(n,i,o,d,g){if(Ru(n))throw Error(a(485));if(n=i.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};G.T!==null?o(!0):y.isTransition=!1,d(y),o=i.pending,o===null?(y.next=i.pending=y,Kx(i,y)):(y.next=o.next,i.pending=o.next=y)}}function Kx(n,i){var o=i.action,d=i.payload,g=n.state;if(i.isTransition){var y=G.T,S={};G.T=S;try{var A=o(g,d),L=G.S;L!==null&&L(S,A),Qx(n,i,A)}catch(Z){wh(n,i,Z)}finally{G.T=y}}else try{y=o(g,d),Qx(n,i,y)}catch(Z){wh(n,i,Z)}}function Qx(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Zx(n,i,d)},function(d){return wh(n,i,d)}):Zx(n,i,o)}function Zx(n,i,o){i.status="fulfilled",i.value=o,Jx(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Kx(n,o)))}function wh(n,i,o){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,Jx(i),i=i.next;while(i!==d)}n.action=null}function Jx(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ey(n,i){return i}function ty(n,i){if(Lt){var o=Jt.formState;if(o!==null){e:{var d=dt;if(Lt){if(Fn){t:{for(var g=Fn,y=ms;g.nodeType!==8;){if(!y){g=null;break t}if(g=es(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Fn=es(g.nextSibling),d=g.data==="F!";break e}}ii(d)}d=!1}d&&(i=o[0])}}return o=hr(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:i},o.queue=d,o=yy.bind(null,dt,d),d.dispatch=o,d=bh(!1),y=Ch.bind(null,dt,!1,d.queue),d=hr(),g={state:i,dispatch:null,action:n,pending:null},d.queue=g,o=j2.bind(null,dt,g,y,o),g.dispatch=o,d.memoizedState=n,[i,o,!1]}function ny(n){var i=jn();return ry(i,Xt,n)}function ry(n,i,o){i=xh(n,i,ey)[0],n=Su(Us)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?So(i):i;var d=jn(),g=d.queue,y=g.dispatch;return o!==d.memoizedState&&(dt.flags|=2048,Zi(9,_2.bind(null,g,o),{destroy:void 0},null)),[i,y,n]}function _2(n,i){n.action=i}function sy(n){var i=jn(),o=Xt;if(o!==null)return ry(i,o,n);jn(),i=i.memoizedState,o=jn();var d=o.queue.dispatch;return o.memoizedState=n,[i,d,!1]}function Zi(n,i,o,d){return n={tag:n,create:i,inst:o,deps:d,next:null},i=dt.updateQueue,i===null&&(i=_u(),dt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,i.lastEffect=n),n}function ay(){return jn().memoizedState}function Eu(n,i,o,d){var g=hr();dt.flags|=n,g.memoizedState=Zi(1|i,o,{destroy:void 0},d===void 0?null:d)}function Cu(n,i,o,d){var g=jn();d=d===void 0?null:d;var y=g.memoizedState.inst;Xt!==null&&d!==null&&fh(d,Xt.memoizedState.deps)?g.memoizedState=Zi(i,o,y,d):(dt.flags|=n,g.memoizedState=Zi(1|i,o,y,d))}function iy(n,i){Eu(8390656,8,n,i)}function jh(n,i){Cu(2048,8,n,i)}function ly(n,i){return Cu(4,2,n,i)}function oy(n,i){return Cu(4,4,n,i)}function cy(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function uy(n,i,o){o=o!=null?o.concat([n]):null,Cu(4,4,cy.bind(null,i,n),o)}function _h(){}function dy(n,i){var o=jn();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&fh(i,d[1])?d[0]:(o.memoizedState=[n,i],n)}function fy(n,i){var o=jn();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&fh(i,d[1]))return d[0];if(d=n(),ci){Ge(!0);try{n()}finally{Ge(!1)}}return o.memoizedState=[d,i],d}function Nh(n,i,o){return o===void 0||(ha&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=mb(),dt.lanes|=n,_a|=n,o)}function hy(n,i,o,d){return jr(o,i)?o:Gi.current!==null?(n=Nh(n,o,d),jr(n,i)||(On=!0),n):(ha&42)===0?(On=!0,n.memoizedState=o):(n=mb(),dt.lanes|=n,_a|=n,i)}function my(n,i,o,d,g){var y=O.p;O.p=y!==0&&8>y?y:8;var S=G.T,A={};G.T=A,Ch(n,!1,i,o);try{var L=g(),Z=G.S;if(Z!==null&&Z(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var me=y2(L,d);Eo(n,i,me,Er(n))}else Eo(n,i,d,Er(n))}catch(be){Eo(n,i,{then:function(){},status:"rejected",reason:be},Er())}finally{O.p=y,G.T=S}}function N2(){}function Sh(n,i,o,d){if(n.tag!==5)throw Error(a(476));var g=py(n).queue;my(n,g,i,$,o===null?N2:function(){return gy(n),o(d)})}function py(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:$},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function gy(n){var i=py(n).next.queue;Eo(n,i,{},Er())}function Eh(){return Kn(Yo)}function vy(){return jn().memoizedState}function xy(){return jn().memoizedState}function S2(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Er();n=va(o);var d=xa(i,n,o);d!==null&&(ar(d,i,o),To(d,i,o)),i={cache:ch()},n.payload=i;return}i=i.return}}function E2(n,i,o){var d=Er();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ru(n)?by(i,o):(o=nh(n,i,o,d),o!==null&&(ar(o,n,d),wy(o,i,d)))}function yy(n,i,o){var d=Er();Eo(n,i,o,d)}function Eo(n,i,o,d){var g={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ru(n))by(i,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var S=i.lastRenderedState,A=y(S,o);if(g.hasEagerState=!0,g.eagerState=A,jr(A,S))return du(n,i,g,0),Jt===null&&uu(),!1}catch{}finally{}if(o=nh(n,i,g,d),o!==null)return ar(o,n,d),wy(o,i,d),!0}return!1}function Ch(n,i,o,d){if(d={lane:2,revertLane:gm(),action:d,hasEagerState:!1,eagerState:null,next:null},Ru(n)){if(i)throw Error(a(479))}else i=nh(n,o,d,2),i!==null&&ar(i,n,2)}function Ru(n){var i=n.alternate;return n===dt||i!==null&&i===dt}function by(n,i){Ki=wu=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function wy(n,i,o){if((o&4194176)!==0){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,Qt(n,o)}}var gs={readContext:Kn,use:Nu,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn};gs.useCacheRefresh=yn,gs.useMemoCache=yn,gs.useHostTransitionStatus=yn,gs.useFormState=yn,gs.useActionState=yn,gs.useOptimistic=yn;var ui={readContext:Kn,use:Nu,useCallback:function(n,i){return hr().memoizedState=[n,i===void 0?null:i],n},useContext:Kn,useEffect:iy,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Eu(4194308,4,cy.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Eu(4194308,4,n,i)},useInsertionEffect:function(n,i){Eu(4,2,n,i)},useMemo:function(n,i){var o=hr();i=i===void 0?null:i;var d=n();if(ci){Ge(!0);try{n()}finally{Ge(!1)}}return o.memoizedState=[d,i],d},useReducer:function(n,i,o){var d=hr();if(o!==void 0){var g=o(i);if(ci){Ge(!0);try{o(i)}finally{Ge(!1)}}}else g=i;return d.memoizedState=d.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},d.queue=n,n=n.dispatch=E2.bind(null,dt,n),[d.memoizedState,n]},useRef:function(n){var i=hr();return n={current:n},i.memoizedState=n},useState:function(n){n=bh(n);var i=n.queue,o=yy.bind(null,dt,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:_h,useDeferredValue:function(n,i){var o=hr();return Nh(o,n,i)},useTransition:function(){var n=bh(!1);return n=my.bind(null,dt,n.queue,!0,!1),hr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var d=dt,g=hr();if(Lt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Jt===null)throw Error(a(349));(Mt&60)!==0||Fx(d,i,o)}g.memoizedState=o;var y={value:o,getSnapshot:i};return g.queue=y,iy(Yx.bind(null,d,y,n),[n]),d.flags|=2048,Zi(9,Vx.bind(null,d,y,o,i),{destroy:void 0},null),o},useId:function(){var n=hr(),i=Jt.identifierPrefix;if(Lt){var o=Is,d=Ls;o=(d&~(1<<32-Ht(d)-1)).toString(32)+o,i=":"+i+"R"+o,o=ju++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=b2++,i=":"+i+"r"+o.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return hr().memoizedState=S2.bind(null,dt)}};ui.useMemoCache=vh,ui.useHostTransitionStatus=Eh,ui.useFormState=ty,ui.useActionState=ty,ui.useOptimistic=function(n){var i=hr();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Ch.bind(null,dt,!0,o),o.dispatch=i,[n,i]};var ma={readContext:Kn,use:Nu,useCallback:dy,useContext:Kn,useEffect:jh,useImperativeHandle:uy,useInsertionEffect:ly,useLayoutEffect:oy,useMemo:fy,useReducer:Su,useRef:ay,useState:function(){return Su(Us)},useDebugValue:_h,useDeferredValue:function(n,i){var o=jn();return hy(o,Xt.memoizedState,n,i)},useTransition:function(){var n=Su(Us)[0],i=jn().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:qx,useId:vy};ma.useCacheRefresh=xy,ma.useMemoCache=vh,ma.useHostTransitionStatus=Eh,ma.useFormState=ny,ma.useActionState=ny,ma.useOptimistic=function(n,i){var o=jn();return Xx(o,Xt,n,i)};var di={readContext:Kn,use:Nu,useCallback:dy,useContext:Kn,useEffect:jh,useImperativeHandle:uy,useInsertionEffect:ly,useLayoutEffect:oy,useMemo:fy,useReducer:yh,useRef:ay,useState:function(){return yh(Us)},useDebugValue:_h,useDeferredValue:function(n,i){var o=jn();return Xt===null?Nh(o,n,i):hy(o,Xt.memoizedState,n,i)},useTransition:function(){var n=yh(Us)[0],i=jn().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:qx,useId:vy};di.useCacheRefresh=xy,di.useMemoCache=vh,di.useHostTransitionStatus=Eh,di.useFormState=sy,di.useActionState=sy,di.useOptimistic=function(n,i){var o=jn();return Xt!==null?Xx(o,Xt,n,i):(o.baseState=n,[n,o.queue.dispatch])};function Rh(n,i,o,d){i=n.memoizedState,o=o(d,i),o=o==null?i:V({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Th={isMounted:function(n){return(n=n._reactInternals)?U(n)===n:!1},enqueueSetState:function(n,i,o){n=n._reactInternals;var d=Er(),g=va(d);g.payload=i,o!=null&&(g.callback=o),i=xa(n,g,d),i!==null&&(ar(i,n,d),To(i,n,d))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var d=Er(),g=va(d);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=xa(n,g,d),i!==null&&(ar(i,n,d),To(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Er(),d=va(o);d.tag=2,i!=null&&(d.callback=i),i=xa(n,d,o),i!==null&&(ar(i,n,o),To(i,n,o))}};function jy(n,i,o,d,g,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,S):i.prototype&&i.prototype.isPureReactComponent?!ho(o,d)||!ho(g,y):!0}function _y(n,i,o,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==n&&Th.enqueueReplaceState(i,i.state,null)}function fi(n,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(n=n.defaultProps){o===i&&(o=V({},o));for(var g in n)o[g]===void 0&&(o[g]=n[g])}return o}var Tu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ny(n){Tu(n)}function Sy(n){console.error(n)}function Ey(n){Tu(n)}function Mu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Cy(n,i,o){try{var d=n.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Mh(n,i,o){return o=va(o),o.tag=3,o.payload={element:null},o.callback=function(){Mu(n,i)},o}function Ry(n){return n=va(n),n.tag=3,n}function Ty(n,i,o,d){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;n.payload=function(){return g(y)},n.callback=function(){Cy(i,o,d)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){Cy(i,o,d),typeof g!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function C2(n,i,o,d,g){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&Ro(i,o,g,!0),o=$r.current,o!==null){switch(o.tag){case 13:return ps===null?dm():o.alternate===null&&gn===0&&(gn=3),o.flags&=-257,o.flags|=65536,o.lanes=g,d===ih?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),hm(n,d,g)),!1;case 22:return o.flags|=65536,d===ih?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),hm(n,d,g)),!1}throw Error(a(435,o.tag))}return hm(n,d,g),dm(),!1}if(Lt)return i=$r.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==ah&&(n=Error(a(422),{cause:d}),vo(Ir(n,o)))):(d!==ah&&(i=Error(a(423),{cause:d}),vo(Ir(i,o))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,d=Ir(d,o),g=Mh(n.stateNode,d,g),Vh(n,g),gn!==4&&(gn=2)),!1;var y=Error(a(520),{cause:d});if(y=Ir(y,o),Io===null?Io=[y]:Io.push(y),gn!==4&&(gn=2),i===null)return!0;d=Ir(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=g&-g,o.lanes|=n,n=Mh(o.stateNode,d,n),Vh(o,n),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Na===null||!Na.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Ry(g),Ty(g,n,o,d),Vh(o,g),!1}o=o.return}while(o!==null);return!1}var My=Error(a(461)),On=!1;function Vn(n,i,o,d){i.child=n===null?Px(i,null,o,d):li(i,n.child,o,d)}function Ay(n,i,o,d,g){o=o.render;var y=i.ref;if("ref"in d){var S={};for(var A in d)A!=="ref"&&(S[A]=d[A])}else S=d;return mi(i),d=hh(n,i,o,S,y,g),A=mh(),n!==null&&!On?(ph(n,i,g),$s(n,i,g)):(Lt&&A&&rh(i),i.flags|=1,Vn(n,i,d,g),i.child)}function ky(n,i,o,d,g){if(n===null){var y=o.type;return typeof y=="function"&&!Jh(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,Dy(n,i,y,d,g)):(n=Pu(o.type,null,d,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Uh(n,g)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:ho,o(S,d)&&n.ref===i.ref)return $s(n,i,g)}return i.flags|=1,n=ja(y,d),n.ref=i.ref,n.return=i,i.child=n}function Dy(n,i,o,d,g){if(n!==null){var y=n.memoizedProps;if(ho(y,d)&&n.ref===i.ref)if(On=!1,i.pendingProps=d=y,Uh(n,g))(n.flags&131072)!==0&&(On=!0);else return i.lanes=n.lanes,$s(n,i,g)}return Ah(n,i,o,d,g)}function Oy(n,i,o){var d=i.pendingProps,g=d.children,y=(i.stateNode._pendingVisibility&2)!==0,S=n!==null?n.memoizedState:null;if(Co(n,i),d.mode==="hidden"||y){if((i.flags&128)!==0){if(d=S!==null?S.baseLanes|o:o,n!==null){for(g=i.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~d}else i.childLanes=0,i.child=null;return Py(n,i,d,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&bu(i,S!==null?S.cachePool:null),S!==null?Lx(i,S):lh(),Ix(i);else return i.lanes=i.childLanes=536870912,Py(n,i,S!==null?S.baseLanes|o:o,o)}else S!==null?(bu(i,S.cachePool),Lx(i,S),fa(),i.memoizedState=null):(n!==null&&bu(i,null),lh(),fa());return Vn(n,i,g,o),i.child}function Py(n,i,o,d){var g=dh();return g=g===null?null:{parent:Rn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},n!==null&&bu(i,null),lh(),Ix(i),n!==null&&Ro(n,i,d,!0),null}function Co(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=2097664)}}function Ah(n,i,o,d,g){return mi(i),o=hh(n,i,o,d,void 0,g),d=mh(),n!==null&&!On?(ph(n,i,g),$s(n,i,g)):(Lt&&d&&rh(i),i.flags|=1,Vn(n,i,o,g),i.child)}function Ly(n,i,o,d,g,y){return mi(i),i.updateQueue=null,o=Hx(i,d,o,g),Bx(n),d=mh(),n!==null&&!On?(ph(n,i,y),$s(n,i,y)):(Lt&&d&&rh(i),i.flags|=1,Vn(n,i,o,y),i.child)}function Iy(n,i,o,d,g){if(mi(i),i.stateNode===null){var y=qi,S=o.contextType;typeof S=="object"&&S!==null&&(y=Kn(S)),y=new o(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Th,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},qh(i),S=o.contextType,y.context=typeof S=="object"&&S!==null?Kn(S):qi,y.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Rh(i,o,S,d),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Th.enqueueReplaceState(y,y.state,null),Ao(i,d,y,g),Mo(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){y=i.stateNode;var A=i.memoizedProps,L=fi(o,A);y.props=L;var Z=y.context,me=o.contextType;S=qi,typeof me=="object"&&me!==null&&(S=Kn(me));var be=o.getDerivedStateFromProps;me=typeof be=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,me||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Z!==S)&&_y(i,y,d,S),ga=!1;var le=i.memoizedState;y.state=le,Ao(i,d,y,g),Mo(),Z=i.memoizedState,A||le!==Z||ga?(typeof be=="function"&&(Rh(i,o,be,d),Z=i.memoizedState),(L=ga||jy(i,o,L,d,le,Z,S))?(me||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Z),y.props=d,y.state=Z,y.context=S,d=L):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,Fh(n,i),S=i.memoizedProps,me=fi(o,S),y.props=me,be=i.pendingProps,le=y.context,Z=o.contextType,L=qi,typeof Z=="object"&&Z!==null&&(L=Kn(Z)),A=o.getDerivedStateFromProps,(Z=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==be||le!==L)&&_y(i,y,d,L),ga=!1,le=i.memoizedState,y.state=le,Ao(i,d,y,g),Mo();var he=i.memoizedState;S!==be||le!==he||ga||n!==null&&n.dependencies!==null&&Au(n.dependencies)?(typeof A=="function"&&(Rh(i,o,A,d),he=i.memoizedState),(me=ga||jy(i,o,me,d,le,he,L)||n!==null&&n.dependencies!==null&&Au(n.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,he,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,he,L)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=he),y.props=d,y.state=he,y.context=L,d=me):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(i.flags|=1024),d=!1)}return y=d,Co(n,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&d?(i.child=li(i,n.child,null,g),i.child=li(i,null,o,g)):Vn(n,i,o,g),i.memoizedState=y.state,n=i.child):n=$s(n,i,g),n}function zy(n,i,o,d){return go(),i.flags|=256,Vn(n,i,o,d),i.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Dh(n){return{baseLanes:n,cachePool:$x()}}function Oh(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Fr),n}function Uy(n,i,o){var d=i.pendingProps,g=!1,y=(i.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(Cn.current&2)!==0),S&&(g=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,n===null){if(Lt){if(g?da(i):fa(),Lt){var A=Fn,L;if(L=A){e:{for(L=A,A=ms;L.nodeType!==8;){if(!A){A=null;break e}if(L=es(L.nextSibling),L===null){A=null;break e}}A=L}A!==null?(i.memoizedState={dehydrated:A,treeContext:si!==null?{id:Ls,overflow:Is}:null,retryLane:536870912},L=qr(18,null,null,0),L.stateNode=A,L.return=i,i.child=L,sr=i,Fn=null,L=!0):L=!1}L||ii(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;zs(i)}return A=d.children,d=d.fallback,g?(fa(),g=i.mode,A=Lh({mode:"hidden",children:A},g),d=gi(d,g,o,null),A.return=i,d.return=i,A.sibling=d,i.child=A,g=i.child,g.memoizedState=Dh(o),g.childLanes=Oh(n,S,o),i.memoizedState=kh,d):(da(i),Ph(i,A))}if(L=n.memoizedState,L!==null&&(A=L.dehydrated,A!==null)){if(y)i.flags&256?(da(i),i.flags&=-257,i=Ih(n,i,o)):i.memoizedState!==null?(fa(),i.child=n.child,i.flags|=128,i=null):(fa(),g=d.fallback,A=i.mode,d=Lh({mode:"visible",children:d.children},A),g=gi(g,A,o,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,li(i,n.child,null,o),d=i.child,d.memoizedState=Dh(o),d.childLanes=Oh(n,S,o),i.memoizedState=kh,i=g);else if(da(i),A.data==="$!"){if(S=A.nextSibling&&A.nextSibling.dataset,S)var Z=S.dgst;S=Z,d=Error(a(419)),d.stack="",d.digest=S,vo({value:d,source:null,stack:null}),i=Ih(n,i,o)}else if(On||Ro(n,i,o,!1),S=(o&n.childLanes)!==0,On||S){if(S=Jt,S!==null){if(d=o&-o,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(S.suspendedLanes|o))!==0?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,ua(n,d),ar(S,n,d),My}A.data==="$?"||dm(),i=Ih(n,i,o)}else A.data==="$?"?(i.flags|=128,i.child=n.child,i=H2.bind(null,n),A._reactRetry=i,i=null):(n=L.treeContext,Fn=es(A.nextSibling),sr=i,Lt=!0,Zr=null,ms=!1,n!==null&&(zr[Ur++]=Ls,zr[Ur++]=Is,zr[Ur++]=si,Ls=n.id,Is=n.overflow,si=i),i=Ph(i,d.children),i.flags|=4096);return i}return g?(fa(),g=d.fallback,A=i.mode,L=n.child,Z=L.sibling,d=ja(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,Z!==null?g=ja(Z,g):(g=gi(g,A,o,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,A=n.child.memoizedState,A===null?A=Dh(o):(L=A.cachePool,L!==null?(Z=Rn._currentValue,L=L.parent!==Z?{parent:Z,pool:Z}:L):L=$x(),A={baseLanes:A.baseLanes|o,cachePool:L}),g.memoizedState=A,g.childLanes=Oh(n,S,o),i.memoizedState=kh,d):(da(i),o=n.child,n=o.sibling,o=ja(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,n!==null&&(S=i.deletions,S===null?(i.deletions=[n],i.flags|=16):S.push(n)),i.child=o,i.memoizedState=null,o)}function Ph(n,i){return i=Lh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Lh(n,i){return db(n,i,0,null)}function Ih(n,i,o){return li(i,n.child,null,o),n=Ph(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function $y(n,i,o){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),Bh(n.return,i,o)}function zh(n,i,o,d,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=o,y.tailMode=g)}function By(n,i,o){var d=i.pendingProps,g=d.revealOrder,y=d.tail;if(Vn(n,i,d.children,o),d=Cn.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$y(n,o,i);else if(n.tag===19)$y(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(fe(Cn,d),g){case"forwards":for(o=i.child,g=null;o!==null;)n=o.alternate,n!==null&&yu(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),zh(i,!1,g,o,y);break;case"backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&yu(n)===null){i.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}zh(i,!0,o,null,y);break;case"together":zh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $s(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),_a|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Ro(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=ja(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ja(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Uh(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Au(n)))}function R2(n,i,o){switch(i.tag){case 3:ke(i,i.stateNode.containerInfo),pa(i,Rn,n.memoizedState.cache),go();break;case 27:case 5:He(i);break;case 4:ke(i,i.stateNode.containerInfo);break;case 10:pa(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(da(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Uy(n,i,o):(da(i),n=$s(n,i,o),n!==null?n.sibling:null);da(i);break;case 19:var g=(n.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(Ro(n,i,o,!1),d=(o&i.childLanes)!==0),g){if(d)return By(n,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),fe(Cn,Cn.current),d)break;return null;case 22:case 23:return i.lanes=0,Oy(n,i,o);case 24:pa(i,Rn,n.memoizedState.cache)}return $s(n,i,o)}function Hy(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)On=!0;else{if(!Uh(n,o)&&(i.flags&128)===0)return On=!1,R2(n,i,o);On=(n.flags&131072)!==0}else On=!1,Lt&&(i.flags&1048576)!==0&&Ex(i,mu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")Jh(d)?(n=fi(d,n),i.tag=1,i=Iy(null,i,d,n,o)):(i.tag=0,i=Ah(null,i,d,n,o));else{if(d!=null){if(g=d.$$typeof,g===j){i.tag=11,i=Ay(null,i,d,n,o);break e}else if(g===C){i.tag=14,i=ky(null,i,d,n,o);break e}}throw i=F(d)||d,Error(a(306,i,""))}}return i;case 0:return Ah(n,i,i.type,i.pendingProps,o);case 1:return d=i.type,g=fi(d,i.pendingProps),Iy(n,i,d,g,o);case 3:e:{if(ke(i,i.stateNode.containerInfo),n===null)throw Error(a(387));var y=i.pendingProps;g=i.memoizedState,d=g.element,Fh(n,i),Ao(i,y,null,o);var S=i.memoizedState;if(y=S.cache,pa(i,Rn,y),y!==g.cache&&Hh(i,[Rn],o,!0),Mo(),y=S.element,g.isDehydrated)if(g={element:y,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=zy(n,i,y,o);break e}else if(y!==d){d=Ir(Error(a(424)),i),vo(d),i=zy(n,i,y,o);break e}else for(Fn=es(i.stateNode.containerInfo.firstChild),sr=i,Lt=!0,Zr=null,ms=!0,o=Px(i,null,y,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(go(),y===d){i=$s(n,i,o);break e}Vn(n,i,y,o)}i=i.child}return i;case 26:return Co(n,i),n===null?(o=Vb(i.type,null,i.pendingProps,null))?i.memoizedState=o:Lt||(o=i.type,n=i.pendingProps,d=Gu(Ae.current).createElement(o),d[mn]=i,d[Hn]=n,Yn(d,o,n),bn(d),i.stateNode=d):i.memoizedState=Vb(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return He(i),n===null&&Lt&&(d=i.stateNode=Hb(i.type,i.pendingProps,Ae.current),sr=i,ms=!0,Fn=es(d.firstChild)),d=i.pendingProps.children,n!==null||Lt?Vn(n,i,d,o):i.child=li(i,null,d,o),Co(n,i),i.child;case 5:return n===null&&Lt&&((g=d=Fn)&&(d=sC(d,i.type,i.pendingProps,ms),d!==null?(i.stateNode=d,sr=i,Fn=es(d.firstChild),ms=!1,g=!0):g=!1),g||ii(i)),He(i),g=i.type,y=i.pendingProps,S=n!==null?n.memoizedProps:null,d=y.children,Sm(g,y)?d=null:S!==null&&Sm(g,S)&&(i.flags|=32),i.memoizedState!==null&&(g=hh(n,i,w2,null,null,o),Yo._currentValue=g),Co(n,i),Vn(n,i,d,o),i.child;case 6:return n===null&&Lt&&((n=o=Fn)&&(o=aC(o,i.pendingProps,ms),o!==null?(i.stateNode=o,sr=i,Fn=null,n=!0):n=!1),n||ii(i)),null;case 13:return Uy(n,i,o);case 4:return ke(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=li(i,null,d,o):Vn(n,i,d,o),i.child;case 11:return Ay(n,i,i.type,i.pendingProps,o);case 7:return Vn(n,i,i.pendingProps,o),i.child;case 8:return Vn(n,i,i.pendingProps.children,o),i.child;case 12:return Vn(n,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,pa(i,i.type,d.value),Vn(n,i,d.children,o),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,mi(i),g=Kn(g),d=d(g),i.flags|=1,Vn(n,i,d,o),i.child;case 14:return ky(n,i,i.type,i.pendingProps,o);case 15:return Dy(n,i,i.type,i.pendingProps,o);case 19:return By(n,i,o);case 22:return Oy(n,i,o);case 24:return mi(i),d=Kn(Rn),n===null?(g=dh(),g===null&&(g=Jt,y=ch(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),i.memoizedState={parent:d,cache:g},qh(i),pa(i,Rn,g)):((n.lanes&o)!==0&&(Fh(n,i),Ao(i,null,null,o),Mo()),g=n.memoizedState,y=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),pa(i,Rn,d)):(d=y.cache,pa(i,Rn,d),d!==g.cache&&Hh(i,[Rn],o,!0))),Vn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var $h=se(null),hi=null,Bs=null;function pa(n,i,o){fe($h,i._currentValue),i._currentValue=o}function Hs(n){n._currentValue=$h.current,ge($h)}function Bh(n,i,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===o)break;n=n.return}}function Hh(n,i,o,d){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=g;for(var L=0;L<i.length;L++)if(A.context===i[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Bh(y.return,o,n),d||(S=null);break e}y=A.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(a(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),Bh(S,o,n),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===n){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Ro(n,i,o,d){n=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var A=g.type;jr(g.pendingProps.value,S.value)||(n!==null?n.push(A):n=[A])}}else if(g===Le.current){if(S=g.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Yo):n=[Yo])}g=g.return}n!==null&&Hh(i,n,o,d),i.flags|=262144}function Au(n){for(n=n.firstContext;n!==null;){if(!jr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function mi(n){hi=n,Bs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kn(n){return qy(hi,n)}function ku(n,i){return hi===null&&mi(n),qy(n,i)}function qy(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Bs===null){if(n===null)throw Error(a(308));Bs=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Bs=Bs.next=i;return o}var ga=!1;function qh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function va(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xa(n,i,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(fn&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=fu(n),Nx(n,null,o),i}return du(n,d,i,o),fu(n)}function To(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194176)!==0)){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,Qt(n,o)}}function Vh(n,i){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?g=y=i:y=y.next=i}else g=y=i;o={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Yh=!1;function Mo(){if(Yh){var n=Xi;if(n!==null)throw n}}function Ao(n,i,o,d){Yh=!1;var g=n.updateQueue;ga=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var L=A,Z=L.next;L.next=null,S===null?y=Z:S.next=Z,S=L;var me=n.alternate;me!==null&&(me=me.updateQueue,A=me.lastBaseUpdate,A!==S&&(A===null?me.firstBaseUpdate=Z:A.next=Z,me.lastBaseUpdate=L))}if(y!==null){var be=g.baseState;S=0,me=Z=L=null,A=y;do{var le=A.lane&-536870913,he=le!==A.lane;if(he?(Mt&le)===le:(d&le)===le){le!==0&&le===Wi&&(Yh=!0),me!==null&&(me=me.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Be=n,at=A;le=i;var vn=o;switch(at.tag){case 1:if(Be=at.payload,typeof Be=="function"){be=Be.call(vn,be,le);break e}be=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=at.payload,le=typeof Be=="function"?Be.call(vn,be,le):Be,le==null)break e;be=V({},be,le);break e;case 2:ga=!0}}le=A.callback,le!==null&&(n.flags|=64,he&&(n.flags|=8192),he=g.callbacks,he===null?g.callbacks=[le]:he.push(le))}else he={lane:le,tag:A.tag,payload:A.payload,callback:A.callback,next:null},me===null?(Z=me=he,L=be):me=me.next=he,S|=le;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;he=A,A=he.next,he.next=null,g.lastBaseUpdate=he,g.shared.pending=null}}while(!0);me===null&&(L=be),g.baseState=L,g.firstBaseUpdate=Z,g.lastBaseUpdate=me,y===null&&(g.shared.lanes=0),_a|=S,n.lanes=S,n.memoizedState=be}}function Fy(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Vy(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Fy(o[n],i)}function ko(n,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&n)===n){d=void 0;var y=o.create,S=o.inst;d=y(),S.destroy=d}o=o.next}while(o!==g)}}catch(A){Zt(i,i.return,A)}}function ya(n,i,o){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&n)===n){var S=d.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,g=i;var L=o;try{A()}catch(Z){Zt(g,L,Z)}}}d=d.next}while(d!==y)}}catch(Z){Zt(i,i.return,Z)}}function Yy(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Vy(i,o)}catch(d){Zt(n,n.return,d)}}}function Gy(n,i,o){o.props=fi(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(d){Zt(n,i,d)}}function pi(n,i){try{var o=n.ref;if(o!==null){var d=n.stateNode;switch(n.tag){case 26:case 27:case 5:var g=d;break;default:g=d}typeof o=="function"?n.refCleanup=o(g):o.current=g}}catch(y){Zt(n,i,y)}}function _r(n,i){var o=n.ref,d=n.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(g){Zt(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Zt(n,i,g)}else o.current=null}function Wy(n){var i=n.type,o=n.memoizedProps,d=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(g){Zt(n,n.return,g)}}function Xy(n,i,o){try{var d=n.stateNode;J2(d,n.type,o,i),d[Hn]=i}catch(g){Zt(n,n.return,g)}}function Ky(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Gh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ky(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wh(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(n,i):o.insertBefore(n,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(n,o)):(i=o,i.appendChild(n)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Yu));else if(d!==4&&d!==27&&(n=n.child,n!==null))for(Wh(n,i,o),n=n.sibling;n!==null;)Wh(n,i,o),n=n.sibling}function Du(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(d!==4&&d!==27&&(n=n.child,n!==null))for(Du(n,i,o),n=n.sibling;n!==null;)Du(n,i,o),n=n.sibling}var qs=!1,pn=!1,Xh=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Pn=null,Zy=!1;function T2(n,i){if(n=n.containerInfo,_m=Ju,n=px(n),Qf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var S=0,A=-1,L=-1,Z=0,me=0,be=n,le=null;t:for(;;){for(var he;be!==o||g!==0&&be.nodeType!==3||(A=S+g),be!==y||d!==0&&be.nodeType!==3||(L=S+d),be.nodeType===3&&(S+=be.nodeValue.length),(he=be.firstChild)!==null;)le=be,be=he;for(;;){if(be===n)break t;if(le===o&&++Z===g&&(A=S),le===y&&++me===d&&(L=S),(he=be.nextSibling)!==null)break;be=le,le=be.parentNode}be=he}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nm={focusedElem:n,selectionRange:o},Ju=!1,Pn=i;Pn!==null;)if(i=Pn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Pn=n;else for(;Pn!==null;){switch(i=Pn,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=i,g=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var Be=fi(o.type,g,o.elementType===o.type);n=d.getSnapshotBeforeUpdate(Be,y),d.__reactInternalSnapshotBeforeUpdate=n}catch(at){Zt(o,o.return,at)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Rm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Pn=n;break}Pn=i.return}return Be=Zy,Zy=!1,Be}function Jy(n,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(n,o),d&4&&ko(5,o);break;case 1:if(Vs(n,o),d&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(A){Zt(o,o.return,A)}else{var g=fi(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Zt(o,o.return,A)}}d&64&&Yy(o),d&512&&pi(o,o.return);break;case 3:if(Vs(n,o),d&64&&(d=o.updateQueue,d!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Vy(d,n)}catch(A){Zt(o,o.return,A)}}break;case 26:Vs(n,o),d&512&&pi(o,o.return);break;case 27:case 5:Vs(n,o),i===null&&d&4&&Wy(o),d&512&&pi(o,o.return);break;case 12:Vs(n,o);break;case 13:Vs(n,o),d&4&&nb(n,o);break;case 22:if(g=o.memoizedState!==null||qs,!g){i=i!==null&&i.memoizedState!==null||pn;var y=qs,S=pn;qs=g,(pn=i)&&!S?ba(n,o,(o.subtreeFlags&8772)!==0):Vs(n,o),qs=y,pn=S}d&512&&(o.memoizedProps.mode==="manual"?pi(o,o.return):_r(o,o.return));break;default:Vs(n,o)}}function eb(n){var i=n.alternate;i!==null&&(n.alternate=null,eb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&dr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _n=null,Nr=!1;function Fs(n,i,o){for(o=o.child;o!==null;)tb(n,i,o),o=o.sibling}function tb(n,i,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Pe,o)}catch{}switch(o.tag){case 26:pn||_r(o,i),Fs(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pn||_r(o,i);var d=_n,g=Nr;for(_n=o.stateNode,Fs(n,i,o),o=o.stateNode,i=o.attributes;i.length;)o.removeAttributeNode(i[0]);dr(o),_n=d,Nr=g;break;case 5:pn||_r(o,i);case 6:g=_n;var y=Nr;if(_n=null,Fs(n,i,o),_n=g,Nr=y,_n!==null)if(Nr)try{n=_n,d=o.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)}catch(S){Zt(o,i,S)}else try{_n.removeChild(o.stateNode)}catch(S){Zt(o,i,S)}break;case 18:_n!==null&&(Nr?(i=_n,o=o.stateNode,i.nodeType===8?Cm(i.parentNode,o):i.nodeType===1&&Cm(i,o),Ko(i)):Cm(_n,o.stateNode));break;case 4:d=_n,g=Nr,_n=o.stateNode.containerInfo,Nr=!0,Fs(n,i,o),_n=d,Nr=g;break;case 0:case 11:case 14:case 15:pn||ya(2,o,i),pn||ya(4,o,i),Fs(n,i,o);break;case 1:pn||(_r(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Gy(o,i,d)),Fs(n,i,o);break;case 21:Fs(n,i,o);break;case 22:pn||_r(o,i),pn=(d=pn)||o.memoizedState!==null,Fs(n,i,o),pn=d;break;default:Fs(n,i,o)}}function nb(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ko(n)}catch(o){Zt(i,i.return,o)}}function M2(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Qy),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Qy),i;default:throw Error(a(435,n.tag))}}function Kh(n,i){var o=M2(n);i.forEach(function(d){var g=q2.bind(null,n,d);o.has(d)||(o.add(d),d.then(g,g))})}function Br(n,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var g=o[d],y=n,S=i,A=S;e:for(;A!==null;){switch(A.tag){case 27:case 5:_n=A.stateNode,Nr=!1;break e;case 3:_n=A.stateNode.containerInfo,Nr=!0;break e;case 4:_n=A.stateNode.containerInfo,Nr=!0;break e}A=A.return}if(_n===null)throw Error(a(160));tb(y,S,g),_n=null,Nr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rb(i,n),i=i.sibling}var Jr=null;function rb(n,i){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Br(i,n),Hr(n),d&4&&(ya(3,n,n.return),ko(3,n),ya(5,n,n.return));break;case 1:Br(i,n),Hr(n),d&512&&(pn||o===null||_r(o,o.return)),d&64&&qs&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var g=Jr;if(Br(i,n),Hr(n),d&512&&(pn||o===null||_r(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=n.memoizedState,o===null)if(d===null)if(n.stateNode===null){e:{d=n.type,o=n.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[qn]||y[mn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),Yn(y,d,o),y[mn]=n,bn(y),d=y;break e;case"link":var S=Wb("link","href",g).get(d+(o.href||""));if(S){for(var A=0;A<S.length;A++)if(y=S[A],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(A,1);break t}}y=g.createElement(d),Yn(y,d,o),g.head.appendChild(y);break;case"meta":if(S=Wb("meta","content",g).get(d+(o.content||""))){for(A=0;A<S.length;A++)if(y=S[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(A,1);break t}}y=g.createElement(d),Yn(y,d,o),g.head.appendChild(y);break;default:throw Error(a(468,d))}y[mn]=n,bn(y),d=y}n.stateNode=d}else Xb(g,n.type,n.stateNode);else n.stateNode=Gb(g,d,n.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?Xb(g,n.type,n.stateNode):Gb(g,d,n.memoizedProps)):d===null&&n.stateNode!==null&&Xy(n,n.memoizedProps,o.memoizedProps)}break;case 27:if(d&4&&n.alternate===null){g=n.stateNode,y=n.memoizedProps;try{for(var L=g.firstChild;L;){var Z=L.nextSibling,me=L.nodeName;L[qn]||me==="HEAD"||me==="BODY"||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&L.rel.toLowerCase()==="stylesheet"||g.removeChild(L),L=Z}for(var be=n.type,le=g.attributes;le.length;)g.removeAttributeNode(le[0]);Yn(g,be,y),g[mn]=n,g[Hn]=y}catch(Be){Zt(n,n.return,Be)}}case 5:if(Br(i,n),Hr(n),d&512&&(pn||o===null||_r(o,o.return)),n.flags&32){g=n.stateNode;try{Li(g,"")}catch(Be){Zt(n,n.return,Be)}}d&4&&n.stateNode!=null&&(g=n.memoizedProps,Xy(n,g,o!==null?o.memoizedProps:g)),d&1024&&(Xh=!0);break;case 6:if(Br(i,n),Hr(n),d&4){if(n.stateNode===null)throw Error(a(162));d=n.memoizedProps,o=n.stateNode;try{o.nodeValue=d}catch(Be){Zt(n,n.return,Be)}}break;case 3:if(Ku=null,g=Jr,Jr=Wu(i.containerInfo),Br(i,n),Jr=g,Hr(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ko(i.containerInfo)}catch(Be){Zt(n,n.return,Be)}Xh&&(Xh=!1,sb(n));break;case 4:d=Jr,Jr=Wu(n.stateNode.containerInfo),Br(i,n),Hr(n),Jr=d;break;case 12:Br(i,n),Hr(n);break;case 13:Br(i,n),Hr(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(am=Rt()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Kh(n,d)));break;case 22:if(d&512&&(pn||o===null||_r(o,o.return)),L=n.memoizedState!==null,Z=o!==null&&o.memoizedState!==null,me=qs,be=pn,qs=me||L,pn=be||Z,Br(i,n),pn=be,qs=me,Hr(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,d&8192&&(i._visibility=L?i._visibility&-2:i._visibility|1,L&&(i=qs||pn,o===null||Z||i||Ji(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(o=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(o===null){Z=o=i;try{if(g=Z.stateNode,L)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=Z.stateNode,A=Z.memoizedProps.style;var he=A!=null&&A.hasOwnProperty("display")?A.display:null;S.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Be){Zt(Z,Z.return,Be)}}}else if(i.tag===6){if(o===null){Z=i;try{Z.stateNode.nodeValue=L?"":Z.memoizedProps}catch(Be){Zt(Z,Z.return,Be)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=n.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Kh(n,o))));break;case 19:Br(i,n),Hr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Kh(n,d)));break;case 21:break;default:Br(i,n),Hr(n)}}function Hr(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var o=n.return;o!==null;){if(Ky(o)){var d=o;break e}o=o.return}throw Error(a(160))}switch(d.tag){case 27:var g=d.stateNode,y=Gh(n);Du(n,y,g);break;case 5:var S=d.stateNode;d.flags&32&&(Li(S,""),d.flags&=-33);var A=Gh(n);Du(n,A,S);break;case 3:case 4:var L=d.stateNode.containerInfo,Z=Gh(n);Wh(n,Z,L);break;default:throw Error(a(161))}}}catch(me){Zt(n,n.return,me)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function sb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;sb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Vs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jy(n,i.alternate,i),i=i.sibling}function Ji(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ya(4,i,i.return),Ji(i);break;case 1:_r(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Gy(i,i.return,o),Ji(i);break;case 26:case 27:case 5:_r(i,i.return),Ji(i);break;case 22:_r(i,i.return),i.memoizedState===null&&Ji(i);break;default:Ji(i)}n=n.sibling}}function ba(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=n,y=i,S=y.flags;switch(y.tag){case 0:case 11:case 15:ba(g,y,o),ko(4,y);break;case 1:if(ba(g,y,o),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){Zt(d,d.return,Z)}if(d=y,g=d.updateQueue,g!==null){var A=d.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)Fy(L[g],A)}catch(Z){Zt(d,d.return,Z)}}o&&S&64&&Yy(y),pi(y,y.return);break;case 26:case 27:case 5:ba(g,y,o),o&&d===null&&S&4&&Wy(y),pi(y,y.return);break;case 12:ba(g,y,o);break;case 13:ba(g,y,o),o&&S&4&&nb(g,y);break;case 22:y.memoizedState===null&&ba(g,y,o),pi(y,y.return);break;default:ba(g,y,o)}i=i.sibling}}function Qh(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&jo(o))}function Zh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&jo(n))}function wa(n,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ab(n,i,o,d),i=i.sibling}function ab(n,i,o,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:wa(n,i,o,d),g&2048&&ko(9,i);break;case 3:wa(n,i,o,d),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&jo(n)));break;case 12:if(g&2048){wa(n,i,o,d),n=i.stateNode;try{var y=i.memoizedProps,S=y.id,A=y.onPostCommit;typeof A=="function"&&A(S,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){Zt(i,i.return,L)}}else wa(n,i,o,d);break;case 23:break;case 22:y=i.stateNode,i.memoizedState!==null?y._visibility&4?wa(n,i,o,d):Do(n,i):y._visibility&4?wa(n,i,o,d):(y._visibility|=4,el(n,i,o,d,(i.subtreeFlags&10256)!==0)),g&2048&&Qh(i.alternate,i);break;case 24:wa(n,i,o,d),g&2048&&Zh(i.alternate,i);break;default:wa(n,i,o,d)}}function el(n,i,o,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,S=i,A=o,L=d,Z=S.flags;switch(S.tag){case 0:case 11:case 15:el(y,S,A,L,g),ko(8,S);break;case 23:break;case 22:var me=S.stateNode;S.memoizedState!==null?me._visibility&4?el(y,S,A,L,g):Do(y,S):(me._visibility|=4,el(y,S,A,L,g)),g&&Z&2048&&Qh(S.alternate,S);break;case 24:el(y,S,A,L,g),g&&Z&2048&&Zh(S.alternate,S);break;default:el(y,S,A,L,g)}i=i.sibling}}function Do(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,d=i,g=d.flags;switch(d.tag){case 22:Do(o,d),g&2048&&Qh(d.alternate,d);break;case 24:Do(o,d),g&2048&&Zh(d.alternate,d);break;default:Do(o,d)}i=i.sibling}}var Oo=8192;function tl(n){if(n.subtreeFlags&Oo)for(n=n.child;n!==null;)ib(n),n=n.sibling}function ib(n){switch(n.tag){case 26:tl(n),n.flags&Oo&&n.memoizedState!==null&&xC(Jr,n.memoizedState,n.memoizedProps);break;case 5:tl(n);break;case 3:case 4:var i=Jr;Jr=Wu(n.stateNode.containerInfo),tl(n),Jr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Oo,Oo=16777216,tl(n),Oo=i):tl(n));break;default:tl(n)}}function lb(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Po(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Pn=d,cb(d,n)}lb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ob(n),n=n.sibling}function ob(n){switch(n.tag){case 0:case 11:case 15:Po(n),n.flags&2048&&ya(9,n,n.return);break;case 3:Po(n);break;case 12:Po(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Ou(n)):Po(n);break;default:Po(n)}}function Ou(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Pn=d,cb(d,n)}lb(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ya(8,i,i.return),Ou(i);break;case 22:o=i.stateNode,o._visibility&4&&(o._visibility&=-5,Ou(i));break;default:Ou(i)}n=n.sibling}}function cb(n,i){for(;Pn!==null;){var o=Pn;switch(o.tag){case 0:case 11:case 15:ya(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:jo(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Pn=d;else e:for(o=n;Pn!==null;){d=Pn;var g=d.sibling,y=d.return;if(eb(d),d===o){Pn=null;break e}if(g!==null){g.return=y,Pn=g;break e}Pn=y}}}function A2(n,i,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(n,i,o,d){return new A2(n,i,o,d)}function Jh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ja(n,i){var o=n.alternate;return o===null?(o=qr(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&31457280,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function ub(n,i){n.flags&=31457282;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Pu(n,i,o,d,g,y){var S=0;if(d=n,typeof n=="function")Jh(n)&&(S=1);else if(typeof n=="string")S=gC(n,o,ae.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case h:return gi(o.children,g,y,i);case p:S=8,g|=24;break;case v:return n=qr(12,o,i,g|2),n.elementType=v,n.lanes=y,n;case N:return n=qr(13,o,i,g),n.elementType=N,n.lanes=y,n;case _:return n=qr(19,o,i,g),n.elementType=_,n.lanes=y,n;case R:return db(o,g,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case w:S=10;break e;case b:S=9;break e;case j:S=11;break e;case C:S=14;break e;case E:S=16,d=null;break e}S=29,o=Error(a(130,n===null?"null":typeof n,"")),d=null}return i=qr(S,o,i,g),i.elementType=n,i.type=d,i.lanes=y,i}function gi(n,i,o,d){return n=qr(7,n,d,i),n.lanes=o,n}function db(n,i,o,d){n=qr(22,n,d,i),n.elementType=R,n.lanes=o;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=g._current;if(y===null)throw Error(a(456));if((g._pendingVisibility&2)===0){var S=ua(y,2);S!==null&&(g._pendingVisibility|=2,ar(S,y,2))}},attach:function(){var y=g._current;if(y===null)throw Error(a(456));if((g._pendingVisibility&2)!==0){var S=ua(y,2);S!==null&&(g._pendingVisibility&=-3,ar(S,y,2))}}};return n.stateNode=g,n}function em(n,i,o){return n=qr(6,n,null,i),n.lanes=o,n}function tm(n,i,o){return i=qr(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Ys(n){n.flags|=4}function fb(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Kb(i)){if(i=$r.current,i!==null&&((Mt&4194176)===Mt?ps!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||i!==ps))throw yo=ih,Tx;n.flags|=8192}}function Lu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ln():536870912,n.lanes|=i,rl|=i)}function Lo(n,i){if(!Lt)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function dn(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(i)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags&31457280,d|=g.flags&31457280,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=d,n.childLanes=o,i}function k2(n,i,o){var d=i.pendingProps;switch(sh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(i),null;case 1:return dn(i),null;case 3:return o=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Hs(Rn),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(po(i)?Ys(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zr!==null&&(cm(Zr),Zr=null))),dn(i),null;case 26:return o=i.memoizedState,n===null?(Ys(i),o!==null?(dn(i),fb(i,o)):(dn(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Ys(i),dn(i),fb(i,o)):(dn(i),i.flags&=-16777217):(n.memoizedProps!==d&&Ys(i),dn(i),i.flags&=-16777217),null;case 27:we(i),o=Ae.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Ys(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return dn(i),null}n=ae.current,po(i)?Cx(i):(n=Hb(g,d,o),i.stateNode=n,Ys(i))}return dn(i),null;case 5:if(we(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Ys(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return dn(i),null}if(n=ae.current,po(i))Cx(i);else{switch(g=Gu(Ae.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?g.createElement(o,{is:d.is}):g.createElement(o)}}n[mn]=i,n[Hn]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(Yn(n,o,d),o){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ys(i)}}return dn(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==d&&Ys(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(a(166));if(n=Ae.current,po(i)){if(n=i.stateNode,o=i.memoizedProps,d=null,g=sr,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}n[mn]=i,n=!!(n.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||Lb(n.nodeValue,o)),n||ii(i)}else n=Gu(n).createTextNode(d),n[mn]=i,i.stateNode=n}return dn(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=po(i),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(a(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[mn]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dn(i),g=!1}else Zr!==null&&(cm(Zr),Zr=null),g=!0;if(!g)return i.flags&256?(zs(i),i):(zs(i),null)}if(zs(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=d!==null,n=n!==null&&n.memoizedState!==null,o){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Lu(i,i.updateQueue),dn(i),null;case 4:return _e(),n===null&&bm(i.stateNode.containerInfo),dn(i),null;case 10:return Hs(i.type),dn(i),null;case 19:if(ge(Cn),g=i.memoizedState,g===null)return dn(i),null;if(d=(i.flags&128)!==0,y=g.rendering,y===null)if(d)Lo(g,!1);else{if(gn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=yu(n),y!==null){for(i.flags|=128,Lo(g,!1),n=y.updateQueue,i.updateQueue=n,Lu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)ub(o,n),o=o.sibling;return fe(Cn,Cn.current&1|2),i.child}n=n.sibling}g.tail!==null&&Rt()>Iu&&(i.flags|=128,d=!0,Lo(g,!1),i.lanes=4194304)}else{if(!d)if(n=yu(y),n!==null){if(i.flags|=128,d=!0,n=n.updateQueue,i.updateQueue=n,Lu(i,n),Lo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Lt)return dn(i),null}else 2*Rt()-g.renderingStartTime>Iu&&o!==536870912&&(i.flags|=128,d=!0,Lo(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(n=g.last,n!==null?n.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Rt(),i.sibling=null,n=Cn.current,fe(Cn,d?n&1|2:n&1),i):(dn(i),null);case 22:case 23:return zs(i),oh(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(dn(i),i.subtreeFlags&6&&(i.flags|=8192)):dn(i),o=i.updateQueue,o!==null&&Lu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),n!==null&&ge(oi),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hs(Rn),dn(i),null;case 25:return null}throw Error(a(156,i.tag))}function D2(n,i){switch(sh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Hs(Rn),_e(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return we(i),null;case 13:if(zs(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));go()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ge(Cn),null;case 4:return _e(),null;case 10:return Hs(i.type),null;case 22:case 23:return zs(i),oh(),n!==null&&ge(oi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Hs(Rn),null;case 25:return null;default:return null}}function hb(n,i){switch(sh(i),i.tag){case 3:Hs(Rn),_e();break;case 26:case 27:case 5:we(i);break;case 4:_e();break;case 13:zs(i);break;case 19:ge(Cn);break;case 10:Hs(i.type);break;case 22:case 23:zs(i),oh(),n!==null&&ge(oi);break;case 24:Hs(Rn)}}var O2={getCacheForType:function(n){var i=Kn(Rn),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},P2=typeof WeakMap=="function"?WeakMap:Map,fn=0,Jt=null,gt=null,Mt=0,en=0,Sr=null,Gs=!1,nl=!1,nm=!1,Ws=0,gn=0,_a=0,vi=0,rm=0,Fr=0,rl=0,Io=null,vs=null,sm=!1,am=0,Iu=1/0,zu=null,Na=null,Uu=!1,xi=null,zo=0,im=0,lm=null,Uo=0,om=null;function Er(){if((fn&2)!==0&&Mt!==0)return Mt&-Mt;if(G.T!==null){var n=Wi;return n!==0?n:gm()}return An()}function mb(){Fr===0&&(Fr=(Mt&536870912)===0||Lt?bt():536870912);var n=$r.current;return n!==null&&(n.flags|=32),Fr}function ar(n,i,o){(n===Jt&&en===2||n.cancelPendingCommit!==null)&&(sl(n,0),Xs(n,Mt,Fr,!1)),ht(n,o),((fn&2)===0||n!==Jt)&&(n===Jt&&((fn&2)===0&&(vi|=o),gn===4&&Xs(n,Mt,Fr,!1)),xs(n))}function pb(n,i,o){if((fn&6)!==0)throw Error(a(327));var d=!o&&(i&60)===0&&(i&n.expiredLanes)===0||pt(n,i),g=d?z2(n,i):fm(n,i,!0),y=d;do{if(g===0){nl&&!d&&Xs(n,i,0,!1);break}else if(g===6)Xs(n,i,0,!Gs);else{if(o=n.current.alternate,y&&!L2(o)){g=fm(n,i,!1),y=!1;continue}if(g===2){if(y=i,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var A=n;g=Io;var L=A.current.memoizedState.isDehydrated;if(L&&(sl(A,S).flags|=256),S=fm(A,S,!1),S!==2){if(nm&&!L){A.errorRecoveryDisabledLanes|=y,vi|=y,g=4;break e}y=vs,vs=g,y!==null&&cm(y)}g=S}if(y=!1,g!==2)continue}}if(g===1){sl(n,0),Xs(n,i,0,!0);break}e:{switch(d=n,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Xs(d,i,Fr,!Gs);break e}break;case 2:vs=null;break;case 3:case 5:break;default:throw Error(a(329))}if(d.finishedWork=o,d.finishedLanes=i,(i&62914560)===i&&(y=am+300-Rt(),10<y)){if(Xs(d,i,Fr,!Gs),De(d,0)!==0)break e;d.timeoutHandle=Ub(gb.bind(null,d,o,vs,zu,sm,i,Fr,vi,rl,Gs,2,-0,0),y);break e}gb(d,o,vs,zu,sm,i,Fr,vi,rl,Gs,0,-0,0)}}break}while(!0);xs(n)}function cm(n){vs===null?vs=n:vs.push.apply(vs,n)}function gb(n,i,o,d,g,y,S,A,L,Z,me,be,le){var he=i.subtreeFlags;if((he&8192||(he&16785408)===16785408)&&(Vo={stylesheets:null,count:0,unsuspend:vC},ib(i),i=yC(),i!==null)){n.cancelPendingCommit=i(_b.bind(null,n,o,d,g,S,A,L,1,be,le)),Xs(n,y,S,!Z);return}_b(n,o,d,g,S,A,L,me,be,le)}function L2(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var g=o[d],y=g.getSnapshot;g=g.value;try{if(!jr(y(),g))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xs(n,i,o,d){i&=~rm,i&=~vi,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var g=i;0<g;){var y=31-Ht(g),S=1<<y;d[y]=-1,g&=~S}o!==0&&qt(n,o,i)}function $u(){return(fn&6)===0?($o(0),!1):!0}function um(){if(gt!==null){if(en===0)var n=gt.return;else n=gt,Bs=hi=null,gh(n),Yi=null,bo=0,n=gt;for(;n!==null;)hb(n.alternate,n),n=n.return;gt=null}}function sl(n,i){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,tC(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),um(),Jt=n,gt=o=ja(n.current,null),Mt=i,en=0,Sr=null,Gs=!1,nl=pt(n,i),nm=!1,rl=Fr=rm=vi=_a=gn=0,vs=Io=null,sm=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var g=31-Ht(d),y=1<<g;i|=n[g],d&=~y}return Ws=i,uu(),o}function vb(n,i){dt=null,G.H=gs,i===xo?(i=kx(),en=3):i===Tx?(i=kx(),en=4):en=i===My?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sr=i,gt===null&&(gn=1,Mu(n,Ir(i,n.current)))}function xb(){var n=G.H;return G.H=gs,n===null?gs:n}function yb(){var n=G.A;return G.A=O2,n}function dm(){gn=4,Gs||(Mt&4194176)!==Mt&&$r.current!==null||(nl=!0),(_a&134217727)===0&&(vi&134217727)===0||Jt===null||Xs(Jt,Mt,Fr,!1)}function fm(n,i,o){var d=fn;fn|=2;var g=xb(),y=yb();(Jt!==n||Mt!==i)&&(zu=null,sl(n,i)),i=!1;var S=gn;e:do try{if(en!==0&&gt!==null){var A=gt,L=Sr;switch(en){case 8:um(),S=6;break e;case 3:case 2:case 6:$r.current===null&&(i=!0);var Z=en;if(en=0,Sr=null,al(n,A,L,Z),o&&nl){S=0;break e}break;default:Z=en,en=0,Sr=null,al(n,A,L,Z)}}I2(),S=gn;break}catch(me){vb(n,me)}while(!0);return i&&n.shellSuspendCounter++,Bs=hi=null,fn=d,G.H=g,G.A=y,gt===null&&(Jt=null,Mt=0,uu()),S}function I2(){for(;gt!==null;)bb(gt)}function z2(n,i){var o=fn;fn|=2;var d=xb(),g=yb();Jt!==n||Mt!==i?(zu=null,Iu=Rt()+500,sl(n,i)):nl=pt(n,i);e:do try{if(en!==0&&gt!==null){i=gt;var y=Sr;t:switch(en){case 1:en=0,Sr=null,al(n,i,y,1);break;case 2:if(Mx(y)){en=0,Sr=null,wb(i);break}i=function(){en===2&&Jt===n&&(en=7),xs(n)},y.then(i,i);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:Mx(y)?(en=0,Sr=null,wb(i)):(en=0,Sr=null,al(n,i,y,7));break;case 5:var S=null;switch(gt.tag){case 26:S=gt.memoizedState;case 5:case 27:var A=gt;if(!S||Kb(S)){en=0,Sr=null;var L=A.sibling;if(L!==null)gt=L;else{var Z=A.return;Z!==null?(gt=Z,Bu(Z)):gt=null}break t}}en=0,Sr=null,al(n,i,y,5);break;case 6:en=0,Sr=null,al(n,i,y,6);break;case 8:um(),gn=6;break e;default:throw Error(a(462))}}U2();break}catch(me){vb(n,me)}while(!0);return Bs=hi=null,G.H=d,G.A=g,fn=o,gt!==null?0:(Jt=null,Mt=0,uu(),gn)}function U2(){for(;gt!==null&&!Ne();)bb(gt)}function bb(n){var i=Hy(n.alternate,n,Ws);n.memoizedProps=n.pendingProps,i===null?Bu(n):gt=i}function wb(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Ly(o,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=Ly(o,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:gh(i);default:hb(o,i),i=gt=ub(i,Ws),i=Hy(o,i,Ws)}n.memoizedProps=n.pendingProps,i===null?Bu(n):gt=i}function al(n,i,o,d){Bs=hi=null,gh(i),Yi=null,bo=0;var g=i.return;try{if(C2(n,g,i,o,Mt)){gn=1,Mu(n,Ir(o,n.current)),gt=null;return}}catch(y){if(g!==null)throw gt=g,y;gn=1,Mu(n,Ir(o,n.current)),gt=null;return}i.flags&32768?(Lt||d===1?n=!0:nl||(Mt&536870912)!==0?n=!1:(Gs=n=!0,(d===2||d===3||d===6)&&(d=$r.current,d!==null&&d.tag===13&&(d.flags|=16384))),jb(i,n)):Bu(i)}function Bu(n){var i=n;do{if((i.flags&32768)!==0){jb(i,Gs);return}n=i.return;var o=k2(i.alternate,i,Ws);if(o!==null){gt=o;return}if(i=i.sibling,i!==null){gt=i;return}gt=i=n}while(i!==null);gn===0&&(gn=5)}function jb(n,i){do{var o=D2(n.alternate,n);if(o!==null){o.flags&=32767,gt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){gt=n;return}gt=n=o}while(n!==null);gn=6,gt=null}function _b(n,i,o,d,g,y,S,A,L,Z){var me=G.T,be=O.p;try{O.p=2,G.T=null,$2(n,i,o,d,be,g,y,S,A,L,Z)}finally{G.T=me,O.p=be}}function $2(n,i,o,d,g,y,S,A){do il();while(xi!==null);if((fn&6)!==0)throw Error(a(327));var L=n.finishedWork;if(d=n.finishedLanes,L===null)return null;if(n.finishedWork=null,n.finishedLanes=0,L===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var Z=L.lanes|L.childLanes;if(Z|=th,En(n,d,Z,y,S,A),n===Jt&&(gt=Jt=null,Mt=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Uu||(Uu=!0,im=Z,lm=o,F2(rn,function(){return il(),null})),o=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||o?(o=G.T,G.T=null,y=O.p,O.p=2,S=fn,fn|=4,T2(n,L),rb(L,n),u2(Nm,n.containerInfo),Ju=!!_m,Nm=_m=null,n.current=L,Jy(n,L.alternate,L),Ve(),fn=S,O.p=y,G.T=o):n.current=L,Uu?(Uu=!1,xi=n,zo=d):Nb(n,Z),Z=n.pendingLanes,Z===0&&(Na=null),nt(L.stateNode),xs(n),i!==null)for(g=n.onRecoverableError,L=0;L<i.length;L++)Z=i[L],g(Z.value,{componentStack:Z.stack});return(zo&3)!==0&&il(),Z=n.pendingLanes,(d&4194218)!==0&&(Z&42)!==0?n===om?Uo++:(Uo=0,om=n):Uo=0,$o(0),null}function Nb(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,jo(i)))}function il(){if(xi!==null){var n=xi,i=im;im=0;var o=wr(zo),d=G.T,g=O.p;try{if(O.p=32>o?32:o,G.T=null,xi===null)var y=!1;else{o=lm,lm=null;var S=xi,A=zo;if(xi=null,zo=0,(fn&6)!==0)throw Error(a(331));var L=fn;if(fn|=4,ob(S.current),ab(S,S.current,A,o),fn=L,$o(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Pe,S)}catch{}y=!0}return y}finally{O.p=g,G.T=d,Nb(n,i)}}return!1}function Sb(n,i,o){i=Ir(o,i),i=Mh(n.stateNode,i,2),n=xa(n,i,2),n!==null&&(ht(n,2),xs(n))}function Zt(n,i,o){if(n.tag===3)Sb(n,n,o);else for(;i!==null;){if(i.tag===3){Sb(i,n,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Na===null||!Na.has(d))){n=Ir(o,n),o=Ry(2),d=xa(i,o,2),d!==null&&(Ty(o,d,i,n),ht(d,2),xs(d));break}}i=i.return}}function hm(n,i,o){var d=n.pingCache;if(d===null){d=n.pingCache=new P2;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(o)||(nm=!0,g.add(o),n=B2.bind(null,n,i,o),i.then(n,n))}function B2(n,i,o){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Jt===n&&(Mt&o)===o&&(gn===4||gn===3&&(Mt&62914560)===Mt&&300>Rt()-am?(fn&2)===0&&sl(n,0):rm|=o,rl===Mt&&(rl=0)),xs(n)}function Eb(n,i){i===0&&(i=ln()),n=ua(n,i),n!==null&&(ht(n,i),xs(n))}function H2(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Eb(n,o)}function q2(n,i){var o=0;switch(n.tag){case 13:var d=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(i),Eb(n,o)}function F2(n,i){return Qe(n,i)}var Hu=null,ll=null,mm=!1,qu=!1,pm=!1,yi=0;function xs(n){n!==ll&&n.next===null&&(ll===null?Hu=ll=n:ll=ll.next=n),qu=!0,mm||(mm=!0,Y2(V2))}function $o(n,i){if(!pm&&qu){pm=!0;do for(var o=!1,d=Hu;d!==null;){if(n!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var S=d.suspendedLanes,A=d.pingedLanes;y=(1<<31-Ht(42|n)+1)-1,y&=g&~(S&~A),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,Tb(d,y))}else y=Mt,y=De(d,d===Jt?y:0),(y&3)===0||pt(d,y)||(o=!0,Tb(d,y));d=d.next}while(o);pm=!1}}function V2(){qu=mm=!1;var n=0;yi!==0&&(eC()&&(n=yi),yi=0);for(var i=Rt(),o=null,d=Hu;d!==null;){var g=d.next,y=Cb(d,i);y===0?(d.next=null,o===null?Hu=g:o.next=g,g===null&&(ll=o)):(o=d,(n!==0||(y&3)!==0)&&(qu=!0)),d=g}$o(n)}function Cb(n,i){for(var o=n.suspendedLanes,d=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-Ht(y),A=1<<S,L=g[S];L===-1?((A&o)===0||(A&d)!==0)&&(g[S]=lt(A,i)):L<=i&&(n.expiredLanes|=A),y&=~A}if(i=Jt,o=Mt,o=De(n,n===i?o:0),d=n.callbackNode,o===0||n===i&&en===2||n.cancelPendingCommit!==null)return d!==null&&d!==null&&et(d),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||pt(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(d!==null&&et(d),wr(o)){case 2:case 8:o=Sn;break;case 32:o=rn;break;case 268435456:o=xn;break;default:o=rn}return d=Rb.bind(null,n),o=Qe(o,d),n.callbackPriority=i,n.callbackNode=o,i}return d!==null&&d!==null&&et(d),n.callbackPriority=2,n.callbackNode=null,2}function Rb(n,i){var o=n.callbackNode;if(il()&&n.callbackNode!==o)return null;var d=Mt;return d=De(n,n===Jt?d:0),d===0?null:(pb(n,d,i),Cb(n,Rt()),n.callbackNode!=null&&n.callbackNode===o?Rb.bind(null,n):null)}function Tb(n,i){if(il())return null;pb(n,i,!0)}function Y2(n){nC(function(){(fn&6)!==0?Qe(on,n):n()})}function gm(){return yi===0&&(yi=bt()),yi}function Mb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ru(""+n)}function Ab(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function G2(n,i,o,d,g){if(i==="submit"&&o&&o.stateNode===g){var y=Mb((g[Hn]||null).action),S=d.submitter;S&&(i=(i=S[Hn]||null)?Mb(i.formAction):S.getAttribute("formAction"),i!==null&&(y=i,S=null));var A=new lu("action","action",null,d,g);n.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(yi!==0){var L=S?Ab(g,S):new FormData(g);Sh(o,{pending:!0,data:L,method:g.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=S?Ab(g,S):new FormData(g),Sh(o,{pending:!0,data:L,method:g.method,action:y},y,L))},currentTarget:g}]})}}for(var vm=0;vm<_x.length;vm++){var xm=_x[vm],W2=xm.toLowerCase(),X2=xm[0].toUpperCase()+xm.slice(1);Qr(W2,"on"+X2)}Qr(xx,"onAnimationEnd"),Qr(yx,"onAnimationIteration"),Qr(bx,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(f2,"onTransitionRun"),Qr(h2,"onTransitionStart"),Qr(m2,"onTransitionCancel"),Qr(wx,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function kb(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],g=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var S=d.length-1;0<=S;S--){var A=d[S],L=A.instance,Z=A.currentTarget;if(A=A.listener,L!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=Z;try{y(g)}catch(me){Tu(me)}g.currentTarget=null,y=L}else for(S=0;S<d.length;S++){if(A=d[S],L=A.instance,Z=A.currentTarget,A=A.listener,L!==y&&g.isPropagationStopped())break e;y=A,g.currentTarget=Z;try{y(g)}catch(me){Tu(me)}g.currentTarget=null,y=L}}}}function St(n,i){var o=i[je];o===void 0&&(o=i[je]=new Set);var d=n+"__bubble";o.has(d)||(Db(i,n,2,!1),o.add(d))}function ym(n,i,o){var d=0;i&&(d|=4),Db(o,n,d,i)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function bm(n){if(!n[Fu]){n[Fu]=!0,Lv.forEach(function(o){o!=="selectionchange"&&(K2.has(o)||ym(o,!1,n),ym(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Fu]||(i[Fu]=!0,ym("selectionchange",!1,i))}}function Db(n,i,o,d){switch(n0(i)){case 2:var g=jC;break;case 8:g=_C;break;default:g=Dm}o=g.bind(null,i,o,n),g=void 0,!Hf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?n.addEventListener(i,o,{capture:!0,passive:g}):n.addEventListener(i,o,!0):g!==void 0?n.addEventListener(i,o,{passive:g}):n.addEventListener(i,o,!1)}function wm(n,i,o,d,g){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var A=d.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(S===4)for(S=d.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;S=S.return}for(;A!==null;){if(S=Dn(A),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){d=y=S;continue e}A=A.parentNode}}d=d.return}Wv(function(){var Z=y,me=$f(o),be=[];e:{var le=jx.get(n);if(le!==void 0){var he=lu,Be=n;switch(n){case"keypress":if(au(o)===0)break e;case"keydown":case"keyup":he=qE;break;case"focusin":Be="focus",he=Yf;break;case"focusout":Be="blur",he=Yf;break;case"beforeblur":case"afterblur":he=Yf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=AE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=YE;break;case xx:case yx:case bx:he=OE;break;case wx:he=WE;break;case"scroll":case"scrollend":he=TE;break;case"wheel":he=KE;break;case"copy":case"cut":case"paste":he=LE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Jv;break;case"toggle":case"beforetoggle":he=ZE}var at=(i&4)!==0,vn=!at&&(n==="scroll"||n==="scrollend"),ee=at?le!==null?le+"Capture":null:le;at=[];for(var Q=Z,ie;Q!==null;){var ve=Q;if(ie=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ie===null||ee===null||(ve=ao(Q,ee),ve!=null&&at.push(Ho(Q,ve,ie))),vn)break;Q=Q.return}0<at.length&&(le=new he(le,Be,null,o,me),be.push({event:le,listeners:at}))}}if((i&7)===0){e:{if(le=n==="mouseover"||n==="pointerover",he=n==="mouseout"||n==="pointerout",le&&o!==Uf&&(Be=o.relatedTarget||o.fromElement)&&(Dn(Be)||Be[pe]))break e;if((he||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,he?(Be=o.relatedTarget||o.toElement,he=Z,Be=Be?Dn(Be):null,Be!==null&&(vn=U(Be),at=Be.tag,Be!==vn||at!==5&&at!==27&&at!==6)&&(Be=null)):(he=null,Be=Z),he!==Be)){if(at=Qv,ve="onMouseLeave",ee="onMouseEnter",Q="mouse",(n==="pointerout"||n==="pointerover")&&(at=Jv,ve="onPointerLeave",ee="onPointerEnter",Q="pointer"),vn=he==null?le:oa(he),ie=Be==null?le:oa(Be),le=new at(ve,Q+"leave",he,o,me),le.target=vn,le.relatedTarget=ie,ve=null,Dn(me)===Z&&(at=new at(ee,Q+"enter",Be,o,me),at.target=ie,at.relatedTarget=vn,ve=at),vn=ve,he&&Be)t:{for(at=he,ee=Be,Q=0,ie=at;ie;ie=ol(ie))Q++;for(ie=0,ve=ee;ve;ve=ol(ve))ie++;for(;0<Q-ie;)at=ol(at),Q--;for(;0<ie-Q;)ee=ol(ee),ie--;for(;Q--;){if(at===ee||ee!==null&&at===ee.alternate)break t;at=ol(at),ee=ol(ee)}at=null}else at=null;he!==null&&Ob(be,le,he,at,!1),Be!==null&&vn!==null&&Ob(be,vn,Be,at,!0)}}e:{if(le=Z?oa(Z):window,he=le.nodeName&&le.nodeName.toLowerCase(),he==="select"||he==="input"&&le.type==="file")var Ie=lx;else if(ax(le))if(ox)Ie=o2;else{Ie=i2;var mt=a2}else he=le.nodeName,!he||he.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?Z&&zf(Z.elementType)&&(Ie=lx):Ie=l2;if(Ie&&(Ie=Ie(n,Z))){ix(be,Ie,o,me);break e}mt&&mt(n,le,Z),n==="focusout"&&Z&&le.type==="number"&&Z.memoizedProps.value!=null&&If(le,"number",le.value)}switch(mt=Z?oa(Z):window,n){case"focusin":(ax(mt)||mt.contentEditable==="true")&&($i=mt,Zf=Z,mo=null);break;case"focusout":mo=Zf=$i=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,gx(be,o,me);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":gx(be,o,me)}var Fe;if(Wf)e:{switch(n){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ui?rx(n,o)&&(Xe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Xe="onCompositionStart");Xe&&(ex&&o.locale!=="ko"&&(Ui||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ui&&(Fe=Xv()):(ca=me,qf="value"in ca?ca.value:ca.textContent,Ui=!0)),mt=Vu(Z,Xe),0<mt.length&&(Xe=new Zv(Xe,n,null,o,me),be.push({event:Xe,listeners:mt}),Fe?Xe.data=Fe:(Fe=sx(o),Fe!==null&&(Xe.data=Fe)))),(Fe=e2?t2(n,o):n2(n,o))&&(Xe=Vu(Z,"onBeforeInput"),0<Xe.length&&(mt=new Zv("onBeforeInput","beforeinput",null,o,me),be.push({event:mt,listeners:Xe}),mt.data=Fe)),G2(be,n,Z,o,me)}kb(be,i)})}function Ho(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Vu(n,i){for(var o=i+"Capture",d=[];n!==null;){var g=n,y=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ao(n,o),g!=null&&d.unshift(Ho(n,g,y)),g=ao(n,i),g!=null&&d.push(Ho(n,g,y))),n=n.return}return d}function ol(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ob(n,i,o,d,g){for(var y=i._reactName,S=[];o!==null&&o!==d;){var A=o,L=A.alternate,Z=A.stateNode;if(A=A.tag,L!==null&&L===d)break;A!==5&&A!==26&&A!==27||Z===null||(L=Z,g?(Z=ao(o,y),Z!=null&&S.unshift(Ho(o,Z,L))):g||(Z=ao(o,y),Z!=null&&S.push(Ho(o,Z,L)))),o=o.return}S.length!==0&&n.push({event:i,listeners:S})}var Q2=/\r\n?/g,Z2=/\u0000|\uFFFD/g;function Pb(n){return(typeof n=="string"?n:""+n).replace(Q2,`
`).replace(Z2,"")}function Lb(n,i){return i=Pb(i),Pb(n)===i}function Yu(){}function Kt(n,i,o,d,g,y){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Li(n,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Li(n,""+d);break;case"className":eu(n,"class",d);break;case"tabIndex":eu(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":eu(n,o,d);break;case"style":Yv(n,d,y);break;case"data":if(i!=="object"){eu(n,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=ru(""+d),n.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&Kt(n,i,"name",g.name,g,null),Kt(n,i,"formEncType",g.formEncType,g,null),Kt(n,i,"formMethod",g.formMethod,g,null),Kt(n,i,"formTarget",g.formTarget,g,null)):(Kt(n,i,"encType",g.encType,g,null),Kt(n,i,"method",g.method,g,null),Kt(n,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=ru(""+d),n.setAttribute(o,d);break;case"onClick":d!=null&&(n.onclick=Yu);break;case"onScroll":d!=null&&St("scroll",n);break;case"onScrollEnd":d!=null&&St("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}o=ru(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""+d):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":d===!0?n.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,d):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(o,d):n.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(o):n.setAttribute(o,d);break;case"popover":St("beforetoggle",n),St("toggle",n),Jc(n,"popover",d);break;case"xlinkActuate":Ps(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ps(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ps(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ps(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ps(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ps(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ps(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ps(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ps(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Jc(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=CE.get(o)||o,Jc(n,o,d))}}function jm(n,i,o,d,g,y){switch(o){case"style":Yv(n,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof d=="string"?Li(n,d):(typeof d=="number"||typeof d=="bigint")&&Li(n,""+d);break;case"onScroll":d!=null&&St("scroll",n);break;case"onScrollEnd":d!=null&&St("scrollend",n);break;case"onClick":d!=null&&(n.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iv.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),y=n[Hn]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(i,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,d,g);break e}o in n?n[o]=d:d===!0?n.setAttribute(o,""):Jc(n,o,d)}}}function Yn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",n),St("load",n);var d=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Kt(n,i,y,S,o,null)}}g&&Kt(n,i,"srcSet",o.srcSet,o,null),d&&Kt(n,i,"src",o.src,o,null);return;case"input":St("invalid",n);var A=y=S=g=null,L=null,Z=null;for(d in o)if(o.hasOwnProperty(d)){var me=o[d];if(me!=null)switch(d){case"name":g=me;break;case"type":S=me;break;case"checked":L=me;break;case"defaultChecked":Z=me;break;case"value":y=me;break;case"defaultValue":A=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,i));break;default:Kt(n,i,d,me,o,null)}}Hv(n,y,A,L,Z,S,g,!1),tu(n);return;case"select":St("invalid",n),d=S=y=null;for(g in o)if(o.hasOwnProperty(g)&&(A=o[g],A!=null))switch(g){case"value":y=A;break;case"defaultValue":S=A;break;case"multiple":d=A;default:Kt(n,i,g,A,o,null)}i=y,o=S,n.multiple=!!d,i!=null?Pi(n,!!d,i,!1):o!=null&&Pi(n,!!d,o,!0);return;case"textarea":St("invalid",n),y=g=d=null;for(S in o)if(o.hasOwnProperty(S)&&(A=o[S],A!=null))switch(S){case"value":d=A;break;case"defaultValue":g=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:Kt(n,i,S,A,o,null)}Fv(n,d,g,y),tu(n);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(d=o[L],d!=null))switch(L){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Kt(n,i,L,d,o,null)}return;case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":St("load",n);break;case"video":case"audio":for(d=0;d<Bo.length;d++)St(Bo[d],n);break;case"image":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"embed":case"source":case"link":St("error",n),St("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(d=o[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Kt(n,i,Z,d,o,null)}return;default:if(zf(i)){for(me in o)o.hasOwnProperty(me)&&(d=o[me],d!==void 0&&jm(n,i,me,d,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(d=o[A],d!=null&&Kt(n,i,A,d,o,null))}function J2(n,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,A=null,L=null,Z=null,me=null;for(he in o){var be=o[he];if(o.hasOwnProperty(he)&&be!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":L=be;default:d.hasOwnProperty(he)||Kt(n,i,he,null,d,be)}}for(var le in d){var he=d[le];if(be=o[le],d.hasOwnProperty(le)&&(he!=null||be!=null))switch(le){case"type":y=he;break;case"name":g=he;break;case"checked":Z=he;break;case"defaultChecked":me=he;break;case"value":S=he;break;case"defaultValue":A=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,i));break;default:he!==be&&Kt(n,i,le,he,d,be)}}Lf(n,S,A,L,Z,me,y,g);return;case"select":he=S=A=le=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":he=L;default:d.hasOwnProperty(y)||Kt(n,i,y,null,d,L)}for(g in d)if(y=d[g],L=o[g],d.hasOwnProperty(g)&&(y!=null||L!=null))switch(g){case"value":le=y;break;case"defaultValue":A=y;break;case"multiple":S=y;default:y!==L&&Kt(n,i,g,y,d,L)}i=A,o=S,d=he,le!=null?Pi(n,!!o,le,!1):!!d!=!!o&&(i!=null?Pi(n,!!o,i,!0):Pi(n,!!o,o?[]:"",!1));return;case"textarea":he=le=null;for(A in o)if(g=o[A],o.hasOwnProperty(A)&&g!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Kt(n,i,A,null,d,g)}for(S in d)if(g=d[S],y=o[S],d.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":le=g;break;case"defaultValue":he=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==y&&Kt(n,i,S,g,d,y)}qv(n,le,he);return;case"option":for(var Be in o)if(le=o[Be],o.hasOwnProperty(Be)&&le!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":n.selected=!1;break;default:Kt(n,i,Be,null,d,le)}for(L in d)if(le=d[L],he=o[L],d.hasOwnProperty(L)&&le!==he&&(le!=null||he!=null))switch(L){case"selected":n.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Kt(n,i,L,le,d,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in o)le=o[at],o.hasOwnProperty(at)&&le!=null&&!d.hasOwnProperty(at)&&Kt(n,i,at,null,d,le);for(Z in d)if(le=d[Z],he=o[Z],d.hasOwnProperty(Z)&&le!==he&&(le!=null||he!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,i));break;default:Kt(n,i,Z,le,d,he)}return;default:if(zf(i)){for(var vn in o)le=o[vn],o.hasOwnProperty(vn)&&le!==void 0&&!d.hasOwnProperty(vn)&&jm(n,i,vn,void 0,d,le);for(me in d)le=d[me],he=o[me],!d.hasOwnProperty(me)||le===he||le===void 0&&he===void 0||jm(n,i,me,le,d,he);return}}for(var ee in o)le=o[ee],o.hasOwnProperty(ee)&&le!=null&&!d.hasOwnProperty(ee)&&Kt(n,i,ee,null,d,le);for(be in d)le=d[be],he=o[be],!d.hasOwnProperty(be)||le===he||le==null&&he==null||Kt(n,i,be,le,d,he)}var _m=null,Nm=null;function Gu(n){return n.nodeType===9?n:n.ownerDocument}function Ib(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Sm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Em=null;function eC(){var n=window.event;return n&&n.type==="popstate"?n===Em?!1:(Em=n,!0):(Em=null,!1)}var Ub=typeof setTimeout=="function"?setTimeout:void 0,tC=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,nC=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(n){return $b.resolve(null).then(n).catch(rC)}:Ub;function rC(n){setTimeout(function(){throw n})}function Cm(n,i){var o=i,d=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(d===0){n.removeChild(g),Ko(i);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=g}while(o);Ko(i)}function Rm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rm(o),dr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function sC(n,i,o,d){for(;n.nodeType===1;){var g=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[qn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=es(n.nextSibling),n===null)break}return null}function aC(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=es(n.nextSibling),n===null))return null;return n}function es(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function Bb(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function Hb(n,i,o){switch(i=Gu(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}var Vr=new Map,qb=new Set;function Wu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ks=O.d;O.d={f:iC,r:lC,D:oC,C:cC,L:uC,m:dC,X:hC,S:fC,M:mC};function iC(){var n=Ks.f(),i=$u();return n||i}function lC(n){var i=At(n);i!==null&&i.tag===5&&i.type==="form"?gy(i):Ks.r(n)}var cl=typeof document>"u"?null:document;function Fb(n,i,o){var d=cl;if(d&&typeof i=="string"&&i){var g=Pr(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),qb.has(g)||(qb.add(g),n={rel:n,crossOrigin:o,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),Yn(i,"link",n),bn(i),d.head.appendChild(i)))}}function oC(n){Ks.D(n),Fb("dns-prefetch",n,null)}function cC(n,i){Ks.C(n,i),Fb("preconnect",n,i)}function uC(n,i,o){Ks.L(n,i,o);var d=cl;if(d&&n&&i){var g='link[rel="preload"][as="'+Pr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+Pr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+Pr(o.imageSizes)+'"]')):g+='[href="'+Pr(n)+'"]';var y=g;switch(i){case"style":y=ul(n);break;case"script":y=dl(n)}Vr.has(y)||(n=V({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Vr.set(y,n),d.querySelector(g)!==null||i==="style"&&d.querySelector(qo(y))||i==="script"&&d.querySelector(Fo(y))||(i=d.createElement("link"),Yn(i,"link",n),bn(i),d.head.appendChild(i)))}}function dC(n,i){Ks.m(n,i);var o=cl;if(o&&n){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Pr(d)+'"][href="'+Pr(n)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=dl(n)}if(!Vr.has(y)&&(n=V({rel:"modulepreload",href:n},i),Vr.set(y,n),o.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fo(y)))return}d=o.createElement("link"),Yn(d,"link",n),bn(d),o.head.appendChild(d)}}}function fC(n,i,o){Ks.S(n,i,o);var d=cl;if(d&&n){var g=Ds(d).hoistableStyles,y=ul(n);i=i||"default";var S=g.get(y);if(!S){var A={loading:0,preload:null};if(S=d.querySelector(qo(y)))A.loading=5;else{n=V({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Vr.get(y))&&Tm(n,o);var L=S=d.createElement("link");bn(L),Yn(L,"link",n),L._p=new Promise(function(Z,me){L.onload=Z,L.onerror=me}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xu(S,i,d)}S={type:"stylesheet",instance:S,count:1,state:A},g.set(y,S)}}}function hC(n,i){Ks.X(n,i);var o=cl;if(o&&n){var d=Ds(o).hoistableScripts,g=dl(n),y=d.get(g);y||(y=o.querySelector(Fo(g)),y||(n=V({src:n,async:!0},i),(i=Vr.get(g))&&Mm(n,i),y=o.createElement("script"),bn(y),Yn(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function mC(n,i){Ks.M(n,i);var o=cl;if(o&&n){var d=Ds(o).hoistableScripts,g=dl(n),y=d.get(g);y||(y=o.querySelector(Fo(g)),y||(n=V({src:n,async:!0,type:"module"},i),(i=Vr.get(g))&&Mm(n,i),y=o.createElement("script"),bn(y),Yn(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function Vb(n,i,o,d){var g=(g=Ae.current)?Wu(g):null;if(!g)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ul(o.href),o=Ds(g).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ul(o.href);var y=Ds(g).hoistableStyles,S=y.get(n);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=g.querySelector(qo(n)))&&!y._p&&(S.instance=y,S.state.loading=5),Vr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vr.set(n,o),y||pC(g,n,o,S.state))),i&&d===null)throw Error(a(528,""));return S}if(i&&d!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=dl(o),o=Ds(g).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function ul(n){return'href="'+Pr(n)+'"'}function qo(n){return'link[rel="stylesheet"]['+n+"]"}function Yb(n){return V({},n,{"data-precedence":n.precedence,precedence:null})}function pC(n,i,o,d){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=n.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),Yn(i,"link",o),bn(i),n.head.appendChild(i))}function dl(n){return'[src="'+Pr(n)+'"]'}function Fo(n){return"script[async]"+n}function Gb(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=n.querySelector('style[data-href~="'+Pr(o.href)+'"]');if(d)return i.instance=d,bn(d),d;var g=V({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),bn(d),Yn(d,"style",g),Xu(d,o.precedence,n),i.instance=d;case"stylesheet":g=ul(o.href);var y=n.querySelector(qo(g));if(y)return i.state.loading|=4,i.instance=y,bn(y),y;d=Yb(o),(g=Vr.get(g))&&Tm(d,g),y=(n.ownerDocument||n).createElement("link"),bn(y);var S=y;return S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),Yn(y,"link",d),i.state.loading|=4,Xu(y,o.precedence,n),i.instance=y;case"script":return y=dl(o.src),(g=n.querySelector(Fo(y)))?(i.instance=g,bn(g),g):(d=o,(g=Vr.get(y))&&(d=V({},o),Mm(d,g)),n=n.ownerDocument||n,g=n.createElement("script"),bn(g),Yn(g,"link",d),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Xu(d,o.precedence,n));return i.instance}function Xu(n,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,S=0;S<d.length;S++){var A=d[S];if(A.dataset.precedence===i)y=A;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Tm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Mm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Ku=null;function Wb(n,i,o){if(Ku===null){var d=new Map,g=Ku=new Map;g.set(o,d)}else g=Ku,d=g.get(o),d||(d=new Map,g.set(o,d));if(d.has(n))return d;for(d.set(n,null),o=o.getElementsByTagName(n),g=0;g<o.length;g++){var y=o[g];if(!(y[qn]||y[mn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(i)||"";S=n+S;var A=d.get(S);A?A.push(y):d.set(S,[y])}}return d}function Xb(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function gC(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Kb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Vo=null;function vC(){}function xC(n,i,o){if(Vo===null)throw Error(a(475));var d=Vo;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=ul(o.href),y=n.querySelector(qo(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=Qu.bind(d),n.then(d,d)),i.state.loading|=4,i.instance=y,bn(y);return}y=n.ownerDocument||n,o=Yb(o),(g=Vr.get(g))&&Tm(o,g),y=y.createElement("link"),bn(y);var S=y;S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),Yn(y,"link",o),i.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=Qu.bind(d),n.addEventListener("load",i),n.addEventListener("error",i))}}function yC(){if(Vo===null)throw Error(a(475));var n=Vo;return n.stylesheets&&n.count===0&&Am(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Am(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Qu(){if(this.count--,this.count===0){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zu=null;function Am(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zu=new Map,i.forEach(bC,n),Zu=null,Qu.call(n))}function bC(n,i){if(!(i.state.loading&4)){var o=Zu.get(n);if(o)var d=o.get(null);else{o=new Map,Zu.set(n,o);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),d=S)}d&&o.set(null,d)}g=i.instance,S=g.getAttribute("data-precedence"),y=o.get(S)||d,y===d&&o.set(null,g),o.set(S,g),this.count++,d=Qu.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Yo={$$typeof:w,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function wC(n,i,o,d,g,y,S,A){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Qb(n,i,o,d,g,y,S,A,L,Z,me,be){return n=new wC(n,i,o,S,A,L,Z,be),i=1,y===!0&&(i|=24),y=qr(3,null,null,i),n.current=y,y.stateNode=n,i=ch(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:i},qh(y),n}function Zb(n){return n?(n=qi,n):qi}function Jb(n,i,o,d,g,y){g=Zb(g),d.context===null?d.context=g:d.pendingContext=g,d=va(i),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=xa(n,d,i),o!==null&&(ar(o,n,i),To(o,n,i))}function e0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function km(n,i){e0(n,i),(n=n.alternate)&&e0(n,i)}function t0(n){if(n.tag===13){var i=ua(n,67108864);i!==null&&ar(i,n,67108864),km(n,67108864)}}var Ju=!0;function jC(n,i,o,d){var g=G.T;G.T=null;var y=O.p;try{O.p=2,Dm(n,i,o,d)}finally{O.p=y,G.T=g}}function _C(n,i,o,d){var g=G.T;G.T=null;var y=O.p;try{O.p=8,Dm(n,i,o,d)}finally{O.p=y,G.T=g}}function Dm(n,i,o,d){if(Ju){var g=Om(d);if(g===null)wm(n,i,d,ed,o),r0(n,d);else if(SC(g,n,i,o,d))d.stopPropagation();else if(r0(n,d),i&4&&-1<NC.indexOf(n)){for(;g!==null;){var y=At(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=ot(y.pendingLanes);if(S!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var L=1<<31-Ht(S);A.entanglements[1]|=L,S&=~L}xs(y),(fn&6)===0&&(Iu=Rt()+500,$o(0))}}break;case 13:A=ua(y,2),A!==null&&ar(A,y,2),$u(),km(y,2)}if(y=Om(d),y===null&&wm(n,i,d,ed,o),y===g)break;g=y}g!==null&&d.stopPropagation()}else wm(n,i,d,null,o)}}function Om(n){return n=$f(n),Pm(n)}var ed=null;function Pm(n){if(ed=null,n=Dn(n),n!==null){var i=U(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=J(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ed=n,null}function n0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case on:return 2;case Sn:return 8;case rn:case sn:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Lm=!1,Sa=null,Ea=null,Ca=null,Go=new Map,Wo=new Map,Ra=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(n,i){switch(n){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Go.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(i.pointerId)}}function Xo(n,i,o,d,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},i!==null&&(i=At(i),i!==null&&t0(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function SC(n,i,o,d,g){switch(i){case"focusin":return Sa=Xo(Sa,n,i,o,d,g),!0;case"dragenter":return Ea=Xo(Ea,n,i,o,d,g),!0;case"mouseover":return Ca=Xo(Ca,n,i,o,d,g),!0;case"pointerover":var y=g.pointerId;return Go.set(y,Xo(Go.get(y)||null,n,i,o,d,g)),!0;case"gotpointercapture":return y=g.pointerId,Wo.set(y,Xo(Wo.get(y)||null,n,i,o,d,g)),!0}return!1}function s0(n){var i=Dn(n.target);if(i!==null){var o=U(i);if(o!==null){if(i=o.tag,i===13){if(i=J(o),i!==null){n.blockedOn=i,kn(n.priority,function(){if(o.tag===13){var d=Er(),g=ua(o,d);g!==null&&ar(g,o,d),km(o,d)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function td(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Om(n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);Uf=d,o.target.dispatchEvent(d),Uf=null}else return i=At(o),i!==null&&t0(i),n.blockedOn=o,!1;i.shift()}return!0}function a0(n,i,o){td(n)&&o.delete(i)}function EC(){Lm=!1,Sa!==null&&td(Sa)&&(Sa=null),Ea!==null&&td(Ea)&&(Ea=null),Ca!==null&&td(Ca)&&(Ca=null),Go.forEach(a0),Wo.forEach(a0)}function nd(n,i){n.blockedOn===i&&(n.blockedOn=null,Lm||(Lm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,EC)))}var rd=null;function i0(n){rd!==n&&(rd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rd===n&&(rd=null);for(var i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],g=n[i+2];if(typeof d!="function"){if(Pm(d||o)===null)continue;break}var y=At(o);y!==null&&(n.splice(i,3),i-=3,Sh(y,{pending:!0,data:g,method:o.method,action:d},d,g))}}))}function Ko(n){function i(L){return nd(L,n)}Sa!==null&&nd(Sa,n),Ea!==null&&nd(Ea,n),Ca!==null&&nd(Ca,n),Go.forEach(i),Wo.forEach(i);for(var o=0;o<Ra.length;o++){var d=Ra[o];d.blockedOn===n&&(d.blockedOn=null)}for(;0<Ra.length&&(o=Ra[0],o.blockedOn===null);)s0(o),o.blockedOn===null&&Ra.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var g=o[d],y=o[d+1],S=g[Hn]||null;if(typeof y=="function")S||i0(o);else if(S){var A=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[Hn]||null)A=S.formAction;else if(Pm(g)!==null)continue}else A=S.action;typeof A=="function"?o[d+1]=A:(o.splice(d,3),d-=3),i0(o)}}}function Im(n){this._internalRoot=n}sd.prototype.render=Im.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,d=Er();Jb(o,d,n,i,null,null)},sd.prototype.unmount=Im.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&il(),Jb(n.current,2,null,n,null,null),$u(),i[pe]=null}};function sd(n){this._internalRoot=n}sd.prototype.unstable_scheduleHydration=function(n){if(n){var i=An();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Ra.length&&i!==0&&i<Ra[o].priority;o++);Ra.splice(o,0,n),o===0&&s0(n)}};var l0=t.version;if(l0!=="19.0.0")throw Error(a(527,l0,"19.0.0"));O.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=P(i),n=n!==null?q(n):null,n=n===null?null:n.stateNode,n};var CC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Dn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{Pe=ad.inject(CC),qe=ad}catch{}}return Zo.createRoot=function(n,i){if(!l(n))throw Error(a(299));var o=!1,d="",g=Ny,y=Sy,S=Ey,A=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Qb(n,1,!1,null,null,o,d,g,y,S,A,null),n[pe]=i.current,bm(n.nodeType===8?n.parentNode:n),new Im(i)},Zo.hydrateRoot=function(n,i,o){if(!l(n))throw Error(a(299));var d=!1,g="",y=Ny,S=Sy,A=Ey,L=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),i=Qb(n,1,!0,i,o??null,d,g,y,S,A,L,Z),i.context=Zb(null),o=i.current,d=Er(),g=va(d),g.callback=null,xa(o,g,d),i.current.lanes=d,ht(i,d),xs(i),n[pe]=i.current,bm(n),new sd(i)},Zo.version="19.0.0",Zo}var v0;function UC(){if(v0)return $m.exports;v0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$m.exports=zC(),$m.exports}var $C=UC();const BC=Xd($C);var Jo={},x0;function HC(){if(x0)return Jo;x0=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.parse=u,Jo.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,w){const j=new c,N=b.length;if(N<2)return j;const _=(w==null?void 0:w.decode)||v;let C=0;do{const E=b.indexOf("=",C);if(E===-1)break;const R=b.indexOf(";",C),M=R===-1?N:R;if(E>M){C=b.lastIndexOf(";",E-1)+1;continue}const T=f(b,C,E),z=h(b,E,T),H=b.slice(T,z);if(j[H]===void 0){let F=f(b,E+1,M),G=h(b,M,F);const V=_(b.slice(F,G));j[H]=V}C=M+1}while(C<N);return j}function f(b,w,j){do{const N=b.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<j);return j}function h(b,w,j){for(;w>j;){const N=b.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return j}function p(b,w,j){const N=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const _=N(w);if(!t.test(_))throw new TypeError(`argument val is invalid: ${w}`);let C=b+"="+_;if(!j)return C;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);C+="; Max-Age="+j.maxAge}if(j.domain){if(!r.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);C+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);C+="; Path="+j.path}if(j.expires){if(!x(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);C+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(C+="; HttpOnly"),j.secure&&(C+="; Secure"),j.partitioned&&(C+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return C}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function x(b){return l.call(b)==="[object Date]"}return Jo}HC();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y0="popstate";function qC(e={}){function t(a,l){let{pathname:c,search:u,hash:f}=a.location;return Cp("",{pathname:c,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:pc(l)}return VC(t,r,null,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FC(){return Math.random().toString(36).substring(2,10)}function b0(e,t){return{usr:e.state,key:e.key,idx:t}}function Cp(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vl(t):t,state:r,key:t&&t.key||a||FC()}}function pc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function VC(e,t,r,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,u=l.history,f="POP",h=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function x(){f="POP";let _=v(),C=_==null?null:_-p;p=_,h&&h({action:f,location:N.location,delta:C})}function b(_,C){f="PUSH";let E=Cp(N.location,_,C);p=v()+1;let R=b0(E,p),M=N.createHref(E);try{u.pushState(R,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(M)}c&&h&&h({action:f,location:N.location,delta:1})}function w(_,C){f="REPLACE";let E=Cp(N.location,_,C);p=v();let R=b0(E,p),M=N.createHref(E);u.replaceState(R,"",M),c&&h&&h({action:f,location:N.location,delta:0})}function j(_){let C=l.location.origin!=="null"?l.location.origin:l.location.href,E=typeof _=="string"?_:pc(_);return E=E.replace(/ $/,"%20"),cn(C,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,C)}let N={get action(){return f},get location(){return e(l,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(y0,x),h=_,()=>{l.removeEventListener(y0,x),h=null}},createHref(_){return t(l,_)},createURL:j,encodeLocation(_){let C=j(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:w,go(_){return u.go(_)}};return N}function oj(e,t,r="/"){return YC(e,t,r,!1)}function YC(e,t,r,a){let l=typeof t=="string"?Vl(t):t,c=ea(l.pathname||"/",r);if(c==null)return null;let u=cj(e);GC(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let p=sR(c);f=nR(u[h],p,a)}return f}function cj(e,t=[],r=[],a=""){let l=(c,u,f)=>{let h={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};h.relativePath.startsWith("/")&&(cn(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length));let p=Js([a,h.relativePath]),v=r.concat(h);c.children&&c.children.length>0&&(cn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cj(c.children,t,v,p)),!(c.path==null&&!c.index)&&t.push({path:p,score:eR(p,c.index),routesMeta:v})};return e.forEach((c,u)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,u);else for(let h of uj(c.path))l(c,u,h)}),t}function uj(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let u=uj(a.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),l&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function GC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tR(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var WC=/^:[\w-]+$/,XC=3,KC=2,QC=1,ZC=10,JC=-2,w0=e=>e==="*";function eR(e,t){let r=e.split("/"),a=r.length;return r.some(w0)&&(a+=JC),t&&(a+=KC),r.filter(l=>!w0(l)).reduce((l,c)=>l+(WC.test(c)?XC:c===""?QC:ZC),a)}function tR(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function nR(e,t,r=!1){let{routesMeta:a}=e,l={},c="/",u=[];for(let f=0;f<a.length;++f){let h=a[f],p=f===a.length-1,v=c==="/"?t:t.slice(c.length)||"/",x=Ad({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),b=h.route;if(!x&&p&&r&&!a[a.length-1].route.index&&(x=Ad({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Js([c,x.pathname]),pathnameBase:oR(Js([c,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(c=Js([c,x.pathnameBase]))}return u}function Ad(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=rR(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:x},b)=>{if(v==="*"){let j=f[b]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const w=f[b];return x&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:e}}function rR(e,t=!1,r=!0){rs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function sR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function aR(e,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof e=="string"?Vl(e):e;return{pathname:r?r.startsWith("/")?r:iR(r,t):t,search:cR(a),hash:uR(l)}}function iR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Fm(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cg(e){let t=lR(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function ug(e,t,r,a=!1){let l;typeof e=="string"?l=Vl(e):(l={...e},cn(!l.pathname||!l.pathname.includes("?"),Fm("?","pathname","search",l)),cn(!l.pathname||!l.pathname.includes("#"),Fm("#","pathname","hash",l)),cn(!l.search||!l.search.includes("#"),Fm("#","search","hash",l)));let c=e===""||l.pathname==="",u=c?"/":l.pathname,f;if(u==null)f=r;else{let x=t.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;l.pathname=b.join("/")}f=x>=0?t[x]:"/"}let h=aR(l,f),p=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Js=e=>e.join("/").replace(/\/\/+/g,"/"),oR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var dj=["POST","PUT","PATCH","DELETE"];new Set(dj);var fR=["GET",...dj];new Set(fR);var Yl=m.createContext(null);Yl.displayName="DataRouter";var Kd=m.createContext(null);Kd.displayName="DataRouterState";var fj=m.createContext({isTransitioning:!1});fj.displayName="ViewTransition";var hR=m.createContext(new Map);hR.displayName="Fetchers";var mR=m.createContext(null);mR.displayName="Await";var fs=m.createContext(null);fs.displayName="Navigation";var Rc=m.createContext(null);Rc.displayName="Location";var Kr=m.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var dg=m.createContext(null);dg.displayName="RouteError";function pR(e,{relative:t}={}){cn(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=m.useContext(fs),{hash:l,pathname:c,search:u}=Tc(e,{relative:t}),f=c;return r!=="/"&&(f=c==="/"?r:Js([r,c])),a.createHref({pathname:f,search:u,hash:l})}function Gl(){return m.useContext(Rc)!=null}function ra(){return cn(Gl(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Rc).location}var hj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mj(e){m.useContext(fs).static||m.useLayoutEffect(e)}function or(){let{isDataRoute:e}=m.useContext(Kr);return e?MR():gR()}function gR(){cn(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Yl),{basename:t,navigator:r}=m.useContext(fs),{matches:a}=m.useContext(Kr),{pathname:l}=ra(),c=JSON.stringify(cg(a)),u=m.useRef(!1);return mj(()=>{u.current=!0}),m.useCallback((h,p={})=>{if(rs(u.current,hj),!u.current)return;if(typeof h=="number"){r.go(h);return}let v=ug(h,JSON.parse(c),l,p.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Js([t,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[t,r,c,l,e])}var vR=m.createContext(null);function xR(e){let t=m.useContext(Kr).outlet;return t&&m.createElement(vR.Provider,{value:e},t)}function yr(){let{matches:e}=m.useContext(Kr),t=e[e.length-1];return t?t.params:{}}function Tc(e,{relative:t}={}){let{matches:r}=m.useContext(Kr),{pathname:a}=ra(),l=JSON.stringify(cg(r));return m.useMemo(()=>ug(e,JSON.parse(l),a,t==="path"),[e,l,a,t])}function yR(e,t){return pj(e,t)}function pj(e,t,r,a){var E;cn(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=m.useContext(fs),{matches:u}=m.useContext(Kr),f=u[u.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",x=f&&f.route;{let R=x&&x.path||"";gj(p,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=ra(),w;if(t){let R=typeof t=="string"?Vl(t):t;cn(v==="/"||((E=R.pathname)==null?void 0:E.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=b;let j=w.pathname||"/",N=j;if(v!=="/"){let R=v.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(R.length).join("/")}let _=!c&&r&&r.matches&&r.matches.length>0?r.matches:oj(e,{pathname:N});rs(x||_!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),rs(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=NR(_&&_.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Js([v,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:Js([v,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,r,a);return t&&C?m.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function bR(){let e=TR(),t=dR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=m.createElement(m.Fragment,null,m.createElement("p",null,"💿 Hey developer 👋"),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:c},"ErrorBoundary")," or"," ",m.createElement("code",{style:c},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:l},r):null,u)}var wR=m.createElement(bR,null),jR=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(Kr.Provider,{value:this.props.routeContext},m.createElement(dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _R({routeContext:e,match:t,children:r}){let a=m.useContext(Yl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Kr.Provider,{value:e},r)}function NR(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r==null?void 0:r.errors;if(c!=null){let h=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);cn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let p=l[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:v,errors:x}=r,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,p,v)=>{let x,b=!1,w=null,j=null;r&&(x=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||wR,u&&(f<0&&v===0?(gj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):f===v&&(b=!0,j=p.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,v+1)),_=()=>{let C;return x?C=w:b?C=j:p.route.Component?C=m.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,m.createElement(_R,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?m.createElement(jR,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):_()},null)}function fg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SR(e){let t=m.useContext(Yl);return cn(t,fg(e)),t}function ER(e){let t=m.useContext(Kd);return cn(t,fg(e)),t}function CR(e){let t=m.useContext(Kr);return cn(t,fg(e)),t}function hg(e){let t=CR(e),r=t.matches[t.matches.length-1];return cn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function RR(){return hg("useRouteId")}function TR(){var a;let e=m.useContext(dg),t=ER("useRouteError"),r=hg("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function MR(){let{router:e}=SR("useNavigate"),t=hg("useNavigate"),r=m.useRef(!1);return mj(()=>{r.current=!0}),m.useCallback(async(l,c={})=>{rs(r.current,hj),r.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var j0={};function gj(e,t,r){!t&&!j0[e]&&(j0[e]=!0,rs(!1,r))}m.memo(AR);function AR({routes:e,future:t,state:r}){return pj(e,void 0,r,t)}function vj({to:e,replace:t,state:r,relative:a}){cn(Gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=m.useContext(fs);rs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=m.useContext(Kr),{pathname:u}=ra(),f=or(),h=ug(e,cg(c),u,a==="path"),p=JSON.stringify(h);return m.useEffect(()=>{f(JSON.parse(p),{replace:t,state:r,relative:a})},[f,p,a,t,r]),null}function xj(e){return xR(e.context)}function kt(e){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kR({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:c=!1}){cn(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=m.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);typeof r=="string"&&(r=Vl(r));let{pathname:h="/",search:p="",hash:v="",state:x=null,key:b="default"}=r,w=m.useMemo(()=>{let j=ea(h,u);return j==null?null:{location:{pathname:j,search:p,hash:v,state:x,key:b},navigationType:a}},[u,h,p,v,x,b,a]);return rs(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:m.createElement(fs.Provider,{value:f},m.createElement(Rc.Provider,{children:t,value:w}))}function DR({children:e,location:t}){return yR(Rp(e),t)}function Rp(e,t=[]){let r=[];return m.Children.forEach(e,(a,l)=>{if(!m.isValidElement(a))return;let c=[...t,l];if(a.type===m.Fragment){r.push.apply(r,Rp(a.props.children,c));return}cn(a.type===kt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Rp(a.props.children,c)),r.push(u)}),r}var _d="get",Nd="application/x-www-form-urlencoded";function Qd(e){return e!=null&&typeof e.tagName=="string"}function OR(e){return Qd(e)&&e.tagName.toLowerCase()==="button"}function PR(e){return Qd(e)&&e.tagName.toLowerCase()==="form"}function LR(e){return Qd(e)&&e.tagName.toLowerCase()==="input"}function IR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zR(e,t){return e.button===0&&(!t||t==="_self")&&!IR(e)}var id=null;function UR(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var $R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vm(e){return e!=null&&!$R.has(e)?(rs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):e}function BR(e,t){let r,a,l,c,u;if(PR(e)){let f=e.getAttribute("action");a=f?ea(f,t):null,r=e.getAttribute("method")||_d,l=Vm(e.getAttribute("enctype"))||Nd,c=new FormData(e)}else if(OR(e)||LR(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(a=h?ea(h,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||_d,l=Vm(e.getAttribute("formenctype"))||Vm(f.getAttribute("enctype"))||Nd,c=new FormData(f,e),!UR()){let{name:p,type:v,value:x}=e;if(v==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,x)}}else{if(Qd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_d,a=null,l=Nd,u=e}return c&&l==="text/plain"&&(u=c,c=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:c,body:u}}function mg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function HR(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FR(e,t,r){let a=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let u=await HR(c,r);return u.links?u.links():[]}return[]}));return WR(a.flat(1).filter(qR).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function _0(e,t,r,a,l,c){let u=(h,p)=>r[p]?h.route.id!==r[p].route.id:!0,f=(h,p)=>{var v;return r[p].pathname!==h.pathname||((v=r[p].route.path)==null?void 0:v.endsWith("*"))&&r[p].params["*"]!==h.params["*"]};return c==="assets"?t.filter((h,p)=>u(h,p)||f(h,p)):c==="data"?t.filter((h,p)=>{var x;let v=a.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function VR(e,t,{includeHydrateFallback:r}={}){return YR(e.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function YR(e){return[...new Set(e)]}function GR(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function WR(e,t){let r=new Set;return new Set(t),e.reduce((a,l)=>{let c=JSON.stringify(GR(l));return r.has(c)||(r.add(c),a.push({key:c,link:l})),a},[])}function XR(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&ea(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function yj(){let e=m.useContext(Yl);return mg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KR(){let e=m.useContext(Kd);return mg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pg=m.createContext(void 0);pg.displayName="FrameworkContext";function bj(){let e=m.useContext(pg);return mg(e,"You must render this element inside a <HydratedRouter> element"),e}function QR(e,t){let r=m.useContext(pg),[a,l]=m.useState(!1),[c,u]=m.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=t,b=m.useRef(null);m.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=C=>{C.forEach(E=>{u(E.isIntersecting)})},_=new IntersectionObserver(N,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),m.useEffect(()=>{if(a){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[a]);let w=()=>{l(!0)},j=()=>{l(!1),u(!1)};return r?e!=="intent"?[c,b,{}]:[c,b,{onFocus:ec(f,w),onBlur:ec(h,j),onMouseEnter:ec(p,w),onMouseLeave:ec(v,j),onTouchStart:ec(x,w)}]:[!1,b,{}]}function ec(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ZR({page:e,...t}){let{router:r}=yj(),a=m.useMemo(()=>oj(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?m.createElement(eT,{page:e,matches:a,...t}):null}function JR(e){let{manifest:t,routeModules:r}=bj(),[a,l]=m.useState([]);return m.useEffect(()=>{let c=!1;return FR(e,t,r).then(u=>{c||l(u)}),()=>{c=!0}},[e,t,r]),a}function eT({page:e,matches:t,...r}){let a=ra(),{manifest:l,routeModules:c}=bj(),{basename:u}=yj(),{loaderData:f,matches:h}=KR(),p=m.useMemo(()=>_0(e,t,h,l,a,"data"),[e,t,h,l,a]),v=m.useMemo(()=>_0(e,t,h,l,a,"assets"),[e,t,h,l,a]),x=m.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,N=!1;if(t.forEach(C=>{var R;let E=l.routes[C.route.id];!E||!E.hasLoader||(!p.some(M=>M.route.id===C.route.id)&&C.route.id in f&&((R=c[C.route.id])!=null&&R.shouldRevalidate)||E.hasClientLoader?N=!0:j.add(C.route.id))}),j.size===0)return[];let _=XR(e,u);return N&&j.size>0&&_.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[u,f,a,l,p,t,e,c]),b=m.useMemo(()=>VR(v,l),[v,l]),w=JR(v);return m.createElement(m.Fragment,null,x.map(j=>m.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),b.map(j=>m.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),w.map(({key:j,link:N})=>m.createElement("link",{key:j,...N})))}function tT(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var wj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wj&&(window.__reactRouterVersion="7.4.0")}catch{}function nT({basename:e,children:t,window:r}){let a=m.useRef();a.current==null&&(a.current=qC({window:r,v5Compat:!0}));let l=a.current,[c,u]=m.useState({action:l.action,location:l.location}),f=m.useCallback(h=>{m.startTransition(()=>u(h))},[u]);return m.useLayoutEffect(()=>l.listen(f),[l,f]),m.createElement(kR,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l})}var jj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=m.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:c,replace:u,state:f,target:h,to:p,preventScrollReset:v,viewTransition:x,...b},w){let{basename:j}=m.useContext(fs),N=typeof p=="string"&&jj.test(p),_,C=!1;if(typeof p=="string"&&N&&(_=p,wj))try{let G=new URL(window.location.href),V=p.startsWith("//")?new URL(G.protocol+p):new URL(p),ue=ea(V.pathname,j);V.origin===G.origin&&ue!=null?p=ue+V.search+V.hash:C=!0}catch{rs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=pR(p,{relative:l}),[R,M,T]=QR(a,b),z=aT(p,{replace:u,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:x});function H(G){t&&t(G),G.defaultPrevented||z(G)}let F=m.createElement("a",{...b,...T,href:_||E,onClick:C||c?t:H,ref:tT(w,M),target:h,"data-discover":!N&&r==="render"?"true":void 0});return R&&!N?m.createElement(m.Fragment,null,F,m.createElement(ZR,{page:E})):F});it.displayName="Link";var _j=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:c,to:u,viewTransition:f,children:h,...p},v){let x=Tc(u,{relative:p.relative}),b=ra(),w=m.useContext(Kd),{navigator:j,basename:N}=m.useContext(fs),_=w!=null&&uT(x)&&f===!0,C=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,E=b.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(E=E.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&N&&(R=ea(R,N)||R);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=E===C||!l&&E.startsWith(C)&&E.charAt(M)==="/",z=R!=null&&(R===C||!l&&R.startsWith(C)&&R.charAt(C.length)==="/"),H={isActive:T,isPending:z,isTransitioning:_},F=T?t:void 0,G;typeof a=="function"?G=a(H):G=[a,T?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(H):c;return m.createElement(it,{...p,"aria-current":F,className:G,ref:v,style:V,to:u,viewTransition:f},typeof h=="function"?h(H):h)});_j.displayName="NavLink";var rT=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:c,method:u=_d,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:x,...b},w)=>{let j=oT(),N=cT(f,{relative:p}),_=u.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&jj.test(f),E=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,T=(M==null?void 0:M.getAttribute("formmethod"))||u;j(M||R.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:l,state:c,relative:p,preventScrollReset:v,viewTransition:x})};return m.createElement("form",{ref:w,method:_,action:N,onSubmit:a?h:E,...b,"data-discover":!C&&e==="render"?"true":void 0})});rT.displayName="Form";function sT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nj(e){let t=m.useContext(Yl);return cn(t,sT(e)),t}function aT(e,{target:t,replace:r,state:a,preventScrollReset:l,relative:c,viewTransition:u}={}){let f=or(),h=ra(),p=Tc(e,{relative:c});return m.useCallback(v=>{if(zR(v,t)){v.preventDefault();let x=r!==void 0?r:pc(h)===pc(p);f(e,{replace:x,state:a,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,p,r,a,t,e,l,c,u])}var iT=0,lT=()=>`__${String(++iT)}__`;function oT(){let{router:e}=Nj("useSubmit"),{basename:t}=m.useContext(fs),r=RR();return m.useCallback(async(a,l={})=>{let{action:c,method:u,encType:f,formData:h,body:p}=BR(a,t);if(l.navigate===!1){let v=l.fetcherKey||lT();await e.fetch(v,r,l.action||c,{preventScrollReset:l.preventScrollReset,formData:h,body:p,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:h,body:p,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,r])}function cT(e,{relative:t}={}){let{basename:r}=m.useContext(fs),a=m.useContext(Kr);cn(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...Tc(e||".",{relative:t})},u=ra();if(e==null){c.search=u.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(x=>x).forEach(x=>f.append("index",x));let v=f.toString();c.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Js([r,c.pathname])),pc(c)}function uT(e,t={}){let r=m.useContext(fj);cn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Nj("useViewTransitionState"),l=Tc(e,{relative:t.relative});if(!r.isTransitioning)return!1;let c=ea(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=ea(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Ad(l.pathname,u)!=null||Ad(l.pathname,c)!=null}new TextEncoder;var Ns=lj();const Sj=Xd(Ns),dT="modulepreload",fT=function(e){return"/"+e},N0={},kl=function(t,r,a){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));l=Promise.allSettled(r.map(h=>{if(h=fT(h),h in N0)return;N0[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":dT,p||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),p)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return l.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})},hT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>kl(async()=>{const{default:a}=await Promise.resolve().then(()=>Wl);return{default:a}},[]).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)};class gg extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class mT extends gg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pT extends gg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gT extends gg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tp||(Tp={}));var vT=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};class xT{constructor(t,{headers:r={},customFetch:a,region:l=Tp.Any}={}){this.url=t,this.headers=r,this.region=l,this.fetch=hT(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var a;return vT(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:u}=r;let f={},{region:h}=r;h||(h=this.region),h&&h!=="any"&&(f["x-region"]=h);let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(f["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(f["Content-Type"]="application/json",p=JSON.stringify(u)));const v=yield this.fetch(`${this.url}/${t}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:p}).catch(j=>{throw new mT(j)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new pT(v);if(!v.ok)throw new gT(v);let b=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield v.json():b==="application/octet-stream"?w=yield v.blob():b==="text/event-stream"?w=v:b==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null}}catch(l){return{data:null,error:l}}})}}var In={},fl={},hl={},ml={},pl={},gl={},yT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dl=yT();const bT=Dl.fetch,Ej=Dl.fetch.bind(Dl),Cj=Dl.Headers,wT=Dl.Request,jT=Dl.Response,Wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cj,Request:wT,Response:jT,default:Ej,fetch:bT},Symbol.toStringTag,{value:"Module"})),_T=MC(Wl);var ld={},S0;function Rj(){if(S0)return ld;S0=1,Object.defineProperty(ld,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ld.default=e,ld}var E0;function Tj(){if(E0)return gl;E0=1;var e=gl&&gl.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(gl,"__esModule",{value:!0});const t=e(_T),r=e(Rj());class a{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,x,b;let w=null,j=null,N=null,_=p.status,C=p.statusText;if(p.ok){if(this.method!=="HEAD"){const T=await p.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=T:j=JSON.parse(T))}const R=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");R&&M&&M.length>1&&(N=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,_=406,C="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const R=await p.text();try{w=JSON.parse(R),Array.isArray(w)&&p.status===404&&(j=[],w=null,_=200,C="OK")}catch{p.status===404&&R===""?(_=204,C="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,_=200,C="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:j,count:N,status:_,statusText:C}});return this.shouldThrowOnError||(h=h.catch(p=>{var v,x,b;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(c,u)}returns(){return this}overrideTypes(){return this}}return gl.default=a,gl}var C0;function Mj(){if(C0)return pl;C0=1;var e=pl&&pl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pl,"__esModule",{value:!0});const t=e(Tj());class r extends t.default{select(l){let c=!1;const u=(l??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:c=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${l}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,c,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(p,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:c=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:p="text"}={}){var v;const x=[l?"analyze":null,c?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${b}"; options=${x};`,p==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return pl.default=r,pl}var R0;function vg(){if(R0)return ml;R0=1;var e=ml&&ml.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ml,"__esModule",{value:!0});const t=e(Mj());class r extends t.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const u=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${h}fts${p}.${c}`),this}match(l){return Object.entries(l).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(l,c,u){return this.url.searchParams.append(l,`not.${c}.${u}`),this}or(l,{foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,u){return this.url.searchParams.append(l,`${c}.${u}`),this}}return ml.default=r,ml}var T0;function Aj(){if(T0)return hl;T0=1;var e=hl&&hl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hl,"__esModule",{value:!0});const t=e(vg());class r{constructor(l,{headers:c={},schema:u,fetch:f}){this.url=l,this.headers=c,this.schema=u,this.fetch=f}select(l,{head:c=!1,count:u}={}){const f=c?"HEAD":"GET";let h=!1;const p=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:c,defaultToNull:u=!0}={}){const f="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(l)){const p=l.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(p.length>0){const v=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:c,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){const p="POST",v=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&v.push(this.headers.Prefer),f&&v.push(`count=${f}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const x=l.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(x.length>0){const b=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:c}={}){const u="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),c&&f.push(`count=${c}`),this.headers.Prefer=f.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const c="DELETE",u=[];return l&&u.push(`count=${l}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return hl.default=r,hl}var tc={},nc={},M0;function NT(){return M0||(M0=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.version=void 0,nc.version="0.0.0-automated"),nc}var A0;function ST(){if(A0)return tc;A0=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.DEFAULT_HEADERS=void 0;const e=NT();return tc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},tc}var k0;function ET(){if(k0)return fl;k0=1;var e=fl&&fl.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fl,"__esModule",{value:!0});const t=e(Aj()),r=e(vg()),a=ST();class l{constructor(u,{headers:f={},schema:h,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),f),this.schemaName=h,this.fetch=p}from(u){const f=new URL(`${this.url}/${u}`);return new t.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:h=!1,get:p=!1,count:v}={}){let x;const b=new URL(`${this.url}/rpc/${u}`);let w;h||p?(x=h?"HEAD":"GET",Object.entries(f).filter(([N,_])=>_!==void 0).map(([N,_])=>[N,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([N,_])=>{b.searchParams.append(N,_)})):(x="POST",w=f);const j=Object.assign({},this.headers);return v&&(j.Prefer=`count=${v}`),new r.default({method:x,url:b,headers:j,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return fl.default=l,fl}var D0;function CT(){if(D0)return In;D0=1;var e=In&&In.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(In,"__esModule",{value:!0}),In.PostgrestError=In.PostgrestBuilder=In.PostgrestTransformBuilder=In.PostgrestFilterBuilder=In.PostgrestQueryBuilder=In.PostgrestClient=void 0;const t=e(ET());In.PostgrestClient=t.default;const r=e(Aj());In.PostgrestQueryBuilder=r.default;const a=e(vg());In.PostgrestFilterBuilder=a.default;const l=e(Mj());In.PostgrestTransformBuilder=l.default;const c=e(Tj());In.PostgrestBuilder=c.default;const u=e(Rj());return In.PostgrestError=u.default,In.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:u.default},In}var RT=CT();const TT=Xd(RT),{PostgrestClient:MT,PostgrestQueryBuilder:BB,PostgrestFilterBuilder:HB,PostgrestTransformBuilder:qB,PostgrestBuilder:FB,PostgrestError:VB}=TT,AT="2.11.2",kT={"X-Client-Info":`realtime-js/${AT}`},DT="1.0.0",kj=1e4,OT=1e3;var El;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(El||(El={}));var Cr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cr||(Cr={}));var ns;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ns||(ns={}));var Mp;(function(e){e.websocket="websocket"})(Mp||(Mp={}));var Si;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Si||(Si={}));class PT{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const l=r.getUint8(1),c=r.getUint8(2);let u=this.HEADER_LENGTH+2;const f=a.decode(t.slice(u,u+l));u=u+l;const h=a.decode(t.slice(u,u+c));u=u+c;const p=JSON.parse(a.decode(t.slice(u,t.byteLength)));return{ref:null,topic:f,event:h,payload:p}}}class Dj{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tn||(tn={}));const O0=(e,t,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((c,u)=>(c[u]=LT(u,e,t,l),c),{})},LT=(e,t,r,a)=>{const l=t.find(f=>f.name===e),c=l==null?void 0:l.type,u=r[e];return c&&!a.includes(c)?Oj(c,u):Ap(u)},Oj=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $T(t,r)}switch(e){case tn.bool:return IT(t);case tn.float4:case tn.float8:case tn.int2:case tn.int4:case tn.int8:case tn.numeric:case tn.oid:return zT(t);case tn.json:case tn.jsonb:return UT(t);case tn.timestamp:return BT(t);case tn.abstime:case tn.date:case tn.daterange:case tn.int4range:case tn.int8range:case tn.money:case tn.reltime:case tn.text:case tn.time:case tn.timestamptz:case tn.timetz:case tn.tsrange:case tn.tstzrange:return Ap(t);default:return Ap(t)}},Ap=e=>e,IT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},UT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$T=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let c;const u=e.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(f=>Oj(t,f))}return e},BT=e=>typeof e=="string"?e.replace(" ","T"):e,Pj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ym{constructor(t,r,a={},l=kj){this.channel=t,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P0||(P0={}));class lc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,l,c,u),this.pendingDiffs.forEach(h=>{this.state=lc.syncDiff(this.state,h,c,u)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=lc.syncDiff(this.state,l,c,u),f())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,l){const c=this.cloneDeep(t),u=this.transformState(r),f={},h={};return this.map(c,(p,v)=>{u[p]||(h[p]=v)}),this.map(u,(p,v)=>{const x=c[p];if(x){const b=v.map(_=>_.presence_ref),w=x.map(_=>_.presence_ref),j=v.filter(_=>w.indexOf(_.presence_ref)<0),N=x.filter(_=>b.indexOf(_.presence_ref)<0);j.length>0&&(f[p]=j),N.length>0&&(h[p]=N)}else f[p]=v}),this.syncDiff(c,{joins:f,leaves:h},a,l)}static syncDiff(t,r,a,l){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(f,h)=>{var p;const v=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(h),v.length>0){const x=t[f].map(w=>w.presence_ref),b=v.filter(w=>x.indexOf(w.presence_ref)<0);t[f].unshift(...b)}a(f,v,h)}),this.map(u,(f,h)=>{let p=t[f];if(!p)return;const v=h.map(x=>x.presence_ref);p=p.filter(x=>v.indexOf(x.presence_ref)<0),t[f]=p,l(f,p,h),p.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const l=t[a];return"metas"in l?r[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[a]=l,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var L0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(L0||(L0={}));var I0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(I0||(I0={}));var Zs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zs||(Zs={}));class xg{constructor(t,r={config:{}},a){this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ym(this,ns.join,this.params,this.timeout),this.rejoinTimer=new Dj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ns.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new lc(this),this.broadcastEndpointURL=Pj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var a,l;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:u,private:f}}=this.params;this._onError(v=>t==null?void 0:t(Zs.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Zs.CLOSED));const h={},p={broadcast:c,presence:u,postgres_changes:(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(v=>v.filter))!==null&&l!==void 0?l:[],private:f};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){t==null||t(Zs.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,j=[];for(let N=0;N<w;N++){const _=b[N],{filter:{event:C,schema:E,table:R,filter:M}}=_,T=v&&v[N];if(T&&T.event===C&&T.schema===E&&T.table===R&&T.filter===M)j.push(Object.assign(Object.assign({},_),{id:T.id}));else{this.unsubscribe(),t==null||t(Zs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Zs.SUBSCRIBED);return}}).receive("error",v=>{t==null||t(Zs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this._on(t,r,a)}async send(t,r={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:u}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,f,h;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ns.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const l=new Ym(this,ns.leave,{},t);l.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),l.send(),this._canPush()||l.trigger("ok",{})})}async _fetchWithTimeout(t,r,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(c),u}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Ym(this,t,r,a);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var l,c;const u=t.toLocaleLowerCase(),{close:f,error:h,leave:p,join:v}=ns;if(a&&[f,h,p,v].indexOf(u)>=0&&a!==this._joinRef())return;let b=this._onMessage(u,r,a);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var j,N,_;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(N=w.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(w=>w.callback(b,a)):(c=this.bindings[u])===null||c===void 0||c.filter(w=>{var j,N,_,C,E,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const M=w.id,T=(j=w.filter)===null||j===void 0?void 0:j.event;return M&&((N=r.ids)===null||N===void 0?void 0:N.includes(M))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const M=(E=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return M==="*"||M===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:N,table:_,commit_timestamp:C,type:E,errors:R}=j;b=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:C,eventType:E,new:{},old:{},errors:R}),this._getPayloadRecords(j))}w.callback(b,a)})}_isClosed(){return this.state===Cr.closed}_isJoined(){return this.state===Cr.joined}_isJoining(){return this.state===Cr.joining}_isLeaving(){return this.state===Cr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const l=t.toLocaleLowerCase(),c={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&xg.isEqual(l.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ns.close,{},t)}_onError(t){this._on(ns.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=O0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=O0(t.columns,t.old_record)),r}}const HT=()=>{},qT=typeof WebSocket<"u",FT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VT{constructor(t,r){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=kT,this.params={},this.timeout=kj,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=HT,this.conn=null,this.sendBuffer=[],this.serializer=new PT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...f)=>kl(async()=>{const{default:h}=await Promise.resolve().then(()=>Wl);return{default:h}},void 0).then(({default:h})=>h(...f)):u=fetch,(...f)=>u(...f)},this.endPoint=`${t}/${Mp.websocket}`,this.httpEndpoint=Pj(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const l=(a=r==null?void 0:r.params)===null||a===void 0?void 0:a.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(c,u)=>u(JSON.stringify(c)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(qT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new YT(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),kl(async()=>{const{default:t}=await import("./browser-Zx3-KVcm.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DT}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case El.connecting:return Si.Connecting;case El.open:return Si.Open;case El.closing:return Si.Closing;default:return Si.Closed}}isConnected(){return this.connectionState()===Si.Open}channel(t,r={config:{}}){const a=new xg(`realtime:${t}`,r,this);return this.channels.push(a),a}push(t){const{topic:r,event:a,payload:l,ref:c}=t,u=()=>{this.encode(t,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${a} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let a=null;try{a=JSON.parse(atob(r.split(".")[1]))}catch{}if(a&&a.exp&&!(Math.floor(Date.now()/1e3)-a.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`);this.accessTokenValue=r,this.channels.forEach(l=>{r&&l.updateJoinPayload({access_token:r}),l.joinedOnce&&l._isJoined()&&l._push(ns.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(OT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:a,event:l,payload:c,ref:u}=r;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${a} ${l} ${u&&"("+u+")"||""}`,c),this.channels.filter(f=>f._isMember(a)).forEach(f=>f._trigger(l,c,u)),this.stateChangeCallbacks.message.forEach(f=>f(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ns.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${t}${a}${l}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([FT],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}}class YT{constructor(t,r,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=El.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=a.close}}class yg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Un(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GT extends yg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kp extends yg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var WT=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};const Lj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>kl(async()=>{const{default:a}=await Promise.resolve().then(()=>Wl);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},XT=()=>WT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield kl(()=>Promise.resolve().then(()=>Wl),void 0)).Response:Response}),Dp=e=>{if(Array.isArray(e))return e.map(r=>Dp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Dp(a)}),t};var Mi=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};const Gm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KT=(e,t,r)=>Mi(void 0,void 0,void 0,function*(){const a=yield XT();e instanceof a&&!(r!=null&&r.noResolveJson)?e.json().then(l=>{t(new GT(Gm(l),e.status||500))}).catch(l=>{t(new kp(Gm(l),l))}):t(new kp(Gm(e),e))}),QT=(e,t,r,a)=>{const l={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a&&(l.body=JSON.stringify(a)),Object.assign(Object.assign({},l),r))};function Mc(e,t,r,a,l,c){return Mi(this,void 0,void 0,function*(){return new Promise((u,f)=>{e(r,QT(t,a,l,c)).then(h=>{if(!h.ok)throw h;return a!=null&&a.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>KT(h,f,a))})})}function kd(e,t,r,a){return Mi(this,void 0,void 0,function*(){return Mc(e,"GET",t,r,a)})}function Pa(e,t,r,a,l){return Mi(this,void 0,void 0,function*(){return Mc(e,"POST",t,a,l,r)})}function ZT(e,t,r,a,l){return Mi(this,void 0,void 0,function*(){return Mc(e,"PUT",t,a,l,r)})}function JT(e,t,r,a){return Mi(this,void 0,void 0,function*(){return Mc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Ij(e,t,r,a,l){return Mi(this,void 0,void 0,function*(){return Mc(e,"DELETE",t,a,l,r)})}var mr=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};const eM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tM{constructor(t,r={},a,l){this.url=t,this.headers=r,this.bucketId=a,this.fetch=Lj(l)}uploadOrUpdate(t,r,a,l){return mr(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},z0),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),h&&c.append("metadata",this.encodeMetadata(h)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",u.cacheControl),h&&c.append("metadata",this.encodeMetadata(h))):(c=a,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const p=this._removeEmptyFolders(r),v=this._getFinalPath(p),x=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:t,body:c,headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{})),b=yield x.json();return x.ok?{data:{path:p,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(c){if(Un(c))return{data:null,error:c};throw c}})}upload(t,r,a){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,l){return mr(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:z0.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",p.cacheControl)):(h=a,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const x=yield this.fetch(f.toString(),{method:"PUT",body:h,headers:v}),b=yield x.json();return x.ok?{data:{path:c,fullPath:b.Key},error:null}:{data:null,error:b}}catch(h){if(Un(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return mr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=yield Pa(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),u=new URL(this.url+c.url),f=u.searchParams.get("token");if(!f)throw new yg("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(a){if(Un(a))return{data:null,error:a};throw a}})}update(t,r,a){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return mr(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Un(l))return{data:null,error:l};throw l}})}copy(t,r,a){return mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Pa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Un(l))return{data:null,error:l};throw l}})}createSignedUrl(t,r,a){return mr(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),c=yield Pa(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(Un(l))return{data:null,error:l};throw l}})}createSignedUrls(t,r,a){return mr(this,void 0,void 0,function*(){try{const l=yield Pa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(Un(l))return{data:null,error:l};throw l}})}download(t,r){return mr(this,void 0,void 0,function*(){const l=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=c?`?${c}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield kd(this.fetch,`${this.url}/${l}/${f}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Un(f))return{data:null,error:f};throw f}})}info(t){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield kd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dp(a),error:null}}catch(a){if(Un(a))return{data:null,error:a};throw a}})}exists(t){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield JT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Un(a)&&a instanceof kp){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),l=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&l.push(c);const f=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&l.push(h);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${p}`)}}}remove(t){return mr(this,void 0,void 0,function*(){try{return{data:yield Ij(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}list(t,r,a){return mr(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},eM),r),{prefix:t||""});return{data:yield Pa(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(Un(l))return{data:null,error:l};throw l}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nM="2.7.1",rM={"X-Client-Info":`storage-js/${nM}`};var vl=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};class sM{constructor(t,r={},a){this.url=t,this.headers=Object.assign(Object.assign({},rM),r),this.fetch=Lj(a)}listBuckets(){return vl(this,void 0,void 0,function*(){try{return{data:yield kd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Un(t))return{data:null,error:t};throw t}})}getBucket(t){return vl(this,void 0,void 0,function*(){try{return{data:yield kd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vl(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Un(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return vl(this,void 0,void 0,function*(){try{return{data:yield ZT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Un(a))return{data:null,error:a};throw a}})}emptyBucket(t){return vl(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vl(this,void 0,void 0,function*(){try{return{data:yield Ij(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}})}}class aM extends sM{constructor(t,r={},a){super(t,r,a)}from(t){return new tM(this.url,this.headers,t,this.fetch)}}const iM="2.49.3";let sc="";typeof Deno<"u"?sc="deno":typeof document<"u"?sc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sc="react-native":sc="node";const lM={"X-Client-Info":`supabase-js-${sc}/${iM}`},oM={headers:lM},cM={schema:"public"},uM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dM={};var fM=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};const hM=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ej:t=fetch,(...r)=>t(...r)},mM=()=>typeof Headers>"u"?Cj:Headers,pM=(e,t,r)=>{const a=hM(r),l=mM();return(c,u)=>fM(void 0,void 0,void 0,function*(){var f;const h=(f=yield t())!==null&&f!==void 0?f:e;let p=new l(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),a(c,Object.assign(Object.assign({},u),{headers:p}))})};var gM=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};function vM(e){return e.replace(/\/$/,"")}function xM(e,t){const{db:r,auth:a,realtime:l,global:c}=e,{db:u,auth:f,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},h),l),global:Object.assign(Object.assign({},p),c),accessToken:()=>gM(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const zj="2.69.1",Sl=30*1e3,Op=3,Wm=Op*Sl,yM="http://localhost:9999",bM="supabase.auth.token",wM={"X-Client-Info":`gotrue-js/${zj}`},Pp="X-Supabase-Api-Version",Uj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_M=6e5;class bg extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NM extends bg{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function SM(e){return ut(e)&&e.name==="AuthApiError"}class $j extends bg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Va extends bg{constructor(t,r,a,l){super(t,a,l),this.name=r,this.status=a}}class ka extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EM(e){return ut(e)&&e.name==="AuthSessionMissingError"}class Xm extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class od extends Va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cd extends Va{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CM(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class U0 extends Va{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lp extends Va{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Km(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class $0 extends Va{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class oc extends Va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const B0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),H0=` 	
\r=`.split(""),RM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<H0.length;t+=1)e[H0[t].charCodeAt(0)]=-2;for(let t=0;t<B0.length;t+=1)e[B0[t].charCodeAt(0)]=t;return e})();function Bj(e,t,r){const a=RM[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function q0(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{AM(u,a,r)};for(let u=0;u<e.length;u+=1)Bj(e.charCodeAt(u),l,c);return t.join("")}function TM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MM(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}TM(a,t)}}function AM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function kM(e){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<e.length;l+=1)Bj(e.charCodeAt(l),r,a);return new Uint8Array(t)}function DM(e){const t=[];return MM(e,r=>t.push(r)),new Uint8Array(t)}function OM(e){return Math.round(Date.now()/1e3)+e}function PM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bs=()=>typeof window<"u"&&typeof document<"u",bi={tested:!1,writable:!1},cc=()=>{if(!bs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function LM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return r.searchParams.forEach((a,l)=>{t[l]=a}),t}const Hj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>kl(async()=>{const{default:a}=await Promise.resolve().then(()=>Wl);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},IM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qj=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ud=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dd=async(e,t)=>{await e.removeItem(t)};class Zd{constructor(){this.promise=new Zd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zd.promiseConstructor=Promise;function Qm(e){const t=e.split(".");if(t.length!==3)throw new oc("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!jM.test(t[a]))throw new oc("JWT not in base64url format");return{header:JSON.parse(q0(t[0])),payload:JSON.parse(q0(t[1])),signature:kM(t[2]),raw:{header:t[0],payload:t[1]}}}async function zM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function UM(e,t){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await e(c);if(!t(c,null,u)){a(u);return}}catch(u){if(!t(c,u)){l(u);return}}})()})}function $M(e){return("0"+e.toString(16)).substr(-2)}function BM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let c=0;c<56;c++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,$M).join("")}async function HM(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function qM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await HM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xl(e,t,r=!1){const a=BM();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await qj(e,`${t}-code-verifier`,l);const c=await qM(a);return[c,a===c?"plain":"s256"]}const FM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VM(e){const t=e.headers.get(Pp);if(!t||!t.match(FM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var WM=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r};const _i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XM=[502,503,504];async function F0(e){var t;if(!IM(e))throw new Lp(_i(e),0);if(XM.includes(e.status))throw new Lp(_i(e),e.status);let r;try{r=await e.json()}catch(c){throw new $j(_i(c),c)}let a;const l=VM(e);if(l&&l.getTime()>=Uj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new $0(_i(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new ka}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new $0(_i(r),e.status,r.weak_password.reasons);throw new NM(_i(r),e.status||500,a)}const KM=(e,t,r,a)=>{const l={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function jt(e,t,r,a){var l;const c=Object.assign({},a==null?void 0:a.headers);c[Pp]||(c[Pp]=Uj["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const u=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(u.redirect_to=a.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await QM(e,t,r+f,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(h):{data:Object.assign({},h),error:null}}async function QM(e,t,r,a,l,c){const u=KM(t,a,l,c);let f;try{f=await e(r,Object.assign({},u))}catch(h){throw console.error(h),new Lp(_i(h),0)}if(f.ok||await F0(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(h){await F0(h)}}function Da(e){var t;let r=null;tA(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OM(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function V0(e){const t=Da(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ia(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZM(e){return{data:e,error:null}}function JM(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:c}=e,u=WM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:c},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function eA(e){return e}function tA(e){return e.access_token&&e.refresh_token&&e.expires_in}var nA=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r};class rA{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=Hj(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ut(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ia})}catch(a){if(ut(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=nA(t,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:JM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ia})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,l,c,u,f,h;try{const p={nextPage:null,lastPage:0,total:0},v=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:eA});if(v.error)throw v.error;const x=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);p[`${_}Page`]=N}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ut(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ia})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ia})}catch(a){if(ut(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ia})}catch(a){if(ut(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){try{const{data:r,error:a}=await jt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}}const sA={getItem:e=>cc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{cc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{cc()&&globalThis.localStorage.removeItem(e)}};function Y0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function aA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yl={debug:!!(globalThis&&cc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iA extends Fj{}async function lA(e,t,r){yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),yl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await r()}finally{yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(t===0)throw yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yl.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}aA();const oA={url:yM,storageKey:bM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function G0(e,t,r){return await r()}class gc{constructor(t){var r,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gc.nextInstanceID,gc.nextInstanceID+=1,this.instanceID>0&&bs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},oA),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new rA({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Hj(l.fetch),this.lock=l.lock||G0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:bs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=lA:this.lock=G0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:cc()?this.storage=sA:(this.memoryStorage={},this.storage=Y0(this.memoryStorage)):(this.memoryStorage={},this.storage=Y0(this.memoryStorage)),bs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=LM(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),bs()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(r,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),CM(c)){const h=(t=c.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ut(r)?{error:r}:{error:new $j("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,l;try{const c=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:Da}),{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(c){if(ut(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var r,a,l;try{let c;if("email"in t){const{email:v,password:x,options:b}=t;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await xl(this.storage,this.storageKey)),c=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:x,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:j},xform:Da})}else if("phone"in t){const{phone:v,password:x,options:b}=t;c=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(a=b==null?void 0:b.data)!==null&&a!==void 0?a:{},channel:(l=b==null?void 0:b.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Da})}else throw new od("You must provide either an email or phone number and a password");const{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(c){if(ut(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let r;if("email"in t){const{email:c,password:u,options:f}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:V0})}else if("phone"in t){const{phone:c,password:u,options:f}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:V0})}else throw new od("You must provide either an email or phone number and a password");const{data:a,error:l}=r;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Xm}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,a,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ud(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{const{data:c,error:u}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Da});if(await dd(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Xm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(ut(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:r,provider:a,token:l,access_token:c,nonce:u}=t,f=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Da}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Xm}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,a,l,c,u;try{if("email"in t){const{email:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await xl(this.storage,this.storageKey));const{error:x}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:f,options:h}=t,{data:p,error:v}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=h==null?void 0:h.data)!==null&&l!==void 0?l:{},create_user:(c=h==null?void 0:h.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new od("You must provide either an email or phone number.")}catch(f){if(ut(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,a;try{let l,c;"options"in t&&(l=(r=t.options)===null||r===void 0?void 0:r.redirectTo,c=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:f}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Da});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(l){if(ut(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var r,a,l;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await xl(this.storage,this.storageKey)),await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:ZM})}catch(c){if(ut(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new ka;const{error:l}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(ut(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:c}=t,{error:u}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:a,type:l,options:c}=t,{data:u,error:f}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new od("You must provide either an email or phone number and a type")}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ud(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Wm:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,p,v)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,v))})}return{data:{session:t},error:null}}const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ia}):await this._useSession(async r=>{var a,l,c;const{data:u,error:f}=r;if(f)throw f;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ka}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Ia})})}catch(r){if(ut(r))return EM(r)&&(await this._removeSession(),await dd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new ka;const u=l.session;let f=null,h=null;this.flowType==="pkce"&&t.email!=null&&([f,h]=await xl(this.storage,this.storageKey));const{data:p,error:v}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:Ia});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(ut(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ka;const r=Date.now()/1e3;let a=r,l=!0,c=null;const{payload:u}=Qm(t.access_token);if(u.exp&&(a=u.exp,l=a<=r),l){const{session:f,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:h}=await this._getUser(t.access_token);if(h)throw h;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(ut(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:u,error:f}=r;if(f)throw f;t=(a=u.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new ka;const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ut(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!bs())throw new cd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new U0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new U0("No code detected.");const{data:E,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:f,expires_at:h,token_type:p}=t;if(!c||!f||!u||!p)throw new cd("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(f);let b=v+x;h&&(b=parseInt(h));const w=b-v;w*1e3<=Sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const j=b-x;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,v);const{data:N,error:_}=await this._getUser(c);if(_)throw _;const C={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:x,expires_at:b,refresh_token:u,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(a){if(ut(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ud(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:c}=r;if(c)return{error:c};const u=(a=l.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(SM(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await dd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=PM(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,l;try{const{data:{session:c},error:u}=r;if(u)throw u;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await xl(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(ut(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:a,error:l}=await this._useSession(async c=>{var u,f,h,p,v;const{data:x,error:b}=c;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return bs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ut(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,l;const{data:c,error:u}=r;if(u)throw u;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await UM(async l=>(l>0&&await zM(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Da})),(l,c)=>{const u=200*Math.pow(2,l);return c&&Km(c)&&Date.now()+u-a<Sl})}catch(a){if(this._debug(r,"error",a),ut(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),bs()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await ud(this.storage,this.storageKey);if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wm;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Wm}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Km(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new ka;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Zd;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new ka;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={session:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),ut(c)){const u={session:null,error:c};return Km(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,r,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(h){c.push(h)}});if(await Promise.all(u),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qj(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await dd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Sl}ms, refresh threshold is ${Op} ticks`),l<=Op&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,u]=await xl(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(f.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:l,error:c}=r;return c?{data:null,error:c}:await jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,l;const{data:c,error:u}=r;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:p}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((l=h==null?void 0:h.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:c}=r;if(c)return{data:null,error:c};const{data:u,error:f}=await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:c}=r;return c?{data:null,error:c}:await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ut(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=(t==null?void 0:t.factors)||[],l=a.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=a.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:a,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,a;const{data:{session:l},error:c}=t;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Qm(l.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((a=(r=l.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(u=>u.kid===t);if(a||(a=this.jwks.keys.find(u=>u.kid===t),a&&this.jwks_cached_at+_M>Date.now()))return a;const{data:l,error:c}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;if(!l.keys||l.keys.length===0)throw new oc("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),a=l.keys.find(u=>u.kid===t),!a)throw new oc("No matching signing key found in JWKS");return a}async getClaims(t,r={keys:[]}){try{let a=t;if(!a){const{data:w,error:j}=await this.getSession();if(j||!w.session)return{data:null,error:j};a=w.session.access_token}const{header:l,payload:c,signature:u,raw:{header:f,payload:h}}=Qm(a);if(YM(c.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:c,header:l,signature:u},error:null}}const p=GM(l.alg),v=await this.fetchJwk(l.kid,r),x=await crypto.subtle.importKey("jwk",v,p,!0,["verify"]);if(!await crypto.subtle.verify(p,x,u,DM(`${f}.${h}`)))throw new oc("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(a){if(ut(a))return{data:null,error:a};throw a}}}gc.nextInstanceID=0;const cA=gc;class uA extends cA{constructor(t){super(t)}}var dA=function(e,t,r,a){function l(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(v){try{p(a.next(v))}catch(x){u(x)}}function h(v){try{p(a.throw(v))}catch(x){u(x)}}function p(v){v.done?c(v.value):l(v.value).then(f,h)}p((a=a.apply(e,t||[])).next())})};class fA{constructor(t,r,a){var l,c,u;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const f=vM(t);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:cM,realtime:dM,auth:Object.assign(Object.assign({},uM),{storageKey:h}),global:oM},v=xM(a??{},p);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=pM(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new MT(`${f}/rest/v1`,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new xT(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new aM(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return dA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:l,storageKey:c,flowType:u,lock:f,debug:h},p,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uA({url:this.authUrl,headers:Object.assign(Object.assign({},x),p),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:l,flowType:u,lock:f,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new VT(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hA=(e,t,r)=>new fA(e,t,r),mA="https://crnavxfmfqhwwamcrkfo.supabase.co",pA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNybmF2eGZtZnFod3dhbWNya2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwNTQ2ODgsImV4cCI6MjA1ODYzMDY4OH0.9ZdBDZHuf633SDcCouNufwPoSgdr1--4NLrnZoS-Lo8",ne=hA(mA,pA),Vj=m.createContext({session:null,user:null,loading:!0}),gA=({children:e})=>{const[t,r]=m.useState(null),[a,l]=m.useState(null),[c,u]=m.useState(!0);m.useEffect(()=>{ne.auth.getSession().then(({data:{session:h}})=>{r(h),l((h==null?void 0:h.user)??null),u(!1);const{data:{subscription:p}}=ne.auth.onAuthStateChange((v,x)=>{console.log("Auth state changed:",v,x),r(x),l((x==null?void 0:x.user)??null)});return()=>{p==null||p.unsubscribe()}}).catch(h=>{console.error("Error getting initial session:",h),u(!1)})},[]);const f={session:t,user:a,loading:c};return s.jsx(Vj.Provider,{value:f,children:e})},wg=()=>{const e=m.useContext(Vj);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function vA(e,t){const r=m.createContext(t),a=c=>{const{children:u,...f}=c,h=m.useMemo(()=>f,Object.values(f));return s.jsx(r.Provider,{value:h,children:u})};a.displayName=e+"Provider";function l(c){const u=m.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[a,l]}function cr(e,t=[]){let r=[];function a(c,u){const f=m.createContext(u),h=r.length;r=[...r,u];const p=x=>{var C;const{scope:b,children:w,...j}=x,N=((C=b==null?void 0:b[e])==null?void 0:C[h])||f,_=m.useMemo(()=>j,Object.values(j));return s.jsx(N.Provider,{value:_,children:w})};p.displayName=c+"Provider";function v(x,b){var N;const w=((N=b==null?void 0:b[e])==null?void 0:N[h])||f,j=m.useContext(w);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[p,v]}const l=()=>{const c=r.map(u=>m.createContext(u));return function(f){const h=(f==null?void 0:f[e])||c;return m.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return l.scopeName=e,[a,xA(l,...t)]}function xA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=a.reduce((f,{useScope:h,scopeName:p})=>{const x=h(c)[`__scope${p}`];return{...f,...x}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function Mr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}var Wn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function W0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jd(...e){return t=>{let r=!1;const a=e.map(l=>{const c=W0(l,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<a.length;l++){const c=a[l];typeof c=="function"?c():W0(e[l],null)}}}}function Nt(...e){return m.useCallback(Jd(...e),e)}var Rs=m.forwardRef((e,t)=>{const{children:r,...a}=e,l=m.Children.toArray(r),c=l.find(yA);if(c){const u=c.props.children,f=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return s.jsx(Ip,{...a,ref:t,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return s.jsx(Ip,{...a,ref:t,children:r})});Rs.displayName="Slot";var Ip=m.forwardRef((e,t)=>{const{children:r,...a}=e;if(m.isValidElement(r)){const l=wA(r),c=bA(a,r.props);return r.type!==m.Fragment&&(c.ref=t?Jd(t,l):l),m.cloneElement(r,c)}return m.Children.count(r)>1?m.Children.only(null):null});Ip.displayName="SlotClone";var jg=({children:e})=>s.jsx(s.Fragment,{children:e});function yA(e){return m.isValidElement(e)&&e.type===jg}function bA(e,t){const r={...t};for(const a in t){const l=e[a],c=t[a];/^on[A-Z]/.test(a)?l&&c?r[a]=(...f)=>{c(...f),l(...f)}:l&&(r[a]=l):a==="style"?r[a]={...l,...c}:a==="className"&&(r[a]=[l,c].filter(Boolean).join(" "))}return{...e,...r}}function wA(e){var a,l;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=jA.reduce((e,t)=>{const r=m.forwardRef((a,l)=>{const{asChild:c,...u}=a,f=c?Rs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...u,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yj(e,t){e&&Ns.flushSync(()=>e.dispatchEvent(t))}var _g="Avatar",[_A,YB]=cr(_g),[NA,Gj]=_A(_g),Wj=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[l,c]=m.useState("idle");return s.jsx(NA,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:c,children:s.jsx(Je.span,{...a,ref:t})})});Wj.displayName=_g;var Xj="AvatarImage",Kj=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:l=()=>{},...c}=e,u=Gj(Xj,r),f=SA(a,c.referrerPolicy),h=Mr(p=>{l(p),u.onImageLoadingStatusChange(p)});return Wn(()=>{f!=="idle"&&h(f)},[f,h]),f==="loaded"?s.jsx(Je.img,{...c,ref:t,src:a}):null});Kj.displayName=Xj;var Qj="AvatarFallback",Zj=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...l}=e,c=Gj(Qj,r),[u,f]=m.useState(a===void 0);return m.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>f(!0),a);return()=>window.clearTimeout(h)}},[a]),u&&c.imageLoadingStatus!=="loaded"?s.jsx(Je.span,{...l,ref:t}):null});Zj.displayName=Qj;function SA(e,t){const[r,a]=m.useState("idle");return Wn(()=>{if(!e){a("error");return}let l=!0;const c=new window.Image,u=f=>()=>{l&&a(f)};return a("loading"),c.onload=u("loaded"),c.onerror=u("error"),c.src=e,t&&(c.referrerPolicy=t),()=>{l=!1}},[e,t]),r}var EA=Wj,CA=Kj,RA=Zj;function Jj(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=Jj(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function e1(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=Jj(e))&&(a&&(a+=" "),a+=t);return a}const Ng="-",TA=e=>{const t=AA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{const f=u.split(Ng);return f[0]===""&&f.length!==1&&f.shift(),t1(f,t)||MA(u)},getConflictingClassGroupIds:(u,f)=>{const h=r[u]||[];return f&&a[u]?[...h,...a[u]]:h}}},t1=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),l=a?t1(e.slice(1),a):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(Ng);return(u=t.validators.find(({validator:f})=>f(c)))==null?void 0:u.classGroupId},X0=/^\[(.+)\]$/,MA=e=>{if(X0.test(e)){const t=X0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},AA=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const l in r)zp(r[l],a,l,t);return a},zp=(e,t,r,a)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:K0(t,l);c.classGroupId=r;return}if(typeof l=="function"){if(kA(l)){zp(l(a),t,r,a);return}t.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,u])=>{zp(u,K0(t,c),r,a)})})},K0=(e,t)=>{let r=e;return t.split(Ng).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},kA=e=>e.isThemeGetter,DA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const l=(c,u)=>{r.set(c,u),t++,t>e&&(t=0,a=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=a.get(c))!==void 0)return l(c,u),u},set(c,u){r.has(c)?r.set(c,u):l(c,u)}}},Up="!",$p=":",OA=$p.length,PA=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=l=>{const c=[];let u=0,f=0,h=0,p;for(let j=0;j<l.length;j++){let N=l[j];if(u===0&&f===0){if(N===$p){c.push(l.slice(h,j)),h=j+OA;continue}if(N==="/"){p=j;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const v=c.length===0?l:l.substring(h),x=LA(v),b=x!==v,w=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:w}};if(t){const l=t+$p,c=a;a=u=>u.startsWith(l)?c(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const l=a;a=c=>r({className:c,parseClassName:l})}return a},LA=e=>e.endsWith(Up)?e.substring(0,e.length-1):e.startsWith(Up)?e.substring(1):e,IA=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const l=[];let c=[];return a.forEach(u=>{u[0]==="["||t[u]?(l.push(...c.sort(),u),c=[]):c.push(u)}),l.push(...c.sort()),l}},zA=e=>({cache:DA(e.cacheSize),parseClassName:PA(e),sortModifiers:IA(e),...TA(e)}),UA=/\s+/,$A=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:c}=t,u=[],f=e.trim().split(UA);let h="";for(let p=f.length-1;p>=0;p-=1){const v=f[p],{isExternal:x,modifiers:b,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:N}=r(v);if(x){h=v+(h.length>0?" "+h:h);continue}let _=!!N,C=a(_?j.substring(0,N):j);if(!C){if(!_){h=v+(h.length>0?" "+h:h);continue}if(C=a(j),!C){h=v+(h.length>0?" "+h:h);continue}_=!1}const E=c(b).join(":"),R=w?E+Up:E,M=R+C;if(u.includes(M))continue;u.push(M);const T=l(C,_);for(let z=0;z<T.length;++z){const H=T[z];u.push(R+H)}h=v+(h.length>0?" "+h:h)}return h};function BA(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=n1(t))&&(a&&(a+=" "),a+=r);return a}const n1=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=n1(e[a]))&&(r&&(r+=" "),r+=t);return r};function HA(e,...t){let r,a,l,c=u;function u(h){const p=t.reduce((v,x)=>x(v),e());return r=zA(p),a=r.cache.get,l=r.cache.set,c=f,f(h)}function f(h){const p=a(h);if(p)return p;const v=$A(h,r);return l(h,v),v}return function(){return c(BA.apply(null,arguments))}}const zn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},r1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,s1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qA=/^\d+\/\d+$/,FA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bl=e=>qA.test(e),wt=e=>!!e&&!Number.isNaN(Number(e)),wi=e=>!!e&&Number.isInteger(Number(e)),Q0=e=>e.endsWith("%")&&wt(e.slice(0,-1)),Ma=e=>FA.test(e),XA=()=>!0,KA=e=>VA.test(e)&&!YA.test(e),Sg=()=>!1,QA=e=>GA.test(e),ZA=e=>WA.test(e),JA=e=>!ze(e)&&!Ue(e),ek=e=>Xl(e,l1,Sg),ze=e=>r1.test(e),ji=e=>Xl(e,o1,KA),Zm=e=>Xl(e,dk,wt),tk=e=>Xl(e,a1,Sg),nk=e=>Xl(e,i1,ZA),rk=e=>Xl(e,Sg,QA),Ue=e=>s1.test(e),fd=e=>Kl(e,o1),sk=e=>Kl(e,fk),ak=e=>Kl(e,a1),ik=e=>Kl(e,l1),lk=e=>Kl(e,i1),ok=e=>Kl(e,hk,!0),Xl=(e,t,r)=>{const a=r1.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},Kl=(e,t,r=!1)=>{const a=s1.exec(e);return a?a[1]?t(a[1]):r:!1},a1=e=>e==="position",ck=new Set(["image","url"]),i1=e=>ck.has(e),uk=new Set(["length","size","percentage"]),l1=e=>uk.has(e),o1=e=>e==="length",dk=e=>e==="number",fk=e=>e==="family-name",hk=e=>e==="shadow",mk=()=>{const e=zn("color"),t=zn("font"),r=zn("text"),a=zn("font-weight"),l=zn("tracking"),c=zn("leading"),u=zn("breakpoint"),f=zn("container"),h=zn("spacing"),p=zn("radius"),v=zn("shadow"),x=zn("inset-shadow"),b=zn("drop-shadow"),w=zn("blur"),j=zn("perspective"),N=zn("aspect"),_=zn("ease"),C=zn("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],z=()=>[Ue,ze,h],H=()=>[bl,"full","auto",...z()],F=()=>[wi,"none","subgrid",Ue,ze],G=()=>["auto",{span:["full",wi,Ue,ze]},Ue,ze],V=()=>[wi,"auto",Ue,ze],ue=()=>["auto","min","max","fr",Ue,ze],re=()=>["start","end","center","between","around","evenly","stretch","baseline"],I=()=>["start","end","center","stretch"],oe=()=>["auto",...z()],ce=()=>[bl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],D=()=>[e,Ue,ze],X=()=>[Q0,ji],U=()=>["","none","full",p,Ue,ze],J=()=>["",wt,fd,ji],k=()=>["solid","dashed","dotted","double"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["","none",w,Ue,ze],W=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue,ze],O=()=>["none",wt,Ue,ze],$=()=>["none",wt,Ue,ze],B=()=>[wt,Ue,ze],K=()=>[bl,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ma],breakpoint:[Ma],color:[XA],container:[Ma],"drop-shadow":[Ma],ease:["in","out","in-out"],font:[JA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ma],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ma],shadow:[Ma],spacing:["px",wt],text:[Ma],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bl,ze,Ue,N]}],container:["container"],columns:[{columns:[wt,ze,Ue,f]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),ze,Ue]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",Ue,ze]}],basis:[{basis:[bl,"full","auto",f,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wt,bl,"auto","initial","none",ze]}],grow:[{grow:["",wt,Ue,ze]}],shrink:[{shrink:["",wt,Ue,ze]}],order:[{order:[wi,"first","last","none",Ue,ze]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ue()}],"auto-rows":[{"auto-rows":ue()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...I(),"baseline"]}],"align-self":[{self:["auto",...I(),"baseline"]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[f,"screen",...ce()]}],"min-w":[{"min-w":[f,"screen","none",...ce()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ce()]}],h:[{h:["screen",...ce()]}],"min-h":[{"min-h":["screen","none",...ce()]}],"max-h":[{"max-h":["screen",...ce()]}],"font-size":[{text:["base",r,fd,ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ue,Zm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Q0,ze]}],"font-family":[{font:[sk,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Ue,ze]}],"line-clamp":[{"line-clamp":[wt,"none",Ue,Zm]}],leading:[{leading:[c,...z()]}],"list-image":[{"list-image":["none",Ue,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ue,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:[wt,"from-font","auto",Ue,ji]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[wt,"auto",Ue,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),ak,tk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",ik,ek]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,Ue,ze],radial:["",Ue,ze],conic:[wi,Ue,ze]},lk,nk]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...k(),"hidden","none"]}],"divide-style":[{divide:[...k(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...k(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wt,Ue,ze]}],"outline-w":[{outline:["",wt,fd,ji]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",v,ok,rk]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",Ue,ze,x]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[wt,ji]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":D()}],opacity:[{opacity:[wt,Ue,ze]}],"mix-blend":[{"mix-blend":[...P(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none",Ue,ze]}],blur:[{blur:q()}],brightness:[{brightness:[wt,Ue,ze]}],contrast:[{contrast:[wt,Ue,ze]}],"drop-shadow":[{"drop-shadow":["","none",b,Ue,ze]}],grayscale:[{grayscale:["",wt,Ue,ze]}],"hue-rotate":[{"hue-rotate":[wt,Ue,ze]}],invert:[{invert:["",wt,Ue,ze]}],saturate:[{saturate:[wt,Ue,ze]}],sepia:[{sepia:["",wt,Ue,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Ue,ze]}],"backdrop-blur":[{"backdrop-blur":q()}],"backdrop-brightness":[{"backdrop-brightness":[wt,Ue,ze]}],"backdrop-contrast":[{"backdrop-contrast":[wt,Ue,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wt,Ue,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wt,Ue,ze]}],"backdrop-invert":[{"backdrop-invert":["",wt,Ue,ze]}],"backdrop-opacity":[{"backdrop-opacity":[wt,Ue,ze]}],"backdrop-saturate":[{"backdrop-saturate":[wt,Ue,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",wt,Ue,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ue,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wt,"initial",Ue,ze]}],ease:[{ease:["linear","initial",_,Ue,ze]}],delay:[{delay:[wt,Ue,ze]}],animate:[{animate:["none",C,Ue,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ue,ze]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:$()}],"scale-x":[{"scale-x":$()}],"scale-y":[{"scale-y":$()}],"scale-z":[{"scale-z":$()}],"scale-3d":["scale-3d"],skew:[{skew:B()}],"skew-x":[{"skew-x":B()}],"skew-y":[{"skew-y":B()}],transform:[{transform:[Ue,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue,ze]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[wt,fd,ji,Zm]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},pk=HA(mk);function Ce(...e){return pk(e1(e))}function Ac({className:e,...t}){return s.jsx(EA,{"data-slot":"avatar",className:Ce("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function ef({className:e,...t}){return s.jsx(CA,{"data-slot":"avatar-image",className:Ce("aspect-square size-full",e),...t})}function kc({className:e,...t}){return s.jsx(RA,{"data-slot":"avatar-fallback",className:Ce("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const Z0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,J0=e1,Eg=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return J0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:c}=t,u=Object.keys(l).map(p=>{const v=r==null?void 0:r[p],x=c==null?void 0:c[p];if(v===null)return null;const b=Z0(v)||Z0(x);return l[p][b]}),f=r&&Object.entries(r).reduce((p,v)=>{let[x,b]=v;return b===void 0||(p[x]=b),p},{}),h=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((p,v)=>{let{class:x,className:b,...w}=v;return Object.entries(w).every(j=>{let[N,_]=j;return Array.isArray(_)?_.includes({...c,...f}[N]):{...c,...f}[N]===_})?[...p,x,b]:p},[]);return J0(e,u,h,r==null?void 0:r.class,r==null?void 0:r.className)},Ol=Eg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function te({className:e,variant:t,size:r,asChild:a=!1,...l}){const c=a?Rs:"button";return s.jsx(c,{"data-slot":"button",className:Ce(Ol({variant:t,size:r,className:e})),...l})}function Me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e==null||e(l),r===!1||!l.defaultPrevented)return t==null?void 0:t(l)}}function $a({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,l]=gk({defaultProp:t,onChange:r}),c=e!==void 0,u=c?e:a,f=Mr(r),h=m.useCallback(p=>{if(c){const x=typeof p=="function"?p(e):p;x!==e&&f(x)}else l(p)},[c,e,l,f]);return[u,h]}function gk({defaultProp:e,onChange:t}){const r=m.useState(e),[a]=r,l=m.useRef(a),c=Mr(t);return m.useEffect(()=>{l.current!==a&&(c(a),l.current=a)},[a,l,c]),r}function Cg(e){const t=e+"CollectionProvider",[r,a]=cr(t),[l,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:j,children:N}=w,_=xe.useRef(null),C=xe.useRef(new Map).current;return s.jsx(l,{scope:j,itemMap:C,collectionRef:_,children:N})};u.displayName=t;const f=e+"CollectionSlot",h=xe.forwardRef((w,j)=>{const{scope:N,children:_}=w,C=c(f,N),E=Nt(j,C.collectionRef);return s.jsx(Rs,{ref:E,children:_})});h.displayName=f;const p=e+"CollectionItemSlot",v="data-radix-collection-item",x=xe.forwardRef((w,j)=>{const{scope:N,children:_,...C}=w,E=xe.useRef(null),R=Nt(j,E),M=c(p,N);return xe.useEffect(()=>(M.itemMap.set(E,{ref:E,...C}),()=>void M.itemMap.delete(E))),s.jsx(Rs,{[v]:"",ref:R,children:_})});x.displayName=p;function b(w){const j=c(e+"CollectionConsumer",w);return xe.useCallback(()=>{const _=j.collectionRef.current;if(!_)return[];const C=Array.from(_.querySelectorAll(`[${v}]`));return Array.from(j.itemMap.values()).sort((M,T)=>C.indexOf(M.ref.current)-C.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:h,ItemSlot:x},b,a]}var vk=m.createContext(void 0);function tf(e){const t=m.useContext(vk);return e||t||"ltr"}function xk(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e);m.useEffect(()=>{const a=l=>{l.key==="Escape"&&r(l)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var yk="DismissableLayer",Bp="dismissableLayer.update",bk="dismissableLayer.pointerDownOutside",wk="dismissableLayer.focusOutside",ew,c1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ql=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,p=m.useContext(c1),[v,x]=m.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=m.useState({}),j=Nt(t,H=>x(H)),N=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=N.indexOf(_),E=v?N.indexOf(v):-1,R=p.layersWithOutsidePointerEventsDisabled.size>0,M=E>=C,T=Nk(H=>{const F=H.target,G=[...p.branches].some(V=>V.contains(F));!M||G||(l==null||l(H),u==null||u(H),H.defaultPrevented||f==null||f())},b),z=Sk(H=>{const F=H.target;[...p.branches].some(V=>V.contains(F))||(c==null||c(H),u==null||u(H),H.defaultPrevented||f==null||f())},b);return xk(H=>{E===p.layers.size-1&&(a==null||a(H),!H.defaultPrevented&&f&&(H.preventDefault(),f()))},b),m.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(ew=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),tw(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=ew)}},[v,b,r,p]),m.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),tw())},[v,p]),m.useEffect(()=>{const H=()=>w({});return document.addEventListener(Bp,H),()=>document.removeEventListener(Bp,H)},[]),s.jsx(Je.div,{...h,ref:j,style:{pointerEvents:R?M?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,z.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,T.onPointerDownCapture)})});Ql.displayName=yk;var jk="DismissableLayerBranch",_k=m.forwardRef((e,t)=>{const r=m.useContext(c1),a=m.useRef(null),l=Nt(t,a);return m.useEffect(()=>{const c=a.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),s.jsx(Je.div,{...e,ref:l})});_k.displayName=jk;function Nk(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e),a=m.useRef(!1),l=m.useRef(()=>{});return m.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let h=function(){u1(bk,r,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=h,t.addEventListener("click",l.current,{once:!0})):h()}else t.removeEventListener("click",l.current);a.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",l.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sk(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e),a=m.useRef(!1);return m.useEffect(()=>{const l=c=>{c.target&&!a.current&&u1(wk,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function tw(){const e=new CustomEvent(Bp);document.dispatchEvent(e)}function u1(e,t,r,{discrete:a}){const l=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&l.addEventListener(e,t,{once:!0}),a?Yj(l,c):l.dispatchEvent(c)}var Jm=0;function nf(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nw()),document.body.insertAdjacentElement("beforeend",e[1]??nw()),Jm++,()=>{Jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jm--}},[])}function nw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ep="focusScope.autoFocusOnMount",tp="focusScope.autoFocusOnUnmount",rw={bubbles:!1,cancelable:!0},Ek="FocusScope",Dc=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...u}=e,[f,h]=m.useState(null),p=Mr(l),v=Mr(c),x=m.useRef(null),b=Nt(t,N=>h(N)),w=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(a){let N=function(R){if(w.paused||!f)return;const M=R.target;f.contains(M)?x.current=M:Oa(x.current,{select:!0})},_=function(R){if(w.paused||!f)return;const M=R.relatedTarget;M!==null&&(f.contains(M)||Oa(x.current,{select:!0}))},C=function(R){if(document.activeElement===document.body)for(const T of R)T.removedNodes.length>0&&Oa(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",_);const E=new MutationObserver(C);return f&&E.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",_),E.disconnect()}}},[a,f,w.paused]),m.useEffect(()=>{if(f){aw.add(w);const N=document.activeElement;if(!f.contains(N)){const C=new CustomEvent(ep,rw);f.addEventListener(ep,p),f.dispatchEvent(C),C.defaultPrevented||(Ck(kk(d1(f)),{select:!0}),document.activeElement===N&&Oa(f))}return()=>{f.removeEventListener(ep,p),setTimeout(()=>{const C=new CustomEvent(tp,rw);f.addEventListener(tp,v),f.dispatchEvent(C),C.defaultPrevented||Oa(N??document.body,{select:!0}),f.removeEventListener(tp,v),aw.remove(w)},0)}}},[f,p,v,w]);const j=m.useCallback(N=>{if(!r&&!a||w.paused)return;const _=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,C=document.activeElement;if(_&&C){const E=N.currentTarget,[R,M]=Rk(E);R&&M?!N.shiftKey&&C===M?(N.preventDefault(),r&&Oa(R,{select:!0})):N.shiftKey&&C===R&&(N.preventDefault(),r&&Oa(M,{select:!0})):C===E&&N.preventDefault()}},[r,a,w.paused]);return s.jsx(Je.div,{tabIndex:-1,...u,ref:b,onKeyDown:j})});Dc.displayName=Ek;function Ck(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Oa(a,{select:t}),document.activeElement!==r)return}function Rk(e){const t=d1(e),r=sw(t,e),a=sw(t.reverse(),e);return[r,a]}function d1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sw(e,t){for(const r of e)if(!Tk(r,{upTo:t}))return r}function Tk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mk(e){return e instanceof HTMLInputElement&&"select"in e}function Oa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Mk(e)&&t&&e.select()}}var aw=Ak();function Ak(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=iw(e,t),e.unshift(t)},remove(t){var r;e=iw(e,t),(r=e[0])==null||r.resume()}}}function iw(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function kk(e){return e.filter(t=>t.tagName!=="A")}var Dk=OC.useId||(()=>{}),Ok=0;function Es(e){const[t,r]=m.useState(Dk());return Wn(()=>{r(a=>a??String(Ok++))},[e]),e||(t?`radix-${t}`:"")}const Pk=["top","right","bottom","left"],Ba=Math.min,Rr=Math.max,Dd=Math.round,hd=Math.floor,Cs=e=>({x:e,y:e}),Lk={left:"right",right:"left",bottom:"top",top:"bottom"},Ik={start:"end",end:"start"};function Hp(e,t,r){return Rr(e,Ba(t,r))}function ta(e,t){return typeof e=="function"?e(t):e}function na(e){return e.split("-")[0]}function Zl(e){return e.split("-")[1]}function Rg(e){return e==="x"?"y":"x"}function Tg(e){return e==="y"?"height":"width"}function Ha(e){return["top","bottom"].includes(na(e))?"y":"x"}function Mg(e){return Rg(Ha(e))}function zk(e,t,r){r===void 0&&(r=!1);const a=Zl(e),l=Mg(e),c=Tg(l);let u=l==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Od(u)),[u,Od(u)]}function Uk(e){const t=Od(e);return[qp(e),t,qp(t)]}function qp(e){return e.replace(/start|end/g,t=>Ik[t])}function $k(e,t,r){const a=["left","right"],l=["right","left"],c=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return r?t?l:a:t?a:l;case"left":case"right":return t?c:u;default:return[]}}function Bk(e,t,r,a){const l=Zl(e);let c=$k(na(e),r==="start",a);return l&&(c=c.map(u=>u+"-"+l),t&&(c=c.concat(c.map(qp)))),c}function Od(e){return e.replace(/left|right|bottom|top/g,t=>Lk[t])}function Hk(e){return{top:0,right:0,bottom:0,left:0,...e}}function f1(e){return typeof e!="number"?Hk(e):{top:e,right:e,bottom:e,left:e}}function Pd(e){const{x:t,y:r,width:a,height:l}=e;return{width:a,height:l,top:r,left:t,right:t+a,bottom:r+l,x:t,y:r}}function lw(e,t,r){let{reference:a,floating:l}=e;const c=Ha(t),u=Mg(t),f=Tg(u),h=na(t),p=c==="y",v=a.x+a.width/2-l.width/2,x=a.y+a.height/2-l.height/2,b=a[f]/2-l[f]/2;let w;switch(h){case"top":w={x:v,y:a.y-l.height};break;case"bottom":w={x:v,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:x};break;case"left":w={x:a.x-l.width,y:x};break;default:w={x:a.x,y:a.y}}switch(Zl(t)){case"start":w[u]-=b*(r&&p?-1:1);break;case"end":w[u]+=b*(r&&p?-1:1);break}return w}const qk=async(e,t,r)=>{const{placement:a="bottom",strategy:l="absolute",middleware:c=[],platform:u}=r,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:l}),{x:v,y:x}=lw(p,a,h),b=a,w={},j=0;for(let N=0;N<f.length;N++){const{name:_,fn:C}=f[N],{x:E,y:R,data:M,reset:T}=await C({x:v,y:x,initialPlacement:a,placement:b,strategy:l,middlewareData:w,rects:p,platform:u,elements:{reference:e,floating:t}});v=E??v,x=R??x,w={...w,[_]:{...w[_],...M}},T&&j<=50&&(j++,typeof T=="object"&&(T.placement&&(b=T.placement),T.rects&&(p=T.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:l}):T.rects),{x:v,y:x}=lw(p,b,h)),N=-1)}return{x:v,y:x,placement:b,strategy:l,middlewareData:w}};async function vc(e,t){var r;t===void 0&&(t={});const{x:a,y:l,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:x="floating",altBoundary:b=!1,padding:w=0}=ta(t,e),j=f1(w),_=f[b?x==="floating"?"reference":"floating":x],C=Pd(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(_)))==null||r?_:_.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:h})),E=x==="floating"?{x:a,y:l,width:u.floating.width,height:u.floating.height}:u.reference,R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),M=await(c.isElement==null?void 0:c.isElement(R))?await(c.getScale==null?void 0:c.getScale(R))||{x:1,y:1}:{x:1,y:1},T=Pd(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:E,offsetParent:R,strategy:h}):E);return{top:(C.top-T.top+j.top)/M.y,bottom:(T.bottom-C.bottom+j.bottom)/M.y,left:(C.left-T.left+j.left)/M.x,right:(T.right-C.right+j.right)/M.x}}const Fk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:l,rects:c,platform:u,elements:f,middlewareData:h}=t,{element:p,padding:v=0}=ta(e,t)||{};if(p==null)return{};const x=f1(v),b={x:r,y:a},w=Mg(l),j=Tg(w),N=await u.getDimensions(p),_=w==="y",C=_?"top":"left",E=_?"bottom":"right",R=_?"clientHeight":"clientWidth",M=c.reference[j]+c.reference[w]-b[w]-c.floating[j],T=b[w]-c.reference[w],z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let H=z?z[R]:0;(!H||!await(u.isElement==null?void 0:u.isElement(z)))&&(H=f.floating[R]||c.floating[j]);const F=M/2-T/2,G=H/2-N[j]/2-1,V=Ba(x[C],G),ue=Ba(x[E],G),re=V,I=H-N[j]-ue,oe=H/2-N[j]/2+F,ce=Hp(re,oe,I),D=!h.arrow&&Zl(l)!=null&&oe!==ce&&c.reference[j]/2-(oe<re?V:ue)-N[j]/2<0,X=D?oe<re?oe-re:oe-I:0;return{[w]:b[w]+X,data:{[w]:ce,centerOffset:oe-ce-X,...D&&{alignmentOffset:X}},reset:D}}}),Vk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:l,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:p}=t,{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,..._}=ta(e,t);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const C=na(l),E=Ha(f),R=na(f)===f,M=await(h.isRTL==null?void 0:h.isRTL(p.floating)),T=b||(R||!N?[Od(f)]:Uk(f)),z=j!=="none";!b&&z&&T.push(...Bk(f,N,j,M));const H=[f,...T],F=await vc(t,_),G=[];let V=((a=c.flip)==null?void 0:a.overflows)||[];if(v&&G.push(F[C]),x){const oe=zk(l,u,M);G.push(F[oe[0]],F[oe[1]])}if(V=[...V,{placement:l,overflows:G}],!G.every(oe=>oe<=0)){var ue,re;const oe=(((ue=c.flip)==null?void 0:ue.index)||0)+1,ce=H[oe];if(ce)return{data:{index:oe,overflows:V},reset:{placement:ce}};let D=(re=V.filter(X=>X.overflows[0]<=0).sort((X,U)=>X.overflows[1]-U.overflows[1])[0])==null?void 0:re.placement;if(!D)switch(w){case"bestFit":{var I;const X=(I=V.filter(U=>{if(z){const J=Ha(U.placement);return J===E||J==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(J=>J>0).reduce((J,k)=>J+k,0)]).sort((U,J)=>U[1]-J[1])[0])==null?void 0:I[0];X&&(D=X);break}case"initialPlacement":D=f;break}if(l!==D)return{reset:{placement:D}}}return{}}}};function ow(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cw(e){return Pk.some(t=>e[t]>=0)}const Yk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...l}=ta(e,t);switch(a){case"referenceHidden":{const c=await vc(t,{...l,elementContext:"reference"}),u=ow(c,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:cw(u)}}}case"escaped":{const c=await vc(t,{...l,altBoundary:!0}),u=ow(c,r.floating);return{data:{escapedOffsets:u,escaped:cw(u)}}}default:return{}}}}};async function Gk(e,t){const{placement:r,platform:a,elements:l}=e,c=await(a.isRTL==null?void 0:a.isRTL(l.floating)),u=na(r),f=Zl(r),h=Ha(r)==="y",p=["left","top"].includes(u)?-1:1,v=c&&h?-1:1,x=ta(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:j}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof j=="number"&&(w=f==="end"?j*-1:j),h?{x:w*v,y:b*p}:{x:b*p,y:w*v}}const Wk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:l,y:c,placement:u,middlewareData:f}=t,h=await Gk(t,e);return u===((r=f.offset)==null?void 0:r.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:l+h.x,y:c+h.y,data:{...h,placement:u}}}}},Xk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:l}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:_=>{let{x:C,y:E}=_;return{x:C,y:E}}},...h}=ta(e,t),p={x:r,y:a},v=await vc(t,h),x=Ha(na(l)),b=Rg(x);let w=p[b],j=p[x];if(c){const _=b==="y"?"top":"left",C=b==="y"?"bottom":"right",E=w+v[_],R=w-v[C];w=Hp(E,w,R)}if(u){const _=x==="y"?"top":"left",C=x==="y"?"bottom":"right",E=j+v[_],R=j-v[C];j=Hp(E,j,R)}const N=f.fn({...t,[b]:w,[x]:j});return{...N,data:{x:N.x-r,y:N.y-a,enabled:{[b]:c,[x]:u}}}}}},Kk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:l,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:p=!0}=ta(e,t),v={x:r,y:a},x=Ha(l),b=Rg(x);let w=v[b],j=v[x];const N=ta(f,t),_=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(h){const R=b==="y"?"height":"width",M=c.reference[b]-c.floating[R]+_.mainAxis,T=c.reference[b]+c.reference[R]-_.mainAxis;w<M?w=M:w>T&&(w=T)}if(p){var C,E;const R=b==="y"?"width":"height",M=["top","left"].includes(na(l)),T=c.reference[x]-c.floating[R]+(M&&((C=u.offset)==null?void 0:C[x])||0)+(M?0:_.crossAxis),z=c.reference[x]+c.reference[R]+(M?0:((E=u.offset)==null?void 0:E[x])||0)-(M?_.crossAxis:0);j<T?j=T:j>z&&(j=z)}return{[b]:w,[x]:j}}}},Qk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:l,rects:c,platform:u,elements:f}=t,{apply:h=()=>{},...p}=ta(e,t),v=await vc(t,p),x=na(l),b=Zl(l),w=Ha(l)==="y",{width:j,height:N}=c.floating;let _,C;x==="top"||x==="bottom"?(_=x,C=b===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(C=x,_=b==="end"?"top":"bottom");const E=N-v.top-v.bottom,R=j-v.left-v.right,M=Ba(N-v[_],E),T=Ba(j-v[C],R),z=!t.middlewareData.shift;let H=M,F=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(F=R),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(H=E),z&&!b){const V=Rr(v.left,0),ue=Rr(v.right,0),re=Rr(v.top,0),I=Rr(v.bottom,0);w?F=j-2*(V!==0||ue!==0?V+ue:Rr(v.left,v.right)):H=N-2*(re!==0||I!==0?re+I:Rr(v.top,v.bottom))}await h({...t,availableWidth:F,availableHeight:H});const G=await u.getDimensions(f.floating);return j!==G.width||N!==G.height?{reset:{rects:!0}}:{}}}};function rf(){return typeof window<"u"}function Jl(e){return h1(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(h1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function h1(e){return rf()?e instanceof Node||e instanceof Tr(e).Node:!1}function ss(e){return rf()?e instanceof Element||e instanceof Tr(e).Element:!1}function Ts(e){return rf()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function uw(e){return!rf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}function Oc(e){const{overflow:t,overflowX:r,overflowY:a,display:l}=as(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(l)}function Zk(e){return["table","td","th"].includes(Jl(e))}function sf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ag(e){const t=kg(),r=ss(e)?as(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function Jk(e){let t=qa(e);for(;Ts(t)&&!Pl(t);){if(Ag(t))return t;if(sf(t))return null;t=qa(t)}return null}function kg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pl(e){return["html","body","#document"].includes(Jl(e))}function as(e){return Tr(e).getComputedStyle(e)}function af(e){return ss(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qa(e){if(Jl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uw(e)&&e.host||ks(e);return uw(t)?t.host:t}function m1(e){const t=qa(e);return Pl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ts(t)&&Oc(t)?t:m1(t)}function xc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const l=m1(e),c=l===((a=e.ownerDocument)==null?void 0:a.body),u=Tr(l);if(c){const f=Fp(u);return t.concat(u,u.visualViewport||[],Oc(l)?l:[],f&&r?xc(f):[])}return t.concat(l,xc(l,[],r))}function Fp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p1(e){const t=as(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const l=Ts(e),c=l?e.offsetWidth:r,u=l?e.offsetHeight:a,f=Dd(r)!==c||Dd(a)!==u;return f&&(r=c,a=u),{width:r,height:a,$:f}}function Dg(e){return ss(e)?e:e.contextElement}function Cl(e){const t=Dg(e);if(!Ts(t))return Cs(1);const r=t.getBoundingClientRect(),{width:a,height:l,$:c}=p1(t);let u=(c?Dd(r.width):r.width)/a,f=(c?Dd(r.height):r.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const e4=Cs(0);function g1(e){const t=Tr(e);return!kg()||!t.visualViewport?e4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function t4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Tr(e)?!1:t}function Ei(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const l=e.getBoundingClientRect(),c=Dg(e);let u=Cs(1);t&&(a?ss(a)&&(u=Cl(a)):u=Cl(e));const f=t4(c,r,a)?g1(c):Cs(0);let h=(l.left+f.x)/u.x,p=(l.top+f.y)/u.y,v=l.width/u.x,x=l.height/u.y;if(c){const b=Tr(c),w=a&&ss(a)?Tr(a):a;let j=b,N=Fp(j);for(;N&&a&&w!==j;){const _=Cl(N),C=N.getBoundingClientRect(),E=as(N),R=C.left+(N.clientLeft+parseFloat(E.paddingLeft))*_.x,M=C.top+(N.clientTop+parseFloat(E.paddingTop))*_.y;h*=_.x,p*=_.y,v*=_.x,x*=_.y,h+=R,p+=M,j=Tr(N),N=Fp(j)}}return Pd({width:v,height:x,x:h,y:p})}function Og(e,t){const r=af(e).scrollLeft;return t?t.left+r:Ei(ks(e)).left+r}function v1(e,t,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),l=a.left+t.scrollLeft-(r?0:Og(e,a)),c=a.top+t.scrollTop;return{x:l,y:c}}function n4(e){let{elements:t,rect:r,offsetParent:a,strategy:l}=e;const c=l==="fixed",u=ks(a),f=t?sf(t.floating):!1;if(a===u||f&&c)return r;let h={scrollLeft:0,scrollTop:0},p=Cs(1);const v=Cs(0),x=Ts(a);if((x||!x&&!c)&&((Jl(a)!=="body"||Oc(u))&&(h=af(a)),Ts(a))){const w=Ei(a);p=Cl(a),v.x=w.x+a.clientLeft,v.y=w.y+a.clientTop}const b=u&&!x&&!c?v1(u,h,!0):Cs(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-h.scrollLeft*p.x+v.x+b.x,y:r.y*p.y-h.scrollTop*p.y+v.y+b.y}}function r4(e){return Array.from(e.getClientRects())}function s4(e){const t=ks(e),r=af(e),a=e.ownerDocument.body,l=Rr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),c=Rr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let u=-r.scrollLeft+Og(e);const f=-r.scrollTop;return as(a).direction==="rtl"&&(u+=Rr(t.clientWidth,a.clientWidth)-l),{width:l,height:c,x:u,y:f}}function a4(e,t){const r=Tr(e),a=ks(e),l=r.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,h=0;if(l){c=l.width,u=l.height;const p=kg();(!p||p&&t==="fixed")&&(f=l.offsetLeft,h=l.offsetTop)}return{width:c,height:u,x:f,y:h}}function i4(e,t){const r=Ei(e,!0,t==="fixed"),a=r.top+e.clientTop,l=r.left+e.clientLeft,c=Ts(e)?Cl(e):Cs(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=l*c.x,p=a*c.y;return{width:u,height:f,x:h,y:p}}function dw(e,t,r){let a;if(t==="viewport")a=a4(e,r);else if(t==="document")a=s4(ks(e));else if(ss(t))a=i4(t,r);else{const l=g1(e);a={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Pd(a)}function x1(e,t){const r=qa(e);return r===t||!ss(r)||Pl(r)?!1:as(r).position==="fixed"||x1(r,t)}function l4(e,t){const r=t.get(e);if(r)return r;let a=xc(e,[],!1).filter(f=>ss(f)&&Jl(f)!=="body"),l=null;const c=as(e).position==="fixed";let u=c?qa(e):e;for(;ss(u)&&!Pl(u);){const f=as(u),h=Ag(u);!h&&f.position==="fixed"&&(l=null),(c?!h&&!l:!h&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Oc(u)&&!h&&x1(e,u))?a=a.filter(v=>v!==u):l=f,u=qa(u)}return t.set(e,a),a}function o4(e){let{element:t,boundary:r,rootBoundary:a,strategy:l}=e;const u=[...r==="clippingAncestors"?sf(t)?[]:l4(t,this._c):[].concat(r),a],f=u[0],h=u.reduce((p,v)=>{const x=dw(t,v,l);return p.top=Rr(x.top,p.top),p.right=Ba(x.right,p.right),p.bottom=Ba(x.bottom,p.bottom),p.left=Rr(x.left,p.left),p},dw(t,f,l));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function c4(e){const{width:t,height:r}=p1(e);return{width:t,height:r}}function u4(e,t,r){const a=Ts(t),l=ks(t),c=r==="fixed",u=Ei(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const h=Cs(0);if(a||!a&&!c)if((Jl(t)!=="body"||Oc(l))&&(f=af(t)),a){const b=Ei(t,!0,c,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else l&&(h.x=Og(l));const p=l&&!a&&!c?v1(l,f):Cs(0),v=u.left+f.scrollLeft-h.x-p.x,x=u.top+f.scrollTop-h.y-p.y;return{x:v,y:x,width:u.width,height:u.height}}function np(e){return as(e).position==="static"}function fw(e,t){if(!Ts(e)||as(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ks(e)===r&&(r=r.ownerDocument.body),r}function y1(e,t){const r=Tr(e);if(sf(e))return r;if(!Ts(e)){let l=qa(e);for(;l&&!Pl(l);){if(ss(l)&&!np(l))return l;l=qa(l)}return r}let a=fw(e,t);for(;a&&Zk(a)&&np(a);)a=fw(a,t);return a&&Pl(a)&&np(a)&&!Ag(a)?r:a||Jk(e)||r}const d4=async function(e){const t=this.getOffsetParent||y1,r=this.getDimensions,a=await r(e.floating);return{reference:u4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function f4(e){return as(e).direction==="rtl"}const h4={convertOffsetParentRelativeRectToViewportRelativeRect:n4,getDocumentElement:ks,getClippingRect:o4,getOffsetParent:y1,getElementRects:d4,getClientRects:r4,getDimensions:c4,getScale:Cl,isElement:ss,isRTL:f4};function b1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function m4(e,t){let r=null,a;const l=ks(e);function c(){var f;clearTimeout(a),(f=r)==null||f.disconnect(),r=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const p=e.getBoundingClientRect(),{left:v,top:x,width:b,height:w}=p;if(f||t(),!b||!w)return;const j=hd(x),N=hd(l.clientWidth-(v+b)),_=hd(l.clientHeight-(x+w)),C=hd(v),R={rootMargin:-j+"px "+-N+"px "+-_+"px "+-C+"px",threshold:Rr(0,Ba(1,h))||1};let M=!0;function T(z){const H=z[0].intersectionRatio;if(H!==h){if(!M)return u();H?u(!1,H):a=setTimeout(()=>{u(!1,1e-7)},1e3)}H===1&&!b1(p,e.getBoundingClientRect())&&u(),M=!1}try{r=new IntersectionObserver(T,{...R,root:l.ownerDocument})}catch{r=new IntersectionObserver(T,R)}r.observe(e)}return u(!0),c}function p4(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,p=Dg(e),v=l||c?[...p?xc(p):[],...xc(t)]:[];v.forEach(C=>{l&&C.addEventListener("scroll",r,{passive:!0}),c&&C.addEventListener("resize",r)});const x=p&&f?m4(p,r):null;let b=-1,w=null;u&&(w=new ResizeObserver(C=>{let[E]=C;E&&E.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(t)})),r()}),p&&!h&&w.observe(p),w.observe(t));let j,N=h?Ei(e):null;h&&_();function _(){const C=Ei(e);N&&!b1(N,C)&&r(),N=C,j=requestAnimationFrame(_)}return r(),()=>{var C;v.forEach(E=>{l&&E.removeEventListener("scroll",r),c&&E.removeEventListener("resize",r)}),x==null||x(),(C=w)==null||C.disconnect(),w=null,h&&cancelAnimationFrame(j)}}const g4=Wk,v4=Xk,x4=Vk,y4=Qk,b4=Yk,hw=Fk,w4=Kk,j4=(e,t,r)=>{const a=new Map,l={platform:h4,...r},c={...l.platform,_c:a};return qk(e,t,{...l,platform:c})};var Sd=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ld(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Ld(e[a],t[a]))return!1;return!0}if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){const c=l[a];if(!(c==="_owner"&&e.$$typeof)&&!Ld(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function w1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mw(e,t){const r=w1(e);return Math.round(t*r)/r}function rp(e){const t=m.useRef(e);return Sd(()=>{t.current=e}),t}function _4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:l,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:p}=e,[v,x]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=m.useState(a);Ld(b,a)||w(a);const[j,N]=m.useState(null),[_,C]=m.useState(null),E=m.useCallback(U=>{U!==z.current&&(z.current=U,N(U))},[]),R=m.useCallback(U=>{U!==H.current&&(H.current=U,C(U))},[]),M=c||j,T=u||_,z=m.useRef(null),H=m.useRef(null),F=m.useRef(v),G=h!=null,V=rp(h),ue=rp(l),re=rp(p),I=m.useCallback(()=>{if(!z.current||!H.current)return;const U={placement:t,strategy:r,middleware:b};ue.current&&(U.platform=ue.current),j4(z.current,H.current,U).then(J=>{const k={...J,isPositioned:re.current!==!1};oe.current&&!Ld(F.current,k)&&(F.current=k,Ns.flushSync(()=>{x(k)}))})},[b,t,r,ue,re]);Sd(()=>{p===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,x(U=>({...U,isPositioned:!1})))},[p]);const oe=m.useRef(!1);Sd(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Sd(()=>{if(M&&(z.current=M),T&&(H.current=T),M&&T){if(V.current)return V.current(M,T,I);I()}},[M,T,I,V,G]);const ce=m.useMemo(()=>({reference:z,floating:H,setReference:E,setFloating:R}),[E,R]),D=m.useMemo(()=>({reference:M,floating:T}),[M,T]),X=m.useMemo(()=>{const U={position:r,left:0,top:0};if(!D.floating)return U;const J=mw(D.floating,v.x),k=mw(D.floating,v.y);return f?{...U,transform:"translate("+J+"px, "+k+"px)",...w1(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:k}},[r,f,D.floating,v.x,v.y]);return m.useMemo(()=>({...v,update:I,refs:ce,elements:D,floatingStyles:X}),[v,I,ce,D,X])}const N4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:l}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?hw({element:a.current,padding:l}).fn(r):{}:a?hw({element:a,padding:l}).fn(r):{}}}},S4=(e,t)=>({...g4(e),options:[e,t]}),E4=(e,t)=>({...v4(e),options:[e,t]}),C4=(e,t)=>({...w4(e),options:[e,t]}),R4=(e,t)=>({...x4(e),options:[e,t]}),T4=(e,t)=>({...y4(e),options:[e,t]}),M4=(e,t)=>({...b4(e),options:[e,t]}),A4=(e,t)=>({...N4(e),options:[e,t]});var k4="Arrow",j1=m.forwardRef((e,t)=>{const{children:r,width:a=10,height:l=5,...c}=e;return s.jsx(Je.svg,{...c,ref:t,width:a,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});j1.displayName=k4;var D4=j1;function Pg(e){const[t,r]=m.useState(void 0);return Wn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,f=p.blockSize}else u=e.offsetWidth,f=e.offsetHeight;r({width:u,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var Lg="Popper",[_1,Ya]=cr(Lg),[O4,N1]=_1(Lg),S1=e=>{const{__scopePopper:t,children:r}=e,[a,l]=m.useState(null);return s.jsx(O4,{scope:t,anchor:a,onAnchorChange:l,children:r})};S1.displayName=Lg;var E1="PopperAnchor",C1=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...l}=e,c=N1(E1,r),u=m.useRef(null),f=Nt(t,u);return m.useEffect(()=>{c.onAnchorChange((a==null?void 0:a.current)||u.current)}),a?null:s.jsx(Je.div,{...l,ref:f})});C1.displayName=E1;var Ig="PopperContent",[P4,L4]=_1(Ig),R1=m.forwardRef((e,t)=>{var K,se,ge,fe,ae,de;const{__scopePopper:r,side:a="bottom",sideOffset:l=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:j,...N}=e,_=N1(Ig,r),[C,E]=m.useState(null),R=Nt(t,Ae=>E(Ae)),[M,T]=m.useState(null),z=Pg(M),H=(z==null?void 0:z.width)??0,F=(z==null?void 0:z.height)??0,G=a+(c!=="center"?"-"+c:""),V=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},ue=Array.isArray(p)?p:[p],re=ue.length>0,I={padding:V,boundary:ue.filter(z4),altBoundary:re},{refs:oe,floatingStyles:ce,placement:D,isPositioned:X,middlewareData:U}=_4({strategy:"fixed",placement:G,whileElementsMounted:(...Ae)=>p4(...Ae,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[S4({mainAxis:l+F,alignmentAxis:u}),h&&E4({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?C4():void 0,...I}),h&&R4({...I}),T4({...I,apply:({elements:Ae,rects:Le,availableWidth:ke,availableHeight:_e})=>{const{width:He,height:we}=Le.reference,Te=Ae.floating.style;Te.setProperty("--radix-popper-available-width",`${ke}px`),Te.setProperty("--radix-popper-available-height",`${_e}px`),Te.setProperty("--radix-popper-anchor-width",`${He}px`),Te.setProperty("--radix-popper-anchor-height",`${we}px`)}}),M&&A4({element:M,padding:f}),U4({arrowWidth:H,arrowHeight:F}),b&&M4({strategy:"referenceHidden",...I})]}),[J,k]=A1(D),P=Mr(j);Wn(()=>{X&&(P==null||P())},[X,P]);const q=(K=U.arrow)==null?void 0:K.x,W=(se=U.arrow)==null?void 0:se.y,O=((ge=U.arrow)==null?void 0:ge.centerOffset)!==0,[$,B]=m.useState();return Wn(()=>{C&&B(window.getComputedStyle(C).zIndex)},[C]),s.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:X?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$,"--radix-popper-transform-origin":[(fe=U.transformOrigin)==null?void 0:fe.x,(ae=U.transformOrigin)==null?void 0:ae.y].join(" "),...((de=U.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(P4,{scope:r,placedSide:J,onArrowChange:T,arrowX:q,arrowY:W,shouldHideArrow:O,children:s.jsx(Je.div,{"data-side":J,"data-align":k,...N,ref:R,style:{...N.style,animation:X?void 0:"none"}})})})});R1.displayName=Ig;var T1="PopperArrow",I4={top:"bottom",right:"left",bottom:"top",left:"right"},M1=m.forwardRef(function(t,r){const{__scopePopper:a,...l}=t,c=L4(T1,a),u=I4[c.placedSide];return s.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:s.jsx(D4,{...l,ref:r,style:{...l.style,display:"block"}})})});M1.displayName=T1;function z4(e){return e!==null}var U4=e=>({name:"transformOrigin",options:e,fn(t){var _,C,E;const{placement:r,rects:a,middlewareData:l}=t,u=((_=l.arrow)==null?void 0:_.centerOffset)!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[p,v]=A1(r),x={start:"0%",center:"50%",end:"100%"}[v],b=(((C=l.arrow)==null?void 0:C.x)??0)+f/2,w=(((E=l.arrow)==null?void 0:E.y)??0)+h/2;let j="",N="";return p==="bottom"?(j=u?x:`${b}px`,N=`${-h}px`):p==="top"?(j=u?x:`${b}px`,N=`${a.floating.height+h}px`):p==="right"?(j=`${-h}px`,N=u?x:`${w}px`):p==="left"&&(j=`${a.floating.width+h}px`,N=u?x:`${w}px`),{data:{x:j,y:N}}}});function A1(e){const[t,r="center"]=e.split("-");return[t,r]}var zg=S1,Pc=C1,lf=R1,of=M1,$4="Portal",Lc=m.forwardRef((e,t)=>{var f;const{container:r,...a}=e,[l,c]=m.useState(!1);Wn(()=>c(!0),[]);const u=r||l&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?Sj.createPortal(s.jsx(Je.div,{...a,ref:t}),u):null});Lc.displayName=$4;function B4(e,t){return m.useReducer((r,a)=>t[r][a]??r,e)}var Dr=e=>{const{present:t,children:r}=e,a=H4(t),l=typeof r=="function"?r({present:a.isPresent}):m.Children.only(r),c=Nt(a.ref,q4(l));return typeof r=="function"||a.isPresent?m.cloneElement(l,{ref:c}):null};Dr.displayName="Presence";function H4(e){const[t,r]=m.useState(),a=m.useRef({}),l=m.useRef(e),c=m.useRef("none"),u=e?"mounted":"unmounted",[f,h]=B4(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const p=md(a.current);c.current=f==="mounted"?p:"none"},[f]),Wn(()=>{const p=a.current,v=l.current;if(v!==e){const b=c.current,w=md(p);e?h("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(v&&b!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,h]),Wn(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,x=w=>{const N=md(a.current).includes(w.animationName);if(w.target===t&&N&&(h("ANIMATION_END"),!l.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},b=w=>{w.target===t&&(c.current=md(a.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:m.useCallback(p=>{p&&(a.current=getComputedStyle(p)),r(p)},[])}}function md(e){return(e==null?void 0:e.animationName)||"none"}function q4(e){var a,l;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sp="rovingFocusGroup.onEntryFocus",F4={bubbles:!1,cancelable:!0},cf="RovingFocusGroup",[Vp,k1,V4]=Cg(cf),[Y4,uf]=cr(cf,[V4]),[G4,W4]=Y4(cf),D1=m.forwardRef((e,t)=>s.jsx(Vp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Vp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(X4,{...e,ref:t})})}));D1.displayName=cf;var X4=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:l=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...x}=e,b=m.useRef(null),w=Nt(t,b),j=tf(c),[N=null,_]=$a({prop:u,defaultProp:f,onChange:h}),[C,E]=m.useState(!1),R=Mr(p),M=k1(r),T=m.useRef(!1),[z,H]=m.useState(0);return m.useEffect(()=>{const F=b.current;if(F)return F.addEventListener(sp,R),()=>F.removeEventListener(sp,R)},[R]),s.jsx(G4,{scope:r,orientation:a,dir:j,loop:l,currentTabStopId:N,onItemFocus:m.useCallback(F=>_(F),[_]),onItemShiftTab:m.useCallback(()=>E(!0),[]),onFocusableItemAdd:m.useCallback(()=>H(F=>F+1),[]),onFocusableItemRemove:m.useCallback(()=>H(F=>F-1),[]),children:s.jsx(Je.div,{tabIndex:C||z===0?-1:0,"data-orientation":a,...x,ref:w,style:{outline:"none",...e.style},onMouseDown:Me(e.onMouseDown,()=>{T.current=!0}),onFocus:Me(e.onFocus,F=>{const G=!T.current;if(F.target===F.currentTarget&&G&&!C){const V=new CustomEvent(sp,F4);if(F.currentTarget.dispatchEvent(V),!V.defaultPrevented){const ue=M().filter(D=>D.focusable),re=ue.find(D=>D.active),I=ue.find(D=>D.id===N),ce=[re,I,...ue].filter(Boolean).map(D=>D.ref.current);L1(ce,v)}}T.current=!1}),onBlur:Me(e.onBlur,()=>E(!1))})})}),O1="RovingFocusGroupItem",P1=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:c,...u}=e,f=Es(),h=c||f,p=W4(O1,r),v=p.currentTabStopId===h,x=k1(r),{onFocusableItemAdd:b,onFocusableItemRemove:w}=p;return m.useEffect(()=>{if(a)return b(),()=>w()},[a,b,w]),s.jsx(Vp.ItemSlot,{scope:r,id:h,focusable:a,active:l,children:s.jsx(Je.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Me(e.onMouseDown,j=>{a?p.onItemFocus(h):j.preventDefault()}),onFocus:Me(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:Me(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const N=Z4(j,p.orientation,p.dir);if(N!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let C=x().filter(E=>E.focusable).map(E=>E.ref.current);if(N==="last")C.reverse();else if(N==="prev"||N==="next"){N==="prev"&&C.reverse();const E=C.indexOf(j.currentTarget);C=p.loop?J4(C,E+1):C.slice(E+1)}setTimeout(()=>L1(C))}})})})});P1.displayName=O1;var K4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Z4(e,t,r){const a=Q4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return K4[a]}function L1(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function J4(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var I1=D1,z1=P1,eD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wl=new WeakMap,pd=new WeakMap,gd={},ap=0,U1=function(e){return e&&(e.host||U1(e.parentNode))},tD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=U1(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nD=function(e,t,r,a){var l=tD(t,Array.isArray(e)?e:[e]);gd[r]||(gd[r]=new WeakMap);var c=gd[r],u=[],f=new Set,h=new Set(l),p=function(x){!x||f.has(x)||(f.add(x),p(x.parentNode))};l.forEach(p);var v=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(b){if(f.has(b))v(b);else try{var w=b.getAttribute(a),j=w!==null&&w!=="false",N=(wl.get(b)||0)+1,_=(c.get(b)||0)+1;wl.set(b,N),c.set(b,_),u.push(b),N===1&&j&&pd.set(b,!0),_===1&&b.setAttribute(r,"true"),j||b.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return v(t),f.clear(),ap++,function(){u.forEach(function(x){var b=wl.get(x)-1,w=c.get(x)-1;wl.set(x,b),c.set(x,w),b||(pd.has(x)||x.removeAttribute(a),pd.delete(x)),w||x.removeAttribute(r)}),ap--,ap||(wl=new WeakMap,wl=new WeakMap,pd=new WeakMap,gd={})}},df=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),l=eD(e);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live]"))),nD(a,l,r,"aria-hidden")):function(){return null}},ws=function(){return ws=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},ws.apply(this,arguments)};function $1(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r}function rD(e,t,r){if(r||arguments.length===2)for(var a=0,l=t.length,c;a<l;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))}var Ed="right-scroll-bar-position",Cd="width-before-scroll-bar",sD="with-scroll-bars-hidden",aD="--removed-body-scroll-bar-size";function ip(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function iD(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var l=r.value;l!==a&&(r.value=a,r.callback(a,l))}}}})[0];return r.callback=t,r.facade}var lD=typeof window<"u"?m.useLayoutEffect:m.useEffect,pw=new WeakMap;function oD(e,t){var r=iD(null,function(a){return e.forEach(function(l){return ip(l,a)})});return lD(function(){var a=pw.get(r);if(a){var l=new Set(a),c=new Set(e),u=r.current;l.forEach(function(f){c.has(f)||ip(f,null)}),c.forEach(function(f){l.has(f)||ip(f,u)})}pw.set(r,e)},[e]),r}function cD(e){return e}function uD(e,t){t===void 0&&(t=cD);var r=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var u=t(c,a);return r.push(u),function(){r=r.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(a=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){a=!0;var u=[];if(r.length){var f=r;r=[],f.forEach(c),u=r}var h=function(){var v=u;u=[],v.forEach(c)},p=function(){return Promise.resolve().then(h)};p(),r={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),r}}}};return l}function dD(e){e===void 0&&(e={});var t=uD(null);return t.options=ws({async:!0,ssr:!1},e),t}var B1=function(e){var t=e.sideCar,r=$1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return m.createElement(a,ws({},r))};B1.isSideCarExport=!0;function fD(e,t){return e.useMedium(t),B1}var H1=dD(),lp=function(){},ff=m.forwardRef(function(e,t){var r=m.useRef(null),a=m.useState({onScrollCapture:lp,onWheelCapture:lp,onTouchMoveCapture:lp}),l=a[0],c=a[1],u=e.forwardProps,f=e.children,h=e.className,p=e.removeScrollBar,v=e.enabled,x=e.shards,b=e.sideCar,w=e.noIsolation,j=e.inert,N=e.allowPinchZoom,_=e.as,C=_===void 0?"div":_,E=e.gapMode,R=$1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,T=oD([r,t]),z=ws(ws({},R),l);return m.createElement(m.Fragment,null,v&&m.createElement(M,{sideCar:H1,removeScrollBar:p,shards:x,noIsolation:w,inert:j,setCallbacks:c,allowPinchZoom:!!N,lockRef:r,gapMode:E}),u?m.cloneElement(m.Children.only(f),ws(ws({},z),{ref:T})):m.createElement(C,ws({},z,{className:h,ref:T}),f))});ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ff.classNames={fullWidth:Cd,zeroRight:Ed};var hD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hD();return t&&e.setAttribute("nonce",t),e}function pD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=mD())&&(pD(t,r),gD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xD=function(){var e=vD();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},q1=function(){var e=xD(),t=function(r){var a=r.styles,l=r.dynamic;return e(a,l),null};return t},yD={left:0,top:0,right:0,gap:0},op=function(e){return parseInt(e||"",10)||0},bD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[op(r),op(a),op(l)]},wD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yD;var t=bD(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},jD=q1(),Rl="data-scroll-locked",_D=function(e,t,r,a){var l=e.left,c=e.top,u=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(sD,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(Rl,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Cd,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Rl,`] {
    `).concat(aD,": ").concat(f,`px;
  }
`)},gw=function(){var e=parseInt(document.body.getAttribute(Rl)||"0",10);return isFinite(e)?e:0},ND=function(){m.useEffect(function(){return document.body.setAttribute(Rl,(gw()+1).toString()),function(){var e=gw()-1;e<=0?document.body.removeAttribute(Rl):document.body.setAttribute(Rl,e.toString())}},[])},SD=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,l=a===void 0?"margin":a;ND();var c=m.useMemo(function(){return wD(l)},[l]);return m.createElement(jD,{styles:_D(c,!t,l,r?"":"!important")})},Yp=!1;if(typeof window<"u")try{var vd=Object.defineProperty({},"passive",{get:function(){return Yp=!0,!0}});window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{Yp=!1}var jl=Yp?{passive:!1}:!1,ED=function(e){return e.tagName==="TEXTAREA"},F1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ED(e)&&r[t]==="visible")},CD=function(e){return F1(e,"overflowY")},RD=function(e){return F1(e,"overflowX")},vw=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=V1(e,a);if(l){var c=Y1(e,a),u=c[1],f=c[2];if(u>f)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},TD=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},MD=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},V1=function(e,t){return e==="v"?CD(t):RD(t)},Y1=function(e,t){return e==="v"?TD(t):MD(t)},AD=function(e,t){return e==="h"&&t==="rtl"?-1:1},kD=function(e,t,r,a,l){var c=AD(e,window.getComputedStyle(t).direction),u=c*a,f=r.target,h=t.contains(f),p=!1,v=u>0,x=0,b=0;do{var w=Y1(e,f),j=w[0],N=w[1],_=w[2],C=N-_-c*j;(j||C)&&V1(e,f)&&(x+=C,b+=j),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(v&&Math.abs(x)<1||!v&&Math.abs(b)<1)&&(p=!0),p},xd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xw=function(e){return[e.deltaX,e.deltaY]},yw=function(e){return e&&"current"in e?e.current:e},DD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},OD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PD=0,_l=[];function LD(e){var t=m.useRef([]),r=m.useRef([0,0]),a=m.useRef(),l=m.useState(PD++)[0],c=m.useState(q1)[0],u=m.useRef(e);m.useEffect(function(){u.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var N=rD([e.lockRef.current],(e.shards||[]).map(yw),!0).filter(Boolean);return N.forEach(function(_){return _.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=m.useCallback(function(N,_){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var C=xd(N),E=r.current,R="deltaX"in N?N.deltaX:E[0]-C[0],M="deltaY"in N?N.deltaY:E[1]-C[1],T,z=N.target,H=Math.abs(R)>Math.abs(M)?"h":"v";if("touches"in N&&H==="h"&&z.type==="range")return!1;var F=vw(H,z);if(!F)return!0;if(F?T=H:(T=H==="v"?"h":"v",F=vw(H,z)),!F)return!1;if(!a.current&&"changedTouches"in N&&(R||M)&&(a.current=T),!T)return!0;var G=a.current||T;return kD(G,_,N,G==="h"?R:M)},[]),h=m.useCallback(function(N){var _=N;if(!(!_l.length||_l[_l.length-1]!==c)){var C="deltaY"in _?xw(_):xd(_),E=t.current.filter(function(T){return T.name===_.type&&(T.target===_.target||_.target===T.shadowParent)&&DD(T.delta,C)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var R=(u.current.shards||[]).map(yw).filter(Boolean).filter(function(T){return T.contains(_.target)}),M=R.length>0?f(_,R[0]):!u.current.noIsolation;M&&_.cancelable&&_.preventDefault()}}},[]),p=m.useCallback(function(N,_,C,E){var R={name:N,delta:_,target:C,should:E,shadowParent:ID(C)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(M){return M!==R})},1)},[]),v=m.useCallback(function(N){r.current=xd(N),a.current=void 0},[]),x=m.useCallback(function(N){p(N.type,xw(N),N.target,f(N,e.lockRef.current))},[]),b=m.useCallback(function(N){p(N.type,xd(N),N.target,f(N,e.lockRef.current))},[]);m.useEffect(function(){return _l.push(c),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",h,jl),document.addEventListener("touchmove",h,jl),document.addEventListener("touchstart",v,jl),function(){_l=_l.filter(function(N){return N!==c}),document.removeEventListener("wheel",h,jl),document.removeEventListener("touchmove",h,jl),document.removeEventListener("touchstart",v,jl)}},[]);var w=e.removeScrollBar,j=e.inert;return m.createElement(m.Fragment,null,j?m.createElement(c,{styles:OD(l)}):null,w?m.createElement(SD,{gapMode:e.gapMode}):null)}function ID(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zD=fD(H1,LD);var Ic=m.forwardRef(function(e,t){return m.createElement(ff,ws({},e,{ref:t,sideCar:zD}))});Ic.classNames=ff.classNames;var Gp=["Enter"," "],UD=["ArrowDown","PageUp","Home"],G1=["ArrowUp","PageDown","End"],$D=[...UD,...G1],BD={ltr:[...Gp,"ArrowRight"],rtl:[...Gp,"ArrowLeft"]},HD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zc="Menu",[yc,qD,FD]=Cg(zc),[Ai,W1]=cr(zc,[FD,Ya,uf]),hf=Ya(),X1=uf(),[VD,ki]=Ai(zc),[YD,Uc]=Ai(zc),K1=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:l,onOpenChange:c,modal:u=!0}=e,f=hf(t),[h,p]=m.useState(null),v=m.useRef(!1),x=Mr(c),b=tf(l);return m.useEffect(()=>{const w=()=>{v.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>v.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),s.jsx(zg,{...f,children:s.jsx(VD,{scope:t,open:r,onOpenChange:x,content:h,onContentChange:p,children:s.jsx(YD,{scope:t,onClose:m.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:v,dir:b,modal:u,children:a})})})};K1.displayName=zc;var GD="MenuAnchor",Ug=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,l=hf(r);return s.jsx(Pc,{...l,...a,ref:t})});Ug.displayName=GD;var $g="MenuPortal",[WD,Q1]=Ai($g,{forceMount:void 0}),Z1=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:l}=e,c=ki($g,t);return s.jsx(WD,{scope:t,forceMount:r,children:s.jsx(Dr,{present:r||c.open,children:s.jsx(Lc,{asChild:!0,container:l,children:a})})})};Z1.displayName=$g;var Gr="MenuContent",[XD,Bg]=Ai(Gr),J1=m.forwardRef((e,t)=>{const r=Q1(Gr,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=ki(Gr,e.__scopeMenu),u=Uc(Gr,e.__scopeMenu);return s.jsx(yc.Provider,{scope:e.__scopeMenu,children:s.jsx(Dr,{present:a||c.open,children:s.jsx(yc.Slot,{scope:e.__scopeMenu,children:u.modal?s.jsx(KD,{...l,ref:t}):s.jsx(QD,{...l,ref:t})})})})}),KD=m.forwardRef((e,t)=>{const r=ki(Gr,e.__scopeMenu),a=m.useRef(null),l=Nt(t,a);return m.useEffect(()=>{const c=a.current;if(c)return df(c)},[]),s.jsx(Hg,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Me(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),QD=m.forwardRef((e,t)=>{const r=ki(Gr,e.__scopeMenu);return s.jsx(Hg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Hg=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:b,onDismiss:w,disableOutsideScroll:j,...N}=e,_=ki(Gr,r),C=Uc(Gr,r),E=hf(r),R=X1(r),M=qD(r),[T,z]=m.useState(null),H=m.useRef(null),F=Nt(t,H,_.onContentChange),G=m.useRef(0),V=m.useRef(""),ue=m.useRef(0),re=m.useRef(null),I=m.useRef("right"),oe=m.useRef(0),ce=j?Ic:m.Fragment,D=j?{as:Rs,allowPinchZoom:!0}:void 0,X=J=>{var K,se;const k=V.current+J,P=M().filter(ge=>!ge.disabled),q=document.activeElement,W=(K=P.find(ge=>ge.ref.current===q))==null?void 0:K.textValue,O=P.map(ge=>ge.textValue),$=cO(O,k,W),B=(se=P.find(ge=>ge.textValue===$))==null?void 0:se.ref.current;(function ge(fe){V.current=fe,window.clearTimeout(G.current),fe!==""&&(G.current=window.setTimeout(()=>ge(""),1e3))})(k),B&&setTimeout(()=>B.focus())};m.useEffect(()=>()=>window.clearTimeout(G.current),[]),nf();const U=m.useCallback(J=>{var P,q;return I.current===((P=re.current)==null?void 0:P.side)&&dO(J,(q=re.current)==null?void 0:q.area)},[]);return s.jsx(XD,{scope:r,searchRef:V,onItemEnter:m.useCallback(J=>{U(J)&&J.preventDefault()},[U]),onItemLeave:m.useCallback(J=>{var k;U(J)||((k=H.current)==null||k.focus(),z(null))},[U]),onTriggerLeave:m.useCallback(J=>{U(J)&&J.preventDefault()},[U]),pointerGraceTimerRef:ue,onPointerGraceIntentChange:m.useCallback(J=>{re.current=J},[]),children:s.jsx(ce,{...D,children:s.jsx(Dc,{asChild:!0,trapped:l,onMountAutoFocus:Me(c,J=>{var k;J.preventDefault(),(k=H.current)==null||k.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:s.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:b,onDismiss:w,children:s.jsx(I1,{asChild:!0,...R,dir:C.dir,orientation:"vertical",loop:a,currentTabStopId:T,onCurrentTabStopIdChange:z,onEntryFocus:Me(h,J=>{C.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(lf,{role:"menu","aria-orientation":"vertical","data-state":p_(_.open),"data-radix-menu-content":"",dir:C.dir,...E,...N,ref:F,style:{outline:"none",...N.style},onKeyDown:Me(N.onKeyDown,J=>{const P=J.target.closest("[data-radix-menu-content]")===J.currentTarget,q=J.ctrlKey||J.altKey||J.metaKey,W=J.key.length===1;P&&(J.key==="Tab"&&J.preventDefault(),!q&&W&&X(J.key));const O=H.current;if(J.target!==O||!$D.includes(J.key))return;J.preventDefault();const B=M().filter(K=>!K.disabled).map(K=>K.ref.current);G1.includes(J.key)&&B.reverse(),lO(B)}),onBlur:Me(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(G.current),V.current="")}),onPointerMove:Me(e.onPointerMove,bc(J=>{const k=J.target,P=oe.current!==J.clientX;if(J.currentTarget.contains(k)&&P){const q=J.clientX>oe.current?"right":"left";I.current=q,oe.current=J.clientX}}))})})})})})})});J1.displayName=Gr;var ZD="MenuGroup",qg=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Je.div,{role:"group",...a,ref:t})});qg.displayName=ZD;var JD="MenuLabel",e_=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Je.div,{...a,ref:t})});e_.displayName=JD;var Id="MenuItem",bw="menu.itemSelect",mf=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...l}=e,c=m.useRef(null),u=Uc(Id,e.__scopeMenu),f=Bg(Id,e.__scopeMenu),h=Nt(t,c),p=m.useRef(!1),v=()=>{const x=c.current;if(!r&&x){const b=new CustomEvent(bw,{bubbles:!0,cancelable:!0});x.addEventListener(bw,w=>a==null?void 0:a(w),{once:!0}),Yj(x,b),b.defaultPrevented?p.current=!1:u.onClose()}};return s.jsx(t_,{...l,ref:h,disabled:r,onClick:Me(e.onClick,v),onPointerDown:x=>{var b;(b=e.onPointerDown)==null||b.call(e,x),p.current=!0},onPointerUp:Me(e.onPointerUp,x=>{var b;p.current||(b=x.currentTarget)==null||b.click()}),onKeyDown:Me(e.onKeyDown,x=>{const b=f.searchRef.current!=="";r||b&&x.key===" "||Gp.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});mf.displayName=Id;var t_=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:l,...c}=e,u=Bg(Id,r),f=X1(r),h=m.useRef(null),p=Nt(t,h),[v,x]=m.useState(!1),[b,w]=m.useState("");return m.useEffect(()=>{const j=h.current;j&&w((j.textContent??"").trim())},[c.children]),s.jsx(yc.ItemSlot,{scope:r,disabled:a,textValue:l??b,children:s.jsx(z1,{asChild:!0,...f,focusable:!a,children:s.jsx(Je.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...c,ref:p,onPointerMove:Me(e.onPointerMove,bc(j=>{a?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(e.onPointerLeave,bc(j=>u.onItemLeave(j))),onFocus:Me(e.onFocus,()=>x(!0)),onBlur:Me(e.onBlur,()=>x(!1))})})})}),eO="MenuCheckboxItem",n_=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...l}=e;return s.jsx(l_,{scope:e.__scopeMenu,checked:r,children:s.jsx(mf,{role:"menuitemcheckbox","aria-checked":zd(r)?"mixed":r,...l,ref:t,"data-state":Vg(r),onSelect:Me(l.onSelect,()=>a==null?void 0:a(zd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});n_.displayName=eO;var r_="MenuRadioGroup",[tO,nO]=Ai(r_,{value:void 0,onValueChange:()=>{}}),s_=m.forwardRef((e,t)=>{const{value:r,onValueChange:a,...l}=e,c=Mr(a);return s.jsx(tO,{scope:e.__scopeMenu,value:r,onValueChange:c,children:s.jsx(qg,{...l,ref:t})})});s_.displayName=r_;var a_="MenuRadioItem",i_=m.forwardRef((e,t)=>{const{value:r,...a}=e,l=nO(a_,e.__scopeMenu),c=r===l.value;return s.jsx(l_,{scope:e.__scopeMenu,checked:c,children:s.jsx(mf,{role:"menuitemradio","aria-checked":c,...a,ref:t,"data-state":Vg(c),onSelect:Me(a.onSelect,()=>{var u;return(u=l.onValueChange)==null?void 0:u.call(l,r)},{checkForDefaultPrevented:!1})})})});i_.displayName=a_;var Fg="MenuItemIndicator",[l_,rO]=Ai(Fg,{checked:!1}),o_=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...l}=e,c=rO(Fg,r);return s.jsx(Dr,{present:a||zd(c.checked)||c.checked===!0,children:s.jsx(Je.span,{...l,ref:t,"data-state":Vg(c.checked)})})});o_.displayName=Fg;var sO="MenuSeparator",c_=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});c_.displayName=sO;var aO="MenuArrow",u_=m.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,l=hf(r);return s.jsx(of,{...l,...a,ref:t})});u_.displayName=aO;var iO="MenuSub",[GB,d_]=Ai(iO),ac="MenuSubTrigger",f_=m.forwardRef((e,t)=>{const r=ki(ac,e.__scopeMenu),a=Uc(ac,e.__scopeMenu),l=d_(ac,e.__scopeMenu),c=Bg(ac,e.__scopeMenu),u=m.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:h}=c,p={__scopeMenu:e.__scopeMenu},v=m.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return m.useEffect(()=>v,[v]),m.useEffect(()=>{const x=f.current;return()=>{window.clearTimeout(x),h(null)}},[f,h]),s.jsx(Ug,{asChild:!0,...p,children:s.jsx(t_,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":p_(r.open),...e,ref:Jd(t,l.onTriggerChange),onClick:x=>{var b;(b=e.onClick)==null||b.call(e,x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Me(e.onPointerMove,bc(x=>{c.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!r.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),v()},100))})),onPointerLeave:Me(e.onPointerLeave,bc(x=>{var w,j;v();const b=(w=r.content)==null?void 0:w.getBoundingClientRect();if(b){const N=(j=r.content)==null?void 0:j.dataset.side,_=N==="right",C=_?-5:5,E=b[_?"left":"right"],R=b[_?"right":"left"];c.onPointerGraceIntentChange({area:[{x:x.clientX+C,y:x.clientY},{x:E,y:b.top},{x:R,y:b.top},{x:R,y:b.bottom},{x:E,y:b.bottom}],side:N}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(x),x.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Me(e.onKeyDown,x=>{var w;const b=c.searchRef.current!=="";e.disabled||b&&x.key===" "||BD[a.dir].includes(x.key)&&(r.onOpenChange(!0),(w=r.content)==null||w.focus(),x.preventDefault())})})})});f_.displayName=ac;var h_="MenuSubContent",m_=m.forwardRef((e,t)=>{const r=Q1(Gr,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=ki(Gr,e.__scopeMenu),u=Uc(Gr,e.__scopeMenu),f=d_(h_,e.__scopeMenu),h=m.useRef(null),p=Nt(t,h);return s.jsx(yc.Provider,{scope:e.__scopeMenu,children:s.jsx(Dr,{present:a||c.open,children:s.jsx(yc.Slot,{scope:e.__scopeMenu,children:s.jsx(Hg,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var x;u.isUsingKeyboardRef.current&&((x=h.current)==null||x.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Me(e.onFocusOutside,v=>{v.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Me(e.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Me(e.onKeyDown,v=>{var w;const x=v.currentTarget.contains(v.target),b=HD[u.dir].includes(v.key);x&&b&&(c.onOpenChange(!1),(w=f.trigger)==null||w.focus(),v.preventDefault())})})})})})});m_.displayName=h_;function p_(e){return e?"open":"closed"}function zd(e){return e==="indeterminate"}function Vg(e){return zd(e)?"indeterminate":e?"checked":"unchecked"}function lO(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function oO(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function cO(e,t,r){const l=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,c=r?e.indexOf(r):-1;let u=oO(e,Math.max(c,0));l.length===1&&(u=u.filter(p=>p!==r));const h=u.find(p=>p.toLowerCase().startsWith(l.toLowerCase()));return h!==r?h:void 0}function uO(e,t){const{x:r,y:a}=e;let l=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c].x,h=t[c].y,p=t[u].x,v=t[u].y;h>a!=v>a&&r<(p-f)*(a-h)/(v-h)+f&&(l=!l)}return l}function dO(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return uO(r,t)}function bc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fO=K1,hO=Ug,mO=Z1,pO=J1,gO=qg,vO=e_,xO=mf,yO=n_,bO=s_,wO=i_,jO=o_,_O=c_,NO=u_,SO=f_,EO=m_,Yg="DropdownMenu",[CO,WB]=cr(Yg,[W1]),ur=W1(),[RO,g_]=CO(Yg),v_=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:l,defaultOpen:c,onOpenChange:u,modal:f=!0}=e,h=ur(t),p=m.useRef(null),[v=!1,x]=$a({prop:l,defaultProp:c,onChange:u});return s.jsx(RO,{scope:t,triggerId:Es(),triggerRef:p,contentId:Es(),open:v,onOpenChange:x,onOpenToggle:m.useCallback(()=>x(b=>!b),[x]),modal:f,children:s.jsx(fO,{...h,open:v,onOpenChange:x,dir:a,modal:f,children:r})})};v_.displayName=Yg;var x_="DropdownMenuTrigger",y_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...l}=e,c=g_(x_,r),u=ur(r);return s.jsx(hO,{asChild:!0,...u,children:s.jsx(Je.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...l,ref:Jd(t,c.triggerRef),onPointerDown:Me(e.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:Me(e.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});y_.displayName=x_;var TO="DropdownMenuPortal",b_=e=>{const{__scopeDropdownMenu:t,...r}=e,a=ur(t);return s.jsx(mO,{...a,...r})};b_.displayName=TO;var w_="DropdownMenuContent",j_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=g_(w_,r),c=ur(r),u=m.useRef(!1);return s.jsx(pO,{id:l.contentId,"aria-labelledby":l.triggerId,...c,...a,ref:t,onCloseAutoFocus:Me(e.onCloseAutoFocus,f=>{var h;u.current||(h=l.triggerRef.current)==null||h.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Me(e.onInteractOutside,f=>{const h=f.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,v=h.button===2||p;(!l.modal||v)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j_.displayName=w_;var MO="DropdownMenuGroup",AO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(gO,{...l,...a,ref:t})});AO.displayName=MO;var kO="DropdownMenuLabel",__=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(vO,{...l,...a,ref:t})});__.displayName=kO;var DO="DropdownMenuItem",N_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(xO,{...l,...a,ref:t})});N_.displayName=DO;var OO="DropdownMenuCheckboxItem",PO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(yO,{...l,...a,ref:t})});PO.displayName=OO;var LO="DropdownMenuRadioGroup",IO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(bO,{...l,...a,ref:t})});IO.displayName=LO;var zO="DropdownMenuRadioItem",UO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(wO,{...l,...a,ref:t})});UO.displayName=zO;var $O="DropdownMenuItemIndicator",BO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(jO,{...l,...a,ref:t})});BO.displayName=$O;var HO="DropdownMenuSeparator",S_=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(_O,{...l,...a,ref:t})});S_.displayName=HO;var qO="DropdownMenuArrow",FO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(NO,{...l,...a,ref:t})});FO.displayName=qO;var VO="DropdownMenuSubTrigger",YO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(SO,{...l,...a,ref:t})});YO.displayName=VO;var GO="DropdownMenuSubContent",WO=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,l=ur(r);return s.jsx(EO,{...l,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WO.displayName=GO;var XO=v_,KO=y_,QO=b_,ZO=j_,JO=__,eP=N_,tP=S_;/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),ww=e=>{const t=rP(e);return t.charAt(0).toUpperCase()+t.slice(1)},E_=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:u,...f},h)=>m.createElement("svg",{ref:h,...sP,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:E_("lucide",l),...f},[...u.map(([p,v])=>m.createElement(p,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const r=m.forwardRef(({className:a,...l},c)=>m.createElement(aP,{ref:c,iconNode:t,className:E_(`lucide-${nP(ww(e))}`,`lucide-${e}`,a),...l}));return r.displayName=ww(e),r};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],lP=st("arrow-down-to-line",iP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nn=st("arrow-left",oP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],C_=st("banknote",cP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Wt=st("calendar-days",uP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],R_=st("calendar",dP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gg=st("check",fP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T_=st("chevron-down",hP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M_=st("chevron-left",mP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A_=st("chevron-right",pP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vP=st("chevron-up",gP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zt=st("circle-alert",xP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Di=st("circle-check-big",yP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Fa=st("circle-plus",bP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jP=st("circle",wP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ud=st("clipboard-list",_P);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],pf=st("database-zap",NP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],EP=st("download",SP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],is=st("file-text",CP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Wg=st("flask-conical",RP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],MP=st("grip-vertical",TP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Ar=st("hourglass",AP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gf=st("image",kP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],We=st("info",DP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],uc=st("layers",OP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],LP=st("layout-template",PP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Ga=st("list-checks",IP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ft=st("loader-circle",zP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$P=st("log-out",UP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],HP=st("menu",BP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],k_=st("pencil",qP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],lr=st("phone",FP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rd=st("plus",VP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],vf=st("printer",YP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ll=st("save",GP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$c=st("search",WP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KP=st("settings",XP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Xr=st("square-pen",QP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Zn=st("stethoscope",ZP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Bc=st("trash-2",JP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],dc=st("trash",e3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],n3=st("upload",t3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],D_=st("user-plus",r3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vt=st("user",s3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],O_=st("users",a3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],l3=st("workflow",i3);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xf=st("x",o3);function c3({...e}){return s.jsx(XO,{"data-slot":"dropdown-menu",...e})}function u3({...e}){return s.jsx(KO,{"data-slot":"dropdown-menu-trigger",...e})}function d3({className:e,sideOffset:t=4,...r}){return s.jsx(QO,{children:s.jsx(ZO,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function f3({className:e,inset:t,variant:r="default",...a}){return s.jsx(eP,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Ce("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function h3({className:e,inset:t,...r}){return s.jsx(JO,{"data-slot":"dropdown-menu-label","data-inset":t,className:Ce("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function m3({className:e,...t}){return s.jsx(tP,{"data-slot":"dropdown-menu-separator",className:Ce("bg-border -mx-1 my-1 h-px",e),...t})}var Xg="Dialog",[P_,L_]=cr(Xg),[p3,hs]=P_(Xg),I_=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=m.useRef(null),h=m.useRef(null),[p=!1,v]=$a({prop:a,defaultProp:l,onChange:c});return s.jsx(p3,{scope:t,triggerRef:f,contentRef:h,contentId:Es(),titleId:Es(),descriptionId:Es(),open:p,onOpenChange:v,onOpenToggle:m.useCallback(()=>v(x=>!x),[v]),modal:u,children:r})};I_.displayName=Xg;var z_="DialogTrigger",U_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=hs(z_,r),c=Nt(t,l.triggerRef);return s.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Zg(l.open),...a,ref:c,onClick:Me(e.onClick,l.onOpenToggle)})});U_.displayName=z_;var Kg="DialogPortal",[g3,$_]=P_(Kg,{forceMount:void 0}),B_=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:l}=e,c=hs(Kg,t);return s.jsx(g3,{scope:t,forceMount:r,children:m.Children.map(a,u=>s.jsx(Dr,{present:r||c.open,children:s.jsx(Lc,{asChild:!0,container:l,children:u})}))})};B_.displayName=Kg;var $d="DialogOverlay",H_=m.forwardRef((e,t)=>{const r=$_($d,e.__scopeDialog),{forceMount:a=r.forceMount,...l}=e,c=hs($d,e.__scopeDialog);return c.modal?s.jsx(Dr,{present:a||c.open,children:s.jsx(v3,{...l,ref:t})}):null});H_.displayName=$d;var v3=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=hs($d,r);return s.jsx(Ic,{as:Rs,allowPinchZoom:!0,shards:[l.contentRef],children:s.jsx(Je.div,{"data-state":Zg(l.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Ci="DialogContent",q_=m.forwardRef((e,t)=>{const r=$_(Ci,e.__scopeDialog),{forceMount:a=r.forceMount,...l}=e,c=hs(Ci,e.__scopeDialog);return s.jsx(Dr,{present:a||c.open,children:c.modal?s.jsx(x3,{...l,ref:t}):s.jsx(y3,{...l,ref:t})})});q_.displayName=Ci;var x3=m.forwardRef((e,t)=>{const r=hs(Ci,e.__scopeDialog),a=m.useRef(null),l=Nt(t,r.contentRef,a);return m.useEffect(()=>{const c=a.current;if(c)return df(c)},[]),s.jsx(F_,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,c=>c.preventDefault())})}),y3=m.forwardRef((e,t)=>{const r=hs(Ci,e.__scopeDialog),a=m.useRef(!1),l=m.useRef(!1);return s.jsx(F_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,f;(u=e.onCloseAutoFocus)==null||u.call(e,c),c.defaultPrevented||(a.current||(f=r.triggerRef.current)==null||f.focus(),c.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:c=>{var h,p;(h=e.onInteractOutside)==null||h.call(e,c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;((p=r.triggerRef.current)==null?void 0:p.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),F_=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=e,f=hs(Ci,r),h=m.useRef(null),p=Nt(t,h);return nf(),s.jsxs(s.Fragment,{children:[s.jsx(Dc,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:l,onUnmountAutoFocus:c,children:s.jsx(Ql,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Zg(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(w3,{titleId:f.titleId}),s.jsx(_3,{contentRef:h,descriptionId:f.descriptionId})]})]})}),Qg="DialogTitle",V_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=hs(Qg,r);return s.jsx(Je.h2,{id:l.titleId,...a,ref:t})});V_.displayName=Qg;var Y_="DialogDescription",G_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=hs(Y_,r);return s.jsx(Je.p,{id:l.descriptionId,...a,ref:t})});G_.displayName=Y_;var W_="DialogClose",X_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,l=hs(W_,r);return s.jsx(Je.button,{type:"button",...a,ref:t,onClick:Me(e.onClick,()=>l.onOpenChange(!1))})});X_.displayName=W_;function Zg(e){return e?"open":"closed"}var K_="DialogTitleWarning",[b3,Q_]=vA(K_,{contentName:Ci,titleName:Qg,docsSlug:"dialog"}),w3=({titleId:e})=>{const t=Q_(K_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},j3="DialogDescriptionWarning",_3=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q_(j3).contentName}}.`;return m.useEffect(()=>{var c;const l=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Jg=I_,Z_=U_,ev=B_,tv=H_,nv=q_,J_=V_,eN=G_,Hc=X_;function N3({...e}){return s.jsx(Jg,{"data-slot":"sheet",...e})}function S3({...e}){return s.jsx(Z_,{"data-slot":"sheet-trigger",...e})}function E3({...e}){return s.jsx(ev,{"data-slot":"sheet-portal",...e})}function C3({className:e,...t}){return s.jsx(tv,{"data-slot":"sheet-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function R3({className:e,children:t,side:r="right",...a}){return s.jsxs(E3,{children:[s.jsx(C3,{}),s.jsxs(nv,{"data-slot":"sheet-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...a,children:[t,s.jsxs(Hc,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(xf,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var T3="VisuallyHidden",rv=m.forwardRef((e,t)=>s.jsx(Je.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));rv.displayName=T3;var M3=rv,[yf,XB]=cr("Tooltip",[Ya]),sv=Ya(),tN="TooltipProvider",A3=700,jw="tooltip.open",[k3,nN]=yf(tN),rN=e=>{const{__scopeTooltip:t,delayDuration:r=A3,skipDelayDuration:a=300,disableHoverableContent:l=!1,children:c}=e,[u,f]=m.useState(!0),h=m.useRef(!1),p=m.useRef(0);return m.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),s.jsx(k3,{scope:t,isOpenDelayed:u,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),a)},[a]),isPointerInTransitRef:h,onPointerInTransitChange:m.useCallback(v=>{h.current=v},[]),disableHoverableContent:l,children:c})};rN.displayName=tN;var sN="Tooltip",[KB,bf]=yf(sN),Wp="TooltipTrigger",D3=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,l=bf(Wp,r),c=nN(Wp,r),u=sv(r),f=m.useRef(null),h=Nt(t,f,l.onTriggerChange),p=m.useRef(!1),v=m.useRef(!1),x=m.useCallback(()=>p.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),s.jsx(Pc,{asChild:!0,...u,children:s.jsx(Je.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...a,ref:h,onPointerMove:Me(e.onPointerMove,b=>{b.pointerType!=="touch"&&!v.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),v.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{l.onTriggerLeave(),v.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:Me(e.onFocus,()=>{p.current||l.onOpen()}),onBlur:Me(e.onBlur,l.onClose),onClick:Me(e.onClick,l.onClose)})})});D3.displayName=Wp;var O3="TooltipPortal",[QB,P3]=yf(O3,{forceMount:void 0}),Il="TooltipContent",L3=m.forwardRef((e,t)=>{const r=P3(Il,e.__scopeTooltip),{forceMount:a=r.forceMount,side:l="top",...c}=e,u=bf(Il,e.__scopeTooltip);return s.jsx(Dr,{present:a||u.open,children:u.disableHoverableContent?s.jsx(aN,{side:l,...c,ref:t}):s.jsx(I3,{side:l,...c,ref:t})})}),I3=m.forwardRef((e,t)=>{const r=bf(Il,e.__scopeTooltip),a=nN(Il,e.__scopeTooltip),l=m.useRef(null),c=Nt(t,l),[u,f]=m.useState(null),{trigger:h,onClose:p}=r,v=l.current,{onPointerInTransitChange:x}=a,b=m.useCallback(()=>{f(null),x(!1)},[x]),w=m.useCallback((j,N)=>{const _=j.currentTarget,C={x:j.clientX,y:j.clientY},E=B3(C,_.getBoundingClientRect()),R=H3(C,E),M=q3(N.getBoundingClientRect()),T=V3([...R,...M]);f(T),x(!0)},[x]);return m.useEffect(()=>()=>b(),[b]),m.useEffect(()=>{if(h&&v){const j=_=>w(_,v),N=_=>w(_,h);return h.addEventListener("pointerleave",j),v.addEventListener("pointerleave",N),()=>{h.removeEventListener("pointerleave",j),v.removeEventListener("pointerleave",N)}}},[h,v,w,b]),m.useEffect(()=>{if(u){const j=N=>{const _=N.target,C={x:N.clientX,y:N.clientY},E=(h==null?void 0:h.contains(_))||(v==null?void 0:v.contains(_)),R=!F3(C,u);E?b():R&&(b(),p())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[h,v,u,p,b]),s.jsx(aN,{...e,ref:c})}),[z3,U3]=yf(sN,{isInside:!1}),aN=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,h=bf(Il,r),p=sv(r),{onClose:v}=h;return m.useEffect(()=>(document.addEventListener(jw,v),()=>document.removeEventListener(jw,v)),[v]),m.useEffect(()=>{if(h.trigger){const x=b=>{const w=b.target;w!=null&&w.contains(h.trigger)&&v()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[h.trigger,v]),s.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:x=>x.preventDefault(),onDismiss:v,children:s.jsxs(lf,{"data-state":h.stateAttribute,...p,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(jg,{children:a}),s.jsx(z3,{scope:r,isInside:!0,children:s.jsx(M3,{id:h.contentId,role:"tooltip",children:l||a})})]})})});L3.displayName=Il;var iN="TooltipArrow",$3=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,l=sv(r);return U3(iN,r).isInside?null:s.jsx(of,{...l,...a,ref:t})});$3.displayName=iN;function B3(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(r,a,l,c)){case c:return"left";case l:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function H3(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function q3(e){const{top:t,right:r,bottom:a,left:l}=e;return[{x:l,y:t},{x:r,y:t},{x:r,y:a},{x:l,y:a}]}function F3(e,t){const{x:r,y:a}=e;let l=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c].x,h=t[c].y,p=t[u].x,v=t[u].y;h>a!=v>a&&r<(p-f)*(a-h)/(v-h)+f&&(l=!l)}return l}function V3(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),Y3(t)}function Y3(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const l=e[a];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(l.y-u.y)>=(c.y-u.y)*(l.x-u.x))t.pop();else break}t.push(l)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const l=e[a];for(;r.length>=2;){const c=r[r.length-1],u=r[r.length-2];if((c.x-u.x)*(l.y-u.y)>=(c.y-u.y)*(l.x-u.x))r.pop();else break}r.push(l)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var G3=rN;function W3({delayDuration:e=0,...t}){return s.jsx(G3,{"data-slot":"tooltip-provider",delayDuration:e,...t})}const X3=()=>{const{user:e}=wg(),t=async()=>{const{error:c}=await ne.auth.signOut();c&&console.error("Erreur de déconnexion:",c)},r=c=>c?c.substring(0,2).toUpperCase():"??",a=[{to:"/patients",label:"Patients",icon:O_},{to:"/doctors",label:"Médecins",icon:Zn},{to:"/test-types",label:"Types de Tests",icon:Ud},{to:"/categories",label:"Catégories",icon:uc},{to:"/ristournes",label:"Ristournes",icon:C_},{to:"/settings/print-header",label:"En-tête Impression",icon:is},{to:"/skip-range-management",label:"Parametres Validations",icon:KP},{to:"/ecb-models",label:"Modèles ECB",icon:uc},{to:"/atbs",label:"Gestion ATBs",icon:uc}],l=s.jsx("nav",{className:"flex flex-col gap-2 px-2 sm:px-4 py-4",children:a.map(c=>s.jsxs(_j,{to:c.to,className:({isActive:u})=>`flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${u?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[s.jsx(c.icon,{className:"h-5 w-5"}),s.jsx("span",{children:c.label})]},c.label))});return s.jsxs("div",{className:"flex h-screen w-full bg-muted/40",children:[s.jsxs("aside",{className:"hidden sm:flex flex-col w-64 border-r bg-background",children:[s.jsxs("div",{className:"flex items-center gap-2 h-16 border-b px-6",children:[s.jsx(Wg,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"font-semibold tracking-tight",children:"LRMS"})]}),l]}),s.jsxs("div",{className:"flex flex-1 flex-col",children:[s.jsxs("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between border-b bg-background px-4 sm:px-6",children:[s.jsx("div",{className:"sm:hidden",children:s.jsxs(N3,{children:[s.jsx(S3,{asChild:!0,children:s.jsxs(te,{variant:"outline",size:"icon",children:[s.jsx(HP,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Ouvrir le menu"})]})}),s.jsxs(R3,{side:"left",className:"w-64 p-0 pt-10",children:[" ",l]})]})}),s.jsx("div",{className:"flex-1"}),s.jsxs(c3,{children:[s.jsx(u3,{asChild:!0,children:s.jsx(te,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:s.jsx(Ac,{className:"h-9 w-9",children:s.jsx(kc,{children:r(e==null?void 0:e.email)})})})}),s.jsxs(d3,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(h3,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:"Connecté en tant que"}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground truncate",children:(e==null?void 0:e.email)||"Utilisateur"})]})}),s.jsx(m3,{}),s.jsxs(f3,{onClick:t,className:"text-destructive focus:text-destructive focus:bg-destructive/10 cursor-pointer",children:[s.jsx($P,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Se déconnecter"})]})]})]})]}),s.jsx(W3,{children:s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 sm:p-6 bg-white",children:s.jsx(xj,{})})})]})]})},K3=()=>{const{session:e,loading:t}=wg(),r=ra();return t?s.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-200",children:[s.jsx(Ft,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Chargement de l'application..."})]}):e?s.jsx(xj,{}):s.jsx(vj,{to:"/login",state:{from:r},replace:!0})};function Ye({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:Ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var Q3="Label",lN=m.forwardRef((e,t)=>s.jsx(Je.label,{...e,ref:t,onMouseDown:r=>{var l;r.target.closest("button, input, select, textarea")||((l=e.onMouseDown)==null||l.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));lN.displayName=Q3;var Z3=lN;function $e({className:e,...t}){return s.jsx(Z3,{"data-slot":"label",className:Ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Se({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:Ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Re({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:Ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function vt({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:Ce("leading-none font-semibold",e),...t})}function gr({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:Ce("text-muted-foreground text-sm",e),...t})}function Ee({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:Ce("px-6",e),...t})}function ls({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:Ce("flex items-center px-6 [.border-t]:pt-6",e),...t})}const J3=Eg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ut({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:Ce(J3({variant:t}),e),...r})}function $t({className:e,...t}){return s.jsx("div",{"data-slot":"alert-title",className:Ce("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function Bt({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:Ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const e5=()=>{const[e,t]=m.useState(""),[r,a]=m.useState(""),[l,c]=m.useState(!1),[u,f]=m.useState(null),{session:h,loading:p}=wg(),v=async x=>{x.preventDefault(),c(!0),f(null);try{const{error:b}=await ne.auth.signInWithPassword({email:e,password:r});if(b)throw b}catch(b){console.error("Login error:",b),f(b instanceof Error&&b.message==="Invalid login credentials"?"Identifiants invalides. Veuillez vérifier votre email et mot de passe.":"Échec de la connexion. Une erreur est survenue.")}finally{c(!1)}};return p?s.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-200",children:[s.jsx(Ft,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Chargement..."})]}):h?s.jsx(vj,{to:"/patients",replace:!0}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 via-gray-50 to-blue-100 p-4",children:s.jsxs(Se,{className:"w-full max-w-md shadow-xl border-t-4 border-primary rounded-lg overflow-hidden",children:[s.jsxs(Re,{className:"text-center p-6 bg-muted/30",children:[s.jsxs("div",{className:"mx-auto mb-4",children:[s.jsx(Wg,{className:"h-12 w-12 text-primary"})," "]}),s.jsx(vt,{className:"text-2xl font-bold tracking-tight",children:"Connexion LRMS "}),s.jsxs(gr,{className:"text-muted-foreground",children:["Accédez à votre espace laboratoire sécurisé."," "]})]}),s.jsxs("form",{onSubmit:v,children:[s.jsxs(Ee,{className:"p-6 space-y-6",children:[" ",u&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{children:u})]}),s.jsxs("div",{className:"space-y-2",children:[" ",s.jsx($e,{htmlFor:"email",className:"font-semibold",children:"Adresse e-mail"}),s.jsx(Ye,{id:"email",type:"email",placeholder:"votreadresse@email.com",required:!0,value:e,onChange:x=>t(x.target.value),disabled:l,className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"password",className:"font-semibold",children:"Mot de passe"}),s.jsx(Ye,{id:"password",type:"password",placeholder:"Votre mot de passe",required:!0,value:r,onChange:x=>a(x.target.value),disabled:l,className:"h-10"})]})]}),s.jsx(ls,{className:"p-6 bg-muted/30",children:s.jsx(te,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion en cours..."]}):"Se connecter"})})]})]})})};function sa({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:Ce("w-full caption-bottom text-sm",e),...t})})}function aa({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:Ce("[&_tr]:border-b",e),...t})}function ia({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:Ce("[&_tr:last-child]:border-0",e),...t})}function Gt({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:Ce("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ft({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:Ce("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Ke({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:Ce("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Y({className:e,...t}){return s.jsx("div",{"data-slot":"skeleton",className:Ce("bg-accent animate-pulse rounded-md",e),...t})}function qc(e,t){const[r,a]=m.useState(e);return m.useEffect(()=>{const l=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(l)}},[e,t]),r}var oN="AlertDialog",[t5,ZB]=cr(oN,[L_]),la=L_(),cN=e=>{const{__scopeAlertDialog:t,...r}=e,a=la(t);return s.jsx(Jg,{...a,...r,modal:!0})};cN.displayName=oN;var n5="AlertDialogTrigger",uN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,l=la(r);return s.jsx(Z_,{...l,...a,ref:t})});uN.displayName=n5;var r5="AlertDialogPortal",dN=e=>{const{__scopeAlertDialog:t,...r}=e,a=la(t);return s.jsx(ev,{...a,...r})};dN.displayName=r5;var s5="AlertDialogOverlay",fN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,l=la(r);return s.jsx(tv,{...l,...a,ref:t})});fN.displayName=s5;var Tl="AlertDialogContent",[a5,i5]=t5(Tl),hN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...l}=e,c=la(r),u=m.useRef(null),f=Nt(t,u),h=m.useRef(null);return s.jsx(b3,{contentName:Tl,titleName:mN,docsSlug:"alert-dialog",children:s.jsx(a5,{scope:r,cancelRef:h,children:s.jsxs(nv,{role:"alertdialog",...c,...l,ref:f,onOpenAutoFocus:Me(l.onOpenAutoFocus,p=>{var v;p.preventDefault(),(v=h.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[s.jsx(jg,{children:a}),s.jsx(o5,{contentRef:u})]})})})});hN.displayName=Tl;var mN="AlertDialogTitle",pN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,l=la(r);return s.jsx(J_,{...l,...a,ref:t})});pN.displayName=mN;var gN="AlertDialogDescription",vN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,l=la(r);return s.jsx(eN,{...l,...a,ref:t})});vN.displayName=gN;var l5="AlertDialogAction",xN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,l=la(r);return s.jsx(Hc,{...l,...a,ref:t})});xN.displayName=l5;var yN="AlertDialogCancel",bN=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:l}=i5(yN,r),c=la(r),u=Nt(t,l);return s.jsx(Hc,{...c,...a,ref:u})});bN.displayName=yN;var o5=({contentRef:e})=>{const t=`\`${Tl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Tl}\` by passing a \`${gN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Tl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},c5=cN,u5=uN,d5=dN,f5=fN,h5=hN,m5=xN,p5=bN,g5=pN,v5=vN;function wc({...e}){return s.jsx(c5,{"data-slot":"alert-dialog",...e})}function wf({...e}){return s.jsx(u5,{"data-slot":"alert-dialog-trigger",...e})}function x5({...e}){return s.jsx(d5,{"data-slot":"alert-dialog-portal",...e})}function y5({className:e,...t}){return s.jsx(f5,{"data-slot":"alert-dialog-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function jf({className:e,...t}){return s.jsxs(x5,{children:[s.jsx(y5,{}),s.jsx(h5,{"data-slot":"alert-dialog-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function _f({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Ce("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Nf({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Sf({className:e,...t}){return s.jsx(g5,{"data-slot":"alert-dialog-title",className:Ce("text-lg font-semibold",e),...t})}function Ef({className:e,...t}){return s.jsx(v5,{"data-slot":"alert-dialog-description",className:Ce("text-muted-foreground text-sm",e),...t})}function av({className:e,...t}){return s.jsx(m5,{className:Ce(Ol(),e),...t})}function Cf({className:e,...t}){return s.jsx(p5,{className:Ce(Ol({variant:"outline"}),e),...t})}const cp=10,_w=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!0),[l,c]=m.useState(null),[u,f]=m.useState(""),[h,p]=m.useState(1),[v,x]=m.useState(0),[b,w]=m.useState(null),[j,N]=m.useState(!1),[_,C]=m.useState([]),[E,R]=m.useState(""),M=qc(u,300),T=Math.ceil(v/cp);m.useEffect(()=>{(async()=>{const{data:ue,error:re}=await ne.from("doctor").select("id, full_name").order("full_name",{ascending:!0});re||C(ue||[])})()},[]);const z=m.useCallback(async()=>{a(!0),c(null);try{const V=(h-1)*cp,ue=V+cp-1;let re=ne.from("patient").select("*",{count:"exact"});if(M){const D=`%${M}%`;re=re.or(`full_name.ilike.${D},patient_unique_id.ilike.${D}`)}if(E){const{data:D,error:X}=await ne.from("patient_result").select("patient_id").eq("doctor_id",E);if(X)throw console.error("Supabase error while fetching patient_result:",X),X;const U=(D||[]).map(J=>J.patient_id);if(U.length===0){t([]),x(0),a(!1);return}re=re.in("id",U)}re=re.order("created_at",{ascending:!1}).range(V,ue);const{data:I,error:oe,count:ce}=await re;if(oe)throw console.error("Supabase error while fetching patients:",oe),oe;t(I||[]),x(ce??0)}catch(V){console.error("Erreur lors de la récupération des patients:",V),c(V instanceof Error?V.message:"Une erreur est survenue lors du chargement des patients."),t([]),x(0)}finally{a(!1)}},[h,M,E]);m.useEffect(()=>{z()},[z]),m.useEffect(()=>{p(1)},[M,E]);const H=()=>{p(V=>Math.max(V-1,1))},F=()=>{p(V=>Math.min(V+1,T))},G=async()=>{if(b){N(!0),c(null);try{const{error:V}=await ne.from("patient").delete().eq("id",b.id);if(V)throw V;t(ue=>ue.filter(re=>re.id!==b.id)),x(ue=>ue-1),w(null)}catch(V){c((V instanceof Error?V.message:"")||"Erreur lors de la suppression du patient.")}finally{N(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(O_,{className:"h-6 w-6"}),"Gestion des Patients"]}),s.jsx(it,{to:"/patients/new",children:s.jsxs(te,{children:[s.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Ajouter un Patient"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ye,{type:"search",placeholder:"Rechercher par nom ou ID unique...",value:u,onChange:V=>f(V.target.value),className:"pl-10 w-full md:w-1/3"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx($e,{htmlFor:"doctor-filter",children:"Filtrer par médecin :"}),s.jsxs("select",{id:"doctor-filter",value:E,onChange:V=>R(V.target.value),className:"border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",children:"Tous les médecins"}),_.map(V=>s.jsx("option",{value:V.id,children:V.full_name},V.id))]})]}),r&&s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsx(Y,{className:"h-12 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"})]}),!r&&l&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsx(Bt,{children:l})]}),!r&&!l&&s.jsxs("div",{className:"space-y-4",children:[" ",s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{className:"w-[150px]",children:"ID Unique"}),s.jsx(ft,{children:"Nom Complet"}),s.jsx(ft,{children:"Date de Naissance"}),s.jsx(ft,{className:"hidden md:table-cell",children:"Genre"}),s.jsx(ft,{className:"hidden lg:table-cell",children:"Téléphone"}),s.jsx(ft,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:e.length>0?e.map(V=>s.jsxs(Gt,{children:[s.jsx(Ke,{className:"font-medium",children:V.patient_unique_id}),s.jsx(Ke,{children:V.full_name}),s.jsx(Ke,{children:V.date_of_birth?new Date(V.date_of_birth).toLocaleDateString("fr-FR"):"N/A"}),s.jsx(Ke,{className:"hidden md:table-cell",children:V.gender||"N/A"}),s.jsx(Ke,{className:"hidden lg:table-cell",children:V.phone||"N/A"}),s.jsxs(Ke,{className:"text-right",children:[s.jsx(it,{to:`/patients/${V.id}`,children:s.jsx(te,{variant:"outline",size:"sm",children:"Voir Détails"})}),s.jsxs(wc,{children:[s.jsx(wf,{asChild:!0,children:s.jsxs(te,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer le patient",onClick:()=>w(V),disabled:r,children:[s.jsx(Bc,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Supprimer"})]})}),s.jsxs(jf,{children:[s.jsxs(_f,{children:[s.jsx(Sf,{children:"Supprimer ce patient ?"}),s.jsx(Ef,{children:"Cette action est irréversible. Voulez-vous vraiment supprimer ce patient ?"})]}),s.jsxs(Nf,{children:[s.jsx(Cf,{onClick:()=>w(null),disabled:j,children:"Annuler"}),s.jsx(av,{onClick:G,disabled:j,className:"bg-destructive text-destructive-foreground",children:"Supprimer"})]})]})]})]})]},V.id)):s.jsx(Gt,{children:s.jsx(Ke,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:u?"Aucun patient ne correspond à votre recherche.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(pf,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun patient trouvé. Commencez par en ajouter un."]})})})})]})}),T>1&&s.jsxs("div",{className:"flex items-center justify-between space-x-2 pt-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",h," sur ",T," (",v," ",v===1?"résultat":"résultats",")"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:H,disabled:h<=1,children:[s.jsx(M_,{className:"h-4 w-4 mr-1 sm:mr-2"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Précédent"})," "]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:F,disabled:h>=T,children:[s.jsx("span",{className:"hidden sm:inline",children:"Suivant"})," ",s.jsx(A_,{className:"h-4 w-4 ml-1 sm:ml-2"})," "]})]})]})]})]})},b5=Eg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function os({className:e,variant:t,asChild:r=!1,...a}){const l=r?Rs:"span";return s.jsx(l,{"data-slot":"badge",className:Ce(b5({variant:t}),e),...a})}function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function kr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ir(e,t){const r=Dt(e);return isNaN(t)?kr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function cs(e,t){const r=Dt(e);if(isNaN(t))return kr(e,NaN);if(!t)return r;const a=r.getDate(),l=kr(e,r.getTime());l.setMonth(r.getMonth()+t+1,0);const c=l.getDate();return a>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),a),r)}const iv=6048e5,w5=864e5,wN=6e4,jN=36e5;let j5={};function Fc(){return j5}function Ms(e,t){var f,h,p,v;const r=Fc(),a=(t==null?void 0:t.weekStartsOn)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,l=Dt(e),c=l.getDay(),u=(c<a?7:0)+c-a;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function Ri(e){return Ms(e,{weekStartsOn:1})}function _N(e){const t=Dt(e),r=t.getFullYear(),a=kr(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=Ri(a),c=kr(e,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=Ri(c);return t.getTime()>=l.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function zl(e){const t=Dt(e);return t.setHours(0,0,0,0),t}function Bd(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ss(e,t){const r=zl(e),a=zl(t),l=+r-Bd(r),c=+a-Bd(a);return Math.round((l-c)/w5)}function _5(e){const t=_N(e),r=kr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ri(r)}function Xp(e,t){const r=t*7;return ir(e,r)}function N5(e,t){return cs(e,t*12)}function S5(e){let t;return e.forEach(function(r){const a=Dt(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function E5(e){let t;return e.forEach(r=>{const a=Dt(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function vr(e,t){const r=zl(e),a=zl(t);return+r==+a}function lv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function NN(e){if(!lv(e)&&typeof e!="number")return!1;const t=Dt(e);return!isNaN(Number(t))}function jc(e,t){const r=Dt(e),a=Dt(t),l=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return l*12+c}function C5(e,t,r){const a=Ms(e,r),l=Ms(t,r),c=+a-Bd(a),u=+l-Bd(l);return Math.round((c-u)/iv)}function ov(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function xr(e){const t=Dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function SN(e){const t=Dt(e),r=kr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function cv(e,t){var f,h,p,v;const r=Fc(),a=(t==null?void 0:t.weekStartsOn)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,l=Dt(e),c=l.getDay(),u=(c<a?-7:0)+6-(c-a);return l.setDate(l.getDate()+u),l.setHours(23,59,59,999),l}function EN(e){return cv(e,{weekStartsOn:1})}const R5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T5=(e,t,r)=>{let a;const l=R5[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Ml(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const M5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D5={date:Ml({formats:M5,defaultWidth:"full"}),time:Ml({formats:A5,defaultWidth:"full"}),dateTime:Ml({formats:k5,defaultWidth:"full"})},O5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P5=(e,t,r,a)=>O5[e];function js(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,f=r!=null&&r.width?String(r.width):u;l=e.formattingValues[f]||e.formattingValues[u]}else{const u=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;l=e.values[f]||e.values[u]}const c=e.argumentCallback?e.argumentCallback(t):t;return l[c]}}const L5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},I5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H5=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},q5={ordinalNumber:H5,era:js({values:L5,defaultWidth:"wide"}),quarter:js({values:I5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:js({values:z5,defaultWidth:"wide"}),day:js({values:U5,defaultWidth:"wide"}),dayPeriod:js({values:$5,defaultWidth:"wide",formattingValues:B5,defaultFormattingWidth:"wide"})};function _s(e){return(t,r={})=>{const a=r.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],c=t.match(l);if(!c)return null;const u=c[0],f=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?V5(f,x=>x.test(u)):F5(f,x=>x.test(u));let p;p=e.valueCallback?e.valueCallback(h):h,p=r.valueCallback?r.valueCallback(p):p;const v=t.slice(u.length);return{value:p,rest:v}}}function F5(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function V5(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function CN(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],c=t.match(e.parsePattern);if(!c)return null;let u=e.valueCallback?e.valueCallback(c[0]):c[0];u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(l.length);return{value:u,rest:f}}}const Y5=/^(\d+)(th|st|nd|rd)?/i,G5=/\d+/i,W5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X5={any:[/^b/i,/^(a|c)/i]},K5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q5={any:[/1/i,/2/i,/3/i,/4/i]},Z5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sL={ordinalNumber:CN({matchPattern:Y5,parsePattern:G5,valueCallback:e=>parseInt(e,10)}),era:_s({matchPatterns:W5,defaultMatchWidth:"wide",parsePatterns:X5,defaultParseWidth:"any"}),quarter:_s({matchPatterns:K5,defaultMatchWidth:"wide",parsePatterns:Q5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_s({matchPatterns:Z5,defaultMatchWidth:"wide",parsePatterns:J5,defaultParseWidth:"any"}),day:_s({matchPatterns:eL,defaultMatchWidth:"wide",parsePatterns:tL,defaultParseWidth:"any"}),dayPeriod:_s({matchPatterns:nL,defaultMatchWidth:"any",parsePatterns:rL,defaultParseWidth:"any"})},RN={code:"en-US",formatDistance:T5,formatLong:D5,formatRelative:P5,localize:q5,match:sL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aL(e){const t=Dt(e);return Ss(t,SN(t))+1}function TN(e){const t=Dt(e),r=+Ri(t)-+_5(t);return Math.round(r/iv)+1}function MN(e,t){var v,x,b,w;const r=Dt(e),a=r.getFullYear(),l=Fc(),c=(t==null?void 0:t.firstWeekContainsDate)??((x=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:x.firstWeekContainsDate)??l.firstWeekContainsDate??((w=(b=l.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=kr(e,0);u.setFullYear(a+1,0,c),u.setHours(0,0,0,0);const f=Ms(u,t),h=kr(e,0);h.setFullYear(a,0,c),h.setHours(0,0,0,0);const p=Ms(h,t);return r.getTime()>=f.getTime()?a+1:r.getTime()>=p.getTime()?a:a-1}function iL(e,t){var f,h,p,v;const r=Fc(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,l=MN(e,t),c=kr(e,0);return c.setFullYear(l,0,a),c.setHours(0,0,0,0),Ms(c,t)}function AN(e,t){const r=Dt(e),a=+Ms(r,t)-+iL(r,t);return Math.round(a/iv)+1}function Yt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const Aa={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Yt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Yt(r+1,2)},d(e,t){return Yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Yt(e.getHours()%12||12,t.length)},H(e,t){return Yt(e.getHours(),t.length)},m(e,t){return Yt(e.getMinutes(),t.length)},s(e,t){return Yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,r-3));return Yt(l,t.length)}},Nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nw={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return r.ordinalNumber(l,{unit:"year"})}return Aa.y(e,t)},Y:function(e,t,r,a){const l=MN(e,a),c=l>0?l:1-l;if(t==="YY"){const u=c%100;return Yt(u,2)}return t==="Yo"?r.ordinalNumber(c,{unit:"year"}):Yt(c,t.length)},R:function(e,t){const r=_N(e);return Yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Yt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Yt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Yt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Aa.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Yt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const l=AN(e,a);return t==="wo"?r.ordinalNumber(l,{unit:"week"}):Yt(l,t.length)},I:function(e,t,r){const a=TN(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Yt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Aa.d(e,t)},D:function(e,t,r){const a=aL(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Yt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const l=e.getDay(),c=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Yt(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const l=e.getDay(),c=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Yt(c,t.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return Yt(l,t.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let l;switch(a===12?l=Nl.noon:a===0?l=Nl.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let l;switch(a>=17?l=Nl.evening:a>=12?l=Nl.afternoon:a>=4?l=Nl.morning:l=Nl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Aa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Aa.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Yt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Yt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Aa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Aa.s(e,t)},S:function(e,t){return Aa.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Ew(a);case"XXXX":case"XX":return Ni(a);case"XXXXX":case"XXX":default:return Ni(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Ew(a);case"xxxx":case"xx":return Ni(a);case"xxxxx":case"xxx":default:return Ni(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sw(a,":");case"OOOO":default:return"GMT"+Ni(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sw(a,":");case"zzzz":default:return"GMT"+Ni(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Yt(a,t.length)},T:function(e,t,r){const a=e.getTime();return Yt(a,t.length)}};function Sw(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),c=a%60;return c===0?r+String(l):r+String(l)+t+Yt(c,2)}function Ew(e,t){return e%60===0?(e>0?"-":"+")+Yt(Math.abs(e)/60,2):Ni(e,t)}function Ni(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),l=Yt(Math.trunc(a/60),2),c=Yt(a%60,2);return r+l+t+c}const Cw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],l=r[2];if(!l)return Cw(e,t);let c;switch(a){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",Cw(a,t)).replace("{{time}}",kN(l,t))},oL={p:kN,P:lL},cL=/^D+$/,uL=/^Y+$/,dL=["D","DD","YY","YYYY"];function fL(e){return cL.test(e)}function hL(e){return uL.test(e)}function mL(e,t,r){const a=pL(e,t,r);if(console.warn(a),dL.includes(e))throw new RangeError(a)}function pL(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xL=/^'([^]*?)'?$/,yL=/''/g,bL=/[a-zA-Z]/;function tt(e,t,r){var v,x,b,w,j,N,_,C;const a=Fc(),l=(r==null?void 0:r.locale)??a.locale??RN,c=(r==null?void 0:r.firstWeekContainsDate)??((x=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(b=a.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=(r==null?void 0:r.weekStartsOn)??((N=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:N.weekStartsOn)??a.weekStartsOn??((C=(_=a.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??0,f=Dt(e);if(!NN(f))throw new RangeError("Invalid time value");let h=t.match(vL).map(E=>{const R=E[0];if(R==="p"||R==="P"){const M=oL[R];return M(E,l.formatLong)}return E}).join("").match(gL).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const R=E[0];if(R==="'")return{isToken:!1,value:wL(E)};if(Nw[R])return{isToken:!0,value:E};if(R.match(bL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:E}});l.localize.preprocessor&&(h=l.localize.preprocessor(f,h));const p={firstWeekContainsDate:c,weekStartsOn:u,locale:l};return h.map(E=>{if(!E.isToken)return E.value;const R=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&hL(R)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&fL(R))&&mL(R,t,String(e));const M=Nw[R[0]];return M(f,R,l.localize,p)}).join("")}function wL(e){const t=e.match(xL);return t?t[1].replace(yL,"'"):e}function jL(e){const t=Dt(e),r=t.getFullYear(),a=t.getMonth(),l=kr(e,0);return l.setFullYear(r,a+1,0),l.setHours(0,0,0,0),l.getDate()}function _L(e){return Math.trunc(+Dt(e)/1e3)}function NL(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function SL(e,t){return C5(NL(e),xr(e),t)+1}function Kp(e,t){const r=Dt(e),a=Dt(t);return r.getTime()>a.getTime()}function DN(e,t){const r=Dt(e),a=Dt(t);return+r<+a}function uv(e,t){const r=Dt(e),a=Dt(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function EL(e,t){const r=Dt(e),a=Dt(t);return r.getFullYear()===a.getFullYear()}function up(e,t){return ir(e,-t)}function _t(e,t){const a=ML(e);let l;if(a.date){const h=AL(a.date,2);l=kL(h.restDateString,h.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const c=l.getTime();let u=0,f;if(a.time&&(u=DL(a.time),isNaN(u)))return new Date(NaN);if(a.timezone){if(f=OL(a.timezone),isNaN(f))return new Date(NaN)}else{const h=new Date(c+u),p=new Date(0);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return new Date(c+u+f)}const yd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,RL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,TL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ML(e){const t={},r=e.split(yd.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],yd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(yd.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const l=yd.timezone.exec(a);l?(t.time=a.replace(l[1],""),t.timezone=l[1]):t.time=a}return t}function AL(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const l=a[1]?parseInt(a[1]):null,c=a[2]?parseInt(a[2]):null;return{year:c===null?l:c*100,restDateString:e.slice((a[1]||a[2]).length)}}function kL(e,t){if(t===null)return new Date(NaN);const r=e.match(CL);if(!r)return new Date(NaN);const a=!!r[4],l=rc(r[1]),c=rc(r[2])-1,u=rc(r[3]),f=rc(r[4]),h=rc(r[5])-1;if(a)return UL(t,f,h)?PL(t,f,h):new Date(NaN);{const p=new Date(0);return!IL(t,c,u)||!zL(t,l)?new Date(NaN):(p.setUTCFullYear(t,c,Math.max(l,u)),p)}}function rc(e){return e?parseInt(e):1}function DL(e){const t=e.match(RL);if(!t)return NaN;const r=dp(t[1]),a=dp(t[2]),l=dp(t[3]);return $L(r,a,l)?r*jN+a*wN+l*1e3:NaN}function dp(e){return e&&parseFloat(e.replace(",","."))||0}function OL(e){if(e==="Z")return 0;const t=e.match(TL);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return BL(a,l)?r*(a*jN+l*wN):NaN}function PL(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const l=a.getUTCDay()||7,c=(t-1)*7+r+1-l;return a.setUTCDate(a.getUTCDate()+c),a}const LL=[31,null,31,30,31,30,31,31,30,31,30,31];function ON(e){return e%400===0||e%4===0&&e%100!==0}function IL(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(LL[t]||(ON(e)?29:28))}function zL(e,t){return t>=1&&t<=(ON(e)?366:365)}function UL(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function $L(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function BL(e,t){return t>=0&&t<=59}function fp(e,t){const r=Dt(e),a=r.getFullYear(),l=r.getDate(),c=kr(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const u=jL(c);return r.setMonth(t,Math.min(l,u)),r}function Rw(e,t){const r=Dt(e);return isNaN(+r)?kr(e,NaN):(r.setFullYear(t),r)}const HL={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},qL=(e,t,r)=>{let a;const l=HL[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+a:"il y a "+a:a},FL={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},VL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},YL={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GL={date:Ml({formats:FL,defaultWidth:"full"}),time:Ml({formats:VL,defaultWidth:"full"}),dateTime:Ml({formats:YL,defaultWidth:"full"})},WL={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},XL=(e,t,r,a)=>WL[e],KL={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},QL={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},ZL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},JL={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},e6={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},t6=(e,t)=>{const r=Number(e),a=t==null?void 0:t.unit;if(r===0)return"0";const l=["year","week","hour","minute","second"];let c;return r===1?c=a&&l.includes(a)?"ère":"er":c="ème",r+c},n6=["MMM","MMMM"],r6={preprocessor:(e,t)=>e.getDate()===1||!t.some(a=>a.isToken&&n6.includes(a.value))?t:t.map(a=>a.isToken&&a.value==="do"?{isToken:!0,value:"d"}:a),ordinalNumber:t6,era:js({values:KL,defaultWidth:"wide"}),quarter:js({values:QL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:js({values:ZL,defaultWidth:"wide"}),day:js({values:JL,defaultWidth:"wide"}),dayPeriod:js({values:e6,defaultWidth:"wide"})},s6=/^(\d+)(ième|ère|ème|er|e)?/i,a6=/\d+/i,i6={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},l6={any:[/^av/i,/^ap/i]},o6={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},c6={any:[/1/i,/2/i,/3/i,/4/i]},u6={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},d6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},f6={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},h6={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},m6={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},p6={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},g6={ordinalNumber:CN({matchPattern:s6,parsePattern:a6,valueCallback:e=>parseInt(e)}),era:_s({matchPatterns:i6,defaultMatchWidth:"wide",parsePatterns:l6,defaultParseWidth:"any"}),quarter:_s({matchPatterns:o6,defaultMatchWidth:"wide",parsePatterns:c6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_s({matchPatterns:u6,defaultMatchWidth:"wide",parsePatterns:d6,defaultParseWidth:"any"}),day:_s({matchPatterns:f6,defaultMatchWidth:"wide",parsePatterns:h6,defaultParseWidth:"any"}),dayPeriod:_s({matchPatterns:m6,defaultMatchWidth:"any",parsePatterns:p6,defaultParseWidth:"any"})},Ct={code:"fr",formatDistance:qL,formatLong:GL,formatRelative:XL,localize:r6,match:g6,options:{weekStartsOn:1,firstWeekContainsDate:4}},v6=e=>{switch(e==null?void 0:e.toLowerCase()){case"completed":return"default";case"in progress":return"secondary";case"pending":return"outline";default:return"secondary"}},x6=()=>{const{patientId:e}=yr(),t=or(),[r,a]=m.useState(null),[l,c]=m.useState([]),[u,f]=m.useState(!0),[h,p]=m.useState(!0),[v,x]=m.useState(null),b=m.useCallback(async()=>{if(e){f(!0);try{const{data:_,error:C}=await ne.from("patient").select("*").eq("id",e).single();if(C)throw C;if(!_)throw new Error("Patient non trouvé.");a(_)}catch(_){console.error("Erreur chargement détails patient:",_),x(C=>C||(_ instanceof Error?_.message:"Erreur inconnue")||"Impossible de charger les détails du patient.")}finally{f(!1)}}},[e]),w=m.useCallback(async()=>{if(e){p(!0);try{const{data:_,error:C}=await ne.from("patient_result").select(`
          id,
          result_date,
          status,
          doctor:doctor_id ( full_name )
        `).eq("patient_id",e).order("result_date",{ascending:!1});if(C)throw C;c(_||[])}catch(_){console.error("Erreur chargement résultats patient:",_),x(C=>C||(_ instanceof Error?_.message:"Erreur inconnue")||"Impossible de charger les résultats du patient.")}finally{p(!1)}}},[e]);m.useEffect(()=>{x(null),(async()=>{a(null),c([]),f(!0),p(!0),await Promise.all([b(),w()])})()},[b,w]);const j=u||h,N=(_,C,E)=>{const R=_;return s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(R,{className:"h-5 w-5 text-muted-foreground mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:C}),s.jsx("p",{className:"text-base",children:E||s.jsx("span",{className:"text-muted-foreground italic",children:"Non spécifié"})})]})]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[s.jsx("div",{children:s.jsx(it,{to:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),!j&&r&&!v&&s.jsx(it,{to:`/patients/${e}/edit`,children:s.jsxs(te,{variant:"secondary",children:[s.jsx(Xr,{className:"mr-2 h-4 w-4"}),"Modifier le Patient"]})})]}),u&&s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-6 w-3/5"}),s.jsx(Y,{className:"h-4 w-4/5"})]}),s.jsxs(Ee,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"})]})]}),v&&!j&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[v," ",s.jsx(te,{variant:"link",onClick:()=>{b(),w()},className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!u&&r&&!v&&s.jsxs(Se,{className:"overflow-hidden",children:[s.jsxs(Re,{className:"bg-muted/30",children:[s.jsxs(vt,{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Informations du Patient"]}),s.jsx(gr,{children:"Détails démographiques."})]}),s.jsxs(Ee,{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[N(Vt,"Nom Complet",r.full_name),N(We,"ID Unique",r.patient_unique_id),N(Wt,"Date de Naissance",r.date_of_birth?tt(_t(r.date_of_birth),"PPP",{locale:Ct}):null),N(We,"Genre",r.gender),N(lr,"Téléphone",r.phone)]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold tracking-tight flex items-center gap-2",children:[s.jsx(Ga,{className:"h-6 w-6"}),"Historique des Résultats"]}),!j&&r&&!v&&s.jsxs(te,{onClick:()=>t(`/patients/${e}/results/new`),children:[" ",s.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Ajouter un Résultat"]})]}),h&&s.jsxs("div",{className:"border rounded-lg overflow-hidden bg-background",children:[s.jsx(Y,{className:"h-12 w-full"})," ",s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"})]}),!h&&!v&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{className:"w-[180px]",children:"Date du Résultat"}),s.jsx(ft,{children:"Médecin Prescripteur"}),s.jsx(ft,{className:"w-[130px]",children:"Statut"}),s.jsx(ft,{className:"text-right w-[150px]",children:"Actions"})]})}),s.jsx(ia,{children:l.length>0?l.map(_=>{var C,E,R;return s.jsxs(Gt,{children:[s.jsx(Ke,{children:_.result_date?tt(_t(_.result_date),"PPP 'à' HH:mm",{locale:Ct}):"N/A"}),s.jsx(Ke,{children:((C=_.doctor)==null?void 0:C.full_name)||s.jsx("span",{className:"italic text-muted-foreground",children:"Inconnu"})}),s.jsx(Ke,{children:s.jsx(os,{variant:v6(_.status),children:((E=_.status)==null?void 0:E.charAt(0).toUpperCase())+((R=_.status)==null?void 0:R.slice(1))||"N/A"})}),s.jsx(Ke,{className:"text-right",children:s.jsxs(it,{to:`/results/${_.id}`,children:[" ",s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(is,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Voir Résultat"})," ",s.jsx("span",{className:"sm:hidden",children:"Voir"})," "]})]})})]},_.id)}):s.jsx(Gt,{children:s.jsx(Ke,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:"Aucun résultat trouvé pour ce patient."})})})]})})]})]})},y6=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!0),[l,c]=m.useState(null),[u,f]=m.useState(""),[h,p]=m.useState(null),[v,x]=m.useState(!1),b=qc(u,300),w=m.useCallback(async()=>{a(!0),c(null);try{const{data:_,error:C}=await ne.from("doctor").select("*").order("full_name",{ascending:!0});if(C)throw C;t(_||[])}catch(_){console.error("Erreur lors de la récupération des médecins:",_),c((_ instanceof Error?_.message:"")||"Une erreur est survenue lors du chargement des médecins."),t([])}finally{a(!1)}},[]);m.useEffect(()=>{w()},[w]);const j=m.useMemo(()=>{if(!b)return e;const _=b.toLowerCase();return e.filter(C=>C.full_name.toLowerCase().includes(_)||C.hospital&&C.hospital.toLowerCase().includes(_))},[e,b]),N=async()=>{if(h){x(!0),c(null);try{const{error:_}=await ne.from("doctor").delete().eq("id",h.id);if(_)throw _;t(C=>C.filter(E=>E.id!==h.id)),p(null)}catch(_){c((_ instanceof Error?_.message:"")||"Erreur lors de la suppression du médecin.")}finally{x(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Zn,{className:"h-6 w-6"}),"Gestion des Médecins"]}),s.jsx(it,{to:"/doctors/new",children:s.jsxs(te,{children:[s.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Ajouter un Médecin"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ye,{type:"search",placeholder:"Rechercher par nom ou hôpital...",value:u,onChange:_=>f(_.target.value),className:"pl-10 w-full md:w-1/3 h-10",disabled:r})]}),r&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(Y,{className:"h-12 w-full rounded-t-lg"}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"})]})]}),!r&&l&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsxs(Bt,{children:[l," ",s.jsx(te,{variant:"link",onClick:w,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!r&&!l&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{children:"Nom Complet"}),s.jsx(ft,{className:"w-[200px]",children:"Téléphone"}),s.jsx(ft,{className:"w-[300px]",children:"Hôpital / Clinique"}),s.jsx(ft,{className:"text-right w-[150px]",children:"Actions"})]})}),s.jsx(ia,{children:j.length>0?j.map(_=>s.jsxs(Gt,{children:[s.jsx(Ke,{className:"font-medium",children:_.full_name}),s.jsx(Ke,{children:_.phone||s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),s.jsx(Ke,{children:_.hospital||s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),s.jsxs(Ke,{className:"text-right",children:[s.jsx(it,{to:`/doctors/${_.id}/edit`,children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Xr,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),s.jsx("span",{className:"sm:hidden",children:"Éditer"})]})}),s.jsxs(wc,{children:[s.jsx(wf,{asChild:!0,children:s.jsxs(te,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer le médecin",onClick:()=>p(_),disabled:r,children:[s.jsx(Bc,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Supprimer"})]})}),s.jsxs(jf,{children:[s.jsxs(_f,{children:[s.jsx(Sf,{children:"Supprimer ce médecin ?"}),s.jsx(Ef,{children:"Cette action est irréversible. Voulez-vous vraiment supprimer ce médecin ?"})]}),s.jsxs(Nf,{children:[s.jsx(Cf,{onClick:()=>p(null),disabled:v,children:"Annuler"}),s.jsx(av,{onClick:N,disabled:v,className:"bg-destructive text-destructive-foreground",children:"Supprimer"})]})]})]})]})]},_.id)):s.jsx(Gt,{children:s.jsx(Ke,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:u?"Aucun médecin ne correspond à votre recherche.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(pf,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun médecin trouvé. Commencez par en ajouter un."]})})})})]})})]})},b6=()=>s.jsx("div",{children:"404 - Page Not Found"});var dv="Popover",[PN,JB]=cr(dv,[Ya]),Vc=Ya(),[w6,Wa]=PN(dv),LN=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:l,onOpenChange:c,modal:u=!1}=e,f=Vc(t),h=m.useRef(null),[p,v]=m.useState(!1),[x=!1,b]=$a({prop:a,defaultProp:l,onChange:c});return s.jsx(zg,{...f,children:s.jsx(w6,{scope:t,contentId:Es(),triggerRef:h,open:x,onOpenChange:b,onOpenToggle:m.useCallback(()=>b(w=>!w),[b]),hasCustomAnchor:p,onCustomAnchorAdd:m.useCallback(()=>v(!0),[]),onCustomAnchorRemove:m.useCallback(()=>v(!1),[]),modal:u,children:r})})};LN.displayName=dv;var IN="PopoverAnchor",j6=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,l=Wa(IN,r),c=Vc(r),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=l;return m.useEffect(()=>(u(),()=>f()),[u,f]),s.jsx(Pc,{...c,...a,ref:t})});j6.displayName=IN;var zN="PopoverTrigger",UN=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,l=Wa(zN,r),c=Vc(r),u=Nt(t,l.triggerRef),f=s.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":FN(l.open),...a,ref:u,onClick:Me(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?f:s.jsx(Pc,{asChild:!0,...c,children:f})});UN.displayName=zN;var fv="PopoverPortal",[_6,N6]=PN(fv,{forceMount:void 0}),$N=e=>{const{__scopePopover:t,forceMount:r,children:a,container:l}=e,c=Wa(fv,t);return s.jsx(_6,{scope:t,forceMount:r,children:s.jsx(Dr,{present:r||c.open,children:s.jsx(Lc,{asChild:!0,container:l,children:a})})})};$N.displayName=fv;var Ul="PopoverContent",BN=m.forwardRef((e,t)=>{const r=N6(Ul,e.__scopePopover),{forceMount:a=r.forceMount,...l}=e,c=Wa(Ul,e.__scopePopover);return s.jsx(Dr,{present:a||c.open,children:c.modal?s.jsx(S6,{...l,ref:t}):s.jsx(E6,{...l,ref:t})})});BN.displayName=Ul;var S6=m.forwardRef((e,t)=>{const r=Wa(Ul,e.__scopePopover),a=m.useRef(null),l=Nt(t,a),c=m.useRef(!1);return m.useEffect(()=>{const u=a.current;if(u)return df(u)},[]),s.jsx(Ic,{as:Rs,allowPinchZoom:!0,children:s.jsx(HN,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,u=>{var f;u.preventDefault(),c.current||(f=r.triggerRef.current)==null||f.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;c.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Me(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),E6=m.forwardRef((e,t)=>{const r=Wa(Ul,e.__scopePopover),a=m.useRef(!1),l=m.useRef(!1);return s.jsx(HN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,f;(u=e.onCloseAutoFocus)==null||u.call(e,c),c.defaultPrevented||(a.current||(f=r.triggerRef.current)==null||f.focus(),c.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:c=>{var h,p;(h=e.onInteractOutside)==null||h.call(e,c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;((p=r.triggerRef.current)==null?void 0:p.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),HN=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:v,...x}=e,b=Wa(Ul,r),w=Vc(r);return nf(),s.jsx(Dc,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:l,onUnmountAutoFocus:c,children:s.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:v,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>b.onOpenChange(!1),children:s.jsx(lf,{"data-state":FN(b.open),role:"dialog",id:b.contentId,...w,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qN="PopoverClose",C6=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,l=Wa(qN,r);return s.jsx(Je.button,{type:"button",...a,ref:t,onClick:Me(e.onClick,()=>l.onOpenChange(!1))})});C6.displayName=qN;var R6="PopoverArrow",T6=m.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,l=Vc(r);return s.jsx(of,{...l,...a,ref:t})});T6.displayName=R6;function FN(e){return e?"open":"closed"}var M6=LN,A6=UN,k6=$N,D6=BN;function VN({...e}){return s.jsx(M6,{"data-slot":"popover",...e})}function YN({...e}){return s.jsx(A6,{"data-slot":"popover-trigger",...e})}function GN({className:e,align:t="center",sideOffset:r=4,...a}){return s.jsx(k6,{children:s.jsx(D6,{"data-slot":"popover-content",align:t,sideOffset:r,className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}var Ze=function(){return Ze=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Ze.apply(this,arguments)};function O6(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r}function WN(e,t,r){for(var a=0,l=t.length,c;a<l;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))}function Yc(e){return e.mode==="multiple"}function Gc(e){return e.mode==="range"}function Rf(e){return e.mode==="single"}var P6={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function L6(e,t){return tt(e,"LLLL y",t)}function I6(e,t){return tt(e,"d",t)}function z6(e,t){return tt(e,"LLLL",t)}function U6(e){return"".concat(e)}function $6(e,t){return tt(e,"cccccc",t)}function B6(e,t){return tt(e,"yyyy",t)}var H6=Object.freeze({__proto__:null,formatCaption:L6,formatDay:I6,formatMonthCaption:z6,formatWeekNumber:U6,formatWeekdayName:$6,formatYearCaption:B6}),q6=function(e,t,r){return tt(e,"do MMMM (EEEE)",r)},F6=function(){return"Month: "},V6=function(){return"Go to next month"},Y6=function(){return"Go to previous month"},G6=function(e,t){return tt(e,"cccc",t)},W6=function(e){return"Week n. ".concat(e)},X6=function(){return"Year: "},K6=Object.freeze({__proto__:null,labelDay:q6,labelMonthDropdown:F6,labelNext:V6,labelPrevious:Y6,labelWeekNumber:W6,labelWeekday:G6,labelYearDropdown:X6});function Q6(){var e="buttons",t=P6,r=RN,a={},l={},c=1,u={},f=new Date;return{captionLayout:e,classNames:t,formatters:H6,labels:K6,locale:r,modifiersClassNames:a,modifiers:l,numberOfMonths:c,styles:u,today:f,mode:"default"}}function Z6(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,l=e.toMonth,c=e.fromDate,u=e.toDate;return a?c=xr(a):t&&(c=new Date(t,0,1)),l?u=ov(l):r&&(u=new Date(r,11,31)),{fromDate:c?zl(c):void 0,toDate:u?zl(u):void 0}}var XN=m.createContext(void 0);function J6(e){var t,r=e.initialProps,a=Q6(),l=Z6(r),c=l.fromDate,u=l.toDate,f=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;f!=="buttons"&&(!c||!u)&&(f="buttons");var h;(Rf(r)||Yc(r)||Gc(r))&&(h=r.onSelect);var p=Ze(Ze(Ze({},a),r),{captionLayout:f,classNames:Ze(Ze({},a.classNames),r.classNames),components:Ze({},r.components),formatters:Ze(Ze({},a.formatters),r.formatters),fromDate:c,labels:Ze(Ze({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:Ze(Ze({},a.modifiers),r.modifiers),modifiersClassNames:Ze(Ze({},a.modifiersClassNames),r.modifiersClassNames),onSelect:h,styles:Ze(Ze({},a.styles),r.styles),toDate:u});return s.jsx(XN.Provider,{value:p,children:e.children})}function nn(){var e=m.useContext(XN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function KN(e){var t=nn(),r=t.locale,a=t.classNames,l=t.styles,c=t.formatters.formatCaption;return s.jsx("div",{className:a.caption_label,style:l.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:c(e.displayMonth,{locale:r})})}function e8(e){return s.jsx("svg",Ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function QN(e){var t,r,a=e.onChange,l=e.value,c=e.children,u=e.caption,f=e.className,h=e.style,p=nn(),v=(r=(t=p.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:e8;return s.jsxs("div",{className:f,style:h,children:[s.jsx("span",{className:p.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:l,onChange:a,children:c}),s.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[u,s.jsx(v,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function t8(e){var t,r=nn(),a=r.fromDate,l=r.toDate,c=r.styles,u=r.locale,f=r.formatters.formatMonthCaption,h=r.classNames,p=r.components,v=r.labels.labelMonthDropdown;if(!a)return s.jsx(s.Fragment,{});if(!l)return s.jsx(s.Fragment,{});var x=[];if(EL(a,l))for(var b=xr(a),w=a.getMonth();w<=l.getMonth();w++)x.push(fp(b,w));else for(var b=xr(new Date),w=0;w<=11;w++)x.push(fp(b,w));var j=function(_){var C=Number(_.target.value),E=fp(xr(e.displayMonth),C);e.onChange(E)},N=(t=p==null?void 0:p.Dropdown)!==null&&t!==void 0?t:QN;return s.jsx(N,{name:"months","aria-label":v(),className:h.dropdown_month,style:c.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:f(e.displayMonth,{locale:u}),children:x.map(function(_){return s.jsx("option",{value:_.getMonth(),children:f(_,{locale:u})},_.getMonth())})})}function n8(e){var t,r=e.displayMonth,a=nn(),l=a.fromDate,c=a.toDate,u=a.locale,f=a.styles,h=a.classNames,p=a.components,v=a.formatters.formatYearCaption,x=a.labels.labelYearDropdown,b=[];if(!l)return s.jsx(s.Fragment,{});if(!c)return s.jsx(s.Fragment,{});for(var w=l.getFullYear(),j=c.getFullYear(),N=w;N<=j;N++)b.push(Rw(SN(new Date),N));var _=function(E){var R=Rw(xr(r),Number(E.target.value));e.onChange(R)},C=(t=p==null?void 0:p.Dropdown)!==null&&t!==void 0?t:QN;return s.jsx(C,{name:"years","aria-label":x(),className:h.dropdown_year,style:f.dropdown_year,onChange:_,value:r.getFullYear(),caption:v(r,{locale:u}),children:b.map(function(E){return s.jsx("option",{value:E.getFullYear(),children:v(E,{locale:u})},E.getFullYear())})})}function r8(e,t){var r=m.useState(e),a=r[0],l=r[1],c=t===void 0?a:t;return[c,l]}function s8(e){var t=e.month,r=e.defaultMonth,a=e.today,l=t||r||a||new Date,c=e.toDate,u=e.fromDate,f=e.numberOfMonths,h=f===void 0?1:f;if(c&&jc(c,l)<0){var p=-1*(h-1);l=cs(c,p)}return u&&jc(l,u)<0&&(l=u),xr(l)}function a8(){var e=nn(),t=s8(e),r=r8(t,e.month),a=r[0],l=r[1],c=function(u){var f;if(!e.disableNavigation){var h=xr(u);l(h),(f=e.onMonthChange)===null||f===void 0||f.call(e,h)}};return[a,c]}function i8(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,l=xr(e),c=xr(cs(l,a)),u=jc(c,l),f=[],h=0;h<u;h++){var p=cs(l,h);f.push(p)}return r&&(f=f.reverse()),f}function l8(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,l=t.numberOfMonths,c=l===void 0?1:l,u=a?c:1,f=xr(e);if(!r)return cs(f,u);var h=jc(r,e);if(!(h<c))return cs(f,u)}}function o8(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,l=t.numberOfMonths,c=l===void 0?1:l,u=a?c:1,f=xr(e);if(!r)return cs(f,-u);var h=jc(f,r);if(!(h<=0))return cs(f,-u)}}var ZN=m.createContext(void 0);function c8(e){var t=nn(),r=a8(),a=r[0],l=r[1],c=i8(a,t),u=l8(a,t),f=o8(a,t),h=function(x){return c.some(function(b){return uv(x,b)})},p=function(x,b){h(x)||(b&&DN(x,b)?l(cs(x,1+t.numberOfMonths*-1)):l(x))},v={currentMonth:a,displayMonths:c,goToMonth:l,goToDate:p,previousMonth:f,nextMonth:u,isDateDisplayed:h};return s.jsx(ZN.Provider,{value:v,children:e.children})}function Wc(){var e=m.useContext(ZN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Tw(e){var t,r=nn(),a=r.classNames,l=r.styles,c=r.components,u=Wc().goToMonth,f=function(v){u(cs(v,e.displayIndex?-e.displayIndex:0))},h=(t=c==null?void 0:c.CaptionLabel)!==null&&t!==void 0?t:KN,p=s.jsx(h,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:a.caption_dropdowns,style:l.caption_dropdowns,children:[s.jsx("div",{className:a.vhidden,children:p}),s.jsx(t8,{onChange:f,displayMonth:e.displayMonth}),s.jsx(n8,{onChange:f,displayMonth:e.displayMonth})]})}function u8(e){return s.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function d8(e){return s.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Hd=m.forwardRef(function(e,t){var r=nn(),a=r.classNames,l=r.styles,c=[a.button_reset,a.button];e.className&&c.push(e.className);var u=c.join(" "),f=Ze(Ze({},l.button_reset),l.button);return e.style&&Object.assign(f,e.style),s.jsx("button",Ze({},e,{ref:t,type:"button",className:u,style:f}))});function f8(e){var t,r,a=nn(),l=a.dir,c=a.locale,u=a.classNames,f=a.styles,h=a.labels,p=h.labelPrevious,v=h.labelNext,x=a.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var b=p(e.previousMonth,{locale:c}),w=[u.nav_button,u.nav_button_previous].join(" "),j=v(e.nextMonth,{locale:c}),N=[u.nav_button,u.nav_button_next].join(" "),_=(t=x==null?void 0:x.IconRight)!==null&&t!==void 0?t:d8,C=(r=x==null?void 0:x.IconLeft)!==null&&r!==void 0?r:u8;return s.jsxs("div",{className:u.nav,style:f.nav,children:[!e.hidePrevious&&s.jsx(Hd,{name:"previous-month","aria-label":b,className:w,style:f.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:l==="rtl"?s.jsx(_,{className:u.nav_icon,style:f.nav_icon}):s.jsx(C,{className:u.nav_icon,style:f.nav_icon})}),!e.hideNext&&s.jsx(Hd,{name:"next-month","aria-label":j,className:N,style:f.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:l==="rtl"?s.jsx(C,{className:u.nav_icon,style:f.nav_icon}):s.jsx(_,{className:u.nav_icon,style:f.nav_icon})})]})}function Mw(e){var t=nn().numberOfMonths,r=Wc(),a=r.previousMonth,l=r.nextMonth,c=r.goToMonth,u=r.displayMonths,f=u.findIndex(function(j){return uv(e.displayMonth,j)}),h=f===0,p=f===u.length-1,v=t>1&&(h||!p),x=t>1&&(p||!h),b=function(){a&&c(a)},w=function(){l&&c(l)};return s.jsx(f8,{displayMonth:e.displayMonth,hideNext:v,hidePrevious:x,nextMonth:l,previousMonth:a,onPreviousClick:b,onNextClick:w})}function h8(e){var t,r=nn(),a=r.classNames,l=r.disableNavigation,c=r.styles,u=r.captionLayout,f=r.components,h=(t=f==null?void 0:f.CaptionLabel)!==null&&t!==void 0?t:KN,p;return l?p=s.jsx(h,{id:e.id,displayMonth:e.displayMonth}):u==="dropdown"?p=s.jsx(Tw,{displayMonth:e.displayMonth,id:e.id}):u==="dropdown-buttons"?p=s.jsxs(s.Fragment,{children:[s.jsx(Tw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Mw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):p=s.jsxs(s.Fragment,{children:[s.jsx(h,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Mw,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:a.caption,style:c.caption,children:p})}function m8(e){var t=nn(),r=t.footer,a=t.styles,l=t.classNames.tfoot;return r?s.jsx("tfoot",{className:l,style:a.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function p8(e,t,r){for(var a=r?Ri(new Date):Ms(new Date,{locale:e,weekStartsOn:t}),l=[],c=0;c<7;c++){var u=ir(a,c);l.push(u)}return l}function g8(){var e=nn(),t=e.classNames,r=e.styles,a=e.showWeekNumber,l=e.locale,c=e.weekStartsOn,u=e.ISOWeek,f=e.formatters.formatWeekdayName,h=e.labels.labelWeekday,p=p8(l,c,u);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),p.map(function(v,x){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":h(v,{locale:l}),children:f(v,{locale:l})},x)})]})}function v8(){var e,t=nn(),r=t.classNames,a=t.styles,l=t.components,c=(e=l==null?void 0:l.HeadRow)!==null&&e!==void 0?e:g8;return s.jsx("thead",{style:a.head,className:r.head,children:s.jsx(c,{})})}function x8(e){var t=nn(),r=t.locale,a=t.formatters.formatDay;return s.jsx(s.Fragment,{children:a(e.date,{locale:r})})}var hv=m.createContext(void 0);function y8(e){if(!Yc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(hv.Provider,{value:t,children:e.children})}return s.jsx(b8,{initialProps:e.initialProps,children:e.children})}function b8(e){var t=e.initialProps,r=e.children,a=t.selected,l=t.min,c=t.max,u=function(p,v,x){var b,w;(b=t.onDayClick)===null||b===void 0||b.call(t,p,v,x);var j=!!(v.selected&&l&&(a==null?void 0:a.length)===l);if(!j){var N=!!(!v.selected&&c&&(a==null?void 0:a.length)===c);if(!N){var _=a?WN([],a):[];if(v.selected){var C=_.findIndex(function(E){return vr(p,E)});_.splice(C,1)}else _.push(p);(w=t.onSelect)===null||w===void 0||w.call(t,_,p,v,x)}}},f={disabled:[]};a&&f.disabled.push(function(p){var v=c&&a.length>c-1,x=a.some(function(b){return vr(b,p)});return!!(v&&!x)});var h={selected:a,onDayClick:u,modifiers:f};return s.jsx(hv.Provider,{value:h,children:r})}function mv(){var e=m.useContext(hv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function w8(e,t){var r=t||{},a=r.from,l=r.to;return a&&l?vr(l,e)&&vr(a,e)?void 0:vr(l,e)?{from:l,to:void 0}:vr(a,e)?void 0:Kp(a,e)?{from:e,to:l}:{from:a,to:e}:l?Kp(e,l)?{from:l,to:e}:{from:e,to:l}:a?DN(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var pv=m.createContext(void 0);function j8(e){if(!Gc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(pv.Provider,{value:t,children:e.children})}return s.jsx(_8,{initialProps:e.initialProps,children:e.children})}function _8(e){var t=e.initialProps,r=e.children,a=t.selected,l=a||{},c=l.from,u=l.to,f=t.min,h=t.max,p=function(w,j,N){var _,C;(_=t.onDayClick)===null||_===void 0||_.call(t,w,j,N);var E=w8(w,a);(C=t.onSelect)===null||C===void 0||C.call(t,E,w,j,N)},v={range_start:[],range_end:[],range_middle:[],disabled:[]};if(c?(v.range_start=[c],u?(v.range_end=[u],vr(c,u)||(v.range_middle=[{after:c,before:u}])):v.range_end=[c]):u&&(v.range_start=[u],v.range_end=[u]),f&&(c&&!u&&v.disabled.push({after:up(c,f-1),before:ir(c,f-1)}),c&&u&&v.disabled.push({after:c,before:ir(c,f-1)}),!c&&u&&v.disabled.push({after:up(u,f-1),before:ir(u,f-1)})),h){if(c&&!u&&(v.disabled.push({before:ir(c,-h+1)}),v.disabled.push({after:ir(c,h-1)})),c&&u){var x=Ss(u,c)+1,b=h-x;v.disabled.push({before:up(c,b)}),v.disabled.push({after:ir(u,b)})}!c&&u&&(v.disabled.push({before:ir(u,-h+1)}),v.disabled.push({after:ir(u,h-1)}))}return s.jsx(pv.Provider,{value:{selected:a,onDayClick:p,modifiers:v},children:r})}function gv(){var e=m.useContext(pv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Td(e){return Array.isArray(e)?WN([],e):e!==void 0?[e]:[]}function N8(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],l=r[1];t[a]=Td(l)}),t}var us;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(us||(us={}));var S8=us.Selected,Qs=us.Disabled,E8=us.Hidden,C8=us.Today,hp=us.RangeEnd,mp=us.RangeMiddle,pp=us.RangeStart,R8=us.Outside;function T8(e,t,r){var a,l=(a={},a[S8]=Td(e.selected),a[Qs]=Td(e.disabled),a[E8]=Td(e.hidden),a[C8]=[e.today],a[hp]=[],a[mp]=[],a[pp]=[],a[R8]=[],a);return e.fromDate&&l[Qs].push({before:e.fromDate}),e.toDate&&l[Qs].push({after:e.toDate}),Yc(e)?l[Qs]=l[Qs].concat(t.modifiers[Qs]):Gc(e)&&(l[Qs]=l[Qs].concat(r.modifiers[Qs]),l[pp]=r.modifiers[pp],l[mp]=r.modifiers[mp],l[hp]=r.modifiers[hp]),l}var JN=m.createContext(void 0);function M8(e){var t=nn(),r=mv(),a=gv(),l=T8(t,r,a),c=N8(t.modifiers),u=Ze(Ze({},l),c);return s.jsx(JN.Provider,{value:u,children:e.children})}function eS(){var e=m.useContext(JN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function A8(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function k8(e){return!!(e&&typeof e=="object"&&"from"in e)}function D8(e){return!!(e&&typeof e=="object"&&"after"in e)}function O8(e){return!!(e&&typeof e=="object"&&"before"in e)}function P8(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function L8(e,t){var r,a=t.from,l=t.to;if(a&&l){var c=Ss(l,a)<0;c&&(r=[l,a],a=r[0],l=r[1]);var u=Ss(e,a)>=0&&Ss(l,e)>=0;return u}return l?vr(l,e):a?vr(a,e):!1}function I8(e){return lv(e)}function z8(e){return Array.isArray(e)&&e.every(lv)}function U8(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(I8(r))return vr(e,r);if(z8(r))return r.includes(e);if(k8(r))return L8(e,r);if(P8(r))return r.dayOfWeek.includes(e.getDay());if(A8(r)){var a=Ss(r.before,e),l=Ss(r.after,e),c=a>0,u=l<0,f=Kp(r.before,r.after);return f?u&&c:c||u}return D8(r)?Ss(e,r.after)>0:O8(r)?Ss(r.before,e)>0:typeof r=="function"?r(e):!1})}function vv(e,t,r){var a=Object.keys(t).reduce(function(c,u){var f=t[u];return U8(e,f)&&c.push(u),c},[]),l={};return a.forEach(function(c){return l[c]=!0}),r&&!uv(e,r)&&(l.outside=!0),l}function $8(e,t){for(var r=xr(e[0]),a=ov(e[e.length-1]),l,c,u=r;u<=a;){var f=vv(u,t),h=!f.disabled&&!f.hidden;if(!h){u=ir(u,1);continue}if(f.selected)return u;f.today&&!c&&(c=u),l||(l=u),u=ir(u,1)}return c||l}var B8=365;function tS(e,t){var r=t.moveBy,a=t.direction,l=t.context,c=t.modifiers,u=t.retry,f=u===void 0?{count:0,lastFocused:e}:u,h=l.weekStartsOn,p=l.fromDate,v=l.toDate,x=l.locale,b={day:ir,week:Xp,month:cs,year:N5,startOfWeek:function(_){return l.ISOWeek?Ri(_):Ms(_,{locale:x,weekStartsOn:h})},endOfWeek:function(_){return l.ISOWeek?EN(_):cv(_,{locale:x,weekStartsOn:h})}},w=b[r](e,a==="after"?1:-1);a==="before"&&p?w=S5([p,w]):a==="after"&&v&&(w=E5([v,w]));var j=!0;if(c){var N=vv(w,c);j=!N.disabled&&!N.hidden}return j?w:f.count>B8?f.lastFocused:tS(w,{moveBy:r,direction:a,context:l,modifiers:c,retry:Ze(Ze({},f),{count:f.count+1})})}var nS=m.createContext(void 0);function H8(e){var t=Wc(),r=eS(),a=m.useState(),l=a[0],c=a[1],u=m.useState(),f=u[0],h=u[1],p=$8(t.displayMonths,r),v=l??(f&&t.isDateDisplayed(f))?f:p,x=function(){h(l),c(void 0)},b=function(_){c(_)},w=nn(),j=function(_,C){if(l){var E=tS(l,{moveBy:_,direction:C,context:w,modifiers:r});vr(l,E)||(t.goToDate(E,l),b(E))}},N={focusedDay:l,focusTarget:v,blur:x,focus:b,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return s.jsx(nS.Provider,{value:N,children:e.children})}function xv(){var e=m.useContext(nS);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function q8(e,t){var r=eS(),a=vv(e,r,t);return a}var yv=m.createContext(void 0);function F8(e){if(!Rf(e.initialProps)){var t={selected:void 0};return s.jsx(yv.Provider,{value:t,children:e.children})}return s.jsx(V8,{initialProps:e.initialProps,children:e.children})}function V8(e){var t=e.initialProps,r=e.children,a=function(c,u,f){var h,p,v;if((h=t.onDayClick)===null||h===void 0||h.call(t,c,u,f),u.selected&&!t.required){(p=t.onSelect)===null||p===void 0||p.call(t,void 0,c,u,f);return}(v=t.onSelect)===null||v===void 0||v.call(t,c,c,u,f)},l={selected:t.selected,onDayClick:a};return s.jsx(yv.Provider,{value:l,children:r})}function rS(){var e=m.useContext(yv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Y8(e,t){var r=nn(),a=rS(),l=mv(),c=gv(),u=xv(),f=u.focusDayAfter,h=u.focusDayBefore,p=u.focusWeekAfter,v=u.focusWeekBefore,x=u.blur,b=u.focus,w=u.focusMonthBefore,j=u.focusMonthAfter,N=u.focusYearBefore,_=u.focusYearAfter,C=u.focusStartOfWeek,E=u.focusEndOfWeek,R=function(X){var U,J,k,P;Rf(r)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,X):Yc(r)?(J=l.onDayClick)===null||J===void 0||J.call(l,e,t,X):Gc(r)?(k=c.onDayClick)===null||k===void 0||k.call(c,e,t,X):(P=r.onDayClick)===null||P===void 0||P.call(r,e,t,X)},M=function(X){var U;b(e),(U=r.onDayFocus)===null||U===void 0||U.call(r,e,t,X)},T=function(X){var U;x(),(U=r.onDayBlur)===null||U===void 0||U.call(r,e,t,X)},z=function(X){var U;(U=r.onDayMouseEnter)===null||U===void 0||U.call(r,e,t,X)},H=function(X){var U;(U=r.onDayMouseLeave)===null||U===void 0||U.call(r,e,t,X)},F=function(X){var U;(U=r.onDayPointerEnter)===null||U===void 0||U.call(r,e,t,X)},G=function(X){var U;(U=r.onDayPointerLeave)===null||U===void 0||U.call(r,e,t,X)},V=function(X){var U;(U=r.onDayTouchCancel)===null||U===void 0||U.call(r,e,t,X)},ue=function(X){var U;(U=r.onDayTouchEnd)===null||U===void 0||U.call(r,e,t,X)},re=function(X){var U;(U=r.onDayTouchMove)===null||U===void 0||U.call(r,e,t,X)},I=function(X){var U;(U=r.onDayTouchStart)===null||U===void 0||U.call(r,e,t,X)},oe=function(X){var U;(U=r.onDayKeyUp)===null||U===void 0||U.call(r,e,t,X)},ce=function(X){var U;switch(X.key){case"ArrowLeft":X.preventDefault(),X.stopPropagation(),r.dir==="rtl"?f():h();break;case"ArrowRight":X.preventDefault(),X.stopPropagation(),r.dir==="rtl"?h():f();break;case"ArrowDown":X.preventDefault(),X.stopPropagation(),p();break;case"ArrowUp":X.preventDefault(),X.stopPropagation(),v();break;case"PageUp":X.preventDefault(),X.stopPropagation(),X.shiftKey?N():w();break;case"PageDown":X.preventDefault(),X.stopPropagation(),X.shiftKey?_():j();break;case"Home":X.preventDefault(),X.stopPropagation(),C();break;case"End":X.preventDefault(),X.stopPropagation(),E();break}(U=r.onDayKeyDown)===null||U===void 0||U.call(r,e,t,X)},D={onClick:R,onFocus:M,onBlur:T,onKeyDown:ce,onKeyUp:oe,onMouseEnter:z,onMouseLeave:H,onPointerEnter:F,onPointerLeave:G,onTouchCancel:V,onTouchEnd:ue,onTouchMove:re,onTouchStart:I};return D}function G8(){var e=nn(),t=rS(),r=mv(),a=gv(),l=Rf(e)?t.selected:Yc(e)?r.selected:Gc(e)?a.selected:void 0;return l}function W8(e){return Object.values(us).includes(e)}function X8(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var l=e.modifiersClassNames[a];if(l)r.push(l);else if(W8(a)){var c=e.classNames["day_".concat(a)];c&&r.push(c)}}),r}function K8(e,t){var r=Ze({},e.styles.day);return Object.keys(t).forEach(function(a){var l;r=Ze(Ze({},r),(l=e.modifiersStyles)===null||l===void 0?void 0:l[a])}),r}function Q8(e,t,r){var a,l,c,u=nn(),f=xv(),h=q8(e,t),p=Y8(e,h),v=G8(),x=!!(u.onDayClick||u.mode!=="default");m.useEffect(function(){var z;h.outside||f.focusedDay&&x&&vr(f.focusedDay,e)&&((z=r.current)===null||z===void 0||z.focus())},[f.focusedDay,e,r,x,h.outside]);var b=X8(u,h).join(" "),w=K8(u,h),j=!!(h.outside&&!u.showOutsideDays||h.hidden),N=(c=(l=u.components)===null||l===void 0?void 0:l.DayContent)!==null&&c!==void 0?c:x8,_=s.jsx(N,{date:e,displayMonth:t,activeModifiers:h}),C={style:w,className:b,children:_,role:"gridcell"},E=f.focusTarget&&vr(f.focusTarget,e)&&!h.outside,R=f.focusedDay&&vr(f.focusedDay,e),M=Ze(Ze(Ze({},C),(a={disabled:h.disabled,role:"gridcell"},a["aria-selected"]=h.selected,a.tabIndex=R||E?0:-1,a)),p),T={isButton:x,isHidden:j,activeModifiers:h,selectedDays:v,buttonProps:M,divProps:C};return T}function Z8(e){var t=m.useRef(null),r=Q8(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Hd,Ze({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ze({},r.divProps))}function J8(e){var t=e.number,r=e.dates,a=nn(),l=a.onWeekNumberClick,c=a.styles,u=a.classNames,f=a.locale,h=a.labels.labelWeekNumber,p=a.formatters.formatWeekNumber,v=p(Number(t),{locale:f});if(!l)return s.jsx("span",{className:u.weeknumber,style:c.weeknumber,children:v});var x=h(Number(t),{locale:f}),b=function(w){l(t,r,w)};return s.jsx(Hd,{name:"week-number","aria-label":x,className:u.weeknumber,style:c.weeknumber,onClick:b,children:v})}function eI(e){var t,r,a=nn(),l=a.styles,c=a.classNames,u=a.showWeekNumber,f=a.components,h=(t=f==null?void 0:f.Day)!==null&&t!==void 0?t:Z8,p=(r=f==null?void 0:f.WeekNumber)!==null&&r!==void 0?r:J8,v;return u&&(v=s.jsx("td",{className:c.cell,style:l.cell,children:s.jsx(p,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:c.row,style:l.row,children:[v,e.dates.map(function(x){return s.jsx("td",{className:c.cell,style:l.cell,role:"presentation",children:s.jsx(h,{displayMonth:e.displayMonth,date:x})},_L(x))})]})}function Aw(e,t,r){for(var a=r!=null&&r.ISOWeek?EN(t):cv(t,r),l=r!=null&&r.ISOWeek?Ri(e):Ms(e,r),c=Ss(a,l),u=[],f=0;f<=c;f++)u.push(ir(l,f));var h=u.reduce(function(p,v){var x=r!=null&&r.ISOWeek?TN(v):AN(v,r),b=p.find(function(w){return w.weekNumber===x});return b?(b.dates.push(v),p):(p.push({weekNumber:x,dates:[v]}),p)},[]);return h}function tI(e,t){var r=Aw(xr(e),ov(e),t);if(t!=null&&t.useFixedWeeks){var a=SL(e,t);if(a<6){var l=r[r.length-1],c=l.dates[l.dates.length-1],u=Xp(c,6-a),f=Aw(Xp(c,1),u,t);r.push.apply(r,f)}}return r}function nI(e){var t,r,a,l=nn(),c=l.locale,u=l.classNames,f=l.styles,h=l.hideHead,p=l.fixedWeeks,v=l.components,x=l.weekStartsOn,b=l.firstWeekContainsDate,w=l.ISOWeek,j=tI(e.displayMonth,{useFixedWeeks:!!p,ISOWeek:w,locale:c,weekStartsOn:x,firstWeekContainsDate:b}),N=(t=v==null?void 0:v.Head)!==null&&t!==void 0?t:v8,_=(r=v==null?void 0:v.Row)!==null&&r!==void 0?r:eI,C=(a=v==null?void 0:v.Footer)!==null&&a!==void 0?a:m8;return s.jsxs("table",{id:e.id,className:u.table,style:f.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!h&&s.jsx(N,{}),s.jsx("tbody",{className:u.tbody,style:f.tbody,children:j.map(function(E){return s.jsx(_,{displayMonth:e.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),s.jsx(C,{displayMonth:e.displayMonth})]})}function rI(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var sI=rI()?m.useLayoutEffect:m.useEffect,gp=!1,aI=0;function kw(){return"react-day-picker-".concat(++aI)}function iI(e){var t,r=e??(gp?kw():null),a=m.useState(r),l=a[0],c=a[1];return sI(function(){l===null&&c(kw())},[]),m.useEffect(function(){gp===!1&&(gp=!0)},[]),(t=e??l)!==null&&t!==void 0?t:void 0}function lI(e){var t,r,a=nn(),l=a.dir,c=a.classNames,u=a.styles,f=a.components,h=Wc().displayMonths,p=iI(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),v=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,x=[c.month],b=u.month,w=e.displayIndex===0,j=e.displayIndex===h.length-1,N=!w&&!j;l==="rtl"&&(t=[w,j],j=t[0],w=t[1]),w&&(x.push(c.caption_start),b=Ze(Ze({},b),u.caption_start)),j&&(x.push(c.caption_end),b=Ze(Ze({},b),u.caption_end)),N&&(x.push(c.caption_between),b=Ze(Ze({},b),u.caption_between));var _=(r=f==null?void 0:f.Caption)!==null&&r!==void 0?r:h8;return s.jsxs("div",{className:x.join(" "),style:b,children:[s.jsx(_,{id:p,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(nI,{id:v,"aria-labelledby":p,displayMonth:e.displayMonth})]},e.displayIndex)}function oI(e){var t=nn(),r=t.classNames,a=t.styles;return s.jsx("div",{className:r.months,style:a.months,children:e.children})}function cI(e){var t,r,a=e.initialProps,l=nn(),c=xv(),u=Wc(),f=m.useState(!1),h=f[0],p=f[1];m.useEffect(function(){l.initialFocus&&c.focusTarget&&(h||(c.focus(c.focusTarget),p(!0)))},[l.initialFocus,h,c.focus,c.focusTarget,c]);var v=[l.classNames.root,l.className];l.numberOfMonths>1&&v.push(l.classNames.multiple_months),l.showWeekNumber&&v.push(l.classNames.with_weeknumber);var x=Ze(Ze({},l.styles.root),l.style),b=Object.keys(a).filter(function(j){return j.startsWith("data-")}).reduce(function(j,N){var _;return Ze(Ze({},j),(_={},_[N]=a[N],_))},{}),w=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:oI;return s.jsx("div",Ze({className:v.join(" "),style:x,dir:l.dir,id:l.id,nonce:a.nonce,title:a.title,lang:a.lang},b,{children:s.jsx(w,{children:u.displayMonths.map(function(j,N){return s.jsx(lI,{displayIndex:N,displayMonth:j},N)})})}))}function uI(e){var t=e.children,r=O6(e,["children"]);return s.jsx(J6,{initialProps:r,children:s.jsx(c8,{children:s.jsx(F8,{initialProps:r,children:s.jsx(y8,{initialProps:r,children:s.jsx(j8,{initialProps:r,children:s.jsx(M8,{children:s.jsx(H8,{children:t})})})})})})})}function dI(e){return s.jsx(uI,Ze({},e,{children:s.jsx(cI,{initialProps:e})}))}function sS({className:e,classNames:t,showOutsideDays:r=!0,...a}){return s.jsx(dI,{showOutsideDays:r,className:Ce("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Ce(Ol({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ce("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ce(Ol({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:l,...c})=>s.jsx(M_,{className:Ce("size-4",l),...c}),IconRight:({className:l,...c})=>s.jsx(A_,{className:Ce("size-4",l),...c})},...a})}function Dw(e,[t,r]){return Math.min(r,Math.max(t,e))}function bv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fI=[" ","Enter","ArrowUp","ArrowDown"],hI=[" ","Enter"],Xc="Select",[Tf,Mf,mI]=Cg(Xc),[eo,eH]=cr(Xc,[mI,Ya]),Af=Ya(),[pI,Xa]=eo(Xc),[gI,vI]=eo(Xc),aS=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:l,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:p,name:v,autoComplete:x,disabled:b,required:w,form:j}=e,N=Af(t),[_,C]=m.useState(null),[E,R]=m.useState(null),[M,T]=m.useState(!1),z=tf(p),[H=!1,F]=$a({prop:a,defaultProp:l,onChange:c}),[G,V]=$a({prop:u,defaultProp:f,onChange:h}),ue=m.useRef(null),re=_?j||!!_.closest("form"):!0,[I,oe]=m.useState(new Set),ce=Array.from(I).map(D=>D.props.value).join(";");return s.jsx(zg,{...N,children:s.jsxs(pI,{required:w,scope:t,trigger:_,onTriggerChange:C,valueNode:E,onValueNodeChange:R,valueNodeHasChildren:M,onValueNodeHasChildrenChange:T,contentId:Es(),value:G,onValueChange:V,open:H,onOpenChange:F,dir:z,triggerPointerDownPosRef:ue,disabled:b,children:[s.jsx(Tf.Provider,{scope:t,children:s.jsx(gI,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(D=>{oe(X=>new Set(X).add(D))},[]),onNativeOptionRemove:m.useCallback(D=>{oe(X=>{const U=new Set(X);return U.delete(D),U})},[]),children:r})}),re?s.jsxs(RS,{"aria-hidden":!0,required:w,tabIndex:-1,name:v,autoComplete:x,value:G,onChange:D=>V(D.target.value),disabled:b,form:j,children:[G===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},ce):null]})})};aS.displayName=Xc;var iS="SelectTrigger",lS=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...l}=e,c=Af(r),u=Xa(iS,r),f=u.disabled||a,h=Nt(t,u.onTriggerChange),p=Mf(r),v=m.useRef("touch"),[x,b,w]=TS(N=>{const _=p().filter(R=>!R.disabled),C=_.find(R=>R.value===u.value),E=MS(_,N,C);E!==void 0&&u.onValueChange(E.value)}),j=N=>{f||(u.onOpenChange(!0),w()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return s.jsx(Pc,{asChild:!0,...c,children:s.jsx(Je.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":CS(u.value)?"":void 0,...l,ref:h,onClick:Me(l.onClick,N=>{N.currentTarget.focus(),v.current!=="mouse"&&j(N)}),onPointerDown:Me(l.onPointerDown,N=>{v.current=N.pointerType;const _=N.target;_.hasPointerCapture(N.pointerId)&&_.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:Me(l.onKeyDown,N=>{const _=x.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&b(N.key),!(_&&N.key===" ")&&fI.includes(N.key)&&(j(),N.preventDefault())})})})});lS.displayName=iS;var oS="SelectValue",cS=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:l,children:c,placeholder:u="",...f}=e,h=Xa(oS,r),{onValueNodeHasChildrenChange:p}=h,v=c!==void 0,x=Nt(t,h.onValueNodeChange);return Wn(()=>{p(v)},[p,v]),s.jsx(Je.span,{...f,ref:x,style:{pointerEvents:"none"},children:CS(h.value)?s.jsx(s.Fragment,{children:u}):c})});cS.displayName=oS;var xI="SelectIcon",uS=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...l}=e;return s.jsx(Je.span,{"aria-hidden":!0,...l,ref:t,children:a||"▼"})});uS.displayName=xI;var yI="SelectPortal",dS=e=>s.jsx(Lc,{asChild:!0,...e});dS.displayName=yI;var Ti="SelectContent",fS=m.forwardRef((e,t)=>{const r=Xa(Ti,e.__scopeSelect),[a,l]=m.useState();if(Wn(()=>{l(new DocumentFragment)},[]),!r.open){const c=a;return c?Ns.createPortal(s.jsx(hS,{scope:e.__scopeSelect,children:s.jsx(Tf.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),c):null}return s.jsx(mS,{...e,ref:t})});fS.displayName=Ti;var ts=10,[hS,Ka]=eo(Ti),bI="SelectContentImpl",mS=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:p,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:N,avoidCollisions:_,...C}=e,E=Xa(Ti,r),[R,M]=m.useState(null),[T,z]=m.useState(null),H=Nt(t,K=>M(K)),[F,G]=m.useState(null),[V,ue]=m.useState(null),re=Mf(r),[I,oe]=m.useState(!1),ce=m.useRef(!1);m.useEffect(()=>{if(R)return df(R)},[R]),nf();const D=m.useCallback(K=>{const[se,...ge]=re().map(de=>de.ref.current),[fe]=ge.slice(-1),ae=document.activeElement;for(const de of K)if(de===ae||(de==null||de.scrollIntoView({block:"nearest"}),de===se&&T&&(T.scrollTop=0),de===fe&&T&&(T.scrollTop=T.scrollHeight),de==null||de.focus(),document.activeElement!==ae))return},[re,T]),X=m.useCallback(()=>D([F,R]),[D,F,R]);m.useEffect(()=>{I&&X()},[I,X]);const{onOpenChange:U,triggerPointerDownPosRef:J}=E;m.useEffect(()=>{if(R){let K={x:0,y:0};const se=fe=>{var ae,de;K={x:Math.abs(Math.round(fe.pageX)-(((ae=J.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((de=J.current)==null?void 0:de.y)??0))}},ge=fe=>{K.x<=10&&K.y<=10?fe.preventDefault():R.contains(fe.target)||U(!1),document.removeEventListener("pointermove",se),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ge,{capture:!0})}}},[R,U,J]),m.useEffect(()=>{const K=()=>U(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[U]);const[k,P]=TS(K=>{const se=re().filter(ae=>!ae.disabled),ge=se.find(ae=>ae.ref.current===document.activeElement),fe=MS(se,K,ge);fe&&setTimeout(()=>fe.ref.current.focus())}),q=m.useCallback((K,se,ge)=>{const fe=!ce.current&&!ge;(E.value!==void 0&&E.value===se||fe)&&(G(K),fe&&(ce.current=!0))},[E.value]),W=m.useCallback(()=>R==null?void 0:R.focus(),[R]),O=m.useCallback((K,se,ge)=>{const fe=!ce.current&&!ge;(E.value!==void 0&&E.value===se||fe)&&ue(K)},[E.value]),$=a==="popper"?Qp:pS,B=$===Qp?{side:f,sideOffset:h,align:p,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:N,avoidCollisions:_}:{};return s.jsx(hS,{scope:r,content:R,viewport:T,onViewportChange:z,itemRefCallback:q,selectedItem:F,onItemLeave:W,itemTextRefCallback:O,focusSelectedItem:X,selectedItemText:V,position:a,isPositioned:I,searchRef:k,children:s.jsx(Ic,{as:Rs,allowPinchZoom:!0,children:s.jsx(Dc,{asChild:!0,trapped:E.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Me(l,K=>{var se;(se=E.trigger)==null||se.focus({preventScroll:!0}),K.preventDefault()}),children:s.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx($,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:K=>K.preventDefault(),...C,...B,onPlaced:()=>oe(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Me(C.onKeyDown,K=>{const se=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!se&&K.key.length===1&&P(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let fe=re().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(K.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ae=K.target,de=fe.indexOf(ae);fe=fe.slice(de+1)}setTimeout(()=>D(fe)),K.preventDefault()}})})})})})})});mS.displayName=bI;var wI="SelectItemAlignedPosition",pS=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...l}=e,c=Xa(Ti,r),u=Ka(Ti,r),[f,h]=m.useState(null),[p,v]=m.useState(null),x=Nt(t,H=>v(H)),b=Mf(r),w=m.useRef(!1),j=m.useRef(!0),{viewport:N,selectedItem:_,selectedItemText:C,focusSelectedItem:E}=u,R=m.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&N&&_&&C){const H=c.trigger.getBoundingClientRect(),F=p.getBoundingClientRect(),G=c.valueNode.getBoundingClientRect(),V=C.getBoundingClientRect();if(c.dir!=="rtl"){const ae=V.left-F.left,de=G.left-ae,Ae=H.left-de,Le=H.width+Ae,ke=Math.max(Le,F.width),_e=window.innerWidth-ts,He=Dw(de,[ts,Math.max(ts,_e-ke)]);f.style.minWidth=Le+"px",f.style.left=He+"px"}else{const ae=F.right-V.right,de=window.innerWidth-G.right-ae,Ae=window.innerWidth-H.right-de,Le=H.width+Ae,ke=Math.max(Le,F.width),_e=window.innerWidth-ts,He=Dw(de,[ts,Math.max(ts,_e-ke)]);f.style.minWidth=Le+"px",f.style.right=He+"px"}const ue=b(),re=window.innerHeight-ts*2,I=N.scrollHeight,oe=window.getComputedStyle(p),ce=parseInt(oe.borderTopWidth,10),D=parseInt(oe.paddingTop,10),X=parseInt(oe.borderBottomWidth,10),U=parseInt(oe.paddingBottom,10),J=ce+D+I+U+X,k=Math.min(_.offsetHeight*5,J),P=window.getComputedStyle(N),q=parseInt(P.paddingTop,10),W=parseInt(P.paddingBottom,10),O=H.top+H.height/2-ts,$=re-O,B=_.offsetHeight/2,K=_.offsetTop+B,se=ce+D+K,ge=J-se;if(se<=O){const ae=ue.length>0&&_===ue[ue.length-1].ref.current;f.style.bottom="0px";const de=p.clientHeight-N.offsetTop-N.offsetHeight,Ae=Math.max($,B+(ae?W:0)+de+X),Le=se+Ae;f.style.height=Le+"px"}else{const ae=ue.length>0&&_===ue[0].ref.current;f.style.top="0px";const Ae=Math.max(O,ce+N.offsetTop+(ae?q:0)+B)+ge;f.style.height=Ae+"px",N.scrollTop=se-O+N.offsetTop}f.style.margin=`${ts}px 0`,f.style.minHeight=k+"px",f.style.maxHeight=re+"px",a==null||a(),requestAnimationFrame(()=>w.current=!0)}},[b,c.trigger,c.valueNode,f,p,N,_,C,c.dir,a]);Wn(()=>R(),[R]);const[M,T]=m.useState();Wn(()=>{p&&T(window.getComputedStyle(p).zIndex)},[p]);const z=m.useCallback(H=>{H&&j.current===!0&&(R(),E==null||E(),j.current=!1)},[R,E]);return s.jsx(_I,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:w,onScrollButtonChange:z,children:s.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:s.jsx(Je.div,{...l,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});pS.displayName=wI;var jI="SelectPopperPosition",Qp=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:l=ts,...c}=e,u=Af(r);return s.jsx(lf,{...u,...c,ref:t,align:a,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qp.displayName=jI;var[_I,wv]=eo(Ti,{}),Zp="SelectViewport",gS=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...l}=e,c=Ka(Zp,r),u=wv(Zp,r),f=Nt(t,c.onViewportChange),h=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Tf.Slot,{scope:r,children:s.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Me(l.onScroll,p=>{const v=p.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&x){const w=Math.abs(h.current-v.scrollTop);if(w>0){const j=window.innerHeight-ts*2,N=parseFloat(x.style.minHeight),_=parseFloat(x.style.height),C=Math.max(N,_);if(C<j){const E=C+w,R=Math.min(j,E),M=E-R;x.style.height=R+"px",x.style.bottom==="0px"&&(v.scrollTop=M>0?M:0,x.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});gS.displayName=Zp;var vS="SelectGroup",[NI,SI]=eo(vS),EI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,l=Es();return s.jsx(NI,{scope:r,id:l,children:s.jsx(Je.div,{role:"group","aria-labelledby":l,...a,ref:t})})});EI.displayName=vS;var xS="SelectLabel",CI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,l=SI(xS,r);return s.jsx(Je.div,{id:l.id,...a,ref:t})});CI.displayName=xS;var qd="SelectItem",[RI,yS]=eo(qd),bS=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:l=!1,textValue:c,...u}=e,f=Xa(qd,r),h=Ka(qd,r),p=f.value===a,[v,x]=m.useState(c??""),[b,w]=m.useState(!1),j=Nt(t,E=>{var R;return(R=h.itemRefCallback)==null?void 0:R.call(h,E,a,l)}),N=Es(),_=m.useRef("touch"),C=()=>{l||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(RI,{scope:r,value:a,disabled:l,textId:N,isSelected:p,onItemTextChange:m.useCallback(E=>{x(R=>R||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(Tf.ItemSlot,{scope:r,value:a,disabled:l,textValue:v,children:s.jsx(Je.div,{role:"option","aria-labelledby":N,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:j,onFocus:Me(u.onFocus,()=>w(!0)),onBlur:Me(u.onBlur,()=>w(!1)),onClick:Me(u.onClick,()=>{_.current!=="mouse"&&C()}),onPointerUp:Me(u.onPointerUp,()=>{_.current==="mouse"&&C()}),onPointerDown:Me(u.onPointerDown,E=>{_.current=E.pointerType}),onPointerMove:Me(u.onPointerMove,E=>{var R;_.current=E.pointerType,l?(R=h.onItemLeave)==null||R.call(h):_.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(u.onPointerLeave,E=>{var R;E.currentTarget===document.activeElement&&((R=h.onItemLeave)==null||R.call(h))}),onKeyDown:Me(u.onKeyDown,E=>{var M;((M=h.searchRef)==null?void 0:M.current)!==""&&E.key===" "||(hI.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});bS.displayName=qd;var ic="SelectItemText",wS=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:l,...c}=e,u=Xa(ic,r),f=Ka(ic,r),h=yS(ic,r),p=vI(ic,r),[v,x]=m.useState(null),b=Nt(t,C=>x(C),h.onItemTextChange,C=>{var E;return(E=f.itemTextRefCallback)==null?void 0:E.call(f,C,h.value,h.disabled)}),w=v==null?void 0:v.textContent,j=m.useMemo(()=>s.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:N,onNativeOptionRemove:_}=p;return Wn(()=>(N(j),()=>_(j)),[N,_,j]),s.jsxs(s.Fragment,{children:[s.jsx(Je.span,{id:h.textId,...c,ref:b}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ns.createPortal(c.children,u.valueNode):null]})});wS.displayName=ic;var jS="SelectItemIndicator",_S=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return yS(jS,r).isSelected?s.jsx(Je.span,{"aria-hidden":!0,...a,ref:t}):null});_S.displayName=jS;var Jp="SelectScrollUpButton",NS=m.forwardRef((e,t)=>{const r=Ka(Jp,e.__scopeSelect),a=wv(Jp,e.__scopeSelect),[l,c]=m.useState(!1),u=Nt(t,a.onScrollButtonChange);return Wn(()=>{if(r.viewport&&r.isPositioned){let f=function(){const p=h.scrollTop>0;c(p)};const h=r.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?s.jsx(ES,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=r;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});NS.displayName=Jp;var eg="SelectScrollDownButton",SS=m.forwardRef((e,t)=>{const r=Ka(eg,e.__scopeSelect),a=wv(eg,e.__scopeSelect),[l,c]=m.useState(!1),u=Nt(t,a.onScrollButtonChange);return Wn(()=>{if(r.viewport&&r.isPositioned){let f=function(){const p=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<p;c(v)};const h=r.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?s.jsx(ES,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=r;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});SS.displayName=eg;var ES=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...l}=e,c=Ka("SelectScrollButton",r),u=m.useRef(null),f=Mf(r),h=m.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return m.useEffect(()=>()=>h(),[h]),Wn(()=>{var v;const p=f().find(x=>x.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[f]),s.jsx(Je.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:Me(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:Me(l.onPointerMove,()=>{var p;(p=c.onItemLeave)==null||p.call(c),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:Me(l.onPointerLeave,()=>{h()})})}),TI="SelectSeparator",MI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return s.jsx(Je.div,{"aria-hidden":!0,...a,ref:t})});MI.displayName=TI;var tg="SelectArrow",AI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,l=Af(r),c=Xa(tg,r),u=Ka(tg,r);return c.open&&u.position==="popper"?s.jsx(of,{...l,...a,ref:t}):null});AI.displayName=tg;function CS(e){return e===""||e===void 0}var RS=m.forwardRef((e,t)=>{const{value:r,...a}=e,l=m.useRef(null),c=Nt(t,l),u=bv(r);return m.useEffect(()=>{const f=l.current,h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==r&&v){const x=new Event("change",{bubbles:!0});v.call(f,r),f.dispatchEvent(x)}},[u,r]),s.jsx(rv,{asChild:!0,children:s.jsx("select",{...a,ref:c,defaultValue:r})})});RS.displayName="BubbleSelect";function TS(e){const t=Mr(e),r=m.useRef(""),a=m.useRef(0),l=m.useCallback(u=>{const f=r.current+u;t(f),function h(p){r.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>h(""),1e3))}(f)},[t]),c=m.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,l,c]}function MS(e,t,r){const l=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,c=r?e.indexOf(r):-1;let u=kI(e,Math.max(c,0));l.length===1&&(u=u.filter(p=>p!==r));const h=u.find(p=>p.textValue.toLowerCase().startsWith(l.toLowerCase()));return h!==r?h:void 0}function kI(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var DI=aS,OI=lS,PI=cS,LI=uS,II=dS,zI=fS,UI=gS,$I=bS,BI=wS,HI=_S,qI=NS,FI=SS;function Jn({...e}){return s.jsx(DI,{"data-slot":"select",...e})}function er({...e}){return s.jsx(PI,{"data-slot":"select-value",...e})}function tr({className:e,size:t="default",children:r,...a}){return s.jsxs(OI,{"data-slot":"select-trigger","data-size":t,className:Ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,s.jsx(LI,{asChild:!0,children:s.jsx(T_,{className:"size-4 opacity-50"})})]})}function nr({className:e,children:t,position:r="popper",...a}){return s.jsx(II,{children:s.jsxs(zI,{"data-slot":"select-content",className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[s.jsx(VI,{}),s.jsx(UI,{className:Ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(YI,{})]})})}function xt({className:e,children:t,...r}){return s.jsxs($I,{"data-slot":"select-item",className:Ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(HI,{children:s.jsx(Gg,{className:"size-4"})})}),s.jsx(BI,{children:t})]})}function VI({className:e,...t}){return s.jsx(qI,{"data-slot":"select-scroll-up-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vP,{className:"size-4"})})}function YI({className:e,...t}){return s.jsx(FI,{"data-slot":"select-scroll-down-button",className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(T_,{className:"size-4"})})}const Ow=()=>{const e=or(),{patientId:t}=yr(),r=!!t,[a,l]=m.useState({}),[c,u]=m.useState(!1),[f,h]=m.useState(r),[p,v]=m.useState(null),[x,b]=m.useState(!1),w=m.useCallback(async()=>{if(!r||!t){h(!1);return}h(!0),v(null);try{const{data:E,error:R}=await ne.from("patient").select("*").eq("id",t).single();if(R)throw R;E?l({patient_unique_id:E.patient_unique_id||"",full_name:E.full_name||"",date_of_birth:E.date_of_birth?tt(_t(E.date_of_birth),"yyyy-MM-dd"):void 0,gender:E.gender||void 0,phone:E.phone||""}):v("Patient non trouvé.")}catch(E){console.error("Erreur lors de la récupération du patient:",E),v((E instanceof Error?E.message:null)||"Impossible de charger les données du patient.")}finally{h(!1)}},[r,t]);m.useEffect(()=>{w()},[w]);const j=E=>{const{name:R,value:M}=E.target;l(T=>({...T,[R]:M}))},N=(E,R)=>{l(M=>({...M,[E]:R===""?void 0:R}))},_=E=>{l(R=>({...R,date_of_birth:E?tt(E,"yyyy-MM-dd"):void 0})),b(!1)},C=async E=>{var R;if(E.preventDefault(),v(null),!a.patient_unique_id||!a.full_name){v("L'ID Unique et le Nom Complet sont requis.");return}u(!0);try{const M={patient_unique_id:a.patient_unique_id.trim(),full_name:a.full_name.trim(),date_of_birth:a.date_of_birth||null,gender:a.gender||null,phone:((R=a.phone)==null?void 0:R.trim())||null};let T=null;if(r){const{error:z}=await ne.from("patient").update(M).eq("id",t);T=z}else{const{error:z}=await ne.from("patient").insert(M);T=z}if(T)if(T.code==="23505")v("Cet ID Unique de patient existe déjà. Veuillez en utiliser un autre.");else throw T;else e("/patients")}catch(M){console.error(`Erreur lors de ${r?"la mise à jour":"la création"} du patient:`,M),v((M instanceof Error?M.message:null)||`Une erreur est survenue lors de ${r?"la mise à jour":"l'enregistrement"}.`)}finally{u(!1)}};return f?s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"})," ",s.jsxs(Se,{className:"shadow-md",children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-6 w-3/4"}),s.jsx(Y,{className:"h-4 w-full"})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]})]})]}),s.jsxs(ls,{className:"border-t px-6 py-4",children:[s.jsx(Y,{className:"h-10 w-32"}),s.jsx(Y,{className:"h-10 w-24 ml-auto"})]})]})]}):s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),s.jsxs(Se,{className:"shadow-md",children:[s.jsxs(Re,{children:[s.jsxs(vt,{className:"text-xl font-semibold flex items-center gap-2",children:[r?s.jsx(Xr,{className:"h-5 w-5"}):s.jsx(D_,{className:"h-5 w-5"}),r?"Modifier le Patient":"Ajouter un Nouveau Patient"]}),s.jsx(gr,{children:r?"Mettez à jour les informations du patient ci-dessous.":"Remplissez les informations ci-dessous pour enregistrer un nouveau patient."})]}),s.jsxs("form",{onSubmit:C,children:[s.jsxs(Ee,{className:"space-y-6",children:[p&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{children:p})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs($e,{htmlFor:"patient_unique_id",className:"font-semibold",children:["ID Unique Patient ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ye,{id:"patient_unique_id",name:"patient_unique_id",placeholder:"Ex: PID-00051",required:!0,value:a.patient_unique_id||"",onChange:j,disabled:c||r,className:Ce(r&&"bg-muted/50 cursor-not-allowed")}),r&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"L'ID Unique ne peut pas être modifié."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs($e,{htmlFor:"full_name",className:"font-semibold",children:["Nom Complet ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ye,{id:"full_name",name:"full_name",placeholder:"Ex: Jean Dupont",required:!0,value:a.full_name||"",onChange:j,disabled:c})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"date_of_birth",className:"font-semibold",children:"Date de Naissance"}),s.jsxs(VN,{open:x,onOpenChange:b,children:[s.jsx(YN,{asChild:!0,children:s.jsxs(te,{variant:"outline",className:Ce("w-full justify-start text-left font-normal h-10",!a.date_of_birth&&"text-muted-foreground"),disabled:c,children:[s.jsx(R_,{className:"mr-2 h-4 w-4"}),a.date_of_birth?tt(_t(a.date_of_birth),"PPP",{locale:Ct}):s.jsx("span",{children:"Choisir une date"})]})}),s.jsx(GN,{className:"w-auto p-0",align:"start",children:s.jsx(sS,{mode:"single",selected:a.date_of_birth?_t(a.date_of_birth):void 0,onSelect:_,initialFocus:!0,locale:Ct,captionLayout:"dropdown-buttons",fromYear:1900,toYear:new Date().getFullYear(),disabled:E=>E>new Date||E<new Date("1900-01-01")})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"gender",className:"font-semibold",children:"Genre"}),s.jsxs(Jn,{name:"gender",value:a.gender||"",onValueChange:E=>N("gender",E),disabled:c,children:[s.jsx(tr,{id:"gender",className:"h-10",children:s.jsx(er,{placeholder:"Sélectionner..."})}),s.jsxs(nr,{children:[s.jsx(xt,{value:"Masculin",children:"Masculin"}),s.jsx(xt,{value:"Féminin",children:"Féminin"}),s.jsx(xt,{value:"Autre",children:"Autre"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"phone",className:"font-semibold",children:"Téléphone"}),s.jsx(Ye,{id:"phone",name:"phone",type:"tel",placeholder:"Ex: +33 6 12 34 56 78",value:a.phone||"",onChange:j,disabled:c})]})]})]}),s.jsxs(ls,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(te,{type:"submit",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Mise à jour...":"Enregistrement..."]}):r?"Mettre à jour le Patient":"Enregistrer le Patient"}),s.jsx(it,{to:"/patients",children:s.jsx(te,{type:"button",variant:"outline",disabled:c,children:"Annuler"})})]})]})]})]})};var jv="Checkbox",[GI,tH]=cr(jv),[WI,XI]=GI(jv),AS=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:l,defaultChecked:c,required:u,disabled:f,value:h="on",onCheckedChange:p,form:v,...x}=e,[b,w]=m.useState(null),j=Nt(t,M=>w(M)),N=m.useRef(!1),_=b?v||!!b.closest("form"):!0,[C=!1,E]=$a({prop:l,defaultProp:c,onChange:p}),R=m.useRef(C);return m.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const T=()=>E(R.current);return M.addEventListener("reset",T),()=>M.removeEventListener("reset",T)}},[b,E]),s.jsxs(WI,{scope:r,state:C,disabled:f,children:[s.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":za(C)?"mixed":C,"aria-required":u,"data-state":OS(C),"data-disabled":f?"":void 0,disabled:f,value:h,...x,ref:j,onKeyDown:Me(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Me(e.onClick,M=>{E(T=>za(T)?!0:!T),_&&(N.current=M.isPropagationStopped(),N.current||M.stopPropagation())})}),_&&s.jsx(KI,{control:b,bubbles:!N.current,name:a,value:h,checked:C,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"},defaultChecked:za(c)?!1:c})]})});AS.displayName=jv;var kS="CheckboxIndicator",DS=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...l}=e,c=XI(kS,r);return s.jsx(Dr,{present:a||za(c.state)||c.state===!0,children:s.jsx(Je.span,{"data-state":OS(c.state),"data-disabled":c.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});DS.displayName=kS;var KI=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:l,...c}=e,u=m.useRef(null),f=bv(r),h=Pg(t);m.useEffect(()=>{const v=u.current,x=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==r&&w){const j=new Event("click",{bubbles:a});v.indeterminate=za(r),w.call(v,za(r)?!1:r),v.dispatchEvent(j)}},[f,r,a]);const p=m.useRef(za(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??p.current,...c,tabIndex:-1,ref:u,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function za(e){return e==="indeterminate"}function OS(e){return za(e)?"indeterminate":e?"checked":"unchecked"}var QI=AS,ZI=DS;function Ua({className:e,...t}){return s.jsx(QI,{"data-slot":"checkbox",className:Ce("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(ZI,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Gg,{className:"size-3.5"})})})}var JI="Separator",Pw="horizontal",ez=["horizontal","vertical"],PS=m.forwardRef((e,t)=>{const{decorative:r,orientation:a=Pw,...l}=e,c=tz(a)?a:Pw,f=r?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return s.jsx(Je.div,{"data-orientation":c,...f,...l,ref:t})});PS.displayName=JI;function tz(e){return ez.includes(e)}var nz=PS;function Wr({className:e,orientation:t="horizontal",decorative:r=!0,...a}){return s.jsx(nz,{"data-slot":"separator-root",decorative:r,orientation:t,className:Ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}const rr=({data:e,isPreview:t})=>{const{labName:r,addressLine1:a,addressLine2:l,cityPostalCode:c,phone:u,email:f,website:h}=e;return s.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:s.jsx("div",{className:" template-heading-shadow w-full py-4 flex items-center justify-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-[50%] ",children:s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:r||"[Nom Laboratoire]"}),s.jsx("p",{children:a||"[Adresse Ligne 1]"}),l&&s.jsx("p",{children:l}),c&&s.jsx("p",{children:c}),s.jsxs("p",{children:[u&&s.jsxs("span",{children:["Tél : ",u]}),u&&f&&s.jsx("span",{children:" | "}),f&&s.jsxs("span",{children:["Email : ",f]})]}),h&&s.jsx("p",{children:h})]})})})},Qa=({data:e,isPreview:t})=>{const{logoUrl:r,labName:a,addressLine1:l,addressLine2:c,cityPostalCode:u,phone:f,email:h,website:p}=e;return s.jsxs("div",{className:`flex flex-col items-center text-center gap-2 ${t?"p-4 border rounded-md bg-white min-h-[100px]":""}`,children:[s.jsx("div",{className:"mb-2",children:s.jsxs(Ac,{className:"h-16 w-16 rounded-md border",children:[s.jsx(ef,{src:r||void 0,alt:"Logo",className:"object-contain"}),s.jsx(kc,{className:"rounded-md bg-muted",children:s.jsx(gf,{className:"h-8 w-8 text-muted-foreground"})})]})}),s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:a||"[Nom Laboratoire]"}),s.jsx("p",{children:l||"[Adresse Ligne 1]"}),c&&s.jsx("p",{children:c}),u&&s.jsx("p",{children:u}),s.jsxs("p",{children:[f&&s.jsxs("span",{children:["Tél : ",f]}),f&&h&&s.jsx("span",{children:" | "}),h&&s.jsxs("span",{children:["Email : ",h]})]}),p&&s.jsx("p",{children:p})]})]})},Za=({data:e,isPreview:t})=>{const{logoUrl:r,labName:a,addressLine1:l,addressLine2:c,cityPostalCode:u,phone:f,email:h,website:p}=e;return s.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:s.jsxs("div",{className:" w-full py-2 flex items-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-md ",children:[s.jsx("div",{className:"mb-2",children:s.jsxs(Ac,{className:"h-16 w-16 rounded-md border",children:[s.jsx(ef,{src:r||void 0,alt:"Logo",className:"object-contain"}),s.jsx(kc,{className:"rounded-md bg-muted",children:s.jsx(gf,{className:"h-8 w-8 text-muted-foreground"})})]})}),s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:a||"[Nom Laboratoire]"}),s.jsx("p",{children:l||"[Adresse Ligne 1]"}),c&&s.jsx("p",{children:c}),u&&s.jsx("p",{children:u}),s.jsxs("p",{children:[f&&s.jsxs("span",{children:["Tél : ",f]}),f&&h&&s.jsx("span",{children:" | "}),h&&s.jsxs("span",{children:["Email : ",h]})]}),p&&s.jsx("p",{children:p})]})]})})},Ja=({data:e,isPreview:t})=>{const{logoUrl:r,labName:a,addressLine1:l,addressLine2:c,cityPostalCode:u,phone:f,email:h,website:p}=e;return s.jsx("div",{className:`flex flex-col items-center text-center gap-2  ${t?"p-4 border rounded-md bg-white min-h-[100px]":" "}`,children:s.jsxs("div",{className:" template-heading-shadow w-full py-4 flex items-center justify-center flex-col border-slate-600 border-[1px] shadow-lg mb-2 rounded-[50%] ",children:[s.jsx("div",{className:"mb-2",children:s.jsxs(Ac,{className:"h-16 w-16 rounded-md border",children:[s.jsx(ef,{src:r||void 0,alt:"Logo",className:"object-contain"}),s.jsx(kc,{className:"rounded-md bg-muted",children:s.jsx(gf,{className:"h-8 w-8 text-muted-foreground"})})]})}),s.jsxs("div",{className:"text-xs space-y-0.5",children:[s.jsx("p",{className:"font-bold text-sm",children:a||"[Nom Laboratoire]"}),s.jsx("p",{children:l||"[Adresse Ligne 1]"}),c&&s.jsx("p",{children:c}),u&&s.jsx("p",{children:u}),s.jsxs("p",{children:[f&&s.jsxs("span",{children:["Tél : ",f]}),f&&h&&s.jsx("span",{children:" | "}),h&&s.jsxs("span",{children:["Email : ",h]})]}),p&&s.jsx("p",{children:p})]})]})})};function vp(e,t){const r=t.trim();try{if(r.startsWith("<")&&!r.startsWith("<=")){const l=parseFloat(r.substring(1).trim().replace(",","."));if(!isNaN(l))return e<l?"in-range":"out-of-range"}else if(r.startsWith(">")&&!r.startsWith(">=")){const l=parseFloat(r.substring(1).trim().replace(",","."));if(!isNaN(l))return e>l?"in-range":"out-of-range"}else if(r.startsWith("<=")||r.startsWith("≤")){const l=parseFloat(r.substring(2).trim().replace(",","."));if(!isNaN(l))return e<=l?"in-range":"out-of-range"}else if(r.startsWith(">=")||r.startsWith("≥")){const l=parseFloat(r.substring(2).trim().replace(",","."));if(!isNaN(l))return e>=l?"in-range":"out-of-range"}else if(r.includes("-")){const l=r.split("-").map(c=>parseFloat(c.trim().replace(",",".")));if(l.length===2&&!isNaN(l[0])&&!isNaN(l[1])){const c=Math.min(l[0],l[1]),u=Math.max(l[0],l[1]);return e>=c&&e<=u?"in-range":"out-of-range"}}const a=parseFloat(r.replace(",","."));if(!isNaN(a))return"indeterminate"}catch(a){console.error("Error parsing single range line:",t,a)}return"indeterminate"}function Lw(e,t,r,a,l){if(l.includes(r)||l.includes(a))return"in-range";if(e==null||t===null||t===void 0||t.trim()==="")return"indeterminate";if(t.trim()==="-"){switch(e.trim().toLocaleLowerCase()){case"0 negatif":case"0 négatif":case"negatif":case"négatif":case"neant":case"néant":case"0":return"in-range";case"positif":return"out-of-range"}if(!isNaN(parseFloat(e)))return"out-of-range"}const c=parseFloat(e.replace(",",".")),u=t.trim(),f=e.trim().toLowerCase(),h=!isNaN(c);if(u.includes("Homme")||u.includes("HOMME")||u.match(/^(<|>|<=|>=)\s*\d+\s*(y|a|ans?)/i))return"indeterminate";const v=u.match(/^([a-zA-Z\s][a-zA-Z\s\d]*):\s*(.*)$/),x=u.includes(":")&&u.includes(";");if(v&&!x)return"indeterminate";if(u.toLowerCase().includes("negatif:")&&u.toLowerCase().includes("positif:")&&u.includes(";")){const w=u.split(";").map(_=>_.trim()).filter(_=>_.length>0);let j=null,N=null;for(const _ of w){const C=_.match(/^(.+?):\s*(.*)$/);if(C){const E=C[1].trim().toLowerCase(),R=C[2].trim();E==="negatif"?j=R:E==="positif"&&(N=R)}else return"indeterminate"}return!j||!N?(console.warn("NEGATIF/POSITIF format detected, but couldn't extract both range segments."),"indeterminate"):f==="negatif"?"in-range":f==="positif"?"out-of-range":h?vp(c,j)==="in-range"?"in-range":vp(c,N)==="in-range"?"out-of-range":"indeterminate":"indeterminate"}if(!h)return isNaN(parseFloat(u.charAt(0)))&&!["<",">","-"].some(w=>u.includes(w))?f===u.toLowerCase()?"in-range":"out-of-range":"indeterminate";try{return vp(c,u)}catch(w){return console.error("Error parsing simple range string:",u,w),"indeterminate"}}function rz(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>a=>{t.forEach(l=>l(a))},t)}const kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function to(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function _v(e){return"nodeType"in e}function br(e){var t,r;return e?to(e)?e:_v(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Nv(e){const{Document:t}=br(e);return e instanceof t}function Kc(e){return to(e)?!1:e instanceof br(e).HTMLElement}function LS(e){return e instanceof br(e).SVGElement}function no(e){return e?to(e)?e.document:_v(e)?Nv(e)?e:Kc(e)||LS(e)?e.ownerDocument:document:document:document}const As=kf?m.useLayoutEffect:m.useEffect;function Sv(e){const t=m.useRef(e);return As(()=>{t.current=e}),m.useCallback(function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t.current==null?void 0:t.current(...a)},[])}function sz(){const e=m.useRef(null),t=m.useCallback((a,l)=>{e.current=setInterval(a,l)},[]),r=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function _c(e,t){t===void 0&&(t=[e]);const r=m.useRef(e);return As(()=>{r.current!==e&&(r.current=e)},t),r}function Qc(e,t){const r=m.useRef();return m.useMemo(()=>{const a=e(r.current);return r.current=a,a},[...t])}function Fd(e){const t=Sv(e),r=m.useRef(null),a=m.useCallback(l=>{l!==r.current&&(t==null||t(l,r.current)),r.current=l},[]);return[r,a]}function ng(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let xp={};function Zc(e,t){return m.useMemo(()=>{if(t)return t;const r=xp[e]==null?0:xp[e]+1;return xp[e]=r,e+"-"+r},[e,t])}function IS(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((c,u)=>{const f=Object.entries(u);for(const[h,p]of f){const v=c[h];v!=null&&(c[h]=v+e*p)}return c},{...t})}}const Al=IS(1),Nc=IS(-1);function az(e){return"clientX"in e&&"clientY"in e}function Ev(e){if(!e)return!1;const{KeyboardEvent:t}=br(e.target);return t&&e instanceof t}function iz(e){if(!e)return!1;const{TouchEvent:t}=br(e.target);return t&&e instanceof t}function rg(e){if(iz(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return az(e)?{x:e.clientX,y:e.clientY}:null}const Sc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Sc.Translate.toString(e),Sc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),Iw="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function lz(e){return e.matches(Iw)?e:e.querySelector(Iw)}const oz={display:"none"};function cz(e){let{id:t,value:r}=e;return xe.createElement("div",{id:t,style:oz},r)}function uz(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:t,style:l,role:"status","aria-live":a,"aria-atomic":!0},r)}function dz(){const[e,t]=m.useState("");return{announce:m.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const zS=m.createContext(null);function fz(e){const t=m.useContext(zS);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function hz(){const[e]=m.useState(()=>new Set),t=m.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[m.useCallback(a=>{let{type:l,event:c}=a;e.forEach(u=>{var f;return(f=u[l])==null?void 0:f.call(u,c)})},[e]),t]}const mz={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},pz={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function gz(e){let{announcements:t=pz,container:r,hiddenTextDescribedById:a,screenReaderInstructions:l=mz}=e;const{announce:c,announcement:u}=dz(),f=Zc("DndLiveRegion"),[h,p]=m.useState(!1);if(m.useEffect(()=>{p(!0)},[]),fz(m.useMemo(()=>({onDragStart(x){let{active:b}=x;c(t.onDragStart({active:b}))},onDragMove(x){let{active:b,over:w}=x;t.onDragMove&&c(t.onDragMove({active:b,over:w}))},onDragOver(x){let{active:b,over:w}=x;c(t.onDragOver({active:b,over:w}))},onDragEnd(x){let{active:b,over:w}=x;c(t.onDragEnd({active:b,over:w}))},onDragCancel(x){let{active:b,over:w}=x;c(t.onDragCancel({active:b,over:w}))}}),[c,t])),!h)return null;const v=xe.createElement(xe.Fragment,null,xe.createElement(cz,{id:a,value:l.draggable}),xe.createElement(uz,{id:f,announcement:u}));return r?Ns.createPortal(v,r):v}var Tn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Tn||(Tn={}));function Vd(){}function zw(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function vz(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const ds=Object.freeze({x:0,y:0});function US(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $S(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function xz(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function Uw(e){let{left:t,top:r,height:a,width:l}=e;return[{x:t,y:r},{x:t+l,y:r},{x:t,y:r+a},{x:t+l,y:r+a}]}function BS(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function $w(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const yz=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const l=$w(t,t.left,t.top),c=[];for(const u of a){const{id:f}=u,h=r.get(f);if(h){const p=US($w(h),l);c.push({id:f,data:{droppableContainer:u,value:p}})}}return c.sort($S)},bz=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const l=Uw(t),c=[];for(const u of a){const{id:f}=u,h=r.get(f);if(h){const p=Uw(h),v=l.reduce((b,w,j)=>b+US(p[j],w),0),x=Number((v/4).toFixed(4));c.push({id:f,data:{droppableContainer:u,value:x}})}}return c.sort($S)};function wz(e,t){const r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),c=Math.min(t.top+t.height,e.top+e.height),u=l-a,f=c-r;if(a<l&&r<c){const h=t.width*t.height,p=e.width*e.height,v=u*f,x=v/(h+p-v);return Number(x.toFixed(4))}return 0}const jz=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const l=[];for(const c of a){const{id:u}=c,f=r.get(u);if(f){const h=wz(f,t);h>0&&l.push({id:u,data:{droppableContainer:c,value:h}})}}return l.sort(xz)};function _z(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function HS(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ds}function Nz(e){return function(r){for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];return l.reduce((u,f)=>({...u,top:u.top+e*f.y,bottom:u.bottom+e*f.y,left:u.left+e*f.x,right:u.right+e*f.x}),{...r})}}const Sz=Nz(1);function Ez(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Cz(e,t,r){const a=Ez(t);if(!a)return e;const{scaleX:l,scaleY:c,x:u,y:f}=a,h=e.left-u-(1-l)*parseFloat(r),p=e.top-f-(1-c)*parseFloat(r.slice(r.indexOf(" ")+1)),v=l?e.width/l:e.width,x=c?e.height/c:e.height;return{width:v,height:x,top:p,right:h+v,bottom:p+x,left:h}}const Rz={ignoreTransform:!1};function ro(e,t){t===void 0&&(t=Rz);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:v}=br(e).getComputedStyle(e);p&&(r=Cz(r,p,v))}const{top:a,left:l,width:c,height:u,bottom:f,right:h}=r;return{top:a,left:l,width:c,height:u,bottom:f,right:h}}function Bw(e){return ro(e,{ignoreTransform:!0})}function Tz(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Mz(e,t){return t===void 0&&(t=br(e).getComputedStyle(e)),t.position==="fixed"}function Az(e,t){t===void 0&&(t=br(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const c=t[l];return typeof c=="string"?r.test(c):!1})}function Df(e,t){const r=[];function a(l){if(t!=null&&r.length>=t||!l)return r;if(Nv(l)&&l.scrollingElement!=null&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!Kc(l)||LS(l)||r.includes(l))return r;const c=br(e).getComputedStyle(l);return l!==e&&Az(l,c)&&r.push(l),Mz(l,c)?r:a(l.parentNode)}return e?a(e):r}function qS(e){const[t]=Df(e,1);return t??null}function yp(e){return!kf||!e?null:to(e)?e:_v(e)?Nv(e)||e===no(e).scrollingElement?window:Kc(e)?e:null:null}function FS(e){return to(e)?e.scrollX:e.scrollLeft}function VS(e){return to(e)?e.scrollY:e.scrollTop}function sg(e){return{x:FS(e),y:VS(e)}}var $n;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($n||($n={}));function YS(e){return!kf||!e?!1:e===document.scrollingElement}function GS(e){const t={x:0,y:0},r=YS(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},l=e.scrollTop<=t.y,c=e.scrollLeft<=t.x,u=e.scrollTop>=a.y,f=e.scrollLeft>=a.x;return{isTop:l,isLeft:c,isBottom:u,isRight:f,maxScroll:a,minScroll:t}}const kz={x:.2,y:.2};function Dz(e,t,r,a,l){let{top:c,left:u,right:f,bottom:h}=r;a===void 0&&(a=10),l===void 0&&(l=kz);const{isTop:p,isBottom:v,isLeft:x,isRight:b}=GS(e),w={x:0,y:0},j={x:0,y:0},N={height:t.height*l.y,width:t.width*l.x};return!p&&c<=t.top+N.height?(w.y=$n.Backward,j.y=a*Math.abs((t.top+N.height-c)/N.height)):!v&&h>=t.bottom-N.height&&(w.y=$n.Forward,j.y=a*Math.abs((t.bottom-N.height-h)/N.height)),!b&&f>=t.right-N.width?(w.x=$n.Forward,j.x=a*Math.abs((t.right-N.width-f)/N.width)):!x&&u<=t.left+N.width&&(w.x=$n.Backward,j.x=a*Math.abs((t.left+N.width-u)/N.width)),{direction:w,speed:j}}function Oz(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:u}=window;return{top:0,left:0,right:c,bottom:u,width:c,height:u}}const{top:t,left:r,right:a,bottom:l}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:l,width:e.clientWidth,height:e.clientHeight}}function WS(e){return e.reduce((t,r)=>Al(t,sg(r)),ds)}function Pz(e){return e.reduce((t,r)=>t+FS(r),0)}function Lz(e){return e.reduce((t,r)=>t+VS(r),0)}function Iz(e,t){if(t===void 0&&(t=ro),!e)return;const{top:r,left:a,bottom:l,right:c}=t(e);qS(e)&&(l<=0||c<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const zz=[["x",["left","right"],Pz],["y",["top","bottom"],Lz]];class Cv{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Df(r),l=WS(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,u,f]of zz)for(const h of u)Object.defineProperty(this,h,{get:()=>{const p=f(a),v=l[c]-p;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var l;(l=this.target)==null||l.addEventListener(t,r,a),this.listeners.push([t,r,a])}}function Uz(e){const{EventTarget:t}=br(e);return e instanceof t?e:no(e)}function bp(e,t){const r=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var Yr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Yr||(Yr={}));function Hw(e){e.preventDefault()}function $z(e){e.stopPropagation()}var Et;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Et||(Et={}));const XS={start:[Et.Space,Et.Enter],cancel:[Et.Esc],end:[Et.Space,Et.Enter,Et.Tab]},Bz=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Et.Right:return{...r,x:r.x+25};case Et.Left:return{...r,x:r.x-25};case Et.Down:return{...r,y:r.y+25};case Et.Up:return{...r,y:r.y-25}}};class Rv{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new fc(no(r)),this.windowListeners=new fc(br(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Yr.Resize,this.handleCancel),this.windowListeners.add(Yr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Yr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&Iz(a),r(ds)}handleKeyDown(t){if(Ev(t)){const{active:r,context:a,options:l}=this.props,{keyboardCodes:c=XS,coordinateGetter:u=Bz,scrollBehavior:f="smooth"}=l,{code:h}=t;if(c.end.includes(h)){this.handleEnd(t);return}if(c.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:p}=a.current,v=p?{x:p.left,y:p.top}:ds;this.referenceCoordinates||(this.referenceCoordinates=v);const x=u(t,{active:r,context:a.current,currentCoordinates:v});if(x){const b=Nc(x,v),w={x:0,y:0},{scrollableAncestors:j}=a.current;for(const N of j){const _=t.code,{isTop:C,isRight:E,isLeft:R,isBottom:M,maxScroll:T,minScroll:z}=GS(N),H=Oz(N),F={x:Math.min(_===Et.Right?H.right-H.width/2:H.right,Math.max(_===Et.Right?H.left:H.left+H.width/2,x.x)),y:Math.min(_===Et.Down?H.bottom-H.height/2:H.bottom,Math.max(_===Et.Down?H.top:H.top+H.height/2,x.y))},G=_===Et.Right&&!E||_===Et.Left&&!R,V=_===Et.Down&&!M||_===Et.Up&&!C;if(G&&F.x!==x.x){const ue=N.scrollLeft+b.x,re=_===Et.Right&&ue<=T.x||_===Et.Left&&ue>=z.x;if(re&&!b.y){N.scrollTo({left:ue,behavior:f});return}re?w.x=N.scrollLeft-ue:w.x=_===Et.Right?N.scrollLeft-T.x:N.scrollLeft-z.x,w.x&&N.scrollBy({left:-w.x,behavior:f});break}else if(V&&F.y!==x.y){const ue=N.scrollTop+b.y,re=_===Et.Down&&ue<=T.y||_===Et.Up&&ue>=z.y;if(re&&!b.x){N.scrollTo({top:ue,behavior:f});return}re?w.y=N.scrollTop-ue:w.y=_===Et.Down?N.scrollTop-T.y:N.scrollTop-z.y,w.y&&N.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(t,Al(Nc(x,this.referenceCoordinates),w))}}}handleMove(t,r){const{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Rv.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=XS,onActivation:l}=t,{active:c}=r;const{code:u}=e.nativeEvent;if(a.start.includes(u)){const f=c.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function qw(e){return!!(e&&"distance"in e)}function Fw(e){return!!(e&&"delay"in e)}class Tv{constructor(t,r,a){var l;a===void 0&&(a=Uz(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:c}=t,{target:u}=c;this.props=t,this.events=r,this.document=no(u),this.documentListeners=new fc(this.document),this.listeners=new fc(a),this.windowListeners=new fc(br(u)),this.initialCoordinates=(l=rg(c))!=null?l:ds,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Yr.Resize,this.handleCancel),this.windowListeners.add(Yr.DragStart,Hw),this.windowListeners.add(Yr.VisibilityChange,this.handleCancel),this.windowListeners.add(Yr.ContextMenu,Hw),this.documentListeners.add(Yr.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Fw(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(qw(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:a,onPending:l}=this.props;l(a,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Yr.Click,$z,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Yr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:a,initialCoordinates:l,props:c}=this,{onMove:u,options:{activationConstraint:f}}=c;if(!l)return;const h=(r=rg(t))!=null?r:ds,p=Nc(l,h);if(!a&&f){if(qw(f)){if(f.tolerance!=null&&bp(p,f.tolerance))return this.handleCancel();if(bp(p,f.distance))return this.handleStart()}if(Fw(f)&&bp(p,f.tolerance))return this.handleCancel();this.handlePending(f,p);return}t.cancelable&&t.preventDefault(),u(h)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Et.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Hz={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Mv extends Tv{constructor(t){const{event:r}=t,a=no(r.target);super(t,Hz,a)}}Mv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a==null||a({event:r}),!0)}}];const qz={move:{name:"mousemove"},end:{name:"mouseup"}};var ag;(function(e){e[e.RightClick=2]="RightClick"})(ag||(ag={}));class Fz extends Tv{constructor(t){super(t,qz,no(t.event.target))}}Fz.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return r.button===ag.RightClick?!1:(a==null||a({event:r}),!0)}}];const wp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vz extends Tv{constructor(t){super(t,wp)}static setup(){return window.addEventListener(wp.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wp.move.name,t)};function t(){}}}Vz.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;const{touches:l}=r;return l.length>1?!1:(a==null||a({event:r}),!0)}}];var hc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(hc||(hc={}));var Yd;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Yd||(Yd={}));function Yz(e){let{acceleration:t,activator:r=hc.Pointer,canScroll:a,draggingRect:l,enabled:c,interval:u=5,order:f=Yd.TreeOrder,pointerCoordinates:h,scrollableAncestors:p,scrollableAncestorRects:v,delta:x,threshold:b}=e;const w=Wz({delta:x,disabled:!c}),[j,N]=sz(),_=m.useRef({x:0,y:0}),C=m.useRef({x:0,y:0}),E=m.useMemo(()=>{switch(r){case hc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case hc.DraggableRect:return l}},[r,l,h]),R=m.useRef(null),M=m.useCallback(()=>{const z=R.current;if(!z)return;const H=_.current.x*C.current.x,F=_.current.y*C.current.y;z.scrollBy(H,F)},[]),T=m.useMemo(()=>f===Yd.TreeOrder?[...p].reverse():p,[f,p]);m.useEffect(()=>{if(!c||!p.length||!E){N();return}for(const z of T){if((a==null?void 0:a(z))===!1)continue;const H=p.indexOf(z),F=v[H];if(!F)continue;const{direction:G,speed:V}=Dz(z,F,E,t,b);for(const ue of["x","y"])w[ue][G[ue]]||(V[ue]=0,G[ue]=0);if(V.x>0||V.y>0){N(),R.current=z,j(M,u),_.current=V,C.current=G;return}}_.current={x:0,y:0},C.current={x:0,y:0},N()},[t,M,a,N,c,u,JSON.stringify(E),JSON.stringify(w),j,p,T,v,JSON.stringify(b)])}const Gz={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function Wz(e){let{delta:t,disabled:r}=e;const a=ng(t);return Qc(l=>{if(r||!a||!l)return Gz;const c={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[$n.Backward]:l.x[$n.Backward]||c.x===-1,[$n.Forward]:l.x[$n.Forward]||c.x===1},y:{[$n.Backward]:l.y[$n.Backward]||c.y===-1,[$n.Forward]:l.y[$n.Forward]||c.y===1}}},[r,t,a])}function Xz(e,t){const r=t!=null?e.get(t):void 0,a=r?r.node.current:null;return Qc(l=>{var c;return t==null?null:(c=a??l)!=null?c:null},[a,t])}function Kz(e,t){return m.useMemo(()=>e.reduce((r,a)=>{const{sensor:l}=a,c=l.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,a)}));return[...r,...c]},[]),[e,t])}var Ec;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ec||(Ec={}));var ig;(function(e){e.Optimized="optimized"})(ig||(ig={}));const Vw=new Map;function Qz(e,t){let{dragging:r,dependencies:a,config:l}=t;const[c,u]=m.useState(null),{frequency:f,measure:h,strategy:p}=l,v=m.useRef(e),x=_(),b=_c(x),w=m.useCallback(function(C){C===void 0&&(C=[]),!b.current&&u(E=>E===null?C:E.concat(C.filter(R=>!E.includes(R))))},[b]),j=m.useRef(null),N=Qc(C=>{if(x&&!r)return Vw;if(!C||C===Vw||v.current!==e||c!=null){const E=new Map;for(let R of e){if(!R)continue;if(c&&c.length>0&&!c.includes(R.id)&&R.rect.current){E.set(R.id,R.rect.current);continue}const M=R.node.current,T=M?new Cv(h(M),M):null;R.rect.current=T,T&&E.set(R.id,T)}return E}return C},[e,c,r,x,h]);return m.useEffect(()=>{v.current=e},[e]),m.useEffect(()=>{x||w()},[r,x]),m.useEffect(()=>{c&&c.length>0&&u(null)},[JSON.stringify(c)]),m.useEffect(()=>{x||typeof f!="number"||j.current!==null||(j.current=setTimeout(()=>{w(),j.current=null},f))},[f,x,w,...a]),{droppableRects:N,measureDroppableContainers:w,measuringScheduled:c!=null};function _(){switch(p){case Ec.Always:return!1;case Ec.BeforeDragging:return r;default:return!r}}}function KS(e,t){return Qc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Zz(e,t){return KS(e,t)}function Jz(e){let{callback:t,disabled:r}=e;const a=Sv(t),l=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(a)},[a,r]);return m.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Of(e){let{callback:t,disabled:r}=e;const a=Sv(t),l=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(a)},[r]);return m.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function eU(e){return new Cv(ro(e),e)}function Yw(e,t,r){t===void 0&&(t=eU);const[a,l]=m.useState(null);function c(){l(h=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=h??r)!=null?p:null}const v=t(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const u=Jz({callback(h){if(e)for(const p of h){const{type:v,target:x}=p;if(v==="childList"&&x instanceof HTMLElement&&x.contains(e)){c();break}}}}),f=Of({callback:c});return As(()=>{c(),e?(f==null||f.observe(e),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),u==null||u.disconnect())},[e]),a}function tU(e){const t=KS(e);return HS(e,t)}const Gw=[];function nU(e){const t=m.useRef(e),r=Qc(a=>e?a&&a!==Gw&&e&&t.current&&e.parentNode===t.current.parentNode?a:Df(e):Gw,[e]);return m.useEffect(()=>{t.current=e},[e]),r}function rU(e){const[t,r]=m.useState(null),a=m.useRef(e),l=m.useCallback(c=>{const u=yp(c.target);u&&r(f=>f?(f.set(u,sg(u)),new Map(f)):null)},[]);return m.useEffect(()=>{const c=a.current;if(e!==c){u(c);const f=e.map(h=>{const p=yp(h);return p?(p.addEventListener("scroll",l,{passive:!0}),[p,sg(p)]):null}).filter(h=>h!=null);r(f.length?new Map(f):null),a.current=e}return()=>{u(e),u(c)};function u(f){f.forEach(h=>{const p=yp(h);p==null||p.removeEventListener("scroll",l)})}},[l,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((c,u)=>Al(c,u),ds):WS(e):ds,[e,t])}function Ww(e,t){t===void 0&&(t=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},t),m.useEffect(()=>{const a=e!==ds;a&&!r.current&&(r.current=e),!a&&r.current&&(r.current=null)},[e]),r.current?Nc(e,r.current):ds}function sU(e){m.useEffect(()=>{if(!kf)return;const t=e.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function aU(e,t){return m.useMemo(()=>e.reduce((r,a)=>{let{eventName:l,handler:c}=a;return r[l]=u=>{c(u,t)},r},{}),[e,t])}function QS(e){return m.useMemo(()=>e?Tz(e):null,[e])}const Xw=[];function iU(e,t){t===void 0&&(t=ro);const[r]=e,a=QS(r?br(r):null),[l,c]=m.useState(Xw);function u(){c(()=>e.length?e.map(h=>YS(h)?a:new Cv(t(h),h)):Xw)}const f=Of({callback:u});return As(()=>{f==null||f.disconnect(),u(),e.forEach(h=>f==null?void 0:f.observe(h))},[e]),l}function lU(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Kc(t)?t:e}function oU(e){let{measure:t}=e;const[r,a]=m.useState(null),l=m.useCallback(p=>{for(const{target:v}of p)if(Kc(v)){a(x=>{const b=t(v);return x?{...x,width:b.width,height:b.height}:b});break}},[t]),c=Of({callback:l}),u=m.useCallback(p=>{const v=lU(p);c==null||c.disconnect(),v&&(c==null||c.observe(v)),a(v?t(v):null)},[t,c]),[f,h]=Fd(u);return m.useMemo(()=>({nodeRef:f,rect:r,setRef:h}),[r,f,h])}const cU=[{sensor:Mv,options:{}},{sensor:Rv,options:{}}],uU={current:{}},Md={draggable:{measure:Bw},droppable:{measure:Bw,strategy:Ec.WhileDragging,frequency:ig.Optimized},dragOverlay:{measure:ro}};class mc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}}const dU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Vd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Md,measureDroppableContainers:Vd,windowRect:null,measuringScheduled:!1},fU={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Vd,draggableNodes:new Map,over:null,measureDroppableContainers:Vd},Pf=m.createContext(fU),ZS=m.createContext(dU);function hU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mc}}}function mU(e,t){switch(t.type){case Tn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Tn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Tn.DragEnd:case Tn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Tn.RegisterDroppable:{const{element:r}=t,{id:a}=r,l=new mc(e.droppable.containers);return l.set(a,r),{...e,droppable:{...e.droppable,containers:l}}}case Tn.SetDroppableDisabled:{const{id:r,key:a,disabled:l}=t,c=e.droppable.containers.get(r);if(!c||a!==c.key)return e;const u=new mc(e.droppable.containers);return u.set(r,{...c,disabled:l}),{...e,droppable:{...e.droppable,containers:u}}}case Tn.UnregisterDroppable:{const{id:r,key:a}=t,l=e.droppable.containers.get(r);if(!l||a!==l.key)return e;const c=new mc(e.droppable.containers);return c.delete(r),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function pU(e){let{disabled:t}=e;const{active:r,activatorEvent:a,draggableNodes:l}=m.useContext(Pf),c=ng(a),u=ng(r==null?void 0:r.id);return m.useEffect(()=>{if(!t&&!a&&c&&u!=null){if(!Ev(c)||document.activeElement===c.target)return;const f=l.get(u);if(!f)return;const{activatorNode:h,node:p}=f;if(!h.current&&!p.current)return;requestAnimationFrame(()=>{for(const v of[h.current,p.current]){if(!v)continue;const x=lz(v);if(x){x.focus();break}}})}},[a,t,l,u,c]),null}function gU(e,t){let{transform:r,...a}=t;return e!=null&&e.length?e.reduce((l,c)=>c({transform:l,...a}),r):r}function vU(e){return m.useMemo(()=>({draggable:{...Md.draggable,...e==null?void 0:e.draggable},droppable:{...Md.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Md.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function xU(e){let{activeNode:t,measure:r,initialRect:a,config:l=!0}=e;const c=m.useRef(!1),{x:u,y:f}=typeof l=="boolean"?{x:l,y:l}:l;As(()=>{if(!u&&!f||!t){c.current=!1;return}if(c.current||!a)return;const p=t==null?void 0:t.node.current;if(!p||p.isConnected===!1)return;const v=r(p),x=HS(v,a);if(u||(x.x=0),f||(x.y=0),c.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const b=qS(p);b&&b.scrollBy({top:x.y,left:x.x})}},[t,u,f,a,r])}const JS=m.createContext({...ds,scaleX:1,scaleY:1});var La;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(La||(La={}));const yU=m.memo(function(t){var r,a,l,c;let{id:u,accessibility:f,autoScroll:h=!0,children:p,sensors:v=cU,collisionDetection:x=jz,measuring:b,modifiers:w,...j}=t;const N=m.useReducer(mU,void 0,hU),[_,C]=N,[E,R]=hz(),[M,T]=m.useState(La.Uninitialized),z=M===La.Initialized,{draggable:{active:H,nodes:F,translate:G},droppable:{containers:V}}=_,ue=H!=null?F.get(H):null,re=m.useRef({initial:null,translated:null}),I=m.useMemo(()=>{var rt;return H!=null?{id:H,data:(rt=ue==null?void 0:ue.data)!=null?rt:uU,rect:re}:null},[H,ue]),oe=m.useRef(null),[ce,D]=m.useState(null),[X,U]=m.useState(null),J=_c(j,Object.values(j)),k=Zc("DndDescribedBy",u),P=m.useMemo(()=>V.getEnabled(),[V]),q=vU(b),{droppableRects:W,measureDroppableContainers:O,measuringScheduled:$}=Qz(P,{dragging:z,dependencies:[G.x,G.y],config:q.droppable}),B=Xz(F,H),K=m.useMemo(()=>X?rg(X):null,[X]),se=hn(),ge=Zz(B,q.draggable.measure);xU({activeNode:H!=null?F.get(H):null,config:se.layoutShiftCompensation,initialRect:ge,measure:q.draggable.measure});const fe=Yw(B,q.draggable.measure,ge),ae=Yw(B?B.parentElement:null),de=m.useRef({activatorEvent:null,active:null,activeNode:B,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ae=V.getNodeFor((r=de.current.over)==null?void 0:r.id),Le=oU({measure:q.dragOverlay.measure}),ke=(a=Le.nodeRef.current)!=null?a:B,_e=z?(l=Le.rect)!=null?l:fe:null,He=!!(Le.nodeRef.current&&Le.rect),we=tU(He?null:fe),Te=QS(ke?br(ke):null),Qe=nU(z?Ae??B:null),et=iU(Qe),Ne=gU(w,{transform:{x:G.x-we.x,y:G.y-we.y,scaleX:1,scaleY:1},activatorEvent:X,active:I,activeNodeRect:fe,containerNodeRect:ae,draggingNodeRect:_e,over:de.current.over,overlayNodeRect:Le.rect,scrollableAncestors:Qe,scrollableAncestorRects:et,windowRect:Te}),Ve=K?Al(K,G):null,Rt=rU(Qe),Mn=Ww(Rt),on=Ww(Rt,[fe]),Sn=Al(Ne,Mn),rn=_e?Sz(_e,Ne):null,sn=I&&rn?x({active:I,collisionRect:rn,droppableRects:W,droppableContainers:P,pointerCoordinates:Ve}):null,xn=BS(sn,"id"),[Ot,ye]=m.useState(null),Pe=He?Ne:Al(Ne,on),qe=_z(Pe,(c=Ot==null?void 0:Ot.rect)!=null?c:null,fe),nt=m.useRef(null),Ge=m.useCallback((rt,ot)=>{let{sensor:De,options:pt}=ot;if(oe.current==null)return;const lt=F.get(oe.current);if(!lt)return;const bt=rt.nativeEvent,ln=new De({active:oe.current,activeNode:lt,event:bt,options:pt,context:de,onAbort(ht){if(!F.get(ht))return;const{onDragAbort:qt}=J.current,Qt={id:ht};qt==null||qt(Qt),E({type:"onDragAbort",event:Qt})},onPending(ht,En,qt,Qt){if(!F.get(ht))return;const{onDragPending:An}=J.current,kn={id:ht,constraint:En,initialCoordinates:qt,offset:Qt};An==null||An(kn),E({type:"onDragPending",event:kn})},onStart(ht){const En=oe.current;if(En==null)return;const qt=F.get(En);if(!qt)return;const{onDragStart:Qt}=J.current,wr={activatorEvent:bt,active:{id:En,data:qt.data,rect:re}};Ns.unstable_batchedUpdates(()=>{Qt==null||Qt(wr),T(La.Initializing),C({type:Tn.DragStart,initialCoordinates:ht,active:En}),E({type:"onDragStart",event:wr}),D(nt.current),U(bt)})},onMove(ht){C({type:Tn.DragMove,coordinates:ht})},onEnd:Pt(Tn.DragEnd),onCancel:Pt(Tn.DragCancel)});nt.current=ln;function Pt(ht){return async function(){const{active:qt,collisions:Qt,over:wr,scrollAdjustedTranslate:An}=de.current;let kn=null;if(qt&&An){const{cancelDrop:Xn}=J.current;kn={activatorEvent:bt,active:qt,collisions:Qt,delta:An,over:wr},ht===Tn.DragEnd&&typeof Xn=="function"&&await Promise.resolve(Xn(kn))&&(ht=Tn.DragCancel)}oe.current=null,Ns.unstable_batchedUpdates(()=>{C({type:ht}),T(La.Uninitialized),ye(null),D(null),U(null),nt.current=null;const Xn=ht===Tn.DragEnd?"onDragEnd":"onDragCancel";if(kn){const mn=J.current[Xn];mn==null||mn(kn),E({type:Xn,event:kn})}})}}},[F]),Ht=m.useCallback((rt,ot)=>(De,pt)=>{const lt=De.nativeEvent,bt=F.get(pt);if(oe.current!==null||!bt||lt.dndKit||lt.defaultPrevented)return;const ln={active:bt};rt(De,ot.options,ln)===!0&&(lt.dndKit={capturedBy:ot.sensor},oe.current=pt,Ge(De,ot))},[F,Ge]),an=Kz(v,Ht);sU(v),As(()=>{fe&&M===La.Initializing&&T(La.Initialized)},[fe,M]),m.useEffect(()=>{const{onDragMove:rt}=J.current,{active:ot,activatorEvent:De,collisions:pt,over:lt}=de.current;if(!ot||!De)return;const bt={active:ot,activatorEvent:De,collisions:pt,delta:{x:Sn.x,y:Sn.y},over:lt};Ns.unstable_batchedUpdates(()=>{rt==null||rt(bt),E({type:"onDragMove",event:bt})})},[Sn.x,Sn.y]),m.useEffect(()=>{const{active:rt,activatorEvent:ot,collisions:De,droppableContainers:pt,scrollAdjustedTranslate:lt}=de.current;if(!rt||oe.current==null||!ot||!lt)return;const{onDragOver:bt}=J.current,ln=pt.get(xn),Pt=ln&&ln.rect.current?{id:ln.id,rect:ln.rect.current,data:ln.data,disabled:ln.disabled}:null,ht={active:rt,activatorEvent:ot,collisions:De,delta:{x:lt.x,y:lt.y},over:Pt};Ns.unstable_batchedUpdates(()=>{ye(Pt),bt==null||bt(ht),E({type:"onDragOver",event:ht})})},[xn]),As(()=>{de.current={activatorEvent:X,active:I,activeNode:B,collisionRect:rn,collisions:sn,droppableRects:W,draggableNodes:F,draggingNode:ke,draggingNodeRect:_e,droppableContainers:V,over:Ot,scrollableAncestors:Qe,scrollAdjustedTranslate:Sn},re.current={initial:_e,translated:rn}},[I,B,sn,rn,F,ke,_e,W,V,Ot,Qe,Sn]),Yz({...se,delta:G,draggingRect:rn,pointerCoordinates:Ve,scrollableAncestors:Qe,scrollableAncestorRects:et});const yt=m.useMemo(()=>({active:I,activeNode:B,activeNodeRect:fe,activatorEvent:X,collisions:sn,containerNodeRect:ae,dragOverlay:Le,draggableNodes:F,droppableContainers:V,droppableRects:W,over:Ot,measureDroppableContainers:O,scrollableAncestors:Qe,scrollableAncestorRects:et,measuringConfiguration:q,measuringScheduled:$,windowRect:Te}),[I,B,fe,X,sn,ae,Le,F,V,W,Ot,O,Qe,et,q,$,Te]),Bn=m.useMemo(()=>({activatorEvent:X,activators:an,active:I,activeNodeRect:fe,ariaDescribedById:{draggable:k},dispatch:C,draggableNodes:F,over:Ot,measureDroppableContainers:O}),[X,an,I,fe,C,k,F,Ot,O]);return xe.createElement(zS.Provider,{value:R},xe.createElement(Pf.Provider,{value:Bn},xe.createElement(ZS.Provider,{value:yt},xe.createElement(JS.Provider,{value:qe},p)),xe.createElement(pU,{disabled:(f==null?void 0:f.restoreFocus)===!1})),xe.createElement(gz,{...f,hiddenTextDescribedById:k}));function hn(){const rt=(ce==null?void 0:ce.autoScrollEnabled)===!1,ot=typeof h=="object"?h.enabled===!1:h===!1,De=z&&!rt&&!ot;return typeof h=="object"?{...h,enabled:De}:{enabled:De}}}),bU=m.createContext(null),Kw="button",wU="Draggable";function jU(e){let{id:t,data:r,disabled:a=!1,attributes:l}=e;const c=Zc(wU),{activators:u,activatorEvent:f,active:h,activeNodeRect:p,ariaDescribedById:v,draggableNodes:x,over:b}=m.useContext(Pf),{role:w=Kw,roleDescription:j="draggable",tabIndex:N=0}=l??{},_=(h==null?void 0:h.id)===t,C=m.useContext(_?JS:bU),[E,R]=Fd(),[M,T]=Fd(),z=aU(u,t),H=_c(r);As(()=>(x.set(t,{id:t,key:c,node:E,activatorNode:M,data:H}),()=>{const G=x.get(t);G&&G.key===c&&x.delete(t)}),[x,t]);const F=m.useMemo(()=>({role:w,tabIndex:N,"aria-disabled":a,"aria-pressed":_&&w===Kw?!0:void 0,"aria-roledescription":j,"aria-describedby":v.draggable}),[a,w,N,_,j,v.draggable]);return{active:h,activatorEvent:f,activeNodeRect:p,attributes:F,isDragging:_,listeners:a?void 0:z,node:E,over:b,setNodeRef:R,setActivatorNodeRef:T,transform:C}}function _U(){return m.useContext(ZS)}const NU="Droppable",SU={timeout:25};function EU(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:l}=e;const c=Zc(NU),{active:u,dispatch:f,over:h,measureDroppableContainers:p}=m.useContext(Pf),v=m.useRef({disabled:r}),x=m.useRef(!1),b=m.useRef(null),w=m.useRef(null),{disabled:j,updateMeasurementsFor:N,timeout:_}={...SU,...l},C=_c(N??a),E=m.useCallback(()=>{if(!x.current){x.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{p(Array.isArray(C.current)?C.current:[C.current]),w.current=null},_)},[_]),R=Of({callback:E,disabled:j||!u}),M=m.useCallback((F,G)=>{R&&(G&&(R.unobserve(G),x.current=!1),F&&R.observe(F))},[R]),[T,z]=Fd(M),H=_c(t);return m.useEffect(()=>{!R||!T.current||(R.disconnect(),x.current=!1,R.observe(T.current))},[T,R]),m.useEffect(()=>(f({type:Tn.RegisterDroppable,element:{id:a,key:c,disabled:r,node:T,rect:b,data:H}}),()=>f({type:Tn.UnregisterDroppable,key:c,id:a})),[a]),m.useEffect(()=>{r!==v.current.disabled&&(f({type:Tn.SetDroppableDisabled,id:a,key:c,disabled:r}),v.current.disabled=r)},[a,c,r,f]),{active:u,rect:b,isOver:(h==null?void 0:h.id)===a,node:T,over:h,setNodeRef:z}}function Av(e,t,r){const a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function CU(e,t){return e.reduce((r,a,l)=>{const c=t.get(a);return c&&(r[l]=c),r},Array(e.length))}function bd(e){return e!==null&&e>=0}function RU(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function TU(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const wd={scaleX:1,scaleY:1},MU=e=>{var t;let{rects:r,activeNodeRect:a,activeIndex:l,overIndex:c,index:u}=e;const f=(t=r[l])!=null?t:a;if(!f)return null;const h=AU(r,u,l);if(u===l){const p=r[c];return p?{x:l<c?p.left+p.width-(f.left+f.width):p.left-f.left,y:0,...wd}:null}return u>l&&u<=c?{x:-f.width-h,y:0,...wd}:u<l&&u>=c?{x:f.width+h,y:0,...wd}:{x:0,y:0,...wd}};function AU(e,t,r){const a=e[t],l=e[t-1],c=e[t+1];return!a||!l&&!c?0:r<t?l?a.left-(l.left+l.width):c.left-(a.left+a.width):c?c.left-(a.left+a.width):a.left-(l.left+l.width)}const eE=e=>{let{rects:t,activeIndex:r,overIndex:a,index:l}=e;const c=Av(t,a,r),u=t[l],f=c[l];return!f||!u?null:{x:f.left-u.left,y:f.top-u.top,scaleX:f.width/u.width,scaleY:f.height/u.height}},tE="Sortable",nE=xe.createContext({activeIndex:-1,containerId:tE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:eE,disabled:{draggable:!1,droppable:!1}});function kU(e){let{children:t,id:r,items:a,strategy:l=eE,disabled:c=!1}=e;const{active:u,dragOverlay:f,droppableRects:h,over:p,measureDroppableContainers:v}=_U(),x=Zc(tE,r),b=f.rect!==null,w=m.useMemo(()=>a.map(z=>typeof z=="object"&&"id"in z?z.id:z),[a]),j=u!=null,N=u?w.indexOf(u.id):-1,_=p?w.indexOf(p.id):-1,C=m.useRef(w),E=!RU(w,C.current),R=_!==-1&&N===-1||E,M=TU(c);As(()=>{E&&j&&v(w)},[E,w,j,v]),m.useEffect(()=>{C.current=w},[w]);const T=m.useMemo(()=>({activeIndex:N,containerId:x,disabled:M,disableTransforms:R,items:w,overIndex:_,useDragOverlay:b,sortedRects:CU(w,h),strategy:l}),[N,x,M.draggable,M.droppable,R,w,_,h,b,l]);return xe.createElement(nE.Provider,{value:T},t)}const DU=e=>{let{id:t,items:r,activeIndex:a,overIndex:l}=e;return Av(r,a,l).indexOf(t)},OU=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:l,items:c,newIndex:u,previousItems:f,previousContainerId:h,transition:p}=e;return!p||!a||f!==c&&l===u?!1:r?!0:u!==l&&t===h},PU={duration:200,easing:"ease"},rE="transform",LU=Sc.Transition.toString({property:rE,duration:0,easing:"linear"}),IU={roleDescription:"sortable"};function zU(e){let{disabled:t,index:r,node:a,rect:l}=e;const[c,u]=m.useState(null),f=m.useRef(r);return As(()=>{if(!t&&r!==f.current&&a.current){const h=l.current;if(h){const p=ro(a.current,{ignoreTransform:!0}),v={x:h.left-p.left,y:h.top-p.top,scaleX:h.width/p.width,scaleY:h.height/p.height};(v.x||v.y)&&u(v)}}r!==f.current&&(f.current=r)},[t,r,a,l]),m.useEffect(()=>{c&&u(null)},[c]),c}function UU(e){let{animateLayoutChanges:t=OU,attributes:r,disabled:a,data:l,getNewIndex:c=DU,id:u,strategy:f,resizeObserverConfig:h,transition:p=PU}=e;const{items:v,containerId:x,activeIndex:b,disabled:w,disableTransforms:j,sortedRects:N,overIndex:_,useDragOverlay:C,strategy:E}=m.useContext(nE),R=$U(a,w),M=v.indexOf(u),T=m.useMemo(()=>({sortable:{containerId:x,index:M,items:v},...l}),[x,l,M,v]),z=m.useMemo(()=>v.slice(v.indexOf(u)),[v,u]),{rect:H,node:F,isOver:G,setNodeRef:V}=EU({id:u,data:T,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...h}}),{active:ue,activatorEvent:re,activeNodeRect:I,attributes:oe,setNodeRef:ce,listeners:D,isDragging:X,over:U,setActivatorNodeRef:J,transform:k}=jU({id:u,data:T,attributes:{...IU,...r},disabled:R.draggable}),P=rz(V,ce),q=!!ue,W=q&&!j&&bd(b)&&bd(_),O=!C&&X,$=O&&W?k:null,K=W?$??(f??E)({rects:N,activeNodeRect:I,activeIndex:b,overIndex:_,index:M}):null,se=bd(b)&&bd(_)?c({id:u,items:v,activeIndex:b,overIndex:_}):M,ge=ue==null?void 0:ue.id,fe=m.useRef({activeId:ge,items:v,newIndex:se,containerId:x}),ae=v!==fe.current.items,de=t({active:ue,containerId:x,isDragging:X,isSorting:q,id:u,index:M,items:v,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:p,wasDragging:fe.current.activeId!=null}),Ae=zU({disabled:!de,index:M,node:F,rect:H});return m.useEffect(()=>{q&&fe.current.newIndex!==se&&(fe.current.newIndex=se),x!==fe.current.containerId&&(fe.current.containerId=x),v!==fe.current.items&&(fe.current.items=v)},[q,se,x,v]),m.useEffect(()=>{if(ge===fe.current.activeId)return;if(ge!=null&&fe.current.activeId==null){fe.current.activeId=ge;return}const ke=setTimeout(()=>{fe.current.activeId=ge},50);return()=>clearTimeout(ke)},[ge]),{active:ue,activeIndex:b,attributes:oe,data:T,rect:H,index:M,newIndex:se,items:v,isOver:G,isSorting:q,isDragging:X,listeners:D,node:F,overIndex:_,over:U,setNodeRef:P,setActivatorNodeRef:J,setDroppableNodeRef:V,setDraggableNodeRef:ce,transform:Ae??K,transition:Le()};function Le(){if(Ae||ae&&fe.current.newIndex===M)return LU;if(!(O&&!Ev(re)||!p)&&(q||de))return Sc.Transition.toString({...p,property:rE})}}function $U(e,t){var r,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Gd(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const BU=[Et.Down,Et.Right,Et.Up,Et.Left],HU=(e,t)=>{let{context:{active:r,collisionRect:a,droppableRects:l,droppableContainers:c,over:u,scrollableAncestors:f}}=t;if(BU.includes(e.code)){if(e.preventDefault(),!r||!a)return;const h=[];c.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const b=l.get(x.id);if(b)switch(e.code){case Et.Down:a.top<b.top&&h.push(x);break;case Et.Up:a.top>b.top&&h.push(x);break;case Et.Left:a.left>b.left&&h.push(x);break;case Et.Right:a.left<b.left&&h.push(x);break}});const p=bz({collisionRect:a,droppableRects:l,droppableContainers:h});let v=BS(p,"id");if(v===(u==null?void 0:u.id)&&p.length>1&&(v=p[1].id),v!=null){const x=c.get(r.id),b=c.get(v),w=b?l.get(b.id):null,j=b==null?void 0:b.node.current;if(j&&w&&x&&b){const _=Df(j).some((z,H)=>f[H]!==z),C=sE(x,b),E=qU(x,b),R=_||!C?{x:0,y:0}:{x:E?a.width-w.width:0,y:E?a.height-w.height:0},M={x:w.left,y:w.top};return R.x&&R.y?M:Nc(M,R)}}}};function sE(e,t){return!Gd(e)||!Gd(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function qU(e,t){return!Gd(e)||!Gd(t)||!sE(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function FU(e){const t=new Date(e);return{day:t.getDate().toString().padStart(2,"0"),month:(t.getMonth()+1).toString().padStart(2,"0"),year:t.getFullYear().toString()}}function so({date:e}){const[t,r]=m.useState(!1),[a,l]=m.useState(FU(e)),c=m.useRef(null);let u;const f=()=>r(!0),h=w=>{const{name:j,value:N}=w.target;l(_=>({..._,[j]:N.replace(/\D/g,"")}))},p=w=>{w.key==="Enter"&&r(!1)},v=()=>{u=setTimeout(()=>r(!1),0)},x=()=>{u&&clearTimeout(u)},b=`${a.year}-${a.month}-${a.day}`;return s.jsxs("div",{className:"flex items-center justify-between  font-bold",children:[s.jsxs("p",{children:["Bamako, le"," ",t?s.jsxs("span",{ref:c,tabIndex:-1,onBlur:v,onFocus:x,children:[s.jsx("input",{type:"text",name:"day",value:a.day,onChange:h,onKeyDown:p,maxLength:2,size:2,className:"border-b border-gray-400 focus:outline-none bg-transparent w-6 text-center mx-0.5",autoFocus:!0}),"/",s.jsx("input",{type:"text",name:"month",value:a.month,onChange:h,onKeyDown:p,maxLength:2,size:2,className:"border-b border-gray-400 focus:outline-none bg-transparent w-6 text-center mx-0.5"}),"/",s.jsx("input",{type:"text",name:"year",value:a.year,onChange:h,onKeyDown:p,maxLength:4,size:4,className:"border-b border-gray-400 focus:outline-none bg-transparent w-10 text-center mx-0.5"})]}):s.jsx("span",{onClick:f,style:{cursor:"pointer"},title:"Click to edit date",children:tt(new Date(b),"dd/MM/yyyy")})]}),s.jsx("p",{children:"Le Biologiste"})]})}const VU=[{id:"template1",component:rr},{id:"template2",component:Qa},{id:"template3",component:Za},{id:"template4",component:Ja}],YU="template1",GU=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},WU=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},XU=()=>{const{resultId:e}=yr(),t=or(),[r,a]=m.useState(null),[l,c]=m.useState(null),[u,f]=m.useState(null),[h,p]=m.useState([]),[v,x]=m.useState(!0),[b,w]=m.useState(!1),[j,N]=m.useState(null),[_,C]=m.useState(null),[E,R]=m.useState(null),[M,T]=m.useState(!0),z=m.useRef(null),H=vz(zw(Mv),zw(Rv,{coordinateGetter:HU})),[F,G]=m.useState({}),[V,ue]=m.useState({}),[re,I]=m.useState(""),[oe,ce]=m.useState(!1),[D,X]=m.useState(!1),[U,J]=m.useState(""),[k,P]=m.useState(""),[q,W]=m.useState(!1),[O,$]=m.useState(null),[B,K]=m.useState([]);m.useEffect(()=>{(async()=>{const{data:Pe,error:qe}=await ne.from("skip_range_check").select("value, type");!qe&&Pe&&K(Pe)})()},[]);const[se,ge]=m.useState(5),[fe,ae]=m.useState(40),[de,Ae]=m.useState(15),[Le,ke]=m.useState(10),[_e,He]=m.useState(35);m.useEffect(()=>{async function ye(){const{data:Pe,error:qe}=await ne.from("result_column_widths").select("*").order("updated_at",{ascending:!1}).limit(1).single();Pe&&(ae(Pe.param_width),Ae(Pe.value_width),ke(Pe.unit_width),He(Pe.ref_width))}ye()},[]);const[we,Te]=m.useState([]);m.useEffect(()=>{h.length>0&&Te(ye=>{if(ye.length===0)return h.map(qe=>qe.category.id);const Pe=new Set(ye);return h.forEach(qe=>Pe.add(qe.category.id)),Array.from(Pe)})},[h]);const Qe=ye=>{Te(Pe=>Pe.includes(ye)?Pe.filter(qe=>qe!==ye):[...Pe,ye])},et=m.useMemo(()=>{var Pe;const ye=(E==null?void 0:E.selected_template)||YU;return((Pe=VU.find(qe=>qe.id===ye))==null?void 0:Pe.component)||rr},[E]),Ne=m.useMemo(()=>({logoUrl:(E==null?void 0:E.logo_url)||null,labName:E==null?void 0:E.lab_name,addressLine1:E==null?void 0:E.address_line1,addressLine2:E==null?void 0:E.address_line2,cityPostalCode:E==null?void 0:E.city_postal_code,phone:E==null?void 0:E.phone,email:E==null?void 0:E.email,website:E==null?void 0:E.website}),[E]),Ve=m.useCallback(async()=>{if(!e){N("ID du résultat manquant."),x(!1);return}x(!0),N(null),C(null),a(null),c(null),f(null),p([]),R(null);try{const{data:ye,error:Pe}=await ne.from("patient_result").select("*").eq("id",e).single();if(Pe)throw Pe;if(!ye)throw new Error("Résultat non trouvé.");a(ye);const[qe,nt,Ge]=await Promise.all([ne.from("patient").select("*").eq("id",ye.patient_id).single(),ne.from("doctor").select("*").eq("id",ye.doctor_id).single(),ne.from("print_header_config").select("*").limit(1).maybeSingle()]);qe.error&&console.warn("Erreur chargement patient:",qe.error.message),nt.error&&console.warn("Erreur chargement médecin:",nt.error.message),c(qe.data),f(nt.data),Ge.error&&console.warn("Erreur chargement config en-tête:",Ge.error.message),R(Ge.data),T(!1);const{data:Ht,error:an}=await ne.from("result_value").select(`
                    value,
                    test_parameter: test_parameter_id (
                        *,
                        test_type: test_type_id (
                            *,
                            category: category_id (id, name)
                        )
                    )
                `).eq("patient_result_id",e);if(an)throw an;const yt=new Map;(Ht||[]).forEach(hn=>{const rt=hn.test_parameter;if(rt&&rt.test_type&&rt.test_type.category){const ot=rt.test_type.category.id,De=rt.test_type.category.name,pt=rt.test_type.id,lt=rt.test_type.name;yt.has(ot)||yt.set(ot,{category:{...rt.test_type.category,created_at:"",updated_at:""},testTypes:[]});const bt=yt.get(ot);let ln=bt.testTypes.find(Pt=>Pt.testType.id===pt);ln||(ln={testType:{...rt.test_type,category_id:ot,category:null},parameters:[]},bt.testTypes.push(ln)),ln.parameters.push({...rt,resultValue:hn.value,test_type:null})}else console.warn("Données de paramètre/type/catégorie manquantes pour une valeur:",hn)}),yt.forEach(hn=>{hn.testTypes.forEach(rt=>{rt.parameters.sort((ot,De)=>ot.order!==De.order?ot.order-De.order:ot.name.localeCompare(De.name))}),hn.testTypes.sort((rt,ot)=>rt.testType.name.localeCompare(ot.testType.name))});const Bn=Array.from(yt.values()).sort((hn,rt)=>hn.category.name.localeCompare(rt.category.name));p(Bn)}catch(ye){console.error("Erreur chargement détails du résultat:",ye),N(ye.message||"Une erreur est survenue lors du chargement du résultat.")}finally{x(!1)}},[e]);m.useEffect(()=>{Ve()},[Ve]),m.useEffect(()=>{r!=null&&r.description&&I(r.description)},[r]),m.useEffect(()=>{J((r==null?void 0:r.normal_price)!=null?String(r.normal_price):""),P((r==null?void 0:r.insurance_price)!=null?String(r.insurance_price):"")},[r]);const Rt=m.useCallback(async ye=>{if(e){ce(!0);try{const{error:Pe}=await ne.from("patient_result").update({description:ye}).eq("id",e);if(Pe)throw Pe}catch(Pe){console.error("Error saving description:",Pe)}finally{ce(!1)}}},[e]);m.useEffect(()=>{const ye=setTimeout(()=>{re!==(r==null?void 0:r.description)&&Rt(re)},1e3);return()=>clearTimeout(ye)},[re,r==null?void 0:r.description,Rt]);const Mn=m.useCallback(async()=>{W(!0),$(null);try{const ye=U!==""?Number(U):null,Pe=k!==""?Number(k):null;if(U!==""&&isNaN(ye)||k!==""&&isNaN(Pe)){$("Les prix doivent être des nombres valides."),W(!1);return}const{error:qe,data:nt}=await ne.from("patient_result").update({normal_price:ye,insurance_price:Pe}).eq("id",r.id).select().single();if(qe)throw qe;a(Ge=>Ge&&{...Ge,normal_price:ye,insurance_price:Pe}),X(!1)}catch(ye){$(ye.message||"Erreur lors de la sauvegarde des prix.")}finally{W(!1)}},[r,U,k]),on=async ye=>{if(!(!r||ye===r.status)){w(!0),C(null);try{const{data:Pe,error:qe}=await ne.from("patient_result").update({status:ye}).eq("id",r.id).select().single();if(qe)throw qe;a(Pe||(nt=>nt?{...nt,status:ye}:null))}catch(Pe){console.error("Erreur mise à jour statut:",Pe),C(Pe.message||"Impossible de mettre à jour le statut.")}finally{w(!1)}}},Sn=()=>{window.print()},rn=ye=>{const{active:Pe,over:qe}=ye;qe&&Pe.id!==qe.id&&p(nt=>{const Ge=nt.findIndex(an=>an.category.id===Pe.id),Ht=nt.findIndex(an=>an.category.id===qe.id);return Ge===-1||Ht===-1?nt:Av(nt,Ge,Ht)})},sn=(ye,Pe)=>{G(qe=>({...qe,[ye]:Pe}))},xn=ye=>{ue(Pe=>{const qe=Pe[ye],nt={...Pe};let Ge="indeterminate";for(const Ht of h){for(const an of Ht.testTypes){const yt=an.parameters.find(Bn=>Bn.id===ye);if(yt){Ge=Lw(yt.resultValue,yt.reference_range,Ht.category.name,an.testType.name,B.map(({value:Bn})=>Bn));break}}if(Ge!=="indeterminate")break}return qe===void 0?nt[ye]="off":qe==="off"?nt[ye]="on":qe==="on"?nt[ye]="warn":delete nt[ye],nt})},Ot=(ye,Pe,qe,nt)=>{const Ge=ye;return s.jsxs("div",{className:Ce("flex items-start space-x-3",nt),children:[s.jsx(Ge,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:Pe}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:qe||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})};return v||M?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]})]}):j?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:r!=null&&r.patient_id?`/patients/${r.patient_id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[j," ",s.jsx(te,{variant:"link",onClick:Ve,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(it,{to:l?`/patients/${l.id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour ",l?`à ${l.full_name}`:"à la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(it,{to:`/results/${e}/edit`,children:s.jsxs(te,{variant:"secondary",size:"sm",children:[s.jsx(Xr,{className:"mr-2 h-4 w-4"})," Modifier"]})}),s.jsxs(te,{variant:"outline",size:"sm",onClick:Sn,disabled:v,children:[s.jsx(vf,{className:"mr-2 h-4 w-4"})," Imprimer"]}),s.jsxs(te,{variant:"outline",size:"sm",disabled:!0,children:[s.jsx(EP,{className:"mr-2 h-4 w-4"})," Télécharger"]})]})]}),s.jsxs("div",{ref:z,className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[E?s.jsx("div",{className:"mb-6 print:mb-4",children:s.jsx(et,{data:Ne,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):s.jsxs(Ut,{variant:"default",className:"mb-6 print:hidden",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tête Manquant"}),s.jsxs(Bt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",s.jsx(it,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(Wr,{className:"my-4 print:hidden"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Se,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ot(We,"NOM PRENOM",l==null?void 0:l.full_name),Ot(We,"IDENTIFIANT Unique",l==null?void 0:l.patient_unique_id),Ot(Wt,"Date Naissance",l!=null&&l.date_of_birth?tt(_t(l.date_of_birth),"P",{locale:Ct}):null),s.jsx("div",{className:"hidden print:block",children:Ot(Wt,"Date Résultat",r.result_date?tt(_t(r.result_date),"Pp",{locale:Ct}):null)})]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Médecin"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ot(Vt,"NOM PRENOM",u==null?void 0:u.full_name),Ot(lr,"Téléphone",u==null?void 0:u.phone),Ot(We,"Provenance",u==null?void 0:u.hospital)]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Résultat Info"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[Ot(Wt,"Date Résultat",r.result_date?tt(_t(r.result_date),"Pp",{locale:Ct}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),D?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:U,onChange:ye=>J(ye.target.value),disabled:q}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:U,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),D?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:k,onChange:ye=>P(ye.target.value),disabled:q}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:k,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:D?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"xs",variant:"secondary",onClick:Mn,disabled:q,children:[q?s.jsx(Ft,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>X(!1),disabled:q,children:"Annuler"})]}):s.jsx(te,{size:"xs",variant:"outline",onClick:()=>X(!0),children:"Modifier Prix"})}),O&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:O})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(We,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(Jn,{value:r.status??"",onValueChange:ye=>on(ye),disabled:b,children:[s.jsxs(tr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(er,{placeholder:"Changer statut..."})," "]}),s.jsxs(nr,{children:[s.jsx(xt,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l3,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(xt,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(xt,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),b&&s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),_&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:_}),s.jsx(os,{variant:GU(r.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:WU(r.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 hidden print:grid",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"})," Patient"]}),Ot(We,"NOM PRENOM",l==null?void 0:l.full_name),Ot(We,"ID Unique",l==null?void 0:l.patient_unique_id),Ot(Wt,"Date de Naissance",l!=null&&l.date_of_birth?tt(_t(l.date_of_birth),"P",{locale:Ct}):null)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Zn,{className:"h-4 w-4"})," Médecin"]}),Ot(Vt,"NOM PRENOM",u==null?void 0:u.full_name),Ot(lr,"Téléphone",u==null?void 0:u.phone),Ot(We,"Hôpital",u==null?void 0:u.hospital)]})]}),h.length>1&&s.jsxs("div",{className:"my-6 print:hidden",children:[s.jsx($e,{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Réorganiser les Catégories (Glisser-Déposer) :"}),s.jsx(yU,{sensors:H,collisionDetection:yz,onDragEnd:rn,children:s.jsx(kU,{items:h.map(ye=>ye.category.id),strategy:MU,children:s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(ye=>s.jsx(KU,{category:ye.category},ye.category.id))})})}),s.jsx(Wr,{className:"mt-6"})]}),s.jsxs("div",{className:"flex gap-4 mb-2 print:hidden items-end",children:[s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"paramWidth",children:"Paramètre (%)"}),s.jsx("input",{id:"paramWidth",type:"number",min:5,max:80,value:fe,onChange:ye=>ae(Number(ye.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"valueWidth",children:"Valeur (%)"}),s.jsx("input",{id:"valueWidth",type:"number",min:5,max:80,value:de,onChange:ye=>Ae(Number(ye.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"unitWidth",children:"Unité (%)"}),s.jsx("input",{id:"unitWidth",type:"number",min:5,max:80,value:Le,onChange:ye=>ke(Number(ye.target.value)),className:"border px-2 py-1 w-16 rounded"})]}),s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsx("label",{htmlFor:"refWidth",children:"Réf. (%)"}),s.jsx("input",{id:"refWidth",type:"number",min:5,max:80,value:_e,onChange:ye=>He(Number(ye.target.value)),className:"border px-2 py-1 w-16 rounded"})]})]}),s.jsx("div",{className:"space-y-8 print:space-y-4",children:h.map(ye=>{const Pe=F[ye.category.id]??!1,qe=we.includes(ye.category.id);return s.jsxs("div",{className:Ce(Pe&&"print-force-break-before",!qe&&"print:hidden"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 print:mb-2",children:[" ",s.jsxs("h2",{className:"text-xl font-bold uppercase mx-auto tracking-tight  print:text-center",children:[" ",ye.category.name]}),s.jsx(Wr,{className:"flex-1 print:hidden"}),s.jsxs("div",{className:"flex items-center space-x-2 ml-auto print:hidden pl-4",children:[s.jsx(Ua,{id:`break-${ye.category.id}`,checked:Pe,onCheckedChange:nt=>{const Ge=nt===!0;sn(ye.category.id,Ge)},"aria-label":"Forcer saut de page avant"}),s.jsxs($e,{htmlFor:`break-${ye.category.id}`,className:"text-xs font-medium text-muted-foreground cursor-pointer flex items-center gap-1",title:"Forcer un saut de page avant cette catégorie à l'impression",children:[s.jsx(lP,{className:"h-3.5 w-3.5"})," Saut Page Avant"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-auto print:hidden pl-4",children:[s.jsx(Ua,{id:`print-${ye.category.id}`,checked:we.includes(ye.category.id),onCheckedChange:nt=>{Qe(ye.category.id)},"aria-label":"Inclure dans l'impression"}),s.jsx($e,{htmlFor:`print-${ye.category.id}`,className:"text-xs font-medium text-muted-foreground cursor-pointer flex items-center gap-1",title:"Inclure cette catégorie dans l'impression",children:"Imprimer"})]})]}),s.jsxs(sa,{className:"print:text-xs",children:[s.jsx(aa,{className:"bg-muted/10 print:bg-gray-100",children:s.jsxs(Gt,{children:[s.jsx(ft,{style:{width:`${fe}%`},className:"pl-4 print:pl-1",children:"Paramètre"}),s.jsx(ft,{style:{width:`${de}%`},className:"pl-2 print:pl-1",children:"Valeur"}),s.jsx(ft,{style:{width:`${Le}%`},className:"pl-2 print:pl-1",children:"Unité"}),s.jsx(ft,{style:{width:`${_e}%`},className:"pr-4 print:pr-1",children:"Réf."})]})}),s.jsxs(ia,{children:[ye.testTypes.length===0&&s.jsx(Gt,{children:s.jsx(Ke,{colSpan:4,className:"h-10 text-center text-xs italic text-muted-foreground",children:"(Aucun type de test dans cette catégorie)"})}),ye.testTypes.map(nt=>s.jsxs(xe.Fragment,{children:[nt.parameters.length>1&&s.jsx(Gt,{className:"bg-muted/50 print:bg-gray-50 hover:bg-muted/60 print:break-inside-avoid",children:s.jsx(Ke,{colSpan:4,className:"py-1.5 px-4 print:px-1 font-semibold text-sm print:text-xs text-foreground",children:nt.testType.name})}),nt.parameters.length>0?s.jsxs(s.Fragment,{children:[nt.parameters.map(Ge=>{var hn,rt;const Ht=Lw(Ge.resultValue,Ge.reference_range,ye.category.name,nt.testType.name,B.map(({value:ot})=>ot)),an=V[Ge.id];let yt="",Bn="";return an==="on"?(yt="result-out-of-range",Bn="font-bold text-red-700 dark:text-red-400 print:text-red-700"):an==="off"?yt="":an==="warn"?yt="result-indeterminate-range":Ht==="out-of-range"?(yt="result-out-of-range",Bn="font-bold text-red-700 dark:text-red-400 print:text-red-700"):Ht==="indeterminate"?yt="result-indeterminate-range":yt="",s.jsxs(Gt,{className:Ce("print:even:bg-white print:break-inside-avoid  "),children:[s.jsx(Ke,{style:{width:`${fe}%`},className:"font-medium pl-6 print:pl-2",dangerouslySetInnerHTML:{__html:Ge.name}}),s.jsx(Ke,{style:{width:`${de}%`},className:Ce("pl-2 print:pl-1 cursor-pointer hover:bg-muted/50","cursor-pointer hover:bg-black/5 dark:hover:bg-white/5",Bn,yt),onClick:()=>xn(Ge.id),title:"Cliquer pour changer le surlignage",children:Ge.resultValue}),s.jsx(Ke,{style:{width:`${Le}%`},className:"pl-2 print:pl-1",dangerouslySetInnerHTML:{__html:Ge.unit||"-"}}),s.jsxs(Ke,{style:{width:`${_e}%`},className:"text-muted-foreground pr-4 print:pr-1 !whitespace-pre-line",children:[!Ge.reference_range&&"-",Ge.reference_range==="NEGATIF"&&"-",((hn=Ge.reference_range)==null?void 0:hn.includes("style"))&&s.jsx("div",{dangerouslySetInnerHTML:{__html:Ge.reference_range}}),Ge.reference_range!=="NEGATIF"&&!((rt=Ge.reference_range)!=null&&rt.includes("style"))&&Ge.reference_range&&Ge.reference_range.split(";").map((ot,De)=>s.jsx("div",{children:ot},De))]})]},Ge.id)}),nt.testType.description&&s.jsx(Gt,{children:s.jsx(Ke,{colSpan:4,className:"py-2 px-6 print:px-2 text-sm print:text-xs text-muted-foreground",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:nt.testType.description}})})})]}):s.jsx(s.Fragment,{})]},nt.testType.id)),ye.testTypes.length>0&&ye.testTypes.every(nt=>nt.parameters.length===0)&&s.jsx(Gt,{children:s.jsx(Ke,{colSpan:4,className:"h-10 text-center text-xs italic text-muted-foreground",children:"(Aucun paramètre défini pour les tests de cette catégorie)"})})]})]})]},ye.category.id)})}),s.jsxs(Se,{className:"mt-8 print:hidden",children:[s.jsx(Re,{className:"pb-2",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(is,{className:"h-4 w-4"}),"Description du résultat"]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:re,onChange:ye=>I(ye.target.value),className:"w-full min-h-[100px] p-2 border rounded-md resize-y",placeholder:"Entrez une description pour ce résultat..."}),oe&&s.jsx("div",{className:"absolute right-2 top-2",children:s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2 print:hidden",children:[s.jsx("label",{htmlFor:"marginTopControl",className:"text-xs",children:"Décalage vertical (mt):"}),s.jsx("input",{id:"marginTopControl",type:"number",min:0,max:20,value:se,onChange:ye=>ge(Number(ye.target.value)),className:"border px-2 py-1 text-xs w-16 rounded"})]}),s.jsxs("div",{className:"text-sm text-black print:block print:mt-4",style:{marginTop:`${se*.25}rem`},children:[s.jsx("div",{className:"font-bold",children:re.split(`
`).map((ye,Pe)=>s.jsx("div",{children:ye},Pe))}),s.jsx("div",{className:"mt-4",children:s.jsx(so,{date:r.result_date})}),s.jsxs("div",{className:"mt-[200px] flex flex-wrap flex-row items-center space-x-2 print:hidden",children:[s.jsx("div",{className:"",children:s.jsx(te,{onClick:()=>t(`/protidogramme/${e}`),children:"Protidogramme"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(te,{onClick:()=>t(`/atb/${e}`),children:"ATB"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(te,{onClick:()=>t(`/ecb/${e}`),children:"ECB"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(te,{onClick:()=>t(`/vhb/${e}`),children:"VHB"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(te,{onClick:()=>t(`/vih/${e}`),children:"VIH"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(te,{onClick:()=>t(`/anapath/${e}`),children:"Anapath"})})]})]})]})," "]}):s.jsx("div",{children:"Résultat non trouvé."})},KU=({category:e})=>{const{attributes:t,listeners:r,setNodeRef:a,transform:l,transition:c,isDragging:u}=UU({id:e.id}),f={transform:Sc.Transform.toString(l),transition:c,opacity:u?.7:1,zIndex:u?10:void 0};return s.jsx("div",{ref:a,style:f,...t,children:s.jsxs(te,{variant:"secondary",size:"sm",className:"cursor-grab touch-none flex items-center gap-1.5",children:[s.jsx("span",{...r,"aria-label":`Réorganiser ${e.name}`,children:s.jsx(MP,{className:"h-4 w-4 text-muted-foreground"})}),e.name]})})},Qw=()=>{const{patientId:e,resultId:t}=yr(),r=or(),a=!!t,[l,c]=m.useState(null),[u,f]=m.useState(e||null),[h,p]=m.useState([]),[v,x]=m.useState([]),[b,w]=m.useState([]),[j,N]=m.useState(void 0),[_,C]=m.useState(void 0),[E,R]=m.useState(new Date),[M,T]=m.useState(new Map),[z,H]=m.useState(""),[F,G]=m.useState(!0),[V,ue]=m.useState(!1),[re,I]=m.useState(null),[oe,ce]=m.useState(!1),[D,X]=m.useState([]),[U,J]=m.useState(""),[k,P]=m.useState(""),q=qc(z,250),W=m.useCallback(async()=>{if(t){G(!0),I(null);try{const[ae,de,Ae,Le]=await Promise.all([ne.from("patient_result").select("*").eq("id",t).single(),ne.from("result_value").select("id, value, test_parameter_id, test_parameter:test_parameter_id(test_type_id, test_type:test_type_id(id, name))").eq("patient_result_id",t),ne.from("doctor").select("id, full_name").order("full_name"),ne.from("test_type").select("id, name, category_id").order("name")]);if(ae.error)throw ae.error;if(!ae.data)throw new Error("Résultat non trouvé.");const ke=ae.data;if(C(ke.doctor_id),R(ke.result_date&&NN(_t(ke.result_date))?_t(ke.result_date):new Date),f(ke.patient_id),X(de.data||[]),J(ke.normal_price??""),P(ke.insurance_price??""),ke.patient_id){const{data:et,error:Ne}=await ne.from("patient").select("*").eq("id",ke.patient_id).single();Ne&&console.warn("Erreur chargement patient:",Ne.message),c(et)}if(Ae.error)throw Ae.error;if(Le.error)throw Le.error;if(p(Ae.data||[]),x(Le.data||[]),de.error)throw de.error;const _e=de.data||[],He=new Map,we=[...new Set(_e.map(et=>{var Ne,Ve;return(Ve=(Ne=et.test_parameter)==null?void 0:Ne.test_type)==null?void 0:Ve.id}).filter(Boolean))],{data:Te,error:Qe}=await ne.from("test_parameter").select("*, test_type:test_type_id(id, name), order").in("test_type_id",we);if(Qe)throw Qe;we.forEach(et=>{var Mn,on,Sn;const Ne=_e.find(rn=>{var sn,xn;return((xn=(sn=rn.test_parameter)==null?void 0:sn.test_type)==null?void 0:xn.id)===et}),Ve=((on=(Mn=Ne==null?void 0:Ne.test_parameter)==null?void 0:Mn.test_type)==null?void 0:on.name)||"Type Inconnu",Rt=(Te||[]).filter(rn=>rn.test_type_id===et);He.set(et,{id:et,name:Ve,category_id:((Sn=Rt[0])==null?void 0:Sn.test_type_id)||"",created_at:"",updated_at:"",parameters:Rt.map(rn=>{const sn=_e.find(xn=>xn.test_parameter_id===rn.id);return{...rn,resultValue:(sn==null?void 0:sn.value)||"",isVisible:!0,originalValueId:(sn==null?void 0:sn.id)||null}}),loadingParams:!1,errorLoadingParams:!1})}),T(He)}catch(ae){console.error("Erreur chargement données pour modification:",ae),I(ae.message||"Impossible de charger les données pour la modification.")}finally{G(!1)}}},[t]),O=m.useCallback(async()=>{if(e){G(!0),I(null);try{const[ae,de,Ae]=await Promise.all([ne.from("patient").select("*").eq("id",e).single(),ne.from("doctor").select("id, full_name").order("full_name"),ne.from("test_type").select("id, name, category_id").order("name")]);if(ae.error)throw ae.error;if(!ae.data)throw new Error("Patient non trouvé pour la création.");if(de.error)throw de.error;if(Ae.error)throw Ae.error;c(ae.data),f(e),p(de.data||[]),x(Ae.data||[]),J(""),P("")}catch(ae){console.error("Erreur chargement données pour création:",ae),I(ae.message||"Impossible de charger les informations nécessaires.")}finally{G(!1)}}},[e]);m.useEffect(()=>{(async()=>{const{data:de,error:Ae}=await ne.from("category").select("id, name").order("name");if(Ae){I("Erreur lors du chargement des catégories");return}w(de||[])})()},[]),m.useEffect(()=>{a?W():O()},[a,W,O]);const $=m.useMemo(()=>{if(j)return v.filter(ae=>ae.category_id===j);{if(!q)return v;const ae=q.toLowerCase();return v.filter(de=>de.name.toLowerCase().includes(ae))}},[v,q,j]),B=m.useCallback(async(ae,de)=>{const Ae=v.find(Le=>Le.id===de);if(Ae)if(ae===!0){T(Le=>{const ke=new Map(Le),_e=ke.get(de),He={..._e||Ae,parameters:(_e==null?void 0:_e.parameters)||[],loadingParams:!0,errorLoadingParams:!1};return ke.set(de,He),ke});try{const{data:Le,error:ke}=await ne.from("test_parameter").select("*, test_type:test_type_id(id, name), order").eq("test_type_id",de).order("order");if(ke)throw ke;T(_e=>{const He=new Map(_e),we=He.get(de);if(we){const Te=new Map(we.parameters.map(Ne=>[Ne.id,Ne])),Qe=(Le||[]).map(Ne=>{const Ve=Te.get(Ne.id);return{...Ne,resultValue:(Ve==null?void 0:Ve.resultValue)||"",isVisible:(Ve==null?void 0:Ve.isVisible)!==!1,originalValueId:(Ve==null?void 0:Ve.originalValueId)||null}}),et={...we,parameters:Qe,loadingParams:!1,errorLoadingParams:!1};return He.set(de,et),He}return _e})}catch(Le){console.error(`Erreur chargement paramètres pour ${Ae.name}:`,Le),T(ke=>{const _e=new Map(ke),He=_e.get(de);if(He){const we={...He,loadingParams:!1,errorLoadingParams:!0};return _e.set(de,we),_e}return ke}),I(ke=>ke?`${ke}
Impossible de charger les paramètres pour ${Ae.name}.`:`Impossible de charger les paramètres pour ${Ae.name}.`)}}else T(Le=>{const ke=new Map(Le);return ke.delete(de),ke})},[v]),K=(ae,de,Ae)=>{T(Le=>{const ke=new Map(Le),_e=ke.get(ae);if(_e){const He=_e.parameters.map(Te=>Te.id===de?{...Te,resultValue:Ae}:Te),we={..._e,parameters:He};return ke.set(ae,we),ke}return Le})},se=(ae,de)=>{T(Ae=>{const Le=new Map(Ae),ke=Le.get(ae);if(ke){const _e=ke.parameters.map(we=>we.id===de?{...we,isVisible:!1}:we),He={...ke,parameters:_e};return Le.set(ae,He),Le}return Ae})},ge=async ae=>{if(ae.preventDefault(),I(null),!u){I("Erreur: ID du patient non défini.");return}if(!_){I("Veuillez sélectionner un médecin prescripteur.");return}if(!E){I("Veuillez sélectionner la date du résultat.");return}if(M.size===0&&!a){I("Veuillez sélectionner au moins un type de test.");return}if(U!==""&&isNaN(Number(U))){I("Le prix normal doit être un nombre valide.");return}if(k!==""&&isNaN(Number(k))){I("Le prix assurance doit être un nombre valide.");return}ue(!0);try{const de={patient_id:u,doctor_id:_,result_date:tt(E,"yyyy-MM-dd'T'HH:mm:ssXXX")};U!==""&&(de.normal_price=Number(U)),k!==""&&(de.insurance_price=Number(k));const{data:Ae,error:Le}=await(a?ne.from("patient_result").update(de).eq("id",t).select("id").single():ne.from("patient_result").insert({...de,status:"attente"}).select("id").single());if(Le)throw Le;const ke=Ae==null?void 0:Ae.id;if(!ke)throw new Error("Erreur lors de l'enregistrement de l'en-tête du résultat (ID manquant).");const _e=new Map,He=new Set;M.forEach(Ne=>{Ne.parameters.forEach(Ve=>{Ve.isVisible!==!1&&(He.add(Ve.id),Ve.resultValue!==void 0&&Ve.resultValue.trim()!==""&&_e.set(Ve.id,{value:Ve.resultValue.trim(),test_parameter_id:Ve.id}))})});const we=new Map(D.map(Ne=>[Ne.test_parameter_id,Ne])),Te=[],Qe=[],et=[];if(D.forEach(Ne=>{(!He.has(Ne.test_parameter_id)||!_e.has(Ne.test_parameter_id))&&Te.push(Ne.id)}),_e.forEach((Ne,Ve)=>{const Rt=we.get(Ve);Rt!=null&&Rt.id?Qe.push({id:Rt.id,patient_result_id:ke,test_parameter_id:Ne.test_parameter_id,value:Ne.value}):et.push({patient_result_id:ke,test_parameter_id:Ne.test_parameter_id,value:Ne.value})}),Te.length>0){const{error:Ne}=await ne.from("result_value").delete().in("id",Te);if(Ne)throw Ne}for(const Ne of Qe){const{error:Ve}=await ne.from("result_value").update({value:Ne.value,test_parameter_id:Ne.test_parameter_id,patient_result_id:Ne.patient_result_id}).eq("id",Ne.id);if(Ve)throw Ve}if(et.length>0){const{error:Ne}=await ne.from("result_value").insert(et);if(Ne)throw Ne}r(a?`/results/${ke}`:`/patients/${u}`)}catch(de){console.error(`Erreur lors de ${a?"la mise à jour":"la création"} du résultat:`,de),I((de==null?void 0:de.message)||`Une erreur est survenue lors de ${a?"la mise à jour":"l'enregistrement"}.`)}finally{ue(!1)}};if(F)return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/2"})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-20 w-full"})]}),s.jsx(ls,{children:s.jsx(Y,{className:"h-10 w-32"})})]})]});const fe=a?`/results/${t}`:`/patients/${u}`;return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:fe,children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),a?"Retour au Résultat":"Retour au Patient"]})})}),s.jsxs(Se,{className:"shadow-md",children:[s.jsxs(Re,{children:[s.jsxs(vt,{className:"text-xl font-semibold flex items-center gap-2",children:[a?s.jsx(Xr,{className:"h-5 w-5 text-primary"}):s.jsx(Wg,{className:"h-5 w-5 text-primary"}),a?"Modifier le Résultat":"Ajouter un Nouveau Résultat"]}),l&&s.jsxs(gr,{children:["Pour le patient :"," ",s.jsx("span",{className:"font-medium",children:l.full_name})," (ID:"," ",l.patient_unique_id,")"]})]}),s.jsxs("form",{onSubmit:ge,children:[s.jsxs(Ee,{className:"space-y-6",children:[re&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{className:"whitespace-pre-line",children:re})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs($e,{htmlFor:"doctor",className:"font-semibold",children:["Médecin Prescripteur"," ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Jn,{name:"doctor",value:_,onValueChange:ae=>C(ae),required:!0,disabled:V||h.length===0,children:[s.jsx(tr,{id:"doctor",className:"h-10",children:s.jsx(er,{placeholder:h.length===0?"Aucun médecin...":"Sélectionner..."})}),s.jsx(nr,{children:h.length>0?h.map(ae=>s.jsx(xt,{value:ae.id,children:ae.full_name},ae.id)):s.jsx(xt,{value:"no-doctors",disabled:!0,children:"Aucun médecin disponible"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs($e,{htmlFor:"resultDate",className:"font-semibold",children:["Date du Résultat ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(VN,{open:oe,onOpenChange:ce,children:[s.jsx(YN,{asChild:!0,children:s.jsxs(te,{variant:"outline",className:Ce("w-full justify-start text-left font-normal h-10",!E&&"text-muted-foreground"),disabled:V,children:[s.jsx(R_,{className:"mr-2 h-4 w-4"}),E?tt(E,"PPP",{locale:Ct}):s.jsx("span",{children:"Choisir une date"})]})}),s.jsx(GN,{className:"w-auto p-0",children:s.jsx(sS,{mode:"single",selected:E,onSelect:ae=>{R(ae||new Date),ce(!1)},initialFocus:!0,locale:Ct,disabled:ae=>ae>new Date})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"font-semibold",children:"Prix Normal"}),s.jsx(Ye,{id:"normal_price",name:"normal_price",type:"number",min:"0",step:"0.01",placeholder:"Prix normal du test (ex: 1000)",value:U,onChange:ae=>J(ae.target.value),disabled:V})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"font-semibold",children:"Prix Assurance"}),s.jsx(Ye,{id:"insurance_price",name:"insurance_price",type:"number",min:"0",step:"0.01",placeholder:"Prix avec assurance (ex: 800)",value:k,onChange:ae=>P(ae.target.value),disabled:V})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx($e,{htmlFor:"category-filter",children:"Catégorie"}),s.jsxs(Jn,{value:j??"all",onValueChange:ae=>N(ae==="all"?void 0:ae),children:[s.jsx(tr,{id:"category-filter",children:s.jsx(er,{placeholder:"Filtrer par catégorie"})}),s.jsxs(nr,{children:[s.jsx(xt,{value:"all",children:"Toutes les catégories"}),b.map(ae=>s.jsx(xt,{value:ae.id,children:ae.name},ae.id))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"font-semibold text-base",children:"Types de Tests Inclus"}),s.jsxs("div",{className:"relative",children:[s.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ye,{type:"search",placeholder:"Rechercher et ajouter un type de test...",value:z,onChange:ae=>H(ae.target.value),className:"pl-10 w-full md:w-1/2 h-9",disabled:v.length===0})]}),v.length>0?s.jsx("div",{className:"grid grid-cols-2 _sm:grid-cols-3 _md:grid-cols-4 gap-x-4 gap-y-3 rounded-md border p-4 max-h-80 overflow-y-auto",children:$.length>0?$.map(ae=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ua,{id:`test-type-${ae.id}`,checked:M.has(ae.id),onCheckedChange:de=>B(de,ae.id),disabled:V}),s.jsx("label",{htmlFor:`test-type-${ae.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:ae.name})]},ae.id)):s.jsx("p",{className:"col-span-full text-sm text-muted-foreground text-center py-4",children:"Aucun type de test ne correspond."})}):s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Aucun type de test configuré."})]}),M.size>0&&s.jsx(Wr,{}),Array.from(M.values()).map(ae=>s.jsxs("div",{className:"space-y-4 py-4 border-b last:border-b-0",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Gg,{className:"h-5 w-5 text-green-600"}),ae.name]}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:bg-destructive/10",onClick:()=>B(!1,ae.id),disabled:V,children:"Retirer ce Test"})]}),ae.loadingParams?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pl-7",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Y,{className:"h-5 w-20"}),s.jsx(Y,{className:"h-9 w-full"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Y,{className:"h-5 w-20"}),s.jsx(Y,{className:"h-9 w-full"})]})]}):ae.errorLoadingParams?s.jsxs(Ut,{variant:"destructive",className:"ml-7",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur Paramètres"}),s.jsx(Bt,{children:"Impossible de charger les paramètres pour ce test."})]}):ae.parameters.length>0?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-3 pl-7",children:[ae.parameters.filter(de=>de.isVisible!==!1).sort((de,Ae)=>(de.order??0)-(Ae.order??0)).map(de=>s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs($e,{htmlFor:`param-${de.id}`,className:"text-sm font-medium flex items-center gap-1",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:de.name}}),de.unit&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",de.unit,")"]})]}),s.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>se(ae.id,de.id),disabled:V,"aria-label":`Retirer ${de.name}`,children:s.jsx(xf,{className:"h-4 w-4"})})]}),s.jsx(Ye,{id:`param-${de.id}`,name:`param-${de.id}`,value:de.resultValue||"",onChange:Ae=>K(ae.id,de.id,Ae.target.value),placeholder:`Valeur ${de.reference_range?`(Réf: ${de.reference_range})`:""}`,disabled:V,className:"h-9"}),de.description&&s.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:de.description})]},de.id)),ae.parameters.every(de=>de.isVisible===!1)&&s.jsx("p",{className:"col-span-full text-sm text-muted-foreground italic",children:"Tous les paramètres pour ce test sont masqués."})]}):s.jsx("p",{className:"text-sm text-muted-foreground italic pl-7",children:"Aucun paramètre défini pour ce type de test."})]},ae.id))]}),s.jsxs(ls,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(te,{type:"submit",disabled:V||F,children:V?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Mise à jour...":"Enregistrement..."]}):a?"Mettre à jour le Résultat":"Enregistrer le Résultat"}),s.jsx(it,{to:fe,children:s.jsx(te,{type:"button",variant:"outline",disabled:V,children:"Annuler"})})]})]})]})]})};function $l({...e}){return s.jsx(Jg,{"data-slot":"dialog",...e})}function QU({...e}){return s.jsx(ev,{"data-slot":"dialog-portal",...e})}function aE({...e}){return s.jsx(Hc,{"data-slot":"dialog-close",...e})}function ZU({className:e,...t}){return s.jsx(tv,{"data-slot":"dialog-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Bl({className:e,children:t,...r}){return s.jsxs(QU,{"data-slot":"dialog-portal",children:[s.jsx(ZU,{}),s.jsxs(nv,{"data-slot":"dialog-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(Hc,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(xf,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Hl({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:Ce("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ql({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:Ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Fl({className:e,...t}){return s.jsx(J_,{"data-slot":"dialog-title",className:Ce("text-lg leading-none font-semibold",e),...t})}function iE({className:e,...t}){return s.jsx(eN,{"data-slot":"dialog-description",className:Ce("text-muted-foreground text-sm",e),...t})}const JU=()=>{const[e,t]=m.useState([]),[r,a]=m.useState([]),[l,c]=m.useState(!0),[u,f]=m.useState(null),[h,p]=m.useState(""),[v,x]=m.useState("all"),[b,w]=m.useState(!1),[j,N]=m.useState(null),_=qc(h,300),C=m.useCallback(async()=>{c(!0),f(null);try{const[M,T]=await Promise.all([ne.from("test_type").select(`
            id,
            name,
            created_at,
            updated_at,
            category:category_id (id, name)
          `).order("name",{ascending:!0}),ne.from("category").select("*").order("name",{ascending:!0})]);if(M.error)throw M.error;if(t(M.data||[]),T.error)throw T.error;a(T.data||[])}catch(M){console.error("Erreur lors de la récupération des données:",M),f((M==null?void 0:M.message)||"Une erreur est survenue lors du chargement."),t([]),a([])}finally{c(!1)}},[]);m.useEffect(()=>{C()},[C]);const E=m.useMemo(()=>{let M=e;if(v!=="all"&&(M=M.filter(T=>{var z;return((z=T.category)==null?void 0:z.id)===v})),_){const T=_.toLowerCase();M=M.filter(z=>z.name.toLowerCase().includes(T))}return M},[e,v,_]),R=async M=>{c(!0),f(null);try{const{error:T}=await ne.from("test_type").delete().eq("id",M);if(T)throw T;C()}catch(T){f((T==null?void 0:T.message)||"Erreur lors de la suppression.")}finally{c(!1),w(!1),N(null)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Ud,{className:"h-6 w-6"}),"Gestion des Types de Test"]}),s.jsx(it,{to:"/test-types/new",children:s.jsxs(te,{children:[s.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Ajouter un Type de Test"]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-64 space-y-1.5",children:[s.jsx($e,{htmlFor:"categoryFilter",className:"text-xs font-medium text-muted-foreground",children:"Filtrer par Catégorie"}),s.jsxs(Jn,{value:v,onValueChange:M=>x(M||"all"),disabled:l||r.length===0,children:[s.jsx(tr,{id:"categoryFilter",className:"h-10",children:s.jsx(er,{placeholder:"Toutes les catégories"})}),s.jsxs(nr,{children:[s.jsx(xt,{value:"all",children:"Toutes les catégories"}),r.map(M=>s.jsx(xt,{value:M.id,children:M.name},M.id))]})]})]}),s.jsxs("div",{className:"flex-1 space-y-1.5",children:[s.jsx($e,{htmlFor:"testTypeSearch",className:"text-xs font-medium text-muted-foreground",children:"Rechercher par Nom"}),s.jsxs("div",{className:"relative",children:[s.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ye,{id:"testTypeSearch",type:"search",placeholder:"Nom du type de test...",value:h,onChange:M=>p(M.target.value),className:"pl-10 h-10 w-full",disabled:l})]})]})]}),l&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(Y,{className:"h-12 w-full rounded-t-lg"})," ",s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"})]})]}),!l&&u&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsxs(Bt,{children:[u," ",s.jsx(te,{variant:"link",onClick:C,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!l&&!u&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{children:"Nom du Type de Test"}),s.jsx(ft,{className:"w-[250px]",children:"Catégorie"}),s.jsx(ft,{className:"text-right w-[150px]",children:"Actions"})]})}),s.jsx(ia,{children:E.length>0?E.map(M=>s.jsxs(Gt,{children:[s.jsx(Ke,{className:"font-medium",children:M.name}),s.jsx(Ke,{children:s.jsx("div",{className:"flex items-center gap-2",children:M.category?s.jsxs(s.Fragment,{children:[s.jsx(uc,{className:"h-4 w-4 text-muted-foreground"}),M.category.name]}):s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})})}),s.jsxs(Ke,{className:"text-right",children:[s.jsx(it,{to:`/test-types/${M.id}/edit`,children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Xr,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),s.jsx("span",{className:"sm:hidden",children:"Éditer"})]})}),s.jsxs(te,{variant:"destructive",size:"sm",className:"ml-2",title:"Supprimer",onClick:()=>{N(M.id),w(!0)},children:[s.jsx(dc,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Supprimer"}),s.jsx("span",{className:"sm:hidden",children:"Del"})]})]})]},M.id)):s.jsx(Gt,{children:s.jsx(Ke,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:h||v!=="all"?"Aucun type de test ne correspond à vos filtres.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(pf,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucun type de test défini."]})})})})]})}),s.jsx($l,{open:b,onOpenChange:w,children:s.jsxs(Bl,{children:[s.jsxs(Hl,{children:[s.jsx(Fl,{children:"Confirmer la suppression"}),s.jsx(iE,{children:"Êtes-vous sûr de vouloir supprimer ce type de test ? Cette action est irréversible."})]}),s.jsxs(ql,{children:[s.jsx(aE,{asChild:!0,children:s.jsx(te,{variant:"outline",children:"Annuler"})}),s.jsx(te,{variant:"destructive",onClick:()=>{j&&R(j)},disabled:l,children:"Supprimer"})]})]})})]})},Gn=[];for(let e=0;e<256;++e)Gn.push((e+256).toString(16).slice(1));function e$(e,t=0){return(Gn[e[t+0]]+Gn[e[t+1]]+Gn[e[t+2]]+Gn[e[t+3]]+"-"+Gn[e[t+4]]+Gn[e[t+5]]+"-"+Gn[e[t+6]]+Gn[e[t+7]]+"-"+Gn[e[t+8]]+Gn[e[t+9]]+"-"+Gn[e[t+10]]+Gn[e[t+11]]+Gn[e[t+12]]+Gn[e[t+13]]+Gn[e[t+14]]+Gn[e[t+15]]).toLowerCase()}let jp;const t$=new Uint8Array(16);function n$(){if(!jp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");jp=crypto.getRandomValues.bind(crypto)}return jp(t$)}const r$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zw={randomUUID:r$};function Jw(e,t,r){var l;if(Zw.randomUUID&&!e)return Zw.randomUUID();e=e||{};const a=e.random??((l=e.rng)==null?void 0:l.call(e))??n$();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,e$(a)}function Cc({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:Ce("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const ej=()=>{const{testTypeId:e}=yr(),t=or(),r=!!e,[a,l]=m.useState(""),[c,u]=m.useState(""),[f,h]=m.useState(void 0),[p,v]=m.useState([]),[x,b]=m.useState([]),[w,j]=m.useState(null),[N,_]=m.useState([]),[C,E]=m.useState(!0),[R,M]=m.useState(!1),[T,z]=m.useState(null),H=m.useCallback(async()=>{E(!0),z(null),v([]),_([]),j(null),l(""),u(""),h(void 0);try{const{data:re,error:I}=await ne.from("category").select("*").order("name");if(I)throw I;if(b(re||[]),r&&e){const{data:oe,error:ce}=await ne.from("test_type").select("*").eq("id",e).single();if(ce)throw ce;if(!oe)throw new Error("Type de test non trouvé.");const{data:D,error:X}=await ne.from("test_parameter").select("*").eq("test_type_id",e).order("name");if(X)throw X;j(oe),l(oe.name),u(oe.description||""),h(oe.category_id);const U=(D||[]).map(J=>({...J,tempId:J.id||Jw()}));v(U),_(JSON.parse(JSON.stringify(U)))}}catch(re){console.error("Erreur chargement données:",re),z(re.message||"Impossible de charger les données.")}finally{E(!1)}},[r,e]);m.useEffect(()=>{H()},[H]);const F=(re,I,oe)=>{v(ce=>ce.map(D=>D.tempId===re?{...D,[I]:I==="order"?Number(oe):oe}:D))},G=()=>{const re=p.reduce((oe,ce)=>Math.max(oe,ce.order??0),0),I={tempId:Jw(),name:"",unit:"",reference_range:"",description:"",order:re+1,id:void 0,test_type_id:void 0};v(oe=>[...oe,I])},V=re=>{v(I=>I.filter(oe=>oe.tempId!==re))},ue=async re=>{if(re.preventDefault(),z(null),!a.trim()){z("Le nom du type de test est requis.");return}if(!f){z("Veuillez sélectionner une catégorie.");return}const I=p.find(oe=>{var ce;return!((ce=oe.name)!=null&&ce.trim())});if(I){z(`Le nom est requis pour tous les paramètres (problème avec paramètre temporaire ID ${I.tempId}).`);return}M(!0);try{let oe=e;const ce={name:a.trim(),category_id:f,description:c.trim()||null};if(r){const{error:P}=await ne.from("test_type").update(ce).eq("id",oe);if(P)throw P}else{const{data:P,error:q}=await ne.from("test_type").insert(ce).select("id").single();if(q)throw q;if(!(P!=null&&P.id))throw new Error("Impossible d'obtenir l'ID du nouveau type de test.");oe=P.id}const D=new Map(p.map(P=>[P.tempId,P])),X=new Map(N.map(P=>[P.tempId,P])),U=[],J=[],k=[];if(N.forEach(P=>{!D.has(P.tempId)&&P.id&&U.push(P.id)}),p.forEach(P=>{const q=X.get(P.tempId),W={test_type_id:oe,name:P.name,unit:P.unit||null,reference_range:P.reference_range||null,description:P.description||null,order:P.order??0};if(q!=null&&q.id){const O={test_type_id:q.test_type_id||oe,name:q.name,unit:q.unit||null,reference_range:q.reference_range||null,description:q.description||null,order:q.order??0};JSON.stringify(W)!==JSON.stringify(O)&&k.push({id:q.id,...W})}else J.push(W)}),U.length>0){console.log("Deleting parameters:",U);const{error:P}=await ne.from("test_parameter").delete().in("id",U);if(P)throw new Error(`Erreur suppression paramètres: ${P.message}`)}if(J.length>0){console.log("Inserting parameters:",J);const{error:P}=await ne.from("test_parameter").insert(J);if(P)throw new Error(`Erreur insertion paramètres: ${P.message}`)}if(k.length>0){console.log("Updating parameters:",k);const{error:P}=await ne.from("test_parameter").upsert(k);if(P)throw new Error(`Erreur mise à jour paramètres: ${P.message}`)}console.log("Save successful"),t("/test-types")}catch(oe){console.error("Erreur sauvegarde type de test:",oe),z(oe.message||`Une erreur est survenue lors de ${r?"la mise à jour":"l'enregistrement"}.`)}finally{M(!1)}};return C?s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"})," ",s.jsxs(Se,{children:[s.jsxs(Re,{children:[" ",s.jsx(Y,{className:"h-6 w-1/2"})," ",s.jsx(Y,{className:"h-4 w-3/4"})," "]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsx(Wr,{}),s.jsx(Y,{className:"h-6 w-1/3"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y,{className:"h-20 w-full"}),s.jsx(Y,{className:"h-20 w-full"})]}),s.jsx(Y,{className:"h-9 w-36"})]}),s.jsx(ls,{children:s.jsx(Y,{className:"h-10 w-32"})})]})]}):s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:"/test-types",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),s.jsx("form",{onSubmit:ue,children:s.jsxs(Se,{className:"shadow-md",children:[s.jsxs(Re,{children:[s.jsxs(vt,{className:"text-xl font-semibold flex items-center gap-2",children:[r?s.jsx(Ud,{className:"h-5 w-5"}):s.jsx(Ud,{className:"h-5 w-5"}),r?"Modifier le Type de Test":"Ajouter un Type de Test"]}),s.jsx(gr,{children:"Définissez le nom, la catégorie et les paramètres pour ce type de test."})]}),s.jsxs(Ee,{className:"space-y-6",children:[T&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{className:"whitespace-pre-line",children:T})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs($e,{htmlFor:"testTypeName",className:"font-semibold",children:["Nom du Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ye,{id:"testTypeName",value:a,onChange:re=>l(re.target.value),placeholder:"Ex: Numération Formule Sanguine",disabled:R,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"testTypeDescription",className:"font-semibold",children:"Description"}),s.jsx(Cc,{id:"testTypeDescription",value:c,onChange:re=>u(re.target.value),placeholder:"Description du type de test, instructions de préparation, etc.",disabled:R,rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs($e,{htmlFor:"category",className:"font-semibold",children:["Catégorie ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Jn,{value:f,onValueChange:re=>h(re),disabled:R||x.length===0,required:!0,children:[s.jsx(tr,{id:"category",className:"h-10",children:s.jsx(er,{placeholder:"Sélectionner une catégorie..."})}),s.jsxs(nr,{children:[x.map(re=>s.jsx(xt,{value:re.id,children:re.name},re.id)),x.length===0&&s.jsx(xt,{value:"-",disabled:!0,children:"Aucune catégorie"})]})]})]})]}),s.jsx(Wr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Paramètres Associés"}),p.length>0&&s.jsx("div",{className:"space-y-4",children:p.map((re,I)=>s.jsxs(Se,{className:"bg-muted/30 p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[s.jsxs($e,{htmlFor:`param-name-${re.tempId}`,className:"text-sm",children:["Nom du Paramètre"," ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ye,{id:`param-name-${re.tempId}`,value:re.name||"",onChange:oe=>F(re.tempId,"name",oe.target.value),placeholder:"Ex: Hémoglobine",disabled:R,required:!0,className:"bg-background h-9"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:`param-unit-${re.tempId}`,className:"text-sm",children:"Unité"}),s.jsx(Ye,{id:`param-unit-${re.tempId}`,value:re.unit||"",onChange:oe=>F(re.tempId,"unit",oe.target.value),placeholder:"Ex: g/dL",disabled:R,className:"bg-background h-9"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:`param-ref-${re.tempId}`,className:"text-sm",children:"Valeurs de Référence"}),s.jsx(Ye,{id:`param-ref-${re.tempId}`,value:re.reference_range||"",onChange:oe=>F(re.tempId,"reference_range",oe.target.value),placeholder:"Ex: 12.0 - 16.0",disabled:R,className:"bg-background h-9"})]}),s.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[s.jsx($e,{htmlFor:`param-desc-${re.tempId}`,className:"text-sm",children:"Description (Optionnel)"}),s.jsx(Cc,{id:`param-desc-${re.tempId}`,value:re.description||"",onChange:oe=>F(re.tempId,"description",oe.target.value),placeholder:"Explication du paramètre ou des valeurs...",disabled:R,className:"bg-background",rows:2})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:`param-order-${re.tempId}`,className:"text-sm",children:"Ordre"}),s.jsx(Ye,{id:`param-order-${re.tempId}`,value:re.order||"",onChange:oe=>F(re.tempId,"order",oe.target.value),type:"number",disabled:R,className:"bg-background h-9"})]})]}),s.jsx("div",{className:"mt-3 text-right",children:s.jsxs(te,{type:"button",variant:"destructive",size:"sm",onClick:()=>V(re.tempId),disabled:R,className:"h-8 px-2 py-1 text-xs",children:[s.jsx(Bc,{className:"h-3.5 w-3.5 mr-1"}),"Retirer Param. #",I+1]})})]},re.tempId))}),p.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground italic text-center py-4",children:"Aucun paramètre défini pour ce type de test."}),s.jsxs(te,{type:"button",variant:"outline",onClick:G,disabled:R,className:"mt-4",children:[s.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Ajouter un Paramètre"]})]})]}),s.jsxs(ls,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(te,{type:"submit",disabled:R||C,children:R?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"mr-2 h-4 w-4"}),r?"Enregistrer les Modifications":"Enregistrer le Type de Test"]})}),s.jsx(it,{to:"/test-types",children:s.jsx(te,{type:"button",variant:"outline",disabled:R,children:"Annuler"})})]})]})})]})},tj=()=>{const{doctorId:e}=yr(),t=or(),r=!!e,[a,l]=m.useState({full_name:"",phone:"",hospital:"",bio:""}),[c,u]=m.useState(r),[f,h]=m.useState(!1),[p,v]=m.useState(null),x=m.useCallback(async()=>{if(!r||!e){u(!1);return}u(!0),v(null);try{const{data:j,error:N}=await ne.from("doctor").select("*").eq("id",e).single();if(N)throw N;if(!j)throw new Error("Médecin non trouvé.");l({full_name:j.full_name||"",phone:j.phone||"",hospital:j.hospital||"",bio:j.bio||""})}catch(j){console.error("Erreur chargement médecin:",j),j instanceof Error?v(j.message||"Impossible de charger les données du médecin."):v("Une erreur inconnue est survenue.")}finally{u(!1)}},[r,e]);m.useEffect(()=>{x()},[x]);const b=j=>{const{name:N,value:_}=j.target;l(C=>({...C,[N]:_}))},w=async j=>{var N,_,C;if(j.preventDefault(),v(null),!a.full_name||!a.full_name.trim()){v("Le nom complet du médecin est requis.");return}h(!0);try{const E={full_name:a.full_name.trim(),phone:((N=a.phone)==null?void 0:N.trim())||null,hospital:((_=a.hospital)==null?void 0:_.trim())||null,bio:((C=a.bio)==null?void 0:C.trim())||null};let R=null;if(r){const{error:M}=await ne.from("doctor").update(E).eq("id",e);R=M}else{const{error:M}=await ne.from("doctor").insert(E);R=M}if(R)if(R.code==="23505")v("Un médecin avec ces informations (ex: nom) existe peut-être déjà.");else throw R;else t("/doctors")}catch(E){console.error(`Erreur ${r?"mise à jour":"création"} médecin:`,E),E instanceof Error?v(E.message||`Une erreur est survenue lors de ${r?"la mise à jour":"l'enregistrement"}.`):v(`Une erreur inconnue est survenue lors de ${r?"la mise à jour":"l'enregistrement"}.`)}finally{h(!1)}};return c?s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"})," ",s.jsxs(Se,{children:[s.jsxs(Re,{children:[" ",s.jsx(Y,{className:"h-6 w-1/2"})," ",s.jsx(Y,{className:"h-4 w-3/4"})," "]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-10 w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-20 w-full"})]})]}),s.jsx(ls,{children:s.jsx(Y,{className:"h-10 w-32"})})]})]}):s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:"/doctors",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour à la liste"]})})}),s.jsx("form",{onSubmit:w,children:s.jsxs(Se,{className:"shadow-md",children:[s.jsxs(Re,{children:[s.jsxs(vt,{className:"text-xl font-semibold flex items-center gap-2",children:[r?s.jsx(Xr,{className:"h-5 w-5"}):s.jsx(D_,{className:"h-5 w-5"}),r?"Modifier le Médecin":"Ajouter un Nouveau Médecin"]}),s.jsx(gr,{children:r?"Mettez à jour les informations du médecin.":"Entrez les informations du nouveau médecin."})]}),s.jsxs(Ee,{className:"space-y-6",children:[p&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{className:"whitespace-pre-line",children:p})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs($e,{htmlFor:"full_name",className:"font-semibold",children:["Nom Complet ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ye,{id:"full_name",name:"full_name",value:a.full_name||"",onChange:b,placeholder:"Ex: Dr. Alain Dupont",disabled:f,required:!0,className:"h-10"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"phone",className:"font-semibold",children:"Téléphone"}),s.jsx(Ye,{id:"phone",name:"phone",type:"tel",value:a.phone||"",onChange:b,placeholder:"Ex: +33 6 11 22 33 44",disabled:f,className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"hospital",className:"font-semibold",children:"Hôpital / Clinique"}),s.jsx(Ye,{id:"hospital",name:"hospital",value:a.hospital||"",onChange:b,placeholder:"Ex: Hôpital Central",disabled:f,className:"h-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"bio",className:"font-semibold",children:"Bio / Notes (Optionnel)"}),s.jsx(Cc,{id:"bio",name:"bio",value:a.bio||"",onChange:b,placeholder:"Spécialité, notes importantes...",disabled:f,rows:4})]})]}),s.jsxs(ls,{className:"border-t px-6 py-4 flex justify-between",children:[s.jsx(te,{type:"submit",disabled:f||c,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"mr-2 h-4 w-4"}),r?"Enregistrer les Modifications":"Enregistrer le Médecin"]})}),s.jsx(it,{to:"/doctors",children:s.jsx(te,{type:"button",variant:"outline",disabled:f,children:"Annuler"})})]})]})})]})},s$=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!0),[l,c]=m.useState(null),[u,f]=m.useState(null),[h,p]=m.useState(!1),[v,x]=m.useState(!1),[b,w]=m.useState(null),[j,N]=m.useState({name:""}),[_,C]=m.useState(null),E=m.useCallback(async(F=!0)=>{F&&a(!0),c(null);try{const{data:G,error:V}=await ne.from("category").select("*").order("name",{ascending:!0});if(V)throw V;t(G||[])}catch(G){console.error("Erreur chargement catégories:",G),G instanceof Error?c(G.message||"Impossible de charger les catégories."):c("Impossible de charger les catégories."),t([])}finally{F&&a(!1)}},[]);m.useEffect(()=>{E()},[E]);const R=(F=null)=>{w(F),N({name:(F==null?void 0:F.name)||""}),f(null),x(!0)},M=()=>{x(!1),setTimeout(()=>{w(null),N({name:""})},150)},T=F=>{N({name:F.target.value})},z=async F=>{if(F.preventDefault(),f(null),!j.name||!j.name.trim()){f("Le nom de la catégorie est requis.");return}p(!0);const G={name:j.name.trim()};try{let V=null;if(b){const{error:ue}=await ne.from("category").update(G).eq("id",b.id);V=ue}else{const{error:ue}=await ne.from("category").insert(G);V=ue}if(V)if(V.code==="23505")f("Ce nom de catégorie existe déjà.");else throw V;else M(),await E(!1)}catch(V){console.error("Erreur sauvegarde catégorie:",V),V instanceof Error?f(V.message||"Une erreur est survenue."):f("Une erreur est survenue.")}finally{p(!1)}},H=async()=>{if(_){p(!0),c(null);try{const{error:F}=await ne.from("category").delete().eq("id",_.id);if(F)if(F.code==="23503")c(`Impossible de supprimer la catégorie "${_.name}" car elle est utilisée par un ou plusieurs types de test.`),C(null);else throw F;else C(null),await E(!1)}catch(F){console.error("Erreur suppression catégorie:",F),F instanceof Error?c(F.message||"Une erreur est survenue lors de la suppression."):c("Une erreur est survenue lors de la suppression."),C(null)}finally{p(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(uc,{className:"h-6 w-6"}),"Gestion des Catégories"]}),s.jsxs(te,{onClick:()=>R(null),children:[s.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Ajouter une Catégorie"]})]}),l&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{children:l})]}),r&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(Y,{className:"h-12 w-full rounded-t-lg"})," ",s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"})]})]}),!r&&!l&&s.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{children:"Nom de la Catégorie"}),s.jsx(ft,{className:"text-right w-[200px]",children:"Actions"})]})}),s.jsx(ia,{children:e.length>0?e.map(F=>s.jsxs(Gt,{children:[s.jsx(Ke,{className:"font-medium",children:F.name}),s.jsxs(Ke,{className:"text-right space-x-2",children:[s.jsx(te,{variant:"outline",size:"sm",onClick:()=>R(F),children:s.jsx(Xr,{className:"h-4 w-4"})}),s.jsx(wc,{children:s.jsx(wf,{asChild:!0,children:s.jsx(te,{variant:"destructive",size:"sm",onClick:G=>{G.stopPropagation(),C(F)},children:s.jsx(Bc,{className:"h-4 w-4"})})})})]})]},F.id)):s.jsx(Gt,{children:s.jsx(Ke,{colSpan:2,className:"h-24 text-center text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx(pf,{className:"h-8 w-8 text-muted-foreground/50"}),"Aucune catégorie définie."]})})})})]})}),s.jsx($l,{open:v,onOpenChange:x,children:s.jsx(Bl,{className:"sm:max-w-[425px]",children:s.jsxs("form",{onSubmit:z,children:[s.jsxs(Hl,{children:[s.jsx(Fl,{children:b?"Modifier la Catégorie":"Ajouter une Catégorie"}),s.jsx(iE,{children:b?"Modifiez le nom de la catégorie ci-dessous.":"Entrez le nom de la nouvelle catégorie."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[u&&s.jsxs(Ut,{variant:"destructive",className:"text-xs",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{children:u})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs($e,{htmlFor:"category-name",className:"text-right col-span-1",children:["Nom ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ye,{id:"category-name",name:"name",value:j.name,onChange:T,className:"col-span-3 h-9",disabled:h,required:!0,autoFocus:!0})]})]}),s.jsxs(ql,{children:[s.jsx(aE,{asChild:!0,children:s.jsx(te,{type:"button",variant:"outline",disabled:h,children:"Annuler"})}),s.jsxs(te,{type:"submit",disabled:h,children:[h&&s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),b?"Enregistrer Modifications":"Ajouter Catégorie"]})]})]})})}),s.jsx(wc,{open:!!_,onOpenChange:F=>!F&&C(null),children:s.jsxs(jf,{children:[s.jsxs(_f,{children:[s.jsx(Sf,{children:"Êtes-vous sûr(e) ?"}),s.jsxs(Ef,{children:["Cette action est irréversible. Voulez-vous vraiment supprimer la catégorie",s.jsxs("span",{className:"font-medium",children:[' "',_==null?void 0:_.name,'"']})," ?",s.jsx("br",{}),s.jsx("span",{className:"text-destructive/80 font-medium",children:"Attention :"})," ","La suppression échouera si des types de test utilisent encore cette catégorie."]})]}),s.jsxs(Nf,{children:[s.jsx(Cf,{disabled:h,onClick:()=>C(null),children:"Annuler"}),s.jsxs(te,{variant:"destructive",onClick:H,disabled:h,children:[h&&s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Supprimer"]})]})]})})]})};function a$(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const i$=e=>{switch(e){case"success":return c$;case"info":return d$;case"warning":return u$;case"error":return f$;default:return null}},l$=Array(12).fill(0),o$=({visible:e,className:t})=>xe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},xe.createElement("div",{className:"sonner-spinner"},l$.map((r,a)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),c$=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),u$=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),d$=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),f$=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),h$=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),m$=()=>{const[e,t]=xe.useState(document.hidden);return xe.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let lg=1;class p${constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:a,...l}=t,c=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:lg++,u=this.toasts.find(h=>h.id===c),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(h=>h.id===c?(this.publish({...h,...t,id:c,title:a}),{...h,...t,id:c,dismissible:f,title:a}):h):this.addToast({title:a,...l,dismissible:f,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const l=Promise.resolve(t instanceof Function?t():t);let c=a!==void 0,u;const f=l.then(async p=>{if(u=["resolve",p],xe.isValidElement(p))c=!1,this.create({id:a,type:"default",message:p});else if(v$(p)&&!p.ok){c=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,b=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,j=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:a,type:"error",description:b,...j})}else if(p instanceof Error){c=!1;const x=typeof r.error=="function"?await r.error(p):r.error,b=typeof r.description=="function"?await r.description(p):r.description,j=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:a,type:"error",description:b,...j})}else if(r.success!==void 0){c=!1;const x=typeof r.success=="function"?await r.success(p):r.success,b=typeof r.description=="function"?await r.description(p):r.description,j=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:a,type:"success",description:b,...j})}}).catch(async p=>{if(u=["reject",p],r.error!==void 0){c=!1;const v=typeof r.error=="function"?await r.error(p):r.error,x=typeof r.description=="function"?await r.description(p):r.description,w=typeof v=="object"&&!xe.isValidElement(v)?v:{message:v};this.create({id:a,type:"error",description:x,...w})}}).finally(()=>{c&&(this.dismiss(a),a=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((p,v)=>f.then(()=>u[0]==="reject"?v(u[1]):p(u[1])).catch(v));return typeof a!="string"&&typeof a!="number"?{unwrap:h}:Object.assign(a,{unwrap:h})},this.custom=(t,r)=>{const a=(r==null?void 0:r.id)||lg++;return this.create({jsx:t(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pr=new p$,g$=(e,t)=>{const r=(t==null?void 0:t.id)||lg++;return pr.addToast({title:e,...t,id:r}),r},v$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",x$=g$,y$=()=>pr.toasts,b$=()=>pr.getActiveToasts(),_p=Object.assign(x$,{success:pr.success,info:pr.info,warning:pr.warning,error:pr.error,custom:pr.custom,message:pr.message,promise:pr.promise,dismiss:pr.dismiss,loading:pr.loading},{getHistory:y$,getToasts:b$});a$("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function jd(e){return e.label!==void 0}const w$=3,j$="24px",_$="16px",nj=4e3,N$=356,S$=14,E$=45,C$=200;function ys(...e){return e.filter(Boolean).join(" ")}function R$(e){const[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}const T$=e=>{var t,r,a,l,c,u,f,h,p;const{invert:v,toast:x,unstyled:b,interacting:w,setHeights:j,visibleToasts:N,heights:_,index:C,toasts:E,expanded:R,removeToast:M,defaultRichColors:T,closeButton:z,style:H,cancelButtonStyle:F,actionButtonStyle:G,className:V="",descriptionClassName:ue="",duration:re,position:I,gap:oe,expandByDefault:ce,classNames:D,icons:X,closeButtonAriaLabel:U="Close toast"}=e,[J,k]=xe.useState(null),[P,q]=xe.useState(null),[W,O]=xe.useState(!1),[$,B]=xe.useState(!1),[K,se]=xe.useState(!1),[ge,fe]=xe.useState(!1),[ae,de]=xe.useState(!1),[Ae,Le]=xe.useState(0),[ke,_e]=xe.useState(0),He=xe.useRef(x.duration||re||nj),we=xe.useRef(null),Te=xe.useRef(null),Qe=C===0,et=C+1<=N,Ne=x.type,Ve=x.dismissible!==!1,Rt=x.className||"",Mn=x.descriptionClassName||"",on=xe.useMemo(()=>_.findIndex(De=>De.toastId===x.id)||0,[_,x.id]),Sn=xe.useMemo(()=>{var De;return(De=x.closeButton)!=null?De:z},[x.closeButton,z]),rn=xe.useMemo(()=>x.duration||re||nj,[x.duration,re]),sn=xe.useRef(0),xn=xe.useRef(0),Ot=xe.useRef(0),ye=xe.useRef(null),[Pe,qe]=I.split("-"),nt=xe.useMemo(()=>_.reduce((De,pt,lt)=>lt>=on?De:De+pt.height,0),[_,on]),Ge=m$(),Ht=x.invert||v,an=Ne==="loading";xn.current=xe.useMemo(()=>on*oe+nt,[on,nt]),xe.useEffect(()=>{He.current=rn},[rn]),xe.useEffect(()=>{O(!0)},[]),xe.useEffect(()=>{const De=Te.current;if(De){const pt=De.getBoundingClientRect().height;return _e(pt),j(lt=>[{toastId:x.id,height:pt,position:x.position},...lt]),()=>j(lt=>lt.filter(bt=>bt.toastId!==x.id))}},[j,x.id]),xe.useLayoutEffect(()=>{if(!W)return;const De=Te.current,pt=De.style.height;De.style.height="auto";const lt=De.getBoundingClientRect().height;De.style.height=pt,_e(lt),j(bt=>bt.find(Pt=>Pt.toastId===x.id)?bt.map(Pt=>Pt.toastId===x.id?{...Pt,height:lt}:Pt):[{toastId:x.id,height:lt,position:x.position},...bt])},[W,x.title,x.description,j,x.id]);const yt=xe.useCallback(()=>{B(!0),Le(xn.current),j(De=>De.filter(pt=>pt.toastId!==x.id)),setTimeout(()=>{M(x)},C$)},[x,M,j,xn]);xe.useEffect(()=>{if(x.promise&&Ne==="loading"||x.duration===1/0||x.type==="loading")return;let De;return R||w||Ge?(()=>{if(Ot.current<sn.current){const bt=new Date().getTime()-sn.current;He.current=He.current-bt}Ot.current=new Date().getTime()})():(()=>{He.current!==1/0&&(sn.current=new Date().getTime(),De=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),yt()},He.current))})(),()=>clearTimeout(De)},[R,w,x,Ne,Ge,yt]),xe.useEffect(()=>{x.delete&&yt()},[yt,x.delete]);function Bn(){var De;if(X!=null&&X.loading){var pt;return xe.createElement("div",{className:ys(D==null?void 0:D.loader,x==null||(pt=x.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Ne==="loading"},X.loading)}return xe.createElement(o$,{className:ys(D==null?void 0:D.loader,x==null||(De=x.classNames)==null?void 0:De.loader),visible:Ne==="loading"})}const hn=x.icon||(X==null?void 0:X[Ne])||i$(Ne);var rt,ot;return xe.createElement("li",{tabIndex:0,ref:Te,className:ys(V,Rt,D==null?void 0:D.toast,x==null||(t=x.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Ne],x==null||(r=x.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(rt=x.richColors)!=null?rt:T,"data-styled":!(x.jsx||x.unstyled||b),"data-mounted":W,"data-promise":!!x.promise,"data-swiped":ae,"data-removed":$,"data-visible":et,"data-y-position":Pe,"data-x-position":qe,"data-index":C,"data-front":Qe,"data-swiping":K,"data-dismissible":Ve,"data-type":Ne,"data-invert":Ht,"data-swipe-out":ge,"data-swipe-direction":P,"data-expanded":!!(R||ce&&W),style:{"--index":C,"--toasts-before":C,"--z-index":E.length-C,"--offset":`${$?Ae:xn.current}px`,"--initial-height":ce?"auto":`${ke}px`,...H,...x.style},onDragEnd:()=>{se(!1),k(null),ye.current=null},onPointerDown:De=>{an||!Ve||(we.current=new Date,Le(xn.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(se(!0),ye.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,pt,lt;if(ge||!Ve)return;ye.current=null;const bt=Number(((De=Te.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ln=Number(((pt=Te.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pt=new Date().getTime()-((lt=we.current)==null?void 0:lt.getTime()),ht=J==="x"?bt:ln,En=Math.abs(ht)/Pt;if(Math.abs(ht)>=E$||En>.11){Le(xn.current),x.onDismiss==null||x.onDismiss.call(x,x),q(J==="x"?bt>0?"right":"left":ln>0?"down":"up"),yt(),fe(!0);return}else{var qt,Qt;(qt=Te.current)==null||qt.style.setProperty("--swipe-amount-x","0px"),(Qt=Te.current)==null||Qt.style.setProperty("--swipe-amount-y","0px")}de(!1),se(!1),k(null)},onPointerMove:De=>{var pt,lt,bt;if(!ye.current||!Ve||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;const Pt=De.clientY-ye.current.y,ht=De.clientX-ye.current.x;var En;const qt=(En=e.swipeDirections)!=null?En:R$(I);!J&&(Math.abs(ht)>1||Math.abs(Pt)>1)&&k(Math.abs(ht)>Math.abs(Pt)?"x":"y");let Qt={x:0,y:0};const wr=An=>1/(1.5+Math.abs(An)/20);if(J==="y"){if(qt.includes("top")||qt.includes("bottom"))if(qt.includes("top")&&Pt<0||qt.includes("bottom")&&Pt>0)Qt.y=Pt;else{const An=Pt*wr(Pt);Qt.y=Math.abs(An)<Math.abs(Pt)?An:Pt}}else if(J==="x"&&(qt.includes("left")||qt.includes("right")))if(qt.includes("left")&&ht<0||qt.includes("right")&&ht>0)Qt.x=ht;else{const An=ht*wr(ht);Qt.x=Math.abs(An)<Math.abs(ht)?An:ht}(Math.abs(Qt.x)>0||Math.abs(Qt.y)>0)&&de(!0),(lt=Te.current)==null||lt.style.setProperty("--swipe-amount-x",`${Qt.x}px`),(bt=Te.current)==null||bt.style.setProperty("--swipe-amount-y",`${Qt.y}px`)}},Sn&&!x.jsx&&Ne!=="loading"?xe.createElement("button",{"aria-label":U,"data-disabled":an,"data-close-button":!0,onClick:an||!Ve?()=>{}:()=>{yt(),x.onDismiss==null||x.onDismiss.call(x,x)},className:ys(D==null?void 0:D.closeButton,x==null||(a=x.classNames)==null?void 0:a.closeButton)},(ot=X==null?void 0:X.close)!=null?ot:h$):null,(Ne||x.icon||x.promise)&&x.icon!==null&&((X==null?void 0:X[Ne])!==null||x.icon)?xe.createElement("div",{"data-icon":"",className:ys(D==null?void 0:D.icon,x==null||(l=x.classNames)==null?void 0:l.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Bn():null,x.type!=="loading"?hn:null):null,xe.createElement("div",{"data-content":"",className:ys(D==null?void 0:D.content,x==null||(c=x.classNames)==null?void 0:c.content)},xe.createElement("div",{"data-title":"",className:ys(D==null?void 0:D.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?xe.createElement("div",{"data-description":"",className:ys(ue,Mn,D==null?void 0:D.description,x==null||(f=x.classNames)==null?void 0:f.description)},typeof x.description=="function"?x.description():x.description):null),xe.isValidElement(x.cancel)?x.cancel:x.cancel&&jd(x.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||F,onClick:De=>{jd(x.cancel)&&Ve&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,De),yt())},className:ys(D==null?void 0:D.cancelButton,x==null||(h=x.classNames)==null?void 0:h.cancelButton)},x.cancel.label):null,xe.isValidElement(x.action)?x.action:x.action&&jd(x.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||G,onClick:De=>{jd(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,De),!De.defaultPrevented&&yt())},className:ys(D==null?void 0:D.actionButton,x==null||(p=x.classNames)==null?void 0:p.actionButton)},x.action.label):null)};function rj(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function M$(e,t){const r={};return[e,t].forEach((a,l)=>{const c=l===1,u=c?"--mobile-offset":"--offset",f=c?_$:j$;function h(p){["top","right","bottom","left"].forEach(v=>{r[`${u}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof a=="number"||typeof a=="string"?h(a):typeof a=="object"?["top","right","bottom","left"].forEach(p=>{a[p]===void 0?r[`${u}-${p}`]=f:r[`${u}-${p}`]=typeof a[p]=="number"?`${a[p]}px`:a[p]}):h(f)}),r}const A$=xe.forwardRef(function(t,r){const{invert:a,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:f,className:h,offset:p,mobileOffset:v,theme:x="light",richColors:b,duration:w,style:j,visibleToasts:N=w$,toastOptions:_,dir:C=rj(),gap:E=S$,icons:R,containerAriaLabel:M="Notifications"}=t,[T,z]=xe.useState([]),H=xe.useMemo(()=>Array.from(new Set([l].concat(T.filter(P=>P.position).map(P=>P.position)))),[T,l]),[F,G]=xe.useState([]),[V,ue]=xe.useState(!1),[re,I]=xe.useState(!1),[oe,ce]=xe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=xe.useRef(null),X=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=xe.useRef(null),J=xe.useRef(!1),k=xe.useCallback(P=>{z(q=>{var W;return(W=q.find(O=>O.id===P.id))!=null&&W.delete||pr.dismiss(P.id),q.filter(({id:O})=>O!==P.id)})},[]);return xe.useEffect(()=>pr.subscribe(P=>{if(P.dismiss){requestAnimationFrame(()=>{z(q=>q.map(W=>W.id===P.id?{...W,delete:!0}:W))});return}setTimeout(()=>{Sj.flushSync(()=>{z(q=>{const W=q.findIndex(O=>O.id===P.id);return W!==-1?[...q.slice(0,W),{...q[W],...P},...q.slice(W+1)]:[P,...q]})})})}),[T]),xe.useEffect(()=>{if(x!=="system"){ce(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ce("dark"):ce("light")),typeof window>"u")return;const P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:q})=>{ce(q?"dark":"light")})}catch{P.addListener(({matches:W})=>{try{ce(W?"dark":"light")}catch(O){console.error(O)}})}},[x]),xe.useEffect(()=>{T.length<=1&&ue(!1)},[T]),xe.useEffect(()=>{const P=q=>{var W;if(c.every(B=>q[B]||q.code===B)){var $;ue(!0),($=D.current)==null||$.focus()}q.code==="Escape"&&(document.activeElement===D.current||(W=D.current)!=null&&W.contains(document.activeElement))&&ue(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[c]),xe.useEffect(()=>{if(D.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,J.current=!1)}},[D.current]),xe.createElement("section",{ref:r,"aria-label":`${M} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((P,q)=>{var W;const[O,$]=P.split("-");return T.length?xe.createElement("ol",{key:P,dir:C==="auto"?rj():C,tabIndex:-1,ref:D,className:h,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":O,"data-lifted":V&&T.length>1&&!u,"data-x-position":$,style:{"--front-toast-height":`${((W=F[0])==null?void 0:W.height)||0}px`,"--width":`${N$}px`,"--gap":`${E}px`,...j,...M$(p,v)},onBlur:B=>{J.current&&!B.currentTarget.contains(B.relatedTarget)&&(J.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||J.current||(J.current=!0,U.current=B.relatedTarget)},onMouseEnter:()=>ue(!0),onMouseMove:()=>ue(!0),onMouseLeave:()=>{re||ue(!1)},onDragEnd:()=>ue(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},T.filter(B=>!B.position&&q===0||B.position===P).map((B,K)=>{var se,ge;return xe.createElement(T$,{key:B.id,icons:R,index:K,toast:B,defaultRichColors:b,duration:(se=_==null?void 0:_.duration)!=null?se:w,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:a,visibleToasts:N,closeButton:(ge=_==null?void 0:_.closeButton)!=null?ge:f,interacting:re,position:P,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,closeButtonAriaLabel:_==null?void 0:_.closeButtonAriaLabel,removeToast:k,toasts:T.filter(fe=>fe.position==B.position),heights:F.filter(fe=>fe.position==B.position),setHeights:G,expandByDefault:u,gap:E,expanded:V,swipeDirections:t.swipeDirections})})):null}))});var kv="Progress",Dv=100,[k$,nH]=cr(kv),[D$,O$]=k$(kv),lE=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:l,getValueLabel:c=P$,...u}=e;(l||l===0)&&!sj(l)&&console.error(L$(`${l}`,"Progress"));const f=sj(l)?l:Dv;a!==null&&!aj(a,f)&&console.error(I$(`${a}`,"Progress"));const h=aj(a,f)?a:null,p=Wd(h)?c(h,f):void 0;return s.jsx(D$,{scope:r,value:h,max:f,children:s.jsx(Je.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Wd(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":uE(h,f),"data-value":h??void 0,"data-max":f,...u,ref:t})})});lE.displayName=kv;var oE="ProgressIndicator",cE=m.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,l=O$(oE,r);return s.jsx(Je.div,{"data-state":uE(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...a,ref:t})});cE.displayName=oE;function P$(e,t){return`${Math.round(e/t*100)}%`}function uE(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Wd(e){return typeof e=="number"}function sj(e){return Wd(e)&&!isNaN(e)&&e>0}function aj(e,t){return Wd(e)&&!isNaN(e)&&e<=t&&e>=0}function L$(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Dv}\`.`}function I$(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Dv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var z$=lE,U$=cE;function $$({className:e,value:t,...r}){return s.jsx(z$,{"data-slot":"progress",className:Ce("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:s.jsx(U$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var Ov="Radio",[B$,dE]=cr(Ov),[H$,q$]=B$(Ov),fE=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:a,checked:l=!1,required:c,disabled:u,value:f="on",onCheck:h,form:p,...v}=e,[x,b]=m.useState(null),w=Nt(t,_=>b(_)),j=m.useRef(!1),N=x?p||!!x.closest("form"):!0;return s.jsxs(H$,{scope:r,checked:l,disabled:u,children:[s.jsx(Je.button,{type:"button",role:"radio","aria-checked":l,"data-state":pE(l),"data-disabled":u?"":void 0,disabled:u,value:f,...v,ref:w,onClick:Me(e.onClick,_=>{l||h==null||h(),N&&(j.current=_.isPropagationStopped(),j.current||_.stopPropagation())})}),N&&s.jsx(F$,{control:x,bubbles:!j.current,name:a,value:f,checked:l,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});fE.displayName=Ov;var hE="RadioIndicator",mE=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:a,...l}=e,c=q$(hE,r);return s.jsx(Dr,{present:a||c.checked,children:s.jsx(Je.span,{"data-state":pE(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:t})})});mE.displayName=hE;var F$=e=>{const{control:t,checked:r,bubbles:a=!0,...l}=e,c=m.useRef(null),u=bv(r),f=Pg(t);return m.useEffect(()=>{const h=c.current,p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==r&&x){const b=new Event("click",{bubbles:a});x.call(h,r),h.dispatchEvent(b)}},[u,r,a]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:c,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pE(e){return e?"checked":"unchecked"}var V$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pv="RadioGroup",[Y$,rH]=cr(Pv,[uf,dE]),gE=uf(),vE=dE(),[G$,W$]=Y$(Pv),xE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:a,defaultValue:l,value:c,required:u=!1,disabled:f=!1,orientation:h,dir:p,loop:v=!0,onValueChange:x,...b}=e,w=gE(r),j=tf(p),[N,_]=$a({prop:c,defaultProp:l,onChange:x});return s.jsx(G$,{scope:r,name:a,required:u,disabled:f,value:N,onValueChange:_,children:s.jsx(I1,{asChild:!0,...w,orientation:h,dir:j,loop:v,children:s.jsx(Je.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":f?"":void 0,dir:j,...b,ref:t})})})});xE.displayName=Pv;var yE="RadioGroupItem",bE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:a,...l}=e,c=W$(yE,r),u=c.disabled||a,f=gE(r),h=vE(r),p=m.useRef(null),v=Nt(t,p),x=c.value===l.value,b=m.useRef(!1);return m.useEffect(()=>{const w=N=>{V$.includes(N.key)&&(b.current=!0)},j=()=>b.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",j)}},[]),s.jsx(z1,{asChild:!0,...f,focusable:!u,active:x,children:s.jsx(fE,{disabled:u,required:c.required,checked:x,...h,...l,name:c.name,ref:v,onCheck:()=>c.onValueChange(l.value),onKeyDown:Me(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Me(l.onFocus,()=>{var w;b.current&&((w=p.current)==null||w.click())})})})});bE.displayName=yE;var X$="RadioGroupIndicator",wE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...a}=e,l=vE(r);return s.jsx(mE,{...l,...a,ref:t})});wE.displayName=X$;var K$=xE,Q$=bE,Z$=wE;function J$({className:e,...t}){return s.jsx(K$,{"data-slot":"radio-group",className:Ce("grid gap-3",e),...t})}function eB({className:e,...t}){return s.jsx(Q$,{"data-slot":"radio-group-item",className:Ce("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Z$,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(jP,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const tB={logoUrl:null,labName:"Laboratoire XYZ",addressLine1:"123 Rue Principale",cityPostalCode:"75001 Paris",phone:"01 23 45 67 89"},nB=({templates:e,selectedTemplateId:t,onSelectTemplate:r,disabled:a=!1})=>s.jsx(J$,{value:t,onValueChange:r,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",disabled:a,children:e.map(l=>s.jsxs($e,{htmlFor:l.id,className:Ce("border-2 rounded-lg p-4 flex flex-col items-center gap-4 cursor-pointer transition-colors hover:border-primary/80",t===l.id&&"border-primary ring-2 ring-primary ring-offset-2",a&&"cursor-not-allowed opacity-50"),children:[s.jsx(eB,{value:l.id,id:l.id,className:"sr-only"}),s.jsx("span",{className:"font-medium text-sm text-center",children:l.name}),s.jsxs(Se,{className:"w-full scale-75 origin-top border-dashed",children:[" ",s.jsx(Ee,{className:"p-2",children:s.jsx(l.component,{data:tB,isPreview:!0})})]})]},l.id))}),rB="public",sB="header-logo",Np=[{id:"template1",name:"Classique (Sans Logo)",component:rr},{id:"template2",name:"Centré (Logo au Dessus)",component:Qa},{id:"template3",name:"Centré (encercle)",component:Za},{id:"template4",name:"Centré (encercle en %)",component:Ja}],Sp="template1",aB=()=>{var ce;const[e,t]=m.useState(null),[r,a]=m.useState({}),[l,c]=m.useState(null),[u,f]=m.useState(Sp),[h,p]=m.useState(null),[v,x]=m.useState(null),[b,w]=m.useState(!1),[j,N]=m.useState(null),[_,C]=m.useState(null),[E,R]=m.useState(!0),[M,T]=m.useState(!1),[z,H]=m.useState(null),F=m.useCallback(async()=>{R(!0),H(null);try{const{data:D,error:X}=await ne.from("print_header_config").select("*").limit(1).maybeSingle();if(X)throw X;D?(t(D.id),a({lab_name:D.lab_name,address_line1:D.address_line1,address_line2:D.address_line2,city_postal_code:D.city_postal_code,phone:D.phone,email:D.email,website:D.website}),c(D.logo_url),f(D.selected_template||Sp)):(t(null),a({}),c(null),f(Sp))}catch(D){console.error("Erreur chargement configuration:",D),H(D instanceof Error?D.message:"Impossible de charger la configuration de l'en-tête.")}finally{R(!1)}},[]);m.useEffect(()=>{F()},[F]);const G=D=>{const{name:X,value:U}=D.target;a(J=>({...J,[X]:U}))},V=D=>{var U;const X=(U=D.target.files)==null?void 0:U[0];if(h&&(URL.revokeObjectURL(h),p(null)),X){x(X),C(null);const J=URL.createObjectURL(X);p(J)}else x(null)};m.useEffect(()=>()=>{h&&URL.revokeObjectURL(h)},[h]);const ue=async()=>{var D;if(!v)return l;w(!0),C(null),N(0);try{const X=((D=v.name.split(".").pop())==null?void 0:D.toLowerCase())||"png",U=`${rB}/${sB}.${X}`,{error:J}=await ne.storage.from("logos").upload(U,v,{cacheControl:"3600",upsert:!0});if(J)throw J;const{data:k}=ne.storage.from("logos").getPublicUrl(U);if(!(k!=null&&k.publicUrl))throw new Error("Impossible d'obtenir l'URL publique du logo.");const P=`${k.publicUrl}?t=${new Date().getTime()}`;return c(P),x(null),h&&(URL.revokeObjectURL(h),p(null)),P}catch(X){console.error("Erreur upload logo:",X);const U=X instanceof Error?X.message:"Échec de l'upload du logo.";return C(U),_p.error("Erreur Upload Logo",{description:U}),l}finally{w(!1),N(null)}},re=async D=>{var X,U,J,k,P,q,W;D.preventDefault(),H(null),C(null),T(!0);try{let O=l;if(v&&(O=await ue(),!O||_)){H(_||"L'upload du logo a échoué. Veuillez réessayer."),T(!1);return}const $={lab_name:((X=r.lab_name)==null?void 0:X.trim())||null,address_line1:((U=r.address_line1)==null?void 0:U.trim())||null,address_line2:((J=r.address_line2)==null?void 0:J.trim())||null,city_postal_code:((k=r.city_postal_code)==null?void 0:k.trim())||null,phone:((P=r.phone)==null?void 0:P.trim())||null,email:((q=r.email)==null?void 0:q.trim())||null,website:((W=r.website)==null?void 0:W.trim())||null,logo_url:O,selected_template:u};let B=null,K=null;if(e){const{data:se,error:ge}=await ne.from("print_header_config").update($).eq("id",e).select().single();B=ge,K=se}else{const{data:se,error:ge}=await ne.from("print_header_config").insert($).select().single();B=ge,K=se,K!=null&&K.id&&t(K.id)}if(B)throw B;_p.success("Configuration Enregistrée",{description:"L'en-tête d'impression a été mis à jour avec succès.",duration:3e3})}catch(O){console.error("Erreur sauvegarde configuration:",O);const $=O instanceof Error?O.message:"Une erreur est survenue lors de l'enregistrement.";H($),_p.error("Erreur Sauvegarde",{description:$})}finally{T(!1)}},I=m.useMemo(()=>{var D;return((D=Np.find(X=>X.id===u))==null?void 0:D.component)||rr},[u]),oe=m.useMemo(()=>({logoUrl:h||l,labName:r.lab_name,addressLine1:r.address_line1,addressLine2:r.address_line2,cityPostalCode:r.city_postal_code,phone:r.phone,email:r.email,website:r.website}),[r,l,h]);return E?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(Y,{className:"h-8 w-3/4 mb-4"}),s.jsx(Y,{className:"h-32 w-full"})," ",s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/2"})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx(Y,{className:"h-9 w-full"}),s.jsx(Y,{className:"h-9 w-full"}),s.jsx(Y,{className:"h-9 w-full"})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/2"})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx(Y,{className:"h-16 w-32 mx-auto"}),s.jsx(Y,{className:"h-9 w-full"})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/2"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-24 w-full"})})]}),s.jsx(Y,{className:"h-10 w-36 ml-auto"})," "]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(is,{className:"h-6 w-6"}),"Configuration En-tête Impression/PDF"]}),z&&!M&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[z," ",s.jsx(te,{variant:"link",onClick:F,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),s.jsxs("form",{onSubmit:re,className:"space-y-6",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsxs(vt,{className:"flex items-center gap-2",children:[s.jsx(LP,{className:"h-5 w-5"})," Modèle d'En-tête"]}),s.jsx(gr,{children:"Choisissez la disposition de l'en-tête pour vos rapports."})]}),s.jsx(Ee,{children:s.jsx(nB,{templates:Np,selectedTemplateId:u,onSelectTemplate:f,disabled:M||b})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(vt,{children:"Informations du Laboratoire"}),s.jsx(gr,{children:"Ces informations apparaîtront dans l'en-tête choisi."})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:"lab_name",children:"Nom du Laboratoire"}),s.jsx(Ye,{id:"lab_name",name:"lab_name",value:r.lab_name||"",onChange:G,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:"address_line1",children:"Adresse Ligne 1"}),s.jsx(Ye,{id:"address_line1",name:"address_line1",value:r.address_line1||"",onChange:G,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:"address_line2",children:"Adresse Ligne 2"}),s.jsx(Ye,{id:"address_line2",name:"address_line2",value:r.address_line2||"",onChange:G,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:"city_postal_code",children:"Ville & Code Postal"}),s.jsx(Ye,{id:"city_postal_code",name:"city_postal_code",value:r.city_postal_code||"",onChange:G,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:"phone",children:"Téléphone"}),s.jsx(Ye,{id:"phone",name:"phone",type:"tel",value:r.phone||"",onChange:G,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:"email",children:"E-mail"}),s.jsx(Ye,{id:"email",name:"email",type:"email",value:r.email||"",onChange:G,disabled:M})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx($e,{htmlFor:"website",children:"Site Web"}),s.jsx(Ye,{id:"website",name:"website",type:"url",value:r.website||"",onChange:G,disabled:M})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(vt,{children:"Logo du Laboratoire"})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx($e,{children:"Aperçu Actuel / Nouveau"}),s.jsxs(Ac,{className:"h-20 w-20 rounded-md border",children:[s.jsx(ef,{src:h||l||void 0,alt:"Logo",className:"object-contain"}),s.jsx(kc,{className:"rounded-md text-muted-foreground",children:s.jsx(gf,{})})]}),s.jsxs($e,{htmlFor:"logo-upload",className:Ce(Ol({variant:"outline"}),"cursor-pointer w-full",b||M&&"cursor-not-allowed opacity-50"),children:[" ",s.jsx(n3,{className:"mr-2 h-4 w-4"})," ",v?"Changer le logo...":"Choisir un logo..."," "]}),s.jsx(Ye,{id:"logo-upload",type:"file",accept:"image/png, image/jpeg, image/gif, image/svg+xml",onChange:V,className:"hidden",disabled:b||M}),v&&!b&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fichier : ",v.name]}),b&&s.jsx($$,{value:j,className:"w-full h-2"}),_&&!b&&s.jsxs(Ut,{variant:"destructive",className:"text-xs",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur Upload Précédente"}),s.jsx(Bt,{children:_})]})]})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsxs(vt,{children:["Aperçu de l'En-tête (Modèle:"," ",((ce=Np.find(D=>D.id===u))==null?void 0:ce.name)||u,")"]}),s.jsx(gr,{children:"Ceci est une prévisualisation basée sur le modèle sélectionné et les informations saisies."})]}),s.jsx(Ee,{children:s.jsx(I,{data:oe,isPreview:!0})})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(te,{type:"submit",disabled:M||b,children:[M?s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Ll,{className:"mr-2 h-4 w-4"}),"Enregistrer la Configuration"]})})]})]})},iB={pending:"default",approved:"warning",paid:"success"},lB={pending:"En attente",approved:"Approuvé",paid:"Payé"},Ep=10,oB=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!0),[l,c]=m.useState(null),[u,f]=m.useState(""),[h,p]=m.useState(1),[v,x]=m.useState(0),b=qc(u,300),[w,j]=m.useState(null),[N,_]=m.useState(!1),[C,E]=m.useState(null),[R,M]=m.useState(()=>!sessionStorage.getItem("ristourne_access_granted")),[T,z]=m.useState(""),[H,F]=m.useState(null),[G,V]=m.useState(null),[ue,re]=m.useState(!0);m.useEffect(()=>{(async()=>{re(!0);const{data:W,error:O}=await ne.from("settings").select("ristourne_access_code").limit(1).single();!O&&W&&W.ristourne_access_code?V(W.ristourne_access_code):V(null),re(!1)})()},[]);const I=q=>{q.preventDefault(),T===G?(M(!1),z(""),F(null),sessionStorage.setItem("ristourne_access_granted","1")):F("Code incorrect. Veuillez réessayer.")},oe=async()=>{a(!0),c(null);try{const{count:q}=await ne.from("ristourne").select("id",{count:"exact",head:!0});x(q||0);const W=(h-1)*Ep,O=W+Ep-1,{data:$,error:B}=await ne.from("ristourne").select(`
          *,
          doctor:doctor_id (
            id,
            full_name,
            hospital
          )
        `).order("created_date",{ascending:!1}).range(W,O);if(B)throw B;t($||[])}catch(q){console.error("Erreur lors de la récupération des ristournes:",q),c((q instanceof Error?q.message:"")||"Une erreur est survenue lors du chargement des ristournes."),t([])}finally{a(!1)}};m.useEffect(()=>{oe()},[h]);const ce=m.useMemo(()=>{let q=e;if(b){const W=b.toLowerCase();q=e.filter(O=>{var $,B;return(($=O.doctor)==null?void 0:$.full_name.toLowerCase().includes(W))||((B=O.doctor)==null?void 0:B.hospital)&&O.doctor.hospital.toLowerCase().includes(W)})}return q.slice().sort((W,O)=>new Date(O.created_date).getTime()-new Date(W.created_date).getTime())},[e,b]),D=Math.ceil(v/Ep),X=h>1,U=h<D,J=q=>new Date(q).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),k=q=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(q),P=async()=>{if(w){_(!0),E(null);try{const{error:q}=await ne.from("ristourne").delete().eq("id",w.id);if(q)throw q;j(null),oe()}catch(q){E(q.message||"Erreur lors de la suppression")}finally{_(!1)}}};return s.jsxs(s.Fragment,{children:[s.jsx($l,{open:R,children:s.jsxs(Bl,{className:"max-w-[350px]",children:[s.jsx(Hl,{children:s.jsx(Fl,{children:"Code d'accès requis"})}),s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsx(Ye,{type:"password",placeholder:"Entrer le code d'accès",value:T,onChange:q=>z(q.target.value),disabled:ue,autoFocus:!0}),H&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{children:H})]}),s.jsx(ql,{children:s.jsx(te,{type:"submit",disabled:ue||!T,children:ue?"Chargement...":"Valider"})})]})]})}),!R&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(C_,{className:"h-6 w-6"}),"Gestion des Ristournes"]}),s.jsx(it,{to:"/ristournes/new",children:s.jsxs(te,{children:[s.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Nouvelle Ristourne"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ye,{type:"search",placeholder:"Rechercher par médecin ou hôpital...",value:u,onChange:q=>f(q.target.value),className:"pl-10 w-full md:w-1/3 h-10",disabled:r})]}),r&&s.jsxs("div",{className:"border rounded-lg",children:[s.jsx(Y,{className:"h-12 w-full rounded-t-lg"}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"})]})]}),!r&&l&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur de Chargement"}),s.jsxs(Bt,{children:[l," ",s.jsx(te,{variant:"link",onClick:oe,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]}),!r&&!l&&s.jsxs("div",{className:"border rounded-lg overflow-hidden bg-background",children:[s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{children:"Date"}),s.jsx(ft,{children:"Médecin"}),s.jsx(ft,{children:"Hôpital"}),s.jsx(ft,{children:"Montant Total"}),s.jsx(ft,{children:"Statut"}),s.jsx(ft,{className:"text-right",children:"Actions"})]})}),s.jsx(ia,{children:ce.length>0?ce.map(q=>{var W,O;return s.jsxs(Gt,{children:[s.jsx(Ke,{children:J(q.created_date)}),s.jsx(Ke,{className:"font-medium",children:(W=q.doctor)==null?void 0:W.full_name}),s.jsx(Ke,{children:((O=q.doctor)==null?void 0:O.hospital)||s.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})}),s.jsx(Ke,{children:k(q.total_fee)}),s.jsx(Ke,{children:s.jsx(os,{variant:iB[q.status],children:lB[q.status]})}),s.jsxs(Ke,{className:"text-right",children:[s.jsx(it,{to:`/ristournes/${q.id}`,children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Xr,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Modifier"}),s.jsx("span",{className:"sm:hidden",children:"Éditer"})]})}),s.jsxs(te,{variant:"destructive",size:"sm",className:"ml-2",onClick:()=>j(q),disabled:N,children:[s.jsx(Bc,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Supprimer"}),s.jsx("span",{className:"sm:hidden",children:"Del"})]})]})]},q.id)}):s.jsx(Gt,{children:s.jsx(Ke,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:u?"Aucune ristourne ne correspond à votre recherche.":s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[s.jsx("p",{children:"Aucune ristourne n'a été créée."}),s.jsx(it,{to:"/ristournes/new",children:s.jsxs(te,{variant:"link",className:"gap-2",children:[s.jsx(Fa,{className:"h-4 w-4"}),"Créer une ristourne"]})})]})})})})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 px-2 border-t bg-muted text-xs",children:[s.jsxs("div",{children:["Page ",h," sur ",D]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(te,{size:"sm",variant:"outline",onClick:()=>p(h-1),disabled:!X,children:"Précédent"}),s.jsx(te,{size:"sm",variant:"outline",onClick:()=>p(h+1),disabled:!U,children:"Suivant"})]}),s.jsxs("div",{children:[v," résultats"]})]})]}),s.jsx($l,{open:!!w,onOpenChange:()=>j(null),children:s.jsxs(Bl,{children:[s.jsx(Hl,{children:s.jsx(Fl,{children:"Confirmer la suppression"})}),s.jsxs("div",{children:["Voulez-vous vraiment supprimer cette ristourne ? Cette action est irréversible.",C&&s.jsxs(Ut,{variant:"destructive",className:"mt-2",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{children:C})]})]}),s.jsxs(ql,{children:[s.jsx(te,{variant:"outline",onClick:()=>j(null),disabled:N,children:"Annuler"}),s.jsx(te,{variant:"destructive",onClick:P,loading:N,children:"Supprimer"})]})]})})]})]})},ij=()=>{const e=or(),{ristourneId:t}=yr(),r=!!t,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(40),[p,v]=m.useState(100),[x,b]=m.useState(!1),[w,j]=m.useState([]),[N,_]=m.useState(""),[C,E]=m.useState(0),[R,M]=m.useState("pending"),[T,z]=m.useState([]),[H,F]=m.useState(!0),[G,V]=m.useState(!1),[ue,re]=m.useState(null),I=[{value:"pending",label:"En attente"},{value:"paid",label:"Payé"}];m.useEffect(()=>{(async()=>{try{const{data:B,error:K}=await ne.from("doctor").select("*");if(K){re("Erreur lors du chargement des médecins"),console.error("Error fetching doctors:",K);return}if(z(B||[]),r&&t){const{data:se,error:ge}=await ne.from("ristourne").select(`
              *,
              doctor:doctor_id(*),
              ristourne_patient_result(
                *,
                patient_result:patient_result_id(
                  *,
                  patient:patient_id(*)
                )
              )
            `).eq("id",t).single();if(ge){re("Erreur lors du chargement de la ristourne"),console.error("Error fetching ristourne:",ge);return}if(se){l(se.doctor),_(se.notes||""),E(se.total_fee),M(se.status);const fe=se.ristourne_patient_result.map(ae=>({...ae.patient_result,calculatedFee:ae.fee_amount,isSelected:!0,isSelectedInitial:!0,patient:ae.patient_result.patient}));if(j(fe),se.doctor){const{data:ae}=await ne.from("doctor_fee_config").select("*").eq("doctor_id",se.doctor.id).order("effective_date",{ascending:!1}).limit(1).single();ae&&(u(ae),h(ae.normal_price_percentage),v(ae.insurance_price_percentage),await U(se.doctor.id,ae,fe))}}}}catch(B){console.error("Error:",B),re("Une erreur est survenue lors du chargement des données")}finally{F(!1)}})()},[r,t]);const oe=($,B)=>{const K=$.normal_price?$.normal_price*B.normal_price_percentage/100:0,se=$.insurance_price?$.insurance_price*B.insurance_price_percentage/100:0;return Math.round(K+se)},ce=m.useCallback(($,B)=>{if(!B)return $;const K=$.map(ge=>({...ge,calculatedFee:oe(ge,B)})),se=K.filter(ge=>ge.isSelected).reduce((ge,fe)=>ge+fe.calculatedFee,0);return E(se),K},[]),D=($,B)=>{j(K=>{const se=K.map(ge=>ge.id===$?{...ge,isSelected:B}:ge);if(c){const ge=se.filter(fe=>fe.isSelected).reduce((fe,ae)=>fe+ae.calculatedFee,0);E(ge)}return se})},X=async()=>{if(a){b(!0);try{const $={doctor_id:a.id,normal_price_percentage:f,insurance_price_percentage:p,effective_date:new Date().toISOString()},{data:B,error:K}=await ne.from("doctor_fee_config").insert($).select().single();if(K)throw K;u(B),j(se=>ce(se,B)),await U(a.id,B,w.filter(se=>se.isSelected))}catch($){console.error("Error saving fee config:",$),re($.message||"Une erreur est survenue lors de la sauvegarde de la configuration")}finally{b(!1)}}},U=async($,B,K)=>{let se=[];K&&K.length>0&&(se=K.map(_e=>_e.id));let ge=[];if(r&&t){const{data:_e,error:He}=await ne.from("ristourne_patient_result").select("patient_result_id, ristourne(status, id)");!He&&Array.isArray(_e)&&(ge=_e.filter(we=>we.ristourne&&["paid","pending"].includes(we.ristourne.status)&&we.ristourne.id!==t).map(we=>we.patient_result_id))}else{const{data:_e,error:He}=await ne.from("ristourne_patient_result").select("patient_result_id, ristourne(status)");!He&&Array.isArray(_e)&&(ge=_e.filter(we=>we.ristourne&&["paid","pending"].includes(we.ristourne.status)).map(we=>we.patient_result_id))}let fe=ne.from("patient_result").select("*, patient:patient_id(*)");if(se.length>0?(fe=fe.or(`paid_status.eq.unpaid,or(paid_status.eq.paid,id.in.(${se.join(",")}))`),fe=fe.eq("doctor_id",$)):fe=fe.eq("doctor_id",$).eq("paid_status","unpaid"),ge.length>0){const _e=ge.filter(He=>!se.includes(He));_e.length>0&&(fe=fe.not("id","in",`(${_e.join(",")})`))}const{data:ae,error:de}=await fe;if(de){re("Erreur lors du chargement des résultats"),console.error("Error fetching patient results:",de);return}const Ae=new Map((K==null?void 0:K.map(_e=>[_e.id,_e]))||[]),Le=(ae||[]).map(_e=>{const He=Ae.get(_e.id);return{..._e,calculatedFee:(He==null?void 0:He.calculatedFee)||oe(_e,B),isSelected:!!He}});j(Le);const ke=Le.filter(_e=>_e.isSelected).reduce((_e,He)=>_e+He.calculatedFee,0);E(ke)};m.useEffect(()=>{a?(async B=>{const{data:K,error:se}=await ne.from("doctor_fee_config").select("*").eq("doctor_id",B).order("effective_date",{ascending:!1}).limit(1).single();if(se&&se.code!=="PGRST116"){re("Erreur lors du chargement de la configuration des frais"),console.error("Error fetching doctor fee config:",se);return}K?(u(K),h(K.normal_price_percentage),v(K.insurance_price_percentage),await U(B,K,w)):(u(null),h(40),v(100),j([]))})(a.id):(u(null),j([]),E(0))},[a]);const J=$=>{const B=T.find(K=>K.id===$);l(B||null)},k=$=>{M($)},P=async $=>{if($.preventDefault(),!a){re("Veuillez sélectionner un médecin");return}const B=w.filter(K=>K.isSelected);V(!0),re(null);try{if(r){const fe=w.filter(ae=>ae.isSelectedInitial).map(ae=>ae.id).filter(ae=>!B.some(de=>de.id===ae));fe.length>0&&await ne.from("patient_result").update({paid_status:"unpaid"}).in("id",fe)}const{data:K,error:se}=await ne.rpc("handle_ristourne_upsert",{p_ristourne_id:t||null,p_doctor_id:a.id,p_notes:N,p_total_fee:C,p_status:R,p_patient_results:B.map(ge=>({patient_result_id:ge.id,fee_amount:ge.calculatedFee}))});if(se)throw se;e("/ristournes",{state:{message:`Ristourne ${r?"modifiée":"créée"} avec succès.`}})}catch(K){console.error("Error saving ristourne:",K),re(K.message||"Une erreur est survenue lors de la sauvegarde")}finally{V(!1)}};m.useEffect(()=>{r&&w.length>0&&j($=>$.map(B=>({...B,isSelectedInitial:B.isSelectedInitial??B.isSelected})))},[r,w.length]);const q=w.length>0&&w.every($=>$.isSelected),W=w.some($=>$.isSelected),O=$=>{if(j(B=>B.map(K=>({...K,isSelected:$}))),c){const B=w.map(K=>({...K,isSelected:$})).filter(K=>K.isSelected).reduce((K,se)=>K+se.calculatedFee,0);E(B)}};return H?s.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{className:"h-10 w-10"}),s.jsx(Y,{className:"h-10 w-40"})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-8 w-3/4"}),s.jsx(Y,{className:"h-4 w-1/2"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-10 w-full"}),s.jsx(Y,{className:"h-32 w-full"})]})]})]}):s.jsxs("div",{className:"ristourne-print-root container mx-auto p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsx(te,{variant:"outline",size:"icon",onClick:()=>e("/ristournes"),children:s.jsx(Nn,{className:"h-4 w-4"})}),s.jsxs("h1",{className:"text-2xl font-bold",children:[r?"Modifier":"Nouvelle"," Ristourne"]}),s.jsx(te,{variant:"default",className:"ml-auto",onClick:()=>window.print(),children:"Imprimer"})]}),ue&&s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsx(Bt,{children:ue})]}),s.jsxs("div",{className:"ristourne-print-summary  hidden print:block",children:[s.jsxs("h1",{children:["Ristourne: ",(a==null?void 0:a.full_name)||"-"]}),s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Patient"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Prix"}),s.jsx("th",{children:"Prix AMO"}),s.jsx("th",{children:"Montant"})]})}),s.jsx("tbody",{children:w.filter($=>$.isSelected&&$.paid_status==="paid").length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,children:"Aucun résultat payé sélectionné"})}):w.filter($=>$.isSelected&&$.paid_status==="paid").map($=>{var B,K;return s.jsxs("tr",{children:[s.jsx("td",{children:$.patient.full_name}),s.jsx("td",{children:$.result_date?tt(new Date($.result_date),"dd/MM/yyyy"):""}),s.jsxs("td",{children:[(B=$.normal_price)==null?void 0:B.toLocaleString()," "]}),s.jsxs("td",{children:[(K=$.insurance_price)==null?void 0:K.toLocaleString()," "]}),s.jsxs("td",{children:[$.calculatedFee.toLocaleString()," "]})]},$.id)})})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs(os,{variant:"secondary",className:"text-lg px-4 py-2",children:["Total: ",C.toLocaleString()," FCFA"]})})]}),s.jsxs("form",{className:"ristourne-print-area print:hidden",onSubmit:P,children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(vt,{children:"Sélection du Médecin"}),s.jsx(gr,{children:"Sélectionnez le médecin pour lequel vous souhaitez créer une ristourne"})]}),s.jsx(Ee,{children:s.jsxs(Jn,{value:a==null?void 0:a.id,onValueChange:J,disabled:G,children:[s.jsx(tr,{children:s.jsx(er,{placeholder:"Sélectionner un médecin..."})}),s.jsx(nr,{children:T.map($=>s.jsx(xt,{value:$.id,children:$.full_name},$.id))})]})})]}),a&&s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(vt,{children:"Configuration des Frais"}),s.jsx(gr,{children:c?"Modifier la configuration des frais du médecin":"Créer une nouvelle configuration des frais pour le médecin"})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"normalPrice",children:"Pourcentage Prix Normal"}),s.jsx(Ye,{id:"normalPrice",type:"number",min:"0",max:"100",value:f,onChange:$=>h(Number($.target.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{htmlFor:"insurancePrice",children:"Pourcentage Prix Assurance"}),s.jsx(Ye,{id:"insurancePrice",type:"number",min:"0",max:"100",value:p,onChange:$=>v(Number($.target.value))})]})]})}),s.jsx(ls,{children:s.jsxs(te,{type:"button",onClick:X,disabled:x,children:[x&&s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(Ll,{className:"mr-2 h-4 w-4"}),c?"Mettre à jour":"Enregistrer"]})})]}),a&&c&&s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(vt,{children:"Sélection des Résultats"}),s.jsx(gr,{children:"Sélectionnez les résultats à inclure dans la ristourne"})]}),s.jsxs(Ee,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{className:"w-12",children:s.jsx(Ua,{checked:q,indeterminate:W&&!q,onCheckedChange:$=>O(!!$),disabled:G||w.length===0,"aria-label":"Tout sélectionner"})}),s.jsx(ft,{children:"Patient"}),s.jsx(ft,{children:"Date"}),s.jsx(ft,{children:"Prix Normal"}),s.jsx(ft,{children:"Prix Assurance"}),s.jsx(ft,{className:"text-right",children:"Frais Calculés"})]})}),s.jsx(ia,{children:w.length===0?s.jsx(Gt,{children:s.jsx(Ke,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucun résultat non payé trouvé pour ce médecin"})}):w.map($=>{var B,K;return s.jsxs(Gt,{children:[s.jsx(Ke,{children:s.jsx(Ua,{checked:$.isSelected,onCheckedChange:se=>D($.id,se),disabled:G})}),s.jsx(Ke,{children:$.patient.full_name}),s.jsx(Ke,{children:$.result_date?tt(new Date($.result_date),"dd/MM/yyyy"):""}),s.jsxs(Ke,{children:[(B=$.normal_price)==null?void 0:B.toLocaleString()," FCFA"]}),s.jsxs(Ke,{children:[(K=$.insurance_price)==null?void 0:K.toLocaleString()," FCFA"]}),s.jsxs(Ke,{className:"text-right font-medium",children:[$.calculatedFee.toLocaleString()," FCFA"]})]},$.id)})})]})}),s.jsx("div",{className:"mt-4 flex justify-end items-center gap-2 print:block",children:s.jsxs(os,{variant:"secondary",className:"text-lg px-4 py-2",children:["Total: ",C.toLocaleString()," FCFA"]})})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(vt,{children:"Statut"}),s.jsx(gr,{children:"Sélectionnez le statut de la ristourne"})]}),s.jsx(Ee,{children:s.jsxs(Jn,{value:R,onValueChange:k,children:[s.jsx(tr,{children:s.jsx(er,{placeholder:"Sélectionner un statut"})}),s.jsx(nr,{children:I.map($=>s.jsx(xt,{value:$.value,children:$.label},$.value))})]})})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(vt,{children:"Notes"}),s.jsx(gr,{children:"Ajoutez des notes ou commentaires optionnels"})]}),s.jsx(Ee,{children:s.jsx(Cc,{value:N,onChange:$=>_($.target.value),placeholder:"Notes ou commentaires...",disabled:G})})]}),s.jsx(Se,{children:s.jsxs(ls,{className:"flex justify-end space-x-4",children:[s.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/ristournes"),disabled:G,children:"Annuler"}),s.jsxs(te,{type:"submit",disabled:G||!c,children:[G&&s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(Ll,{className:"mr-2 h-4 w-4"}),"Enregistrer"]})]})})]})]})},cB=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(""),[l,c]=m.useState("category"),[u,f]=m.useState(!1),[h,p]=m.useState(null),[v,x]=m.useState(null),b=async()=>{f(!0),p(null);const{data:N,error:_}=await ne.from("skip_range_check").select("id, value, type").order("type").order("value");!_&&N?t(N):p("Erreur lors du chargement des valeurs."),f(!1)};m.useEffect(()=>{b()},[]);const w=async N=>{if(N.preventDefault(),!r.trim())return;f(!0),p(null);const{error:_}=await ne.from("skip_range_check").insert({value:r.trim(),type:l});_?p("Erreur lors de l'ajout."):(a(""),b()),f(!1)},j=async N=>{f(!0),p(null);const{error:_}=await ne.from("skip_range_check").delete().eq("id",N);_?p("Erreur lors de la suppression."):b(),f(!1)};return s.jsx("div",{className:"max-w-xl mx-auto mt-10",children:s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(vt,{children:"Gestion des valeurs à ignorer pour le contrôle des plages"})}),s.jsxs(Ee,{children:[s.jsxs("form",{onSubmit:w,className:"flex gap-2 mb-6",children:[s.jsx(Ye,{placeholder:"Nom de la catégorie ou du test type",value:r,onChange:N=>a(N.target.value),disabled:u,required:!0}),s.jsxs(Jn,{value:l,onValueChange:N=>c(N),children:[s.jsx(tr,{className:"w-32",children:s.jsx(er,{})}),s.jsxs(nr,{children:[s.jsx(xt,{value:"category",children:"Catégorie"}),s.jsx(xt,{value:"test_type",children:"Test Type"})]})]}),s.jsx(te,{type:"submit",disabled:u,children:"Ajouter"})]}),h&&s.jsx("div",{className:"text-red-500 mb-2",children:h}),u?s.jsx("div",{children:"Chargement…"}):s.jsx("ul",{className:"space-y-2",children:e.map(({id:N,value:_,type:C})=>s.jsxs("li",{className:"flex items-center justify-between border-b pb-2",children:[s.jsxs("span",{children:[s.jsxs("span",{className:"font-semibold",children:[C==="category"?"Catégorie":"Test Type",":"]})," ",_]}),s.jsxs(wc,{children:[s.jsx(wf,{asChild:!0,children:s.jsx(te,{variant:"destructive",size:"sm",disabled:u,onClick:()=>x(N),children:"Supprimer"})}),s.jsxs(jf,{children:[s.jsxs(_f,{children:[s.jsx(Sf,{children:"Confirmer la suppression"}),s.jsx(Ef,{children:"Voulez-vous vraiment supprimer cette valeur à ignorer ? Cette action est irréversible."})]}),s.jsxs(Nf,{children:[s.jsx(Cf,{asChild:!0,children:s.jsx(te,{variant:"outline",onClick:()=>x(null),children:"Annuler"})}),s.jsx(av,{asChild:!0,children:s.jsx(te,{variant:"destructive",onClick:async()=>{await j(N),x(null)},children:"Supprimer"})})]})]})]})]},N))})]})]})})},uB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},dB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},fB=()=>{const{resultId:e}=yr();or();const[t,r]=m.useState(null),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(null),[p,v]=m.useState(!0),[x,b]=m.useState(!1),[w,j]=m.useState(null),[N,_]=m.useState(null),[C,E]=m.useState(""),[R,M]=m.useState(!1),[T,z]=m.useState(""),[H,F]=m.useState(""),[G,V]=m.useState(!1),[ue,re]=m.useState(null),I=[{id:"template1",component:rr},{id:"template2",component:Qa},{id:"template3",component:Za},{id:"template4",component:Ja}],oe="template1",[ce,D]=m.useState(null),[X,U]=m.useState(!0),J=async()=>{if(!e){j("ID du résultat manquant."),v(!1);return}v(!0),j(null),_(null),r(null),l(null),u(null),h(null),U(!0),D(null);try{const{data:B,error:K}=await ne.from("patient_result").select("*").eq("id",e).single();if(K)throw K;if(!B)throw new Error("Résultat non trouvé.");r(B);const[se,ge,fe,ae]=await Promise.all([ne.from("patient").select("*").eq("id",B.patient_id).single(),ne.from("doctor").select("*").eq("id",B.doctor_id).single(),ne.from("protidogramme").select("*").eq("result_id",e).maybeSingle(),ne.from("print_header_config").select("*").limit(1).maybeSingle()]);se.error&&console.warn("Erreur chargement patient:",se.error.message),ge.error&&console.warn("Erreur chargement médecin:",ge.error.message),l(se.data),u(ge.data),h(fe.data||null),D(ae.data),U(!1)}catch(B){console.error("Erreur chargement détails du résultat:",B),j(B.message||"Une erreur est survenue lors du chargement du résultat.")}finally{v(!1)}};m.useEffect(()=>{J()},[e]),m.useEffect(()=>{z((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),F((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const k=m.useCallback(async B=>{if(e)try{const{error:K}=await ne.from("patient_result").update({description:B}).eq("id",e);if(K)throw K}catch(K){console.error("Error saving description:",K)}},[e]);m.useEffect(()=>{const B=setTimeout(()=>{C!==(t==null?void 0:t.description)&&k(C)},1e3);return()=>clearTimeout(B)},[C,t==null?void 0:t.description,k]);const P=m.useCallback(async()=>{V(!0),re(null);try{const B=T!==""?Number(T):null,K=H!==""?Number(H):null;if(T!==""&&isNaN(B)||H!==""&&isNaN(K)){re("Les prix doivent être des nombres valides."),V(!1);return}const{error:se,data:ge}=await ne.from("patient_result").update({normal_price:B,insurance_price:K}).eq("id",t.id).select().single();if(se)throw se;r(fe=>fe&&{...fe,normal_price:B,insurance_price:K}),M(!1)}catch(B){re(B.message||"Erreur lors de la sauvegarde des prix.")}finally{V(!1)}},[t,T,H]),q=async B=>{if(!(!t||B===t.status)){b(!0),_(null);try{const{data:K,error:se}=await ne.from("patient_result").update({status:B}).eq("id",t.id).select().single();if(se)throw se;r(K||(ge=>ge?{...ge,status:B}:null))}catch(K){console.error("Erreur mise à jour statut:",K),_(K.message||"Impossible de mettre à jour le statut.")}finally{b(!1)}}},W=(B,K,se,ge)=>{const fe=B;return s.jsxs("div",{className:Ce("flex items-start space-x-3",ge),children:[s.jsx(fe,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:K}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:se||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},O=m.useMemo(()=>{var K;const B=(ce==null?void 0:ce.selected_template)||oe;return((K=I.find(se=>se.id===B))==null?void 0:K.component)||rr},[ce]),$=m.useMemo(()=>({logoUrl:(ce==null?void 0:ce.logo_url)||null,labName:ce==null?void 0:ce.lab_name,addressLine1:ce==null?void 0:ce.address_line1,addressLine2:ce==null?void 0:ce.address_line2,cityPostalCode:ce==null?void 0:ce.city_postal_code,phone:ce==null?void 0:ce.phone,email:ce==null?void 0:ce.email,website:ce==null?void 0:ce.website}),[ce]);return p?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]})]}):w?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[w," ",s.jsx(te,{variant:"link",onClick:J,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(it,{to:a?`/patients/${a.id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour ",a?`à ${a.full_name}`:"à la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[ce?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(O,{data:$,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):s.jsxs(Ut,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tête Manquant"}),s.jsxs(Bt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",s.jsx(it,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(Wr,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Se,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[W(We,"NOM PRENOM",a==null?void 0:a.full_name),W(We,"IDENTIFIANT Unique",a==null?void 0:a.patient_unique_id),W(Wt,"Date Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null),s.jsx("div",{className:"hidden print:block",children:W(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null)})]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Médecin"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[W(Vt,"NOM PRENOM",c==null?void 0:c.full_name),W(lr,"Téléphone",c==null?void 0:c.phone),W(We,"Provenance",c==null?void 0:c.hospital)]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Résultat Info"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[W(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),R?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:T,onChange:B=>z(B.target.value),disabled:G}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:T,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),R?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:H,onChange:B=>F(B.target.value),disabled:G}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:H,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:R?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"xs",variant:"secondary",onClick:P,disabled:G,children:[G?s.jsx(Ft,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>M(!1),disabled:G,children:"Annuler"})]}):s.jsx(te,{size:"xs",variant:"outline",onClick:()=>M(!0),children:"Modifier Prix"})}),ue&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:ue})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(We,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(Jn,{value:t.status??"",onValueChange:B=>q(B),disabled:x,children:[s.jsxs(tr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(er,{placeholder:"Changer statut..."})," "]}),s.jsxs(nr,{children:[s.jsx(xt,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(xt,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(xt,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),x&&s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),N&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:N}),s.jsx(os,{variant:uB(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:dB(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]}),W(We,"NOM PRENOM",a==null?void 0:a.full_name),W(We,"ID Unique",a==null?void 0:a.patient_unique_id),W(Wt,"Date de Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Zn,{className:"h-4 w-4"})," Médecin"]}),W(Vt,"NOM PRENOM",c==null?void 0:c.full_name),W(lr,"Téléphone",c==null?void 0:c.phone),W(We,"Hôpital",c==null?void 0:c.hospital)]})]}),s.jsxs(Se,{className:"shadow print:shadow-none print:border-none",children:[s.jsx(Re,{className:"flex-row items-center gap-2 print:hidden",children:s.jsx(vt,{className:"flex-1 text-lg",children:"Protidogramme"})}),s.jsx(Ee,{children:s.jsx(hB,{})})]})]})," "]}):s.jsx("div",{children:"Résultat non trouvé."})},hB=()=>{const{resultId:e}=yr(),[t,r]=m.useState(null),[a,l]=m.useState(!0),[c,u]=m.useState(null),[f,h]=m.useState(!1),[p,v]=m.useState(""),[x,b]=m.useState(null),[w,j]=m.useState(null),[N,_]=m.useState(!1),[C,E]=m.useState(null),R=m.useRef(null);m.useEffect(()=>{e&&(l(!0),u(null),ne.from("protidogramme").select("*").eq("result_id",e).single().then(({data:F,error:G})=>{G&&G.code!=="PGRST116"&&u("Erreur de chargement"),r(F),v((F==null?void 0:F.description)||""),j(F!=null&&F.image?M(F.image):null),l(!1)}))},[e,f]);function M(F){return ne.storage.from("images").getPublicUrl(F).data.publicUrl}function T(F){var V;const G=((V=F.target.files)==null?void 0:V[0])||null;b(G),j(G?URL.createObjectURL(G):null)}async function z(F){if(F.preventDefault(),!e)return;_(!0),E(null);let G=(t==null?void 0:t.image)||null;try{if(x){const ue=x.name.split(".").pop(),re=`protidogramme/${e}_${Date.now()}.${ue}`,{error:I}=await ne.storage.from("images").upload(re,x,{upsert:!0});if(I){E("Erreur lors de l'upload de l'image"),_(!1),console.error(I);return}G=re}const{error:V}=await ne.from("protidogramme").upsert({result_id:e,image:G,description:p,updated_at:new Date().toISOString()},{onConflict:"result_id"});if(V){E("Erreur lors de la sauvegarde"),_(!1),console.error(V);return}h(!1),b(null)}catch(V){E("Erreur inattendue lors de la sauvegarde"),console.error(V)}finally{_(!1)}}function H(){window.print()}return a?s.jsxs("div",{className:"max-w-xl mx-auto py-10",children:[s.jsx(Y,{className:"h-40 w-full mb-4"}),s.jsx(Y,{className:"h-6 w-1/2"})]}):s.jsxs("div",{className:"max-w-xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 print:hidden",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Protidogramme"}),s.jsx("div",{className:"flex gap-2",children:!f&&s.jsxs(te,{variant:"outline",size:"sm",onClick:H,children:[s.jsx(vf,{className:"w-4 h-4 mr-1"})," Imprimer"]})})]}),s.jsxs(Se,{className:"shadow print:shadow-none print:border-none",children:[s.jsxs(Re,{className:"flex-row items-center gap-2 print:hidden",children:[s.jsx(vt,{className:"flex-1 text-lg",children:f?t?"Modifier":"Ajouter":"Aperçu"}),!f&&s.jsxs(te,{size:"sm",variant:"secondary",onClick:()=>h(!0),children:[s.jsx(Xr,{className:"w-4 h-4 mr-1"})," Modifier"]})]}),s.jsx(Ee,{children:f?s.jsxs("form",{className:"space-y-4",onSubmit:z,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Image"}),w&&s.jsx("img",{src:w,alt:"Aperçu",className:"max-h-60 rounded  mb-2"}),s.jsx(Ye,{type:"file",accept:"image/*",onChange:T,ref:R}),C&&s.jsx("div",{className:"text-red-500 text-sm mt-1",children:C})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 font-medium",children:"Description"}),s.jsx(Cc,{value:p,onChange:F=>v(F.target.value),rows:4,required:!0,className:"resize-vertical"})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(te,{type:"submit",disabled:N,children:N?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})}),s.jsxs(te,{type:"button",variant:"outline",onClick:()=>{h(!1),E(null),b(null),j(t!=null&&t.image?M(t.image):null),v((t==null?void 0:t.description)||"")},children:[s.jsx(xf,{className:"w-4 h-4 mr-1"})," Annuler"]})]})]}):s.jsxs("div",{className:"print:block",children:[(t==null?void 0:t.image)&&s.jsx("img",{src:M(t.image),alt:"Protidogramme",className:"max-h-96 mb-4 rounded border mx-auto print:max-h-[450px]",style:{maxWidth:"100%"}}),s.jsx("div",{className:"prose prose-sm print:prose print:max-w-full print:break-words",children:t!=null&&t.description?s.jsxs("div",{children:[" ",t.description.split(`
`).map(F=>s.jsxs("div",{children:[" ",F," "]},F))," "]}):s.jsx("span",{className:"text-muted-foreground",children:"Aucune description"})}),s.jsx("div",{className:"mt-4",children:s.jsx(so,{date:new Date().toISOString()||""})})]})})]})]})},mB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},pB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},gB=()=>{const{resultId:e}=yr();or();const[t,r]=m.useState(null),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!0),[p,v]=m.useState(!1),[x,b]=m.useState(null),[w,j]=m.useState(null),[N,_]=m.useState(""),[C,E]=m.useState(!1),[R,M]=m.useState(""),[T,z]=m.useState(""),[H,F]=m.useState(!1),[G,V]=m.useState(null),ue=[{id:"template1",component:rr},{id:"template2",component:Qa},{id:"template3",component:Za},{id:"template4",component:Ja}],re="template1",[I,oe]=m.useState(null),[ce,D]=m.useState(!0),[X,U]=m.useState(null),[J,k]=m.useState(!0);m.useEffect(()=>{(async()=>{if(k(!0),!e)return;const{data:Te,error:Qe}=await ne.from("atbs_result").select("id, nature_prelevement, souche").eq("result_id",e).single();Te&&U(Te.id),k(!1)})()},[e]);const P=async()=>{if(!e){b("ID du résultat manquant."),h(!1);return}h(!0),b(null),j(null),r(null),l(null),u(null),D(!0),oe(null);try{const{data:we,error:Te}=await ne.from("patient_result").select("*").eq("id",e).single();if(Te)throw Te;if(!we)throw new Error("Résultat non trouvé.");r(we);const[Qe,et,Ne]=await Promise.all([ne.from("patient").select("*").eq("id",we.patient_id).single(),ne.from("doctor").select("*").eq("id",we.doctor_id).single(),ne.from("print_header_config").select("*").limit(1).maybeSingle()]);Qe.error&&console.warn("Erreur chargement patient:",Qe.error.message),et.error&&console.warn("Erreur chargement médecin:",et.error.message),l(Qe.data),u(et.data),oe(Ne.data),D(!1)}catch(we){console.error("Erreur chargement détails du résultat:",we),b(we.message||"Une erreur est survenue lors du chargement du résultat.")}finally{h(!1)}};m.useEffect(()=>{P()},[e]),m.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),z((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const q=m.useCallback(async we=>{if(e)try{const{error:Te}=await ne.from("patient_result").update({description:we}).eq("id",e);if(Te)throw Te}catch(Te){console.error("Error saving description:",Te)}},[e]);m.useEffect(()=>{const we=setTimeout(()=>{N!==(t==null?void 0:t.description)&&q(N)},1e3);return()=>clearTimeout(we)},[N,t==null?void 0:t.description,q]);const W=m.useCallback(async()=>{F(!0),V(null);try{const we=R!==""?Number(R):null,Te=T!==""?Number(T):null;if(R!==""&&isNaN(we)||T!==""&&isNaN(Te)){V("Les prix doivent être des nombres valides."),F(!1);return}const{error:Qe,data:et}=await ne.from("patient_result").update({normal_price:we,insurance_price:Te}).eq("id",t.id).select().single();if(Qe)throw Qe;r(Ne=>Ne&&{...Ne,normal_price:we,insurance_price:Te}),E(!1)}catch(we){V(we.message||"Erreur lors de la sauvegarde des prix.")}finally{F(!1)}},[t,R,T]),O=async we=>{if(!(!t||we===t.status)){v(!0),j(null);try{const{data:Te,error:Qe}=await ne.from("patient_result").update({status:we}).eq("id",t.id).select().single();if(Qe)throw Qe;r(Te||(et=>et?{...et,status:we}:null))}catch(Te){console.error("Erreur mise à jour statut:",Te),j(Te.message||"Impossible de mettre à jour le statut.")}finally{v(!1)}}},[$,B]=m.useState([]),[K,se]=m.useState(!1);m.useEffect(()=>{e&&(se(!0),ne.from("atbs_result").select("*").eq("result_id",e).then(({data:we})=>{B(we||[]),se(!1)}))},[e]);const[ge,fe]=m.useState([]),ae=we=>{fe(Te=>Te.includes(we)?Te.filter(Qe=>Qe!==we):[...Te,we])},de=(we,Te,Qe,et)=>{const Ne=we;return s.jsxs("div",{className:Ce("flex items-start space-x-3",et),children:[s.jsx(Ne,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:Te}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:Qe||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},Ae=m.useMemo(()=>{var Te;const we=(I==null?void 0:I.selected_template)||re;return((Te=ue.find(Qe=>Qe.id===we))==null?void 0:Te.component)||rr},[I]),Le=m.useMemo(()=>({logoUrl:(I==null?void 0:I.logo_url)||null,labName:I==null?void 0:I.lab_name,addressLine1:I==null?void 0:I.address_line1,addressLine2:I==null?void 0:I.address_line2,cityPostalCode:I==null?void 0:I.city_postal_code,phone:I==null?void 0:I.phone,email:I==null?void 0:I.email,website:I==null?void 0:I.website}),[I]),[ke,_e]=m.useState(!1),He=async()=>{if(e){_e(!0);try{const{data:we,error:Te}=await ne.from("atbs_result").insert({result_id:e}).select("id");if(Te||!we||!we[0])throw Te;const Qe=we[0].id,{data:et,error:Ne}=await ne.from("atbs").select("id");if(Ne||!et)throw Ne;const Ve=et.map(Rt=>({atbs_result_id:Qe,atb_id:Rt.id}));Ve.length>0&&await ne.from("atbs_result_atb").insert(Ve),window.location.reload()}catch{_e(!1)}}};return m.useEffect(()=>!e||f?void 0:((async()=>{const{data:Te,error:Qe}=await ne.from("atbs_result").select("id").eq("result_id",e);if(Qe){console.error("Erreur lors de la vérification d'atbs_result:",Qe);return}if(Te&&Te.length>0)return;const{data:et,error:Ne}=await ne.from("atbs_result").insert({result_id:e}).select("id").single();if(Ne||!et){console.error("Erreur lors de la création d'atbs_result:",Ne);return}const{data:Ve,error:Rt}=await ne.from("atbs").select("id");if(Rt||!Ve){console.error("Erreur lors de la récupération des ATBs:",Rt);return}const Mn=Ve.map(on=>({atbs_result_id:et.id,atb_id:on.id}));if(Mn.length>0){const{error:on}=await ne.from("atbs_result_atb").insert(Mn);on&&console.error("Erreur lors de la création des atbs_result_atb:",on)}})(),()=>{}),[e,f]),f?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]})]}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[x," ",s.jsx(te,{variant:"link",onClick:P,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(it,{to:a?`/patients/${a.id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour ",a?`à ${a.full_name}`:"à la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]}),s.jsxs("div",{className:"flex justify-end",children:[s.jsx(te,{variant:"default",onClick:()=>window.print(),children:"Imprimer"}),s.jsx(te,{variant:"secondary",onClick:He,disabled:ke,children:ke?"Création...":"Créer un nouvel ATB Résultat"})]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[I?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(Ae,{data:Le,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):s.jsxs(Ut,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tête Manquant"}),s.jsxs(Bt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",s.jsx(it,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(Wr,{className:"my-2 print:my-0 print:border-none print:hidden"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Se,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[de(We,"NOM PRENOM",a==null?void 0:a.full_name),de(We,"IDENTIFIANT Unique",a==null?void 0:a.patient_unique_id),de(Wt,"Date Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null),s.jsx("div",{className:"hidden print:block",children:de(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null)})]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Médecin"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[de(Vt,"NOM PRENOM",c==null?void 0:c.full_name),de(lr,"Téléphone",c==null?void 0:c.phone),de(We,"Provenance",c==null?void 0:c.hospital)]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Résultat Info"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[de(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),C?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:we=>M(we.target.value),disabled:H}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),C?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:T,onChange:we=>z(we.target.value),disabled:H}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:T,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:C?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"xs",variant:"secondary",onClick:W,disabled:H,children:[H?s.jsx(Ft,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:H,children:"Annuler"})]}):s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),G&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:G})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(We,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(Jn,{value:t.status??"",onValueChange:we=>O(we),disabled:p,children:[s.jsxs(tr,{id:"resultStatus",className:"h-9 flex-1",children:[s.jsx(er,{placeholder:"Changer statut..."})," "]}),s.jsxs(nr,{children:[s.jsx(xt,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(xt,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(xt,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(os,{variant:mB(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:pB(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]}),de(We,"NOM PRENOM",a==null?void 0:a.full_name),de(We,"ID Unique",a==null?void 0:a.patient_unique_id),de(Wt,"Date de Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Zn,{className:"h-4 w-4"})," Médecin"]}),de(Vt,"NOM PRENOM",c==null?void 0:c.full_name),de(lr,"Téléphone",c==null?void 0:c.phone),de(We,"Hôpital",c==null?void 0:c.hospital)]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[s.jsx(Ye,{className:"text-2xl font-bold text-center w-auto",value:N||"ANTIBIOGRAMME",onChange:we=>_(we.target.value),style:{maxWidth:400}}),s.jsx("div",{className:"w-full mt-0",children:K?s.jsx("div",{className:"text-center",children:"Chargement des antibiogrammes..."}):$.length===0?s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[s.jsx("div",{className:"text-center text-muted-foreground",children:"Aucun antibiogramme trouvé."}),s.jsx(te,{onClick:()=>window.location.reload(),className:"mx-auto",children:"Creer"})]}):s.jsx("div",{className:"flex flex-col gap-8 mt-0",children:$.map(we=>s.jsxs("div",{className:ge.length>0&&!ge.includes(we.id)?"print:hidden":"",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 print:hidden",children:[s.jsx("input",{type:"checkbox",checked:ge.length===0||ge.includes(we.id),onChange:()=>ae(we.id),id:`print-checkbox-${we.id}`}),s.jsx("label",{htmlFor:`print-checkbox-${we.id}`,className:"text-sm",children:"Inclure pour impression"})]}),s.jsx(vB,{resultId:we.id})]},we.id))})})]})," ",s.jsx("style",{children:`
        @media print {
          .report-content table {
            font-size: 16px;
            width: 100%;
          }
          .report-content th, .report-content td {
            padding: 4px 4px !important;
            font-size: 16px;
          }
          .report-content {
            padding: 2px !important;
            margin: 0 !important;
          }
          .report-content table {
            border-collapse: collapse;
          }
          .report-content th, .report-content td {
            border: 1px solid #ccc;
          }
        }
      `})]})]}):s.jsx("div",{children:"Résultat non trouvé."})},vB=({resultId:e})=>{const[t,r]=m.useState([]),[a,l]=m.useState(null),[c,u]=m.useState([]),[f,h]=m.useState({}),[p,v]=m.useState(!0),[x,b]=m.useState(!1),[w,j]=m.useState(null),[N,_]=m.useState(""),[C,E]=m.useState("");m.useEffect(()=>{(async()=>{if(v(!0),!e)return;const{data:z}=await ne.from("atbs_result").select("*").eq("id",e);if(!z||z.length===0){v(!1);return}const H=z[0].id;l(H),_(z[0].nature_prelement),E(z[0].souche);const{data:F}=await ne.from("atbs").select("id, name");r(F||[]);const{data:G}=await ne.from("atbs_result_atb").select("id, atb_id, sensible, intermediaire, resistant").eq("atbs_result_id",H);u(G||[]);const V={};(G||[]).forEach(ue=>{V[ue.atb_id]={S:!!ue.sensible,I:!!ue.intermediaire,R:!!ue.resistant}}),h(V),v(!1)})()},[e]);const R=(T,z)=>{h(H=>{var F;return{...H,[T]:{...H[T],[z]:!((F=H[T])!=null&&F[z])}}})},M=async()=>{var T,z,H;if(a){b(!0),j(null);try{for(const F of t){const G=c.find(V=>V.atb_id===F.id);G&&await ne.from("atbs_result_atb").update({sensible:((T=f[F.id])==null?void 0:T.S)||!1,intermediaire:((z=f[F.id])==null?void 0:z.I)||!1,resistant:((H=f[F.id])==null?void 0:H.R)||!1}).eq("id",G.id)}await ne.from("atbs_result").update({nature_prelement:N,souche:C}).eq("id",a),j("success")}catch{j("error")}b(!1)}};return p?s.jsx("div",{className:"text-center",children:"Chargement du tableau..."}):a?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("div",{className:"flex gap-4 w-full justify-center",children:[s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx($e,{htmlFor:"nature_prelevement",className:"text-lg font-bold print:-mb-2",children:"Nature du prélèvement"}),s.jsx(Ye,{id:"nature_prelevement",value:N,onChange:T=>_(T.target.value),style:{minWidth:220},className:"print:border-none print:bg-transparent"})]}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx($e,{htmlFor:"souche",className:"text-lg font-bold print:-mb-2",children:"Souche étudiée"}),s.jsx(Ye,{id:"souche",value:C,onChange:T=>E(T.target.value),style:{minWidth:180},className:"print:border-none print:bg-transparent"})]})]}),s.jsxs(sa,{children:[s.jsx(aa,{children:s.jsxs(Gt,{children:[s.jsx(ft,{className:"text-left",children:"Dénomination"}),s.jsx(ft,{className:"text-center",children:"S"}),s.jsx(ft,{className:"text-center",children:"I"}),s.jsx(ft,{className:"text-center",children:"R"})]})}),s.jsx(ia,{children:t.map((T,z)=>{var H,F,G;return s.jsxs(Gt,{className:z%2===0?"bg-muted/50":"",children:[s.jsx(Ke,{children:T.name}),s.jsx(Ke,{className:"text-center",children:s.jsx(Ua,{checked:!!((H=f[T.id])!=null&&H.S),onCheckedChange:()=>R(T.id,"S")})}),s.jsx(Ke,{className:"text-center",children:s.jsx(Ua,{checked:!!((F=f[T.id])!=null&&F.I),onCheckedChange:()=>R(T.id,"I")})}),s.jsx(Ke,{className:"text-center",children:s.jsx(Ua,{checked:!!((G=f[T.id])!=null&&G.R),onCheckedChange:()=>R(T.id,"R")})})]},T.id)})})]}),s.jsx("div",{className:"mt-2 text-sm  font-semibold text-center",children:"S = sensible   |   I = intermédiaire   |   R = résistant"}),s.jsxs("div",{className:"flex flex-col items-center mt-4 print:hidden",children:[s.jsx(te,{disabled:x,onClick:M,children:x?"Enregistrement...":"Enregistrer les modifications"}),w==="success"&&s.jsx("span",{className:"text-green-600 mt-2 print:hidden",children:"Modifications enregistrées !"}),w==="error"&&s.jsx("span",{className:"text-red-600 mt-2 print:hidden",children:"Erreur lors de l'enregistrement."})]}),s.jsx("div",{className:"mt-4",children:s.jsx(so,{date:new Date().toISOString()||""})})]}):s.jsx("div",{className:"text-center text-muted-foreground",children:"Aucun antibiogramme trouvé."})},xB=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!1),[l,c]=m.useState(""),[u,f]=m.useState(null),[h,p]=m.useState(""),[v,x]=m.useState(null),[b,w]=m.useState(null),j=async()=>{a(!0);const{data:R,error:M}=await ne.from("atbs").select("*").order("name");M?x(M.message):t(R||[]),a(!1)};m.useEffect(()=>{j()},[]);const N=async()=>{if(!l.trim())return;a(!0);const{error:R}=await ne.from("atbs").insert({name:l.trim()});R&&x(R.message),c(""),j(),a(!1)},_=R=>{f(R.id),p(R.name),x(null)},C=async R=>{if(!h.trim())return;a(!0);const{error:M}=await ne.from("atbs").update({name:h.trim()}).eq("id",R);M&&x(M.message),f(null),p(""),j(),a(!1)},E=async R=>{a(!0);const{error:M}=await ne.from("atbs").delete().eq("id",R);M&&x(M.message),j(),a(!1),w(null)};return s.jsxs("div",{className:"max-w-xl mx-auto mt-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestion des ATBs"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(Ye,{value:l,onChange:R=>c(R.target.value),placeholder:"Nom de l'ATB",disabled:r,onKeyDown:R=>{R.key==="Enter"&&N()}}),s.jsxs(te,{onClick:N,disabled:r||!l.trim(),children:[s.jsx(Rd,{className:"w-4 h-4 mr-1"})," Ajouter"]})]}),v&&s.jsx("div",{className:"text-red-500 mb-2",children:v}),s.jsxs("table",{className:"min-w-full border",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-2 border",children:"Nom"}),s.jsx("th",{className:"text-left p-2 border",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(R=>s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 border",children:u===R.id?s.jsx(Ye,{value:h,onChange:M=>p(M.target.value),onKeyDown:M=>{M.key==="Enter"&&C(R.id),M.key==="Escape"&&f(null)},autoFocus:!0}):R.name}),s.jsx("td",{className:"p-2 border",children:u===R.id?s.jsx(te,{size:"sm",onClick:()=>C(R.id),disabled:r||!h.trim(),children:"Enregistrer"}):s.jsxs(s.Fragment,{children:[s.jsx(te,{size:"icon",variant:"ghost",onClick:()=>_(R),children:s.jsx(k_,{className:"w-4 h-4"})}),s.jsx(te,{size:"icon",variant:"destructive",onClick:()=>w(R.id),disabled:r,children:s.jsx(dc,{className:"w-4 h-4"})})]})})]},R.id))})]}),s.jsx($l,{open:!!b,onOpenChange:R=>!R&&w(null),children:s.jsxs(Bl,{children:[s.jsx(Hl,{children:s.jsx(Fl,{children:"Confirmer la suppression"})}),s.jsx("div",{children:"Êtes-vous sûr de vouloir supprimer cet ATB ?"}),s.jsxs(ql,{children:[s.jsx(te,{variant:"destructive",onClick:()=>b&&E(b),disabled:r,children:"Supprimer"}),s.jsx(te,{variant:"ghost",onClick:()=>w(null),disabled:r,children:"Annuler"})]})]})})]})},yB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},bB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},wB=()=>{var Hn;const{resultId:e}=yr();or();const[t,r]=m.useState(null),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!0),[p,v]=m.useState(!1),[x,b]=m.useState(null),[w,j]=m.useState(null),[N,_]=m.useState(""),[C,E]=m.useState(!1),[R,M]=m.useState(""),[T,z]=m.useState(""),[H,F]=m.useState(!1),[G,V]=m.useState(null),[ue,re]=m.useState([]),[I,oe]=m.useState(!0),[ce,D]=m.useState(""),[X,U]=m.useState(!1),[J,k]=m.useState(null);m.useEffect(()=>{(async()=>{oe(!0);const{data:je,error:Oe}=await ne.from("ecb_model").select("id, name, description, structure");Oe||re(je||[]),oe(!1)})()},[]);const P=[{id:"template1",component:rr},{id:"template2",component:Qa},{id:"template3",component:Za},{id:"template4",component:Ja}],q="template1",[W,O]=m.useState(null),[$,B]=m.useState(!0),K=async()=>{if(!e){b("ID du résultat manquant."),h(!1);return}h(!0),b(null),j(null),r(null),l(null),u(null),B(!0),O(null);try{const{data:pe,error:je}=await ne.from("patient_result").select("*").eq("id",e).single();if(je)throw je;if(!pe)throw new Error("Résultat non trouvé.");r(pe);const[Oe,Tt,un]=await Promise.all([ne.from("patient").select("*").eq("id",pe.patient_id).single(),ne.from("doctor").select("*").eq("id",pe.doctor_id).single(),ne.from("print_header_config").select("*").limit(1).maybeSingle()]);Oe.error&&console.warn("Erreur chargement patient:",Oe.error.message),Tt.error&&console.warn("Erreur chargement médecin:",Tt.error.message),l(Oe.data),u(Tt.data),O(un.data),B(!1)}catch(pe){console.error("Erreur chargement détails du résultat:",pe),b(pe.message||"Une erreur est survenue lors du chargement du résultat.")}finally{h(!1)}};m.useEffect(()=>{K()},[e]),m.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),z((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const se=m.useCallback(async pe=>{if(e)try{const{error:je}=await ne.from("patient_result").update({description:pe}).eq("id",e);if(je)throw je}catch(je){console.error("Error saving description:",je)}},[e]);m.useEffect(()=>{const pe=setTimeout(()=>{N!==(t==null?void 0:t.description)&&se(N)},1e3);return()=>clearTimeout(pe)},[N,t==null?void 0:t.description,se]);const ge=m.useCallback(async()=>{F(!0),V(null);try{const pe=R!==""?Number(R):null,je=T!==""?Number(T):null;if(R!==""&&isNaN(pe)||T!==""&&isNaN(je)){V("Les prix doivent être des nombres valides."),F(!1);return}const{error:Oe,data:Tt}=await ne.from("patient_result").update({normal_price:pe,insurance_price:je}).eq("id",t.id).select().single();if(Oe)throw Oe;r(un=>un&&{...un,normal_price:pe,insurance_price:je}),E(!1)}catch(pe){V(pe.message||"Erreur lors de la sauvegarde des prix.")}finally{F(!1)}},[t,R,T]),fe=async pe=>{if(!(!t||pe===t.status)){v(!0),j(null);try{const{data:je,error:Oe}=await ne.from("patient_result").update({status:pe}).eq("id",t.id).select().single();if(Oe)throw Oe;r(je||(Tt=>Tt?{...Tt,status:pe}:null))}catch(je){console.error("Erreur mise à jour statut:",je),j(je.message||"Impossible de mettre à jour le statut.")}finally{v(!1)}}},ae=(pe,je,Oe,Tt)=>{const un=pe;return s.jsxs("div",{className:Ce("flex items-start space-x-3",Tt),children:[s.jsx(un,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:je}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:Oe||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},de=m.useMemo(()=>{var je;const pe=(W==null?void 0:W.selected_template)||q;return((je=P.find(Oe=>Oe.id===pe))==null?void 0:je.component)||rr},[W]),Ae=m.useMemo(()=>({logoUrl:(W==null?void 0:W.logo_url)||null,labName:W==null?void 0:W.lab_name,addressLine1:W==null?void 0:W.address_line1,addressLine2:W==null?void 0:W.address_line2,cityPostalCode:W==null?void 0:W.city_postal_code,phone:W==null?void 0:W.phone,email:W==null?void 0:W.email,website:W==null?void 0:W.website}),[W]),[Le,ke]=m.useState([]),[_e,He]=m.useState({}),[we,Te]=m.useState({}),[Qe,et]=m.useState(!0),[Ne,Ve]=m.useState(null),[Rt,Mn]=m.useState({}),[on,Sn]=m.useState(null),[rn,sn]=m.useState(null),[xn,Ot]=m.useState(null),[ye,Pe]=m.useState(""),[qe,nt]=m.useState(null),Ge=(pe,je)=>{Ot(pe),Pe(je)},Ht=()=>{Ot(null),Pe("")},an=async pe=>{nt(pe),await ne.from("ecb").update({title:ye}).eq("id",pe),nt(null),Ot(null),Pe(""),await yt()},yt=m.useCallback(async()=>{if(!e)return;et(!0);const{data:pe,error:je}=await ne.from("ecb").select("*").eq("result_id",e).order("created_at",{ascending:!0});if(je){et(!1);return}ke(pe||[]);const Oe=(pe||[]).map(At=>At.id),{data:Tt}=await ne.from("ecb_section").select("*").in("ecb_id",Oe.length?Oe:["00000000-0000-0000-0000-000000000000"]).order("position",{ascending:!0}),un={};(Tt||[]).forEach(At=>{un[At.ecb_id]||(un[At.ecb_id]=[]),un[At.ecb_id].push(At)}),He(un);const qn=(Tt||[]).map(At=>At.id),{data:dr}=await ne.from("ecb_value").select("*").in("section_id",qn.length?qn:["00000000-0000-0000-0000-000000000000"]).order("position",{ascending:!0}),Dn={};(dr||[]).forEach(At=>{Dn[At.section_id]||(Dn[At.section_id]=[]),Dn[At.section_id].push(At)}),Te(Dn),et(!1)},[e]);m.useEffect(()=>{yt()},[yt,X]);const Bn=pe=>{Ve(pe);let je={};(_e[pe]||[]).forEach(Oe=>{(we[Oe.id]||[]).forEach(Tt=>{je[Tt.id]=Tt.value??""})}),Mn(je)},hn=()=>{Ve(null),Mn({})},rt=(pe,je)=>{Mn(Oe=>({...Oe,[pe]:je}))},ot=async pe=>{Sn(pe);const je=Object.entries(Rt).map(([Oe,Tt])=>ne.from("ecb_value").update({value:Tt}).eq("id",Oe));await Promise.all(je),Sn(null),Ve(null),Mn({}),await yt()},De=pe=>{sn(pe),setTimeout(()=>window.print(),100)};function pt(){if(typeof window<"u")try{const pe=window.localStorage.getItem("ecb_bold_toggles");return pe?JSON.parse(pe):{}}catch{return{}}return{}}const[lt,bt]=m.useState(pt);m.useEffect(()=>{window.localStorage.setItem("ecb_bold_toggles",JSON.stringify(lt))},[lt]);const ln=pe=>{bt(je=>{var Oe;return{...je,[pe]:{...je[pe],labelBold:!((Oe=je[pe])!=null&&Oe.labelBold)}}})},Pt=pe=>{bt(je=>{var Oe;return{...je,[pe]:{...je[pe],valueBold:!((Oe=je[pe])!=null&&Oe.valueBold)}}})};function ht(pe){if(typeof window<"u")try{const je=window.localStorage.getItem("ecb_section_bold_toggles"),Oe=je?JSON.parse(je):{};for(const Tt of pe)Tt in Oe||(Oe[Tt]=!0);return Oe}catch{return Object.fromEntries(pe.map(je=>[je,!0]))}return Object.fromEntries(pe.map(je=>[je,!0]))}const En=Object.values(_e||{}).flat().map(pe=>pe.id),[qt,Qt]=m.useState(()=>ht(En));m.useEffect(()=>{window.localStorage.setItem("ecb_section_bold_toggles",JSON.stringify(qt))},[qt]),m.useEffect(()=>{Qt(pe=>{let je=!1;const Oe={...pe};for(const Tt of En)Tt in Oe||(Oe[Tt]=!0,je=!0);return je?Oe:pe})},[En.length]);const wr=pe=>{Qt(je=>({...je,[pe]:!je[pe]}))};function An(){if(typeof window<"u")try{const pe=window.localStorage.getItem("ecb_abnormal_cells");return pe?JSON.parse(pe):{}}catch{return{}}return{}}const[kn,Xn]=m.useState(An);m.useEffect(()=>{window.localStorage.setItem("ecb_abnormal_cells",JSON.stringify(kn))},[kn]);const mn=pe=>{Xn(je=>({...je,[pe]:!je[pe]}))};return f?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsxs("div",{className:"pb-2",children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx("div",{children:s.jsx(Y,{className:"h-20 w-full"})})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx("div",{children:s.jsx(Y,{className:"h-20 w-full"})})]})]}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[x," ",s.jsx(te,{variant:"link",onClick:K,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(it,{to:a?`/patients/${a.id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour ",a?`à ${a.full_name}`:"à la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[W?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(de,{data:Ae,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):s.jsxs(Ut,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tête Manquant"}),s.jsxs(Bt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",s.jsx(it,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(Wr,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ae(We,"NOM PRENOM",a==null?void 0:a.full_name),ae(We,"IDENTIFIANT Unique",a==null?void 0:a.patient_unique_id),ae(Wt,"Date Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null),s.jsx("div",{className:"hidden print:block",children:ae(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null)})]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4",children:[s.jsx("div",{className:"pb-2",children:s.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Médecin"]})}),s.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ae(Vt,"NOM PRENOM",c==null?void 0:c.full_name),ae(lr,"Téléphone",c==null?void 0:c.phone),ae(We,"Provenance",c==null?void 0:c.hospital)]})]}),s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4 print:hidden",children:[s.jsx("div",{className:"pb-2",children:s.jsxs("div",{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Résultat Info"]})}),s.jsxs("div",{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[ae(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),C?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:pe=>M(pe.target.value),disabled:H}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),C?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:T,onChange:pe=>z(pe.target.value),disabled:H}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:T,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:C?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"xs",variant:"secondary",onClick:ge,disabled:H,children:[H?s.jsx(Ft,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:H,children:"Annuler"})]}):s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),G&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:G})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(We,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(Jn,{value:t.status??"",onValueChange:pe=>fe(pe),disabled:p,children:[s.jsxs(tr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(er,{placeholder:"Changer statut..."})," "]}),s.jsxs(nr,{children:[s.jsx(xt,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(xt,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(xt,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(os,{variant:yB(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:bB(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]}),ae(We,"NOM PRENOM",a==null?void 0:a.full_name),ae(We,"ID Unique",a==null?void 0:a.patient_unique_id),ae(Wt,"Date de Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Zn,{className:"h-4 w-4"})," Médecin"]}),ae(Vt,"NOM PRENOM",c==null?void 0:c.full_name),ae(lr,"Téléphone",c==null?void 0:c.phone),ae(We,"Hôpital",c==null?void 0:c.hospital)]})]}),s.jsxs("div",{className:"page-content",children:[s.jsxs("div",{className:"overflow-hidden rounded-lg border border-muted bg-background p-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx("div",{className:"font-semibold",children:"Créer un nouvel ECB"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx($e,{htmlFor:"ecb-model-select",children:"Sélectionner un modèle"}),s.jsxs(Jn,{value:ce,onValueChange:D,disabled:I||X,children:[s.jsx(tr,{id:"ecb-model-select",className:"w-full",children:s.jsx(er,{placeholder:I?"Chargement...":"Choisir un modèle"})}),s.jsx(nr,{children:ue.map(pe=>s.jsx(xt,{value:pe.id,children:pe.name},pe.id))})]}),ce&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:(Hn=ue.find(pe=>pe.id===ce))==null?void 0:Hn.description})]}),s.jsxs(te,{onClick:async()=>{var pe;U(!0),k(null);try{if(!ce||!e)throw new Error("Sélectionner un modèle.");const je=ue.find(At=>At.id===ce);if(!je)throw new Error("Modèle non trouvé.");const{data:Oe,error:Tt}=await ne.from("ecb").insert({result_id:e,model_id:je.id,title:je.name,created_by:((pe=(await ne.auth.getUser()).data.user)==null?void 0:pe.id)||null}).select().single();if(Tt)throw Tt;const un=je.structure;let qn=[],dr=[],Dn=0;for(const At of un){const oa=crypto.randomUUID();qn.push({id:oa,ecb_id:Oe.id,section_title:At.title,position:Dn});let Ds=0;for(const bn of At.labels)dr.push({section_id:oa,label:bn,value:null,position:Ds}),Ds++;Dn++}if(qn.length){const{error:At}=await ne.from("ecb_section").insert(qn);if(At)throw At}if(dr.length){const{error:At}=await ne.from("ecb_value").insert(dr);if(At)throw At}await yt(),D("")}catch(je){k(je.message||"Erreur lors de la création de l''ECB.")}finally{U(!1)}},disabled:!ce||X,className:"min-w-[120px]",children:[X?s.jsx(Ft,{className:"h-4 w-4 animate-spin mr-2"}):null,"Créer"]})]}),J&&s.jsx("div",{className:"text-xs text-destructive mt-2",children:J})]})]}),Qe?s.jsx(Y,{className:"h-12 w-full"}):Le.length===0?s.jsx("div",{className:"text-muted-foreground text-sm",children:"Aucun ECB trouvé pour ce résultat."}):s.jsx("div",{className:"space-y-6 print:space-y-0",children:Le.map(pe=>s.jsxs("div",{className:"relative  p-4",children:[s.jsxs("div",{className:"print:hidden flex flex-row items-center justify-between border-b pb-2 mb-2 print:mb-0",children:[s.jsxs("div",{className:"print:hidden",children:[s.jsx("div",{className:"font-semibold text-base flex items-center gap-2",children:xn===pe.id?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{value:ye,onChange:je=>Pe(je.target.value),onKeyDown:je=>{je.key==="Enter"&&an(pe.id),je.key==="Escape"&&Ht()},disabled:qe===pe.id,className:"text-base w-48",autoFocus:!0}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>an(pe.id),disabled:qe===pe.id,children:qe===pe.id?s.jsx(Ft,{className:"h-3 w-3 animate-spin"}):"Enregistrer"}),s.jsx(te,{size:"xs",variant:"ghost",onClick:Ht,disabled:qe===pe.id,children:"Annuler"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:pe.title}),s.jsx(te,{size:"xs",variant:"ghost",onClick:()=>Ge(pe.id,pe.title),className:"ml-1",children:s.jsx(Xr,{className:"h-3 w-3"})})]})}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Créé le ",tt(_t(pe.created_at),"Pp",{locale:Ct})]})]}),s.jsx("div",{className:"flex gap-2 print:hidden",children:Ne===pe.id?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>ot(pe.id),disabled:on===pe.id,children:[on===pe.id?s.jsx(Ft,{className:"h-4 w-4 animate-spin mr-2"}):null,"Enregistrer toutes les modifications"]}),s.jsx(te,{size:"sm",variant:"ghost",onClick:hn,disabled:on===pe.id,children:"Annuler"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>Bn(pe.id),children:[s.jsx(Xr,{className:"h-4 w-4 mr-1"})," Modifier"]}),s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>De(pe.id),children:[s.jsx(vf,{className:"h-4 w-4 mr-1"})," Imprimer"]})]})})]}),s.jsx("div",{className:"print:hidden",children:(_e[pe.id]||[]).map(je=>s.jsxs("div",{className:"mb-4 print:mb-0",children:[s.jsxs("div",{className:"font-semibold mb-2 text-lg flex items-center gap-1",children:[je.section_title,s.jsx(te,{size:"icon",variant:qt[je.id]?"default":"ghost",className:"h-5 w-5 p-0",title:qt[je.id]?"Définir en normal":"Mettre en gras",onClick:()=>wr(je.id),type:"button",tabIndex:-1,children:s.jsx("b",{children:"B"})})]}),s.jsx("div",{className:"grid grid-cols-1  gap-2",children:(we[je.id]||[]).map(Oe=>{var Tt,un,qn,dr,Dn;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs($e,{className:"w-40 text-md font-medium flex items-center gap-1",children:[Oe.label,s.jsx(te,{size:"icon",variant:(Tt=lt[Oe.id])!=null&&Tt.labelBold?"default":"ghost",className:"h-5 w-5 p-0",title:(un=lt[Oe.id])!=null&&un.labelBold?"Définir en normal":"Mettre en gras",onClick:()=>ln(Oe.id),type:"button",tabIndex:-1,children:s.jsx("b",{children:"B"})})]}),Ne===pe.id?s.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[s.jsx(Ye,{value:Rt[Oe.id]??"",onChange:At=>rt(Oe.id,At.target.value),disabled:on===pe.id,className:"text-xs flex-1"}),s.jsx(te,{size:"icon",variant:(qn=lt[Oe.id])!=null&&qn.valueBold?"default":"ghost",className:"h-5 w-5 p-0",title:(dr=lt[Oe.id])!=null&&dr.valueBold?"Définir en normal":"Mettre en gras",onClick:()=>Pt(Oe.id),type:"button",tabIndex:-1,children:s.jsx("b",{children:"B"})}),s.jsx(te,{size:"icon",variant:kn[Oe.id]?"destructive":"ghost",className:"h-5 w-5 p-0",title:kn[Oe.id]?"Cellule anormale":"Marquer comme anormale",onClick:()=>mn(Oe.id),type:"button",tabIndex:-1,children:s.jsx("span",{style:{fontWeight:"bold"},children:"!"})})]}):s.jsx("span",{className:`text-xs flex-1 ${(Dn=lt[Oe.id])!=null&&Dn.valueBold?"font-bold":""} ${kn[Oe.id]?"bg-gray-200 font-bold":""}`,children:Oe.value??s.jsx("span",{className:"italic text-muted-foreground",children:"(vide)"})})]},Oe.id)})})]},je.id))}),rn===pe.id&&s.jsxs("div",{className:"hidden print:block bg-white p-4 print:p-0",children:[s.jsx("div",{className:"font-semibold text-lg text-center mb-1",children:pe.title}),s.jsx("table",{className:"w-full border-collapse print-ecb-table",children:s.jsx("tbody",{children:(_e[pe.id]||[]).map(je=>s.jsxs(xe.Fragment,{children:[s.jsx("tr",{children:s.jsx("td",{colSpan:2,className:`text-xs mb-1 py-2 print-ecb-section-title ${qt[je.id]?"font-bold":"font-normal"}`,children:je.section_title})}),(we[je.id]||[]).map(Oe=>{var Tt,un;return s.jsxs("tr",{children:[s.jsx("td",{className:`align-top pr-4 pb-1 text-xs print-ecb-label ${(Tt=lt[Oe.id])!=null&&Tt.labelBold?"font-bold":"font-normal"}`,style:{width:"35%"},children:Oe.label}),s.jsx("td",{className:`align-top pb-1 text-xs print-ecb-value ${(un=lt[Oe.id])!=null&&un.valueBold?"font-bold":"font-normal"} ${kn[Oe.id]?"print-ecb-abnormal-cell":""}`,children:Oe.value?s.jsx("div",{className:"flex items-center justify-between",children:Oe.value.split(";").map((qn,dr)=>s.jsx("div",{children:qn},dr))}):s.jsx("span",{className:"italic text-muted-foreground",children:"(vide)"})})]},Oe.id)})]},je.id))})}),s.jsx("div",{className:"mt-4",children:s.jsx(so,{date:new Date().toISOString()})}),s.jsx("style",{jsx:!0,global:!0,children:`
                        @media print {
                          .print-ecb-table {
                            width: 100%;
                            border-collapse: collapse;
                            font-size: 13.5px;
                          }
                          .print-ecb-label {
                            text-align: left;
                            padding-right: 16px;
                            vertical-align: top;
                            width: 35%;
                            font-size: 13.5px;
                          }
                          .print-ecb-section-title {
                            background: #f6f6f6;
                            font-size: 14px;
                            font-weight: bold;
                            padding-top: 12px;
                            padding-bottom: 6px;
                            text-align: left;
                            border-bottom: 1px solid #e5e5e5;
                          }
                          .print-ecb-value {
                            text-align: left;
                            vertical-align: top;
                            word-break: break-word;
                            font-size: 13.5px;
                          }
                          .print-ecb-abnormal-cell {
                            background: #e5e5e5 !important;
                            font-weight: bold !important;
                          }
                          .print-ecb-table td {
                            padding-top: 3px;
                            padding-bottom: 3px;
                          }
                        }
                      `})]})]},pe.id))})]})]})," "]}):s.jsx("div",{children:"Résultat non trouvé."})},jB=()=>{const[e,t]=m.useState([]),[r,a]=m.useState(!1),[l,c]=m.useState(null),[u,f]=m.useState(""),[h,p]=m.useState(""),[v,x]=m.useState(""),[b,w]=m.useState(""),[j,N]=m.useState(!1),[_,C]=m.useState(null),[E,R]=m.useState([]),[M,T]=m.useState(null),[z,H]=m.useState(null),F=async()=>{a(!0);const{data:q,error:W}=await ne.from("ecb_model").select("id, name, description, structure, created_at").order("created_at");W||t(q||[]),a(!1)};m.useEffect(()=>{F()},[]);const G=q=>{c(q.id),f(q.name),p(q.description||"")},V=async q=>{N(!0),await ne.from("ecb_model").update({name:u,description:h}).eq("id",q),c(null),f(""),p(""),N(!1),F()},ue=async q=>{N(!0),await ne.from("ecb_model").delete().eq("id",q),F(),N(!1),H(null)},re=async()=>{v.trim()&&(N(!0),await ne.from("ecb_model").insert({name:v.trim(),description:b.trim(),structure:JSON.stringify([])}),x(""),w(""),N(!1),F())},I=q=>{C(q),R(Array.isArray(q.structure)?q.structure:[]),T(null)},oe=()=>{C(null),R([]),T(null)},ce=async()=>{if(_){for(const q of E){if(!q.title.trim()){T("Titre de section requis");return}if(!Array.isArray(q.labels)||q.labels.some(W=>!W.trim())){T("Chaque section doit avoir des labels non vides");return}}N(!0),await ne.from("ecb_model").update({structure:E}).eq("id",_.id),N(!1),oe(),F()}},D=()=>R([...E,{title:"Nouvelle section",labels:["Label 1"]}]),X=q=>R(E.filter((W,O)=>O!==q)),U=(q,W)=>R(E.map((O,$)=>$===q?{...O,title:W}:O)),J=q=>R(E.map((W,O)=>O===q?{...W,labels:[...W.labels,"Nouveau label"]}:W)),k=(q,W,O)=>R(E.map(($,B)=>B===q?{...$,labels:$.labels.map((K,se)=>se===W?O:K)}:$)),P=(q,W)=>R(E.map((O,$)=>$===q?{...O,labels:O.labels.filter((B,K)=>K!==W)}:O));return s.jsxs("div",{className:"w-full mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestion des Modèles ECB"}),s.jsxs("div",{className:"mb-6 flex gap-2",children:[s.jsx(Ye,{value:v,onChange:q=>x(q.target.value),placeholder:"Nouveau modèle",className:"flex-1"}),s.jsx(Ye,{value:b,onChange:q=>w(q.target.value),placeholder:"Description (optionnelle)",className:"flex-1"}),s.jsxs(te,{onClick:re,disabled:j||!v.trim(),children:[s.jsx(Rd,{className:"w-4 h-4 mr-1"})," Ajouter"]})]}),s.jsx("div",{className:"bg-white rounded shadow p-4",children:r?s.jsx("div",{children:"Chargement..."}):s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2",children:"Nom du modèle"}),s.jsx("th",{className:"text-left py-2",children:"Description"}),s.jsx("th",{className:"text-left py-2",children:"Structure"}),s.jsx("th",{className:"w-48"})]})}),s.jsx("tbody",{children:e.map(q=>s.jsxs(xe.Fragment,{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"py-2",children:l===q.id?s.jsx(Ye,{value:u,onChange:W=>f(W.target.value),className:"inline-block w-auto",onKeyDown:W=>{W.key==="Enter"&&V(q.id),W.key==="Escape"&&c(null)},autoFocus:!0}):s.jsx("span",{children:q.name})}),s.jsx("td",{className:"py-2",children:l===q.id?s.jsx(Ye,{value:h,onChange:W=>p(W.target.value),className:"inline-block w-auto",onKeyDown:W=>{W.key==="Enter"&&V(q.id),W.key==="Escape"&&c(null)}}):s.jsx("span",{children:q.description})}),s.jsx("td",{className:"py-2",children:s.jsx(te,{size:"sm",variant:"outline",onClick:()=>I(q),children:"Éditer Structure"})}),s.jsx("td",{children:l===q.id?s.jsx(te,{size:"sm",onClick:()=>V(q.id),disabled:j||!u.trim(),children:"Enregistrer"}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{size:"icon",variant:"ghost",onClick:()=>G(q),children:s.jsx(k_,{className:"w-4 h-4"})}),s.jsx(te,{size:"icon",variant:"destructive",onClick:()=>H(q.id),children:s.jsx(dc,{className:"w-4 h-4"})})]})})]}),_&&_.id===q.id&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,children:s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 border rounded p-4 bg-muted",children:[s.jsx("div",{className:"mb-2 font-semibold text-lg",children:"Éditer la structure du modèle"}),E.map((W,O)=>s.jsxs("div",{className:"border rounded p-3 mb-2",children:[s.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[s.jsx(Ye,{value:W.title,onChange:$=>U(O,$.target.value),placeholder:"Titre de section",className:"flex-1"}),s.jsx(te,{size:"icon",variant:"destructive",onClick:()=>X(O),children:s.jsx(dc,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"ml-4 space-y-1",children:[W.labels.map(($,B)=>s.jsxs("div",{className:"flex gap-2 items-center mb-1",children:[s.jsx(Ye,{value:$,onChange:K=>k(O,B,K.target.value),placeholder:"Label",className:"flex-1"}),s.jsx(te,{size:"icon",variant:"destructive",onClick:()=>P(O,B),children:s.jsx(dc,{className:"w-4 h-4"})})]},B)),s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>J(O),children:[s.jsx(Rd,{className:"w-4 h-4 mr-1"})," Ajouter Label"]})]})]},O)),s.jsxs(te,{size:"sm",variant:"secondary",onClick:D,children:[s.jsx(Rd,{className:"w-4 h-4 mr-1"})," Ajouter Section"]}),M&&s.jsx("div",{className:"text-red-500 text-sm",children:M}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(te,{onClick:ce,disabled:j,children:"Enregistrer la structure"}),s.jsx(te,{variant:"ghost",onClick:oe,children:"Annuler"})]})]})})})]},q.id))})]})}),s.jsx($l,{open:!!z,onOpenChange:q=>!q&&H(null),children:s.jsxs(Bl,{children:[s.jsx(Hl,{children:s.jsx(Fl,{children:"Confirmer la suppression"})}),s.jsx("div",{children:"Êtes-vous sûr de vouloir supprimer ce modèle ECB ?"}),s.jsxs(ql,{children:[s.jsx(te,{variant:"destructive",onClick:()=>z&&ue(z),disabled:j,children:"Supprimer"}),s.jsx(te,{variant:"ghost",onClick:()=>H(null),disabled:j,children:"Annuler"})]})]})})]})},_B=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},NB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},SB=()=>{const{resultId:e}=yr();or();const[t,r]=m.useState(null),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!0),[p,v]=m.useState(!1),[x,b]=m.useState(null),[w,j]=m.useState(null),[N,_]=m.useState(""),[C,E]=m.useState(!1),[R,M]=m.useState(""),[T,z]=m.useState(""),[H,F]=m.useState(!1),[G,V]=m.useState(null),ue=[{id:"template1",component:rr},{id:"template2",component:Qa},{id:"template3",component:Za},{id:"template4",component:Ja}],re="template1",[I,oe]=m.useState(null),[ce,D]=m.useState(!0),X=async()=>{if(!e){b("ID du résultat manquant."),h(!1);return}h(!0),b(null),j(null),r(null),l(null),u(null),D(!0),oe(null);try{const{data:O,error:$}=await ne.from("patient_result").select("*").eq("id",e).single();if($)throw $;if(!O)throw new Error("Résultat non trouvé.");r(O);const[B,K,se]=await Promise.all([ne.from("patient").select("*").eq("id",O.patient_id).single(),ne.from("doctor").select("*").eq("id",O.doctor_id).single(),ne.from("print_header_config").select("*").limit(1).maybeSingle()]);B.error&&console.warn("Erreur chargement patient:",B.error.message),K.error&&console.warn("Erreur chargement médecin:",K.error.message),l(B.data),u(K.data),oe(se.data),D(!1)}catch(O){console.error("Erreur chargement détails du résultat:",O),b(O.message||"Une erreur est survenue lors du chargement du résultat.")}finally{h(!1)}};m.useEffect(()=>{X()},[e]),m.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),z((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const U=m.useCallback(async O=>{if(e)try{const{error:$}=await ne.from("patient_result").update({description:O}).eq("id",e);if($)throw $}catch($){console.error("Error saving description:",$)}},[e]);m.useEffect(()=>{const O=setTimeout(()=>{N!==(t==null?void 0:t.description)&&U(N)},1e3);return()=>clearTimeout(O)},[N,t==null?void 0:t.description,U]);const J=m.useCallback(async()=>{F(!0),V(null);try{const O=R!==""?Number(R):null,$=T!==""?Number(T):null;if(R!==""&&isNaN(O)||T!==""&&isNaN($)){V("Les prix doivent être des nombres valides."),F(!1);return}const{error:B,data:K}=await ne.from("patient_result").update({normal_price:O,insurance_price:$}).eq("id",t.id).select().single();if(B)throw B;r(se=>se&&{...se,normal_price:O,insurance_price:$}),E(!1)}catch(O){V(O.message||"Erreur lors de la sauvegarde des prix.")}finally{F(!1)}},[t,R,T]),k=async O=>{if(!(!t||O===t.status)){v(!0),j(null);try{const{data:$,error:B}=await ne.from("patient_result").update({status:O}).eq("id",t.id).select().single();if(B)throw B;r($||(K=>K?{...K,status:O}:null))}catch($){console.error("Erreur mise à jour statut:",$),j($.message||"Impossible de mettre à jour le statut.")}finally{v(!1)}}},P=(O,$,B,K)=>{const se=O;return s.jsxs("div",{className:Ce("flex items-start space-x-3",K),children:[s.jsx(se,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:$}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:B||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},q=m.useMemo(()=>{var $;const O=(I==null?void 0:I.selected_template)||re;return(($=ue.find(B=>B.id===O))==null?void 0:$.component)||rr},[I]),W=m.useMemo(()=>({logoUrl:(I==null?void 0:I.logo_url)||null,labName:I==null?void 0:I.lab_name,addressLine1:I==null?void 0:I.address_line1,addressLine2:I==null?void 0:I.address_line2,cityPostalCode:I==null?void 0:I.city_postal_code,phone:I==null?void 0:I.phone,email:I==null?void 0:I.email,website:I==null?void 0:I.website}),[I]);return f?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]})]}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[x," ",s.jsx(te,{variant:"link",onClick:X,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(it,{to:a?`/patients/${a.id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour ",a?`à ${a.full_name}`:"à la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[I?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(q,{data:W,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):s.jsxs(Ut,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tête Manquant"}),s.jsxs(Bt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",s.jsx(it,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(Wr,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Se,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(We,"NOM PRENOM",a==null?void 0:a.full_name),P(We,"IDENTIFIANT Unique",a==null?void 0:a.patient_unique_id),P(Wt,"Date Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null),s.jsx("div",{className:"hidden print:block",children:P(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null)})]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Médecin"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(Vt,"NOM PRENOM",c==null?void 0:c.full_name),P(lr,"Téléphone",c==null?void 0:c.phone),P(We,"Provenance",c==null?void 0:c.hospital)]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Résultat Info"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),C?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:O=>M(O.target.value),disabled:H}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),C?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:T,onChange:O=>z(O.target.value),disabled:H}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:T,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:C?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"xs",variant:"secondary",onClick:J,disabled:H,children:[H?s.jsx(Ft,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:H,children:"Annuler"})]}):s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),G&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:G})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(We,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(Jn,{value:t.status??"",onValueChange:O=>k(O),disabled:p,children:[s.jsxs(tr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(er,{placeholder:"Changer statut..."})," "]}),s.jsxs(nr,{children:[s.jsx(xt,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(xt,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(xt,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(os,{variant:_B(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:NB(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]}),P(We,"NOM PRENOM",a==null?void 0:a.full_name),P(We,"ID Unique",a==null?void 0:a.patient_unique_id),P(Wt,"Date de Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Zn,{className:"h-4 w-4"})," Médecin"]}),P(Vt,"NOM PRENOM",c==null?void 0:c.full_name),P(lr,"Téléphone",c==null?void 0:c.phone),P(We,"Hôpital",c==null?void 0:c.hospital)]})]}),s.jsx(EB,{resultId:e})]})," "]}):s.jsx("div",{children:"Résultat non trouvé."})},EB=({resultId:e})=>{var _,C,E,R;const[t,r]=m.useState(null),[a,l]=m.useState(!0),[c,u]=m.useState(null),f="Pas de virus détecté ou 366 copies/ml; 1.82 log",[h,p]=m.useState((t==null?void 0:t.value)??f),[v,x]=m.useState(!1),[b,w]=m.useState(!1);m.useEffect(()=>{(async()=>{l(!0),u(null);try{const{data:T,error:z}=await ne.from("vhb").select("*").eq("result_id",e).maybeSingle();if(z)throw z;r(T),p((T==null?void 0:T.value)||f)}catch(T){u(T.message||"Erreur lors du chargement du VHB.")}finally{l(!1)}})()},[e]);const j=async()=>{w(!0),u(null);try{const{data:M,error:T}=await ne.from("vhb").insert({result_id:e,value:h}).select().single();if(T)throw T;r(M),x(!1)}catch(M){u(M.message||"Erreur lors de la création du VHB.")}finally{w(!1)}},N=async()=>{if(t){w(!0),u(null);try{const{data:M,error:T}=await ne.from("vhb").update({value:h}).eq("id",t.id).select().single();if(T)throw T;r(M),x(!1)}catch(M){u(M.message||"Erreur lors de la mise à jour du VHB.")}finally{w(!1)}}};return a?s.jsx("div",{children:"Chargement du VHB..."}):c?s.jsx("div",{className:"text-destructive",children:c}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"print:hidden flex justify-end",children:s.jsx(te,{onClick:()=>window.print(),variant:"outline",size:"sm",children:"Imprimer"})}),s.jsx("div",{className:"print:hidden",children:t?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"VHB"}),v?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{value:h,onChange:M=>p(M.target.value),disabled:b,placeholder:"Pas de virus détecté ou 366 copies/ml; 1.82 log"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(Pas de virus détecté ou 366 copies/ml; 1.82 log)"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(te,{onClick:N,disabled:b||!h,children:b?"Sauvegarde...":"Sauvegarder"}),s.jsx(te,{variant:"outline",onClick:()=>{x(!1),p(t.value)},disabled:b,children:"Annuler"})]})]}):s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-mono text-lg",children:t.value}),s.jsx(te,{variant:"outline",size:"sm",onClick:()=>x(!0),children:"Modifier"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Créer VHB"}),s.jsx(Ye,{value:h,onChange:M=>p(M.target.value),placeholder:"Pas de virus détecté ou 366 copies/ml; 1.82 log",disabled:b}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(Pas de virus détecté ou 366 copies/ml; 1.82 log)"}),s.jsx(te,{onClick:j,disabled:b||!h,className:"mt-2",children:b?"Création...":"Créer"})]})}),s.jsx("h2",{className:" text-3xl text-center mb-4 print:pt-4 font-bold uppercase mx-auto tracking-tight print:block  print:text-center",children:"VIROLOGIE"}),t!=null&&t.value&&(t.value.includes("Pas de virus")||t.value.includes("virus"))?s.jsxs("div",{className:" print:block mt-8 text-black text-lg",children:[s.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[s.jsx("span",{className:"font-bold underline",children:"EXAMENS"}),s.jsx("span",{className:"font-bold underline",children:"RESULTATS"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"font-bold text-xl underline",children:"CHARGE VIRALE HEPATITE B"})}),s.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[s.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-semibold",children:"Charge virale  VHB"}),s.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps réel)"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-bold text-2xl",children:((_=t.value.match(/([\d,.]+\s*copies\/ml)/i))==null?void 0:_[1])||t.value}),s.jsx("span",{className:"text-xs mt-1",children:"( Pour 0.5 ml d'échantillon )"}),s.jsx("span",{className:"font-bold text-2xl mt-8",children:((C=t.value.split(";")[1])==null?void 0:C.trim())||""})]})]})]}):t!=null&&t.value?s.jsxs("div",{className:" mt-8 text-black text-lg positive format",children:[s.jsxs("div",{className:"flex flex-row justify-between mb-2",children:[s.jsx("span",{className:"font-bold underline text-xl",children:"EXAMENS"}),s.jsx("span",{className:"font-bold underline text-xl",children:"RESULTATS"})]}),s.jsx("div",{className:"w-full mb-6",children:s.jsx("div",{className:"font-bold text-2xl underline",children:"CHARGE VIRALE HEPATITE B"})}),s.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[s.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-semibold text-xl",children:"Charge virale  VHB"}),s.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps réel)"}),s.jsx("span",{className:"font-semibold mt-13 text-2xl",children:"Soit"})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-bold text-2xl",children:((E=t.value.match(/([\d,.]+\s*copies\/ml)/i))==null?void 0:E[1])||t.value}),s.jsx("span",{className:"text-xs mt-1",children:"(limite de détection <35 pour 0.5 ml)"}),s.jsx("span",{className:"text-xs",children:"(d'échantillon, 1 UI= 3.41 copie/ml)"}),s.jsx("span",{className:"font-bold text-2xl mt-5",children:((R=t.value.split(";")[1])==null?void 0:R.trim())||""})]})]})]}):null,s.jsx("div",{className:" mt-20",children:s.jsx(so,{date:new Date().toISOString()})})]})},CB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},RB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},TB=()=>{const{resultId:e}=yr();or();const[t,r]=m.useState(null),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!0),[p,v]=m.useState(!1),[x,b]=m.useState(null),[w,j]=m.useState(null),[N,_]=m.useState(""),[C,E]=m.useState(!1),[R,M]=m.useState(""),[T,z]=m.useState(""),[H,F]=m.useState(!1),[G,V]=m.useState(null),ue=[{id:"template1",component:rr},{id:"template2",component:Qa},{id:"template3",component:Za},{id:"template4",component:Ja}],re="template1",[I,oe]=m.useState(null),[ce,D]=m.useState(!0),X=async()=>{if(!e){b("ID du résultat manquant."),h(!1);return}h(!0),b(null),j(null),r(null),l(null),u(null),D(!0),oe(null);try{const{data:O,error:$}=await ne.from("patient_result").select("*").eq("id",e).single();if($)throw $;if(!O)throw new Error("Résultat non trouvé.");r(O);const[B,K,se]=await Promise.all([ne.from("patient").select("*").eq("id",O.patient_id).single(),ne.from("doctor").select("*").eq("id",O.doctor_id).single(),ne.from("print_header_config").select("*").limit(1).maybeSingle()]);B.error&&console.warn("Erreur chargement patient:",B.error.message),K.error&&console.warn("Erreur chargement médecin:",K.error.message),l(B.data),u(K.data),oe(se.data),D(!1)}catch(O){console.error("Erreur chargement détails du résultat:",O),b(O.message||"Une erreur est survenue lors du chargement du résultat.")}finally{h(!1)}};m.useEffect(()=>{X()},[e]),m.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),z((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const U=m.useCallback(async O=>{if(e)try{const{error:$}=await ne.from("patient_result").update({description:O}).eq("id",e);if($)throw $}catch($){console.error("Error saving description:",$)}},[e]);m.useEffect(()=>{const O=setTimeout(()=>{N!==(t==null?void 0:t.description)&&U(N)},1e3);return()=>clearTimeout(O)},[N,t==null?void 0:t.description,U]);const J=m.useCallback(async()=>{F(!0),V(null);try{const O=R!==""?Number(R):null,$=T!==""?Number(T):null;if(R!==""&&isNaN(O)||T!==""&&isNaN($)){V("Les prix doivent être des nombres valides."),F(!1);return}const{error:B,data:K}=await ne.from("patient_result").update({normal_price:O,insurance_price:$}).eq("id",t.id).select().single();if(B)throw B;r(se=>se&&{...se,normal_price:O,insurance_price:$}),E(!1)}catch(O){V(O.message||"Erreur lors de la sauvegarde des prix.")}finally{F(!1)}},[t,R,T]),k=async O=>{if(!(!t||O===t.status)){v(!0),j(null);try{const{data:$,error:B}=await ne.from("patient_result").update({status:O}).eq("id",t.id).select().single();if(B)throw B;r($||(K=>K?{...K,status:O}:null))}catch($){console.error("Erreur mise à jour statut:",$),j($.message||"Impossible de mettre à jour le statut.")}finally{v(!1)}}},P=(O,$,B,K)=>{const se=O;return s.jsxs("div",{className:Ce("flex items-start space-x-3",K),children:[s.jsx(se,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:$}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:B||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},q=m.useMemo(()=>{var $;const O=(I==null?void 0:I.selected_template)||re;return(($=ue.find(B=>B.id===O))==null?void 0:$.component)||rr},[I]),W=m.useMemo(()=>({logoUrl:(I==null?void 0:I.logo_url)||null,labName:I==null?void 0:I.lab_name,addressLine1:I==null?void 0:I.address_line1,addressLine2:I==null?void 0:I.address_line2,cityPostalCode:I==null?void 0:I.city_postal_code,phone:I==null?void 0:I.phone,email:I==null?void 0:I.email,website:I==null?void 0:I.website}),[I]);return f?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]})]}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[x," ",s.jsx(te,{variant:"link",onClick:X,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(it,{to:a?`/patients/${a.id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour ",a?`à ${a.full_name}`:"à la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[I?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(q,{data:W,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):s.jsxs(Ut,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tête Manquant"}),s.jsxs(Bt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",s.jsx(it,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(Wr,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Se,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(We,"NOM PRENOM",a==null?void 0:a.full_name),P(We,"IDENTIFIANT Unique",a==null?void 0:a.patient_unique_id),P(Wt,"Date Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null),s.jsx("div",{className:"hidden print:block",children:P(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null)})]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Médecin"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(Vt,"NOM PRENOM",c==null?void 0:c.full_name),P(lr,"Téléphone",c==null?void 0:c.phone),P(We,"Provenance",c==null?void 0:c.hospital)]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Résultat Info"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),C?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:O=>M(O.target.value),disabled:H}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),C?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:T,onChange:O=>z(O.target.value),disabled:H}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:T,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:C?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"xs",variant:"secondary",onClick:J,disabled:H,children:[H?s.jsx(Ft,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:H,children:"Annuler"})]}):s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),G&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:G})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(We,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(Jn,{value:t.status??"",onValueChange:O=>k(O),disabled:p,children:[s.jsxs(tr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(er,{placeholder:"Changer statut..."})," "]}),s.jsxs(nr,{children:[s.jsx(xt,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(xt,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(xt,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(os,{variant:CB(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:RB(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]}),P(We,"NOM PRENOM",a==null?void 0:a.full_name),P(We,"ID Unique",a==null?void 0:a.patient_unique_id),P(Wt,"Date de Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Zn,{className:"h-4 w-4"})," Médecin"]}),P(Vt,"NOM PRENOM",c==null?void 0:c.full_name),P(lr,"Téléphone",c==null?void 0:c.phone),P(We,"Hôpital",c==null?void 0:c.hospital)]})]}),s.jsx(MB,{resultId:e})]})," "]}):s.jsx("div",{children:"Résultat non trouvé."})},MB=({resultId:e})=>{const[t,r]=m.useState(null),[a,l]=m.useState(!0),[c,u]=m.useState(null),[f,h]=m.useState((t==null?void 0:t.value)??"1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté"),[p,v]=m.useState(!1),[x,b]=m.useState(!1);m.useEffect(()=>{(async()=>{l(!0),u(null);try{const{data:_,error:C}=await ne.from("vih").select("*").eq("result_id",e).maybeSingle();if(C)throw C;r(_),h((_==null?void 0:_.value)||"1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté")}catch(_){u(_.message||"Erreur lors du chargement du VIH.")}finally{l(!1)}})()},[e]);const w=async()=>{b(!0),u(null);try{const{data:N,error:_}=await ne.from("vih").insert({result_id:e,value:f}).select().single();if(_)throw _;r(N),v(!1)}catch(N){u(N.message||"Erreur lors de la création du VIH.")}finally{b(!1)}},j=async()=>{if(t){b(!0),u(null);try{const{data:N,error:_}=await ne.from("vih").update({value:f}).eq("id",t.id).select().single();if(_)throw _;r(N),v(!1)}catch(N){u(N.message||"Erreur lors de la mise à jour du VIH.")}finally{b(!1)}}};return a?s.jsx("div",{children:"Chargement du VIH..."}):c?s.jsx("div",{className:"text-destructive",children:c}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"print:hidden flex justify-end",children:s.jsx(te,{onClick:()=>window.print(),variant:"outline",size:"sm",children:"Imprimer"})}),s.jsx("div",{className:"print:hidden",children:t?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"VIH"}),p?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{value:f,onChange:N=>h(N.target.value),disabled:x,placeholder:"ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté)"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(te,{onClick:j,disabled:x||!f,children:x?"Sauvegarde...":"Sauvegarder"}),s.jsx(te,{variant:"outline",onClick:()=>{v(!1),h(t.value)},disabled:x,children:"Annuler"})]})]}):s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-mono text-lg",children:t.value}),s.jsx(te,{variant:"outline",size:"sm",onClick:()=>v(!0),children:"Modifier"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Créer VIH"}),s.jsx(Ye,{value:f,onChange:N=>h(N.target.value),placeholder:"ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté",disabled:x}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"(ex: 1 350 000 copies/ml; 6.13 log10 ou Pas de virus détecté)"}),s.jsx(te,{onClick:w,disabled:x||!f,className:"mt-2",children:x?"Création...":"Créer"})]})}),s.jsx("h2",{className:" text-3xl text-center mb-4 print:pt-4 font-bold uppercase mx-auto tracking-tight print:block  print:text-center",children:"VIROLOGIE"}),t!=null&&t.value?s.jsxs("div",{className:"print:block mt-8 text-black text-lg",children:[s.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[s.jsx("span",{className:"font-bold underline",children:"EXAMENS"}),s.jsx("span",{className:"font-bold underline",children:"RESULTATS"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"font-bold text-xl underline",children:"CHARGE VIRALE HIV1"})}),s.jsxs("div",{className:"flex flex-row justify-between items-start mt-8",children:[s.jsxs("div",{className:"flex flex-col items-start gap-2 text-lg",style:{minWidth:"340px"},children:[s.jsx("span",{className:"font-semibold",children:"Charge virale  VIH"}),s.jsx("span",{className:"text-xs mt-1 whitespace-nowrap",children:"(Abbott m2000rt et m2000sp Technique PCR en temps réel)"}),!t.value.includes("virus")&&s.jsx("span",{className:"font-semibold mt-20",children:"Soit"})]}),s.jsx("div",{className:"flex flex-col items-end gap-2 text-lg text-right",style:{minWidth:"340px"},children:(()=>{if(/pas de virus détecté/i.test(t.value))return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-bold text-2xl",children:"Pas de virus détecté"}),s.jsx("span",{className:"text-xs mt-1",children:"(d'échantillon, 1 copie /ml = 0.58* 1UI/ml)"})]});const N=t.value.match(/([\d\s]+copies\/ml)/i),_=t.value.match(/;\s*([\d.]+)\s*log10/i);return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-bold text-2xl",children:N?N[1].trim():t.value}),s.jsx("span",{className:"text-xs font-normal",children:" (limite de détection <40 pour 0.6 ml)"}),s.jsx("span",{className:"text-xs mt-1",children:"(d'échantillon, 1 copie /ml = 0.58* 1UI/ml)"}),s.jsxs("div",{className:"flex flex-row justify-between w-full mt-8 ",children:[s.jsx("span",{}),s.jsxs("span",{className:"font-bold text-2xl",children:[_?_[1]:""," log",s.jsx("sub",{children:"10"})]})]})]})})()})]})]}):null,s.jsx("div",{className:" mt-20",children:s.jsx(so,{date:new Date().toISOString()})})]})},AB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"default";case"en cours":return"secondary";case"attente":return"outline";default:return"secondary"}},kB=e=>{switch(e==null?void 0:e.toLowerCase()){case"fini":return"Fini";case"en cours":return"En cours";case"attente":return"En attente";default:return e||"Inconnu"}},DB=()=>{const{resultId:e}=yr();or();const[t,r]=m.useState(null),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!0),[p,v]=m.useState(!1),[x,b]=m.useState(null),[w,j]=m.useState(null),[N,_]=m.useState(""),[C,E]=m.useState(!1),[R,M]=m.useState(""),[T,z]=m.useState(""),[H,F]=m.useState(!1),[G,V]=m.useState(null),ue=[{id:"template1",component:rr},{id:"template2",component:Qa},{id:"template3",component:Za},{id:"template4",component:Ja}],re="template1",[I,oe]=m.useState(null),[ce,D]=m.useState(!0),X=async()=>{if(!e){b("ID du résultat manquant."),h(!1);return}h(!0),b(null),j(null),r(null),l(null),u(null),D(!0),oe(null);try{const{data:O,error:$}=await ne.from("patient_result").select("*").eq("id",e).single();if($)throw $;if(!O)throw new Error("Résultat non trouvé.");r(O);const[B,K,se]=await Promise.all([ne.from("patient").select("*").eq("id",O.patient_id).single(),ne.from("doctor").select("*").eq("id",O.doctor_id).single(),ne.from("print_header_config").select("*").limit(1).maybeSingle()]);B.error&&console.warn("Erreur chargement patient:",B.error.message),K.error&&console.warn("Erreur chargement médecin:",K.error.message),l(B.data),u(K.data),oe(se.data),D(!1)}catch(O){console.error("Erreur chargement détails du résultat:",O),b(O.message||"Une erreur est survenue lors du chargement du résultat.")}finally{h(!1)}};m.useEffect(()=>{X()},[e]),m.useEffect(()=>{M((t==null?void 0:t.normal_price)!=null?String(t.normal_price):""),z((t==null?void 0:t.insurance_price)!=null?String(t.insurance_price):"")},[t]);const U=m.useCallback(async O=>{if(e)try{const{error:$}=await ne.from("patient_result").update({description:O}).eq("id",e);if($)throw $}catch($){console.error("Error saving description:",$)}},[e]);m.useEffect(()=>{const O=setTimeout(()=>{N!==(t==null?void 0:t.description)&&U(N)},1e3);return()=>clearTimeout(O)},[N,t==null?void 0:t.description,U]);const J=m.useCallback(async()=>{F(!0),V(null);try{const O=R!==""?Number(R):null,$=T!==""?Number(T):null;if(R!==""&&isNaN(O)||T!==""&&isNaN($)){V("Les prix doivent être des nombres valides."),F(!1);return}const{error:B,data:K}=await ne.from("patient_result").update({normal_price:O,insurance_price:$}).eq("id",t.id).select().single();if(B)throw B;r(se=>se&&{...se,normal_price:O,insurance_price:$}),E(!1)}catch(O){V(O.message||"Erreur lors de la sauvegarde des prix.")}finally{F(!1)}},[t,R,T]),k=async O=>{if(!(!t||O===t.status)){v(!0),j(null);try{const{data:$,error:B}=await ne.from("patient_result").update({status:O}).eq("id",t.id).select().single();if(B)throw B;r($||(K=>K?{...K,status:O}:null))}catch($){console.error("Erreur mise à jour statut:",$),j($.message||"Impossible de mettre à jour le statut.")}finally{v(!1)}}},P=(O,$,B,K)=>{const se=O;return s.jsxs("div",{className:Ce("flex items-start space-x-3",K),children:[s.jsx(se,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:$}),s.jsx("p",{className:"text-sm font-bold print:text-xs",children:B||s.jsx("span",{className:"text-muted-foreground italic font-normal",children:"Non spécifié"})})]})]})},q=m.useMemo(()=>{var $;const O=(I==null?void 0:I.selected_template)||re;return(($=ue.find(B=>B.id===O))==null?void 0:$.component)||rr},[I]),W=m.useMemo(()=>({logoUrl:(I==null?void 0:I.logo_url)||null,labName:I==null?void 0:I.lab_name,addressLine1:I==null?void 0:I.address_line1,addressLine2:I==null?void 0:I.address_line2,cityPostalCode:I==null?void 0:I.city_postal_code,phone:I==null?void 0:I.phone,email:I==null?void 0:I.email,website:I==null?void 0:I.website}),[I]);return f?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"h-8 w-32"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]}),s.jsxs(Se,{children:[s.jsxs(Re,{children:[s.jsx(Y,{className:"h-5 w-24"}),s.jsx(Y,{className:"h-4 w-32 mt-1"})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsx(Y,{className:"h-8 w-full"}),s.jsx(Y,{className:"h-8 w-full"})]})]})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]}),s.jsxs(Se,{children:[s.jsx(Re,{children:s.jsx(Y,{className:"h-6 w-1/3"})}),s.jsx(Ee,{children:s.jsx(Y,{className:"h-20 w-full"})})]})]}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(it,{to:t!=null&&t.patient_id?`/patients/${t.patient_id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),s.jsxs(Ut,{variant:"destructive",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"Erreur"}),s.jsxs(Bt,{children:[x," ",s.jsx(te,{variant:"link",onClick:X,className:"p-0 h-auto text-destructive-foreground underline",children:"Réessayer"})]})]})]}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 print:hidden",children:[s.jsx("div",{children:s.jsx(it,{to:a?`/patients/${a.id}`:"/patients",children:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Retour ",a?`à ${a.full_name}`:"à la liste"]})})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2 order-first sm:order-none",children:[s.jsx(is,{className:"h-6 w-6 text-primary"}),"Détails du Résultat"]})]}),s.jsxs("div",{className:"report-content bg-white  p-4 sm:p-6 border border-transparent print:border-none print:p-0 print:shadow-none",children:[I?s.jsx("div",{className:"mb-2 print:mb-0",children:s.jsx(q,{data:W,isPreview:!1,reportTitle:"RAPPORT DE RÉSULTATS"})}):s.jsxs(Ut,{variant:"default",className:"mb-2 print:mb-0 print:hidden",children:[s.jsx(zt,{className:"h-4 w-4"}),s.jsx($t,{children:"En-tête Manquant"}),s.jsxs(Bt,{children:["La configuration de l'en-tête d'impression n'a pas été trouvée."," ",s.jsx(it,{to:"/settings/print-header",className:"underline",children:"Configurer maintenant"}),"."]})]}),s.jsx(Wr,{className:"my-2 print:my-0 print:border-none"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6 print:mb-4 print:grid-cols-2 print:hidden",children:[s.jsxs(Se,{className:"overflow-hidden print:shadow-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(We,"NOM PRENOM",a==null?void 0:a.full_name),P(We,"IDENTIFIANT Unique",a==null?void 0:a.patient_unique_id),P(Wt,"Date Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null),s.jsx("div",{className:"hidden print:block",children:P(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null)})]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Médecin"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(Vt,"NOM PRENOM",c==null?void 0:c.full_name),P(lr,"Téléphone",c==null?void 0:c.phone),P(We,"Provenance",c==null?void 0:c.hospital)]})]}),s.jsxs(Se,{className:"overflow-hidden print:shadow-none _print:border-none  print:hidden",children:[s.jsx(Re,{className:"pb-2 print:pb-1",children:s.jsxs(vt,{className:"text-sm font-semibold flex items-center gap-2 print:text-xs",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Résultat Info"]})}),s.jsxs(Ee,{className:"space-y-1 pt-1 print:space-y-0.5 print:pt-0.5",children:[P(Wt,"Date Résultat",t.result_date?tt(_t(t.result_date),"Pp",{locale:Ct}):null),s.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"normal_price",className:"text-xs font-medium",children:"Prix Normal"}),C?s.jsx("input",{id:"normal_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:R,onChange:O=>M(O.target.value),disabled:H}):s.jsx("input",{id:"normal_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:R,disabled:!0,readOnly:!0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{htmlFor:"insurance_price",className:"text-xs font-medium",children:"Prix Assurance"}),C?s.jsx("input",{id:"insurance_price",type:"number",min:"0",step:"0.01",className:"border rounded px-2 py-1 text-xs w-28",value:T,onChange:O=>z(O.target.value),disabled:H}):s.jsx("input",{id:"insurance_price",type:"text",className:"border-none bg-transparent text-xs w-28",value:T,disabled:!0,readOnly:!0})]}),s.jsx("div",{className:"flex gap-2 mt-1",children:C?s.jsxs(s.Fragment,{children:[s.jsxs(te,{size:"xs",variant:"secondary",onClick:J,disabled:H,children:[H?s.jsx(Ft,{className:"h-3 w-3 animate-spin mr-1"}):null,"Sauvegarder"]}),s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!1),disabled:H,children:"Annuler"})]}):s.jsx(te,{size:"xs",variant:"outline",onClick:()=>E(!0),children:"Modifier Prix"})}),G&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:G})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(We,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0 print:h-4 print:w-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Statut"}),s.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[s.jsxs(Jn,{value:t.status??"",onValueChange:O=>k(O),disabled:p,children:[s.jsxs(tr,{id:"resultStatus",className:"h-9 flex-1",children:[" ",s.jsx(er,{placeholder:"Changer statut..."})," "]}),s.jsxs(nr,{children:[s.jsx(xt,{value:"attente",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})," ","En attente"]})}),s.jsx(xt,{value:"en cours",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4 text-blue-600"})," En cours"]})}),s.jsx(xt,{value:"fini",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Di,{className:"h-4 w-4 text-green-600"})," ","Fini"]})})]})]}),p&&s.jsx(Ft,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),w&&s.jsx("p",{className:"text-xs text-destructive mt-1 print:hidden",children:w}),s.jsx(os,{variant:AB(t.status),className:"hidden text-sm font-medium print:inline-flex print:text-xs print:font-normal print:border print:shadow-none",children:kB(t.status)})]})]})]})]})]}),s.jsxs("div",{className:"grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6  print:grid-cols-2 hidden print:grid ",children:[s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600 print:shadow-lg bg-white/90 p-3 print:border  print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Patient"]}),P(We,"NOM PRENOM",a==null?void 0:a.full_name),P(We,"ID Unique",a==null?void 0:a.patient_unique_id),P(Wt,"Date de Naissance",a!=null&&a.date_of_birth?tt(_t(a.date_of_birth),"P",{locale:Ct}):null)]}),s.jsxs("div",{className:"flex flex-col gap-1 rounded-lg border border-slate-600  bg-white/90 p-3 print:border print:shadow-lg print:bg-white print:rounded-md print:p-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold mb-1",children:[s.jsx(Zn,{className:"h-4 w-4"})," Médecin"]}),P(Vt,"NOM PRENOM",c==null?void 0:c.full_name),P(lr,"Téléphone",c==null?void 0:c.phone),P(We,"Hôpital",c==null?void 0:c.hospital)]})]}),s.jsx(OB,{resultId:e})]})]}):s.jsx("div",{children:"Résultat non trouvé."})};function OB({resultId:e}){const[t,r]=m.useState(!0),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!1),[p,v]=m.useState(null),[x,b]=m.useState({diagnostic_clinique:"",biopsie_chirurgicale:"",fixateur_utilise:"",etude_macroscopique:"",etude_histologique:"",conclusion:"",bottom_text:""}),[w,j]=m.useState({cityDate:`BAMAKO, LE ${tt(new Date,"dd/MM/yyyy")}`,doctor:"Dr, Bourama COULIBALY"});m.useEffect(()=>{const E=localStorage.getItem("anapath_city_date"),R=localStorage.getItem("anapath_doctor");j({cityDate:E||"BAMAKO, LE 4/06/2024",doctor:R||"Dr, Bourama COULIBALY"})},[]),m.useEffect(()=>{localStorage.setItem("anapath_city_date",w.cityDate),localStorage.setItem("anapath_doctor",w.doctor)},[w]);const N=E=>{const{name:R,value:M}=E.target;j(T=>({...T,[R]:M}))};m.useEffect(()=>{async function E(){r(!0),l(null);const{data:R,error:M}=await ne.from("anapath").select("*").eq("result_id",e).maybeSingle();if(M){l("Erreur lors du chargement: "+M.message),r(!1);return}if(R){u(R),b({diagnostic_clinique:R.diagnostic_clinique||"",biopsie_chirurgicale:R.biopsie_chirurgicale||"",fixateur_utilise:R.fixateur_utilise||"",etude_macroscopique:R.etude_macroscopique||"",etude_histologique:R.etude_histologique||"",conclusion:R.conclusion||"",bottom_text:R.bottom_text||""}),r(!1);return}const{data:T,error:z}=await ne.from("anapath").insert([{result_id:e}]).select().maybeSingle();if(z)if(z.code==="23505"||z.message&&z.message.includes("duplicate key value")){const{data:H,error:F}=await ne.from("anapath").select("*").eq("result_id",e).maybeSingle();F?l("Erreur lors du chargement après duplication: "+F.message):H?(u(H),b({diagnostic_clinique:H.diagnostic_clinique||"",biopsie_chirurgicale:H.biopsie_chirurgicale||"",fixateur_utilise:H.fixateur_utilise||"",etude_macroscopique:H.etude_macroscopique||"",etude_histologique:H.etude_histologique||"",conclusion:H.conclusion||"",bottom_text:H.bottom_text||""})):l("Erreur inattendue lors de la récupération après duplication.")}else l("Erreur lors de la création: "+z.message);else u(T),b({diagnostic_clinique:T.diagnostic_clinique||"",biopsie_chirurgicale:T.biopsie_chirurgicale||"",fixateur_utilise:T.fixateur_utilise||"",etude_macroscopique:T.etude_macroscopique||"",etude_histologique:T.etude_histologique||"",conclusion:T.conclusion||"",bottom_text:T.bottom_text||""});r(!1)}e&&E()},[e]);const _=E=>{const{name:R,value:M}=E.target;b(T=>({...T,[R]:M}))},C=async()=>{if(!c)return;h(!0),v(null);const{error:E}=await ne.from("anapath").update(x).eq("id",c.id);h(!1),v(E?"Erreur lors de la sauvegarde: "+E.message:"Modifications enregistrées !")};return t?s.jsx("div",{children:"Chargement..."}):a?s.jsx("div",{className:"text-red-500",children:a}):c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:s.jsxs(te,{onClick:()=>window.print(),variant:"outline",children:[s.jsx(vf,{className:"mr-2 h-4 w-4"})," Imprimer"]})}),s.jsxs("div",{className:"w-full mx-auto bg-white p-8 rounded shadow print:bg-white print:shadow-none print:p-0 print:max-w-full print:text-black print:font-serif print:leading-relaxed print:text-[16pt] print:rounded-none",style:{minHeight:"29.7cm",minWidth:"21cm"},children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6 uppercase print:text-[20pt] print:mb-8 print:font-bold",children:"EXAMEN ANATOMO-PATHOLOGIQUE"}),s.jsxs("div",{className:"mb-4 print:mb-6",children:[s.jsx("h2",{className:"font-bold mb-2 print:mb-1 print:text-[17pt] uppercase",children:"Résumé de l’Observation Clinique :"}),s.jsxs("div",{className:"ml-4 space-y-2 print:ml-0 print:space-y-1",children:[s.jsxs("div",{children:["Diagnostic Clinique :",s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.diagnostic_clinique}),s.jsx("input",{name:"diagnostic_clinique",value:x.diagnostic_clinique,onChange:_,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Diagnostic Clinique",disabled:f})]})]}),s.jsxs("div",{children:["Biopsie Chirurgicale :",s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.biopsie_chirurgicale}),s.jsx("input",{name:"biopsie_chirurgicale",value:x.biopsie_chirurgicale,onChange:_,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Biopsie Chirurgicale",disabled:f})]})]}),s.jsxs("div",{children:["Fixateur Utilisé :",s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.fixateur_utilise}),s.jsx("input",{name:"fixateur_utilise",value:x.fixateur_utilise,onChange:_,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Fixateur Utilisé",disabled:f})]})]})]})]}),s.jsxs("div",{className:"mb-4 print:mb-6",children:[s.jsx("h2",{className:"font-bold mb-2 uppercase print:mb-1 print:text-[17pt]",children:"COMPTE –RENDU HISTOPATHOLOGIQUE :"}),s.jsxs("div",{className:"ml-4 space-y-2 print:ml-0 print:space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-bold print:text-[16pt]",children:"I. Etude Macroscopique :"}),s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.etude_macroscopique}),s.jsx("textarea",{name:"etude_macroscopique",value:x.etude_macroscopique,onChange:_,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Etude Macroscopique",rows:2,disabled:f})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold print:text-[16pt]",children:"2-Etude Histologique :"}),s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.etude_histologique}),s.jsx("textarea",{name:"etude_histologique",value:x.etude_histologique,onChange:_,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Etude Histologique",rows:2,disabled:f})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold underline print:text-[16pt]",children:"3-Conclusion :"}),s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.conclusion}),s.jsx("textarea",{name:"conclusion",value:x.conclusion,onChange:_,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"Conclusion",rows:2,disabled:f})]})]}),s.jsx("div",{children:s.jsxs("span",{className:"print:inline print:ml-1",children:[s.jsx("span",{className:"hidden print:inline print:text-[16pt]",children:x.bottom_text}),s.jsx("textarea",{name:"bottom_text",value:x.bottom_text,onChange:_,className:"border-b border-gray-300 focus:outline-none w-full print:hidden bg-transparent",placeholder:"OLGA/OLGIM...",rows:1,disabled:f})]})})]})]}),s.jsxs("div",{className:"mt-8 flex flex-col items-end print:mt-12 print:items-end",children:[s.jsxs("span",{className:"print:text-[15pt]",children:[s.jsx("span",{className:"hidden print:inline",children:w.cityDate}),s.jsx("input",{name:"cityDate",value:w.cityDate,onChange:N,className:"border-b border-gray-300 focus:outline-none bg-transparent w-auto text-right print:hidden"})]}),s.jsxs("span",{className:"print:text-[15pt]",children:[s.jsx("span",{className:"hidden print:inline",children:w.doctor}),s.jsx("input",{name:"doctor",value:w.doctor,onChange:N,className:"border-b border-gray-300 focus:outline-none bg-transparent w-auto text-right print:hidden"})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-4 print:hidden",children:[s.jsx(te,{onClick:C,disabled:f,variant:"default",children:f?"Enregistrement...":"Enregistrer"}),p&&s.jsx("span",{className:p.startsWith("Erreur")?"text-red-500":"text-green-600",children:p})]})]}),s.jsx("div",{className:"print:block hidden page-break-after"})]}):s.jsx("div",{children:"Entrée Anapath non trouvée."})}function PB(){return s.jsx(s.Fragment,{children:s.jsxs(DR,{children:[s.jsx(kt,{path:"/login",element:s.jsx(e5,{})}),s.jsx(kt,{element:s.jsx(K3,{}),children:s.jsxs(kt,{element:s.jsx(X3,{}),children:[s.jsx(kt,{index:!0,element:s.jsx(_w,{})}),s.jsx(kt,{path:"/patients",element:s.jsx(_w,{})}),s.jsx(kt,{path:"/patients/new",element:s.jsx(Ow,{})})," ",s.jsx(kt,{path:"/patients/:patientId",element:s.jsx(x6,{})}),s.jsx(kt,{path:"/patients/:patientId/edit",element:s.jsx(Ow,{})})," ",s.jsx(kt,{path:"/patients/:patientId/results/new",element:s.jsx(Qw,{})}),s.jsx(kt,{path:"/results/:resultId",element:s.jsx(XU,{})}),s.jsx(kt,{path:"/results/:resultId/edit",element:s.jsx(Qw,{})}),s.jsx(kt,{path:"/doctors",element:s.jsx(y6,{})}),s.jsx(kt,{path:"/doctors/new",element:s.jsx(tj,{})})," ",s.jsx(kt,{path:"/doctors/:doctorId/edit",element:s.jsx(tj,{})})," ",s.jsx(kt,{path:"/test-types",element:s.jsx(JU,{})}),s.jsx(kt,{path:"/test-types/new",element:s.jsx(ej,{})}),s.jsx(kt,{path:"/test-types/:testTypeId/edit",element:s.jsx(ej,{})}),s.jsx(kt,{path:"/categories",element:s.jsx(s$,{})})," ",s.jsx(kt,{path:"/ristournes",element:s.jsx(oB,{})}),s.jsx(kt,{path:"/ristournes/new",element:s.jsx(ij,{})}),s.jsx(kt,{path:"/ristournes/:ristourneId",element:s.jsx(ij,{})}),s.jsx(kt,{path:"/settings/print-header",element:s.jsx(aB,{})}),s.jsx(kt,{path:"/protidogramme/:resultId",element:s.jsx(fB,{})}),s.jsx(kt,{path:"/skip-range-management",element:s.jsx(cB,{})}),s.jsx(kt,{path:"/atbs",element:s.jsx(xB,{})}),s.jsx(kt,{path:"/atb/:resultId",element:s.jsx(gB,{})}),s.jsx(kt,{path:"/ecb/:resultId",element:s.jsx(wB,{})}),s.jsx(kt,{path:"/ecb-models",element:s.jsx(jB,{})}),s.jsx(kt,{path:"/vhb/:resultId",element:s.jsx(SB,{})}),s.jsx(kt,{path:"/vih/:resultId",element:s.jsx(TB,{})}),s.jsx(kt,{path:"/anapath/:resultId",element:s.jsx(DB,{})})]})}),s.jsx(kt,{path:"*",element:s.jsx(b6,{})})]})})}var LB=(e,t,r,a,l,c,u,f)=>{let h=document.documentElement,p=["light","dark"];function v(w){(Array.isArray(e)?e:[e]).forEach(j=>{let N=j==="class",_=N&&c?l.map(C=>c[C]||C):l;N?(h.classList.remove(..._),h.classList.add(c&&c[w]?c[w]:w)):h.setAttribute(j,w)}),x(w)}function x(w){f&&p.includes(w)&&(h.style.colorScheme=w)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)v(a);else try{let w=localStorage.getItem(t)||r,j=u&&w==="system"?b():w;v(j)}catch{}},IB=m.createContext(void 0),zB={setTheme:e=>{},themes:[]},UB=()=>{var e;return(e=m.useContext(IB))!=null?e:zB};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:u,themes:f,nonce:h,scriptProps:p})=>{let v=JSON.stringify([r,t,c,e,f,u,a,l]).slice(1,-1);return m.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${LB.toString()})(${v})`}})});const $B=({...e})=>{const{theme:t="system"}=UB();return s.jsx(A$,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};BC.createRoot(document.getElementById("root")).render(s.jsx(xe.StrictMode,{children:s.jsx(nT,{children:s.jsxs(gA,{children:[s.jsx($B,{richColors:!0,position:"top-right"})," ",s.jsx(PB,{})]})})}));export{Xd as g};
